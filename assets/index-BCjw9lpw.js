(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var ube=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xB={exports:{}},Tv={};var wF;function nG(){if(wF)return Tv;wF=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Tv.Fragment=e,Tv.jsx=t,Tv.jsxs=t,Tv}var _F;function iG(){return _F||(_F=1,xB.exports=nG()),xB.exports}var I=iG(),bB={exports:{}},Ci={};var SF;function rG(){if(SF)return Ci;SF=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function d(te){return te===null||typeof te!="object"?null:(te=p&&te[p]||te["@@iterator"],typeof te=="function"?te:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function b(te,z,j){this.props=te,this.context=z,this.refs=w,this.updater=j||y}b.prototype.isReactComponent={},b.prototype.setState=function(te,z){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,z,"setState")},b.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function _(){}_.prototype=b.prototype;function E(te,z,j){this.props=te,this.context=z,this.refs=w,this.updater=j||y}var C=E.prototype=new _;C.constructor=E,x(C,b.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function M(){}var F={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function N(te,z,j){var oe=j.ref;return{$$typeof:n,type:te,key:z,ref:oe!==void 0?oe:null,props:j}}function R(te,z){return N(te.type,z,te.props)}function k(te){return typeof te=="object"&&te!==null&&te.$$typeof===n}function Q(te){var z={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(j){return z[j]})}var J=/\/+/g;function Y(te,z){return typeof te=="object"&&te!==null&&te.key!=null?Q(""+te.key):z.toString(36)}function ne(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(M,M):(te.status="pending",te.then(function(z){te.status==="pending"&&(te.status="fulfilled",te.value=z)},function(z){te.status==="pending"&&(te.status="rejected",te.reason=z)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function W(te,z,j,oe,fe){var ue=typeof te;(ue==="undefined"||ue==="boolean")&&(te=null);var Ae=!1;if(te===null)Ae=!0;else switch(ue){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(te.$$typeof){case n:case e:Ae=!0;break;case A:return Ae=te._init,W(Ae(te._payload),z,j,oe,fe)}}if(Ae)return fe=fe(te),Ae=oe===""?"."+Y(te,0):oe,T(fe)?(j="",Ae!=null&&(j=Ae.replace(J,"$&/")+"/"),W(fe,z,j,"",function(be){return be})):fe!=null&&(k(fe)&&(fe=R(fe,j+(fe.key==null||te&&te.key===fe.key?"":(""+fe.key).replace(J,"$&/")+"/")+Ae)),z.push(fe)),1;Ae=0;var he=oe===""?".":oe+":";if(T(te))for(var _e=0;_e<te.length;_e++)oe=te[_e],ue=he+Y(oe,_e),Ae+=W(oe,z,j,ue,fe);else if(_e=d(te),typeof _e=="function")for(te=_e.call(te),_e=0;!(oe=te.next()).done;)oe=oe.value,ue=he+Y(oe,_e++),Ae+=W(oe,z,j,ue,fe);else if(ue==="object"){if(typeof te.then=="function")return W(ne(te),z,j,oe,fe);throw z=String(te),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function q(te,z,j){if(te==null)return te;var oe=[],fe=0;return W(te,oe,"","",function(ue){return z.call(j,ue,fe++)}),oe}function $(te){if(te._status===-1){var z=te._result;z=z(),z.then(function(j){(te._status===0||te._status===-1)&&(te._status=1,te._result=j)},function(j){(te._status===0||te._status===-1)&&(te._status=2,te._result=j)}),te._status===-1&&(te._status=0,te._result=z)}if(te._status===1)return te._result.default;throw te._result}var re=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},V={map:q,forEach:function(te,z,j){q(te,function(){z.apply(this,arguments)},j)},count:function(te){var z=0;return q(te,function(){z++}),z},toArray:function(te){return q(te,function(z){return z})||[]},only:function(te){if(!k(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return Ci.Activity=f,Ci.Children=V,Ci.Component=b,Ci.Fragment=t,Ci.Profiler=r,Ci.PureComponent=E,Ci.StrictMode=i,Ci.Suspense=l,Ci.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ci.__COMPILER_RUNTIME={__proto__:null,c:function(te){return F.H.useMemoCache(te)}},Ci.cache=function(te){return function(){return te.apply(null,arguments)}},Ci.cacheSignal=function(){return null},Ci.cloneElement=function(te,z,j){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var oe=x({},te.props),fe=te.key;if(z!=null)for(ue in z.key!==void 0&&(fe=""+z.key),z)!L.call(z,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&z.ref===void 0||(oe[ue]=z[ue]);var ue=arguments.length-2;if(ue===1)oe.children=j;else if(1<ue){for(var Ae=Array(ue),he=0;he<ue;he++)Ae[he]=arguments[he+2];oe.children=Ae}return N(te.type,fe,oe)},Ci.createContext=function(te){return te={$$typeof:a,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:s,_context:te},te},Ci.createElement=function(te,z,j){var oe,fe={},ue=null;if(z!=null)for(oe in z.key!==void 0&&(ue=""+z.key),z)L.call(z,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=z[oe]);var Ae=arguments.length-2;if(Ae===1)fe.children=j;else if(1<Ae){for(var he=Array(Ae),_e=0;_e<Ae;_e++)he[_e]=arguments[_e+2];fe.children=he}if(te&&te.defaultProps)for(oe in Ae=te.defaultProps,Ae)fe[oe]===void 0&&(fe[oe]=Ae[oe]);return N(te,ue,fe)},Ci.createRef=function(){return{current:null}},Ci.forwardRef=function(te){return{$$typeof:o,render:te}},Ci.isValidElement=k,Ci.lazy=function(te){return{$$typeof:A,_payload:{_status:-1,_result:te},_init:$}},Ci.memo=function(te,z){return{$$typeof:c,type:te,compare:z===void 0?null:z}},Ci.startTransition=function(te){var z=F.T,j={};F.T=j;try{var oe=te(),fe=F.S;fe!==null&&fe(j,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(M,re)}catch(ue){re(ue)}finally{z!==null&&j.types!==null&&(z.types=j.types),F.T=z}},Ci.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ci.use=function(te){return F.H.use(te)},Ci.useActionState=function(te,z,j){return F.H.useActionState(te,z,j)},Ci.useCallback=function(te,z){return F.H.useCallback(te,z)},Ci.useContext=function(te){return F.H.useContext(te)},Ci.useDebugValue=function(){},Ci.useDeferredValue=function(te,z){return F.H.useDeferredValue(te,z)},Ci.useEffect=function(te,z){return F.H.useEffect(te,z)},Ci.useEffectEvent=function(te){return F.H.useEffectEvent(te)},Ci.useId=function(){return F.H.useId()},Ci.useImperativeHandle=function(te,z,j){return F.H.useImperativeHandle(te,z,j)},Ci.useInsertionEffect=function(te,z){return F.H.useInsertionEffect(te,z)},Ci.useLayoutEffect=function(te,z){return F.H.useLayoutEffect(te,z)},Ci.useMemo=function(te,z){return F.H.useMemo(te,z)},Ci.useOptimistic=function(te,z){return F.H.useOptimistic(te,z)},Ci.useReducer=function(te,z,j){return F.H.useReducer(te,z,j)},Ci.useRef=function(te){return F.H.useRef(te)},Ci.useState=function(te){return F.H.useState(te)},Ci.useSyncExternalStore=function(te,z,j){return F.H.useSyncExternalStore(te,z,j)},Ci.useTransition=function(){return F.H.useTransition()},Ci.version="19.2.0",Ci}var EF;function Hy(){return EF||(EF=1,bB.exports=rG()),bB.exports}var ct=Hy();const sG=Cx(ct);var wB={exports:{}},Uv={},_B={exports:{}},SB={};var BF;function aG(){return BF||(BF=1,(function(n){function e(W,q){var $=W.length;W.push(q);e:for(;0<$;){var re=$-1>>>1,V=W[re];if(0<r(V,q))W[re]=q,W[$]=V,$=re;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var q=W[0],$=W.pop();if($!==q){W[0]=$;e:for(var re=0,V=W.length,te=V>>>1;re<te;){var z=2*(re+1)-1,j=W[z],oe=z+1,fe=W[oe];if(0>r(j,$))oe<V&&0>r(fe,j)?(W[re]=fe,W[oe]=$,re=oe):(W[re]=j,W[z]=$,re=z);else if(oe<V&&0>r(fe,$))W[re]=fe,W[oe]=$,re=oe;else break e}}return q}function r(W,q){var $=W.sortIndex-q.sortIndex;return $!==0?$:W.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],A=1,f=null,p=3,d=!1,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(W){for(var q=t(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=W)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function T(W){if(x=!1,C(W),!y)if(t(l)!==null)y=!0,M||(M=!0,Q());else{var q=t(c);q!==null&&ne(T,q.startTime-W)}}var M=!1,F=-1,L=5,N=-1;function R(){return w?!0:!(n.unstable_now()-N<L)}function k(){if(w=!1,M){var W=n.unstable_now();N=W;var q=!0;try{e:{y=!1,x&&(x=!1,_(F),F=-1),d=!0;var $=p;try{t:{for(C(W),f=t(l);f!==null&&!(f.expirationTime>W&&R());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var V=re(f.expirationTime<=W);if(W=n.unstable_now(),typeof V=="function"){f.callback=V,C(W),q=!0;break t}f===t(l)&&i(l),C(W)}else i(l);f=t(l)}if(f!==null)q=!0;else{var te=t(c);te!==null&&ne(T,te.startTime-W),q=!1}}break e}finally{f=null,p=$,d=!1}q=void 0}}finally{q?Q():M=!1}}}var Q;if(typeof E=="function")Q=function(){E(k)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Y=J.port2;J.port1.onmessage=k,Q=function(){Y.postMessage(null)}}else Q=function(){b(k,0)};function ne(W,q){F=b(function(){W(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(W){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var $=p;p=q;try{return W()}finally{p=$}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=p;p=W;try{return q()}finally{p=$}},n.unstable_scheduleCallback=function(W,q,$){var re=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,W={id:A++,callback:q,priorityLevel:W,startTime:$,expirationTime:V,sortIndex:-1},$>re?(W.sortIndex=$,e(c,W),t(l)===null&&W===t(c)&&(x?(_(F),F=-1):x=!0,ne(T,$-re))):(W.sortIndex=V,e(l,W),y||d||(y=!0,M||(M=!0,Q()))),W},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(W){var q=p;return function(){var $=p;p=q;try{return W.apply(this,arguments)}finally{p=$}}}})(SB)),SB}var CF;function oG(){return CF||(CF=1,_B.exports=aG()),_B.exports}var EB={exports:{}},dl={};var MF;function lG(){if(MF)return dl;MF=1;var n=Hy();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)c+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,A){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:l,containerInfo:c,implementation:A}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return dl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dl.createPortal=function(l,c){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,A)},dl.flushSync=function(l){var c=a.T,A=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=c,i.p=A,i.d.f()}},dl.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},dl.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},dl.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var A=c.as,f=o(A,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,d=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;A==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:d}):A==="script"&&i.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:d,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},dl.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var A=o(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:A,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},dl.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var A=c.as,f=o(A,c.crossOrigin);i.d.L(l,A,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},dl.preloadModule=function(l,c){if(typeof l=="string")if(c){var A=o(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:A,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},dl.requestFormReset=function(l){i.d.r(l)},dl.unstable_batchedUpdates=function(l,c){return l(c)},dl.useFormState=function(l,c,A){return a.H.useFormState(l,c,A)},dl.useFormStatus=function(){return a.H.useHostTransitionStatus()},dl.version="19.2.0",dl}var TF;function vP(){if(TF)return EB.exports;TF=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),EB.exports=lG(),EB.exports}var UF;function cG(){if(UF)return Uv;UF=1;var n=oG(),e=Hy(),t=vP();function i(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,v=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(v=h.return),u=h.return;while(u)}return h.tag===3?v:null}function a(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function o(u){if(u.tag===31){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(i(188))}function c(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(i(188));return h!==u?null:u}for(var v=u,S=h;;){var D=v.return;if(D===null)break;var G=D.alternate;if(G===null){if(S=D.return,S!==null){v=S;continue}break}if(D.child===G.child){for(G=D.child;G;){if(G===v)return l(D),u;if(G===S)return l(D),h;G=G.sibling}throw Error(i(188))}if(v.return!==S.return)v=D,S=G;else{for(var de=!1,Te=D.child;Te;){if(Te===v){de=!0,v=D,S=G;break}if(Te===S){de=!0,S=D,v=G;break}Te=Te.sibling}if(!de){for(Te=G.child;Te;){if(Te===v){de=!0,v=G,S=D;break}if(Te===S){de=!0,S=G,v=D;break}Te=Te.sibling}if(!de)throw Error(i(189))}}if(v.alternate!==S)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?u:h}function A(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=A(u),h!==null)return h;u=u.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function Q(u){return u===null||typeof u!="object"?null:(u=k&&u[k]||u["@@iterator"],typeof u=="function"?u:null)}var J=Symbol.for("react.client.reference");function Y(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===J?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case x:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList";case N:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case y:return"Portal";case E:return u.displayName||"Context";case _:return(u._context.displayName||"Context")+".Consumer";case C:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case F:return h=u.displayName||null,h!==null?h:Y(u.type)||"Memo";case L:h=u._payload,u=u._init;try{return Y(u(h))}catch{}}return null}var ne=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},re=[],V=-1;function te(u){return{current:u}}function z(u){0>V||(u.current=re[V],re[V]=null,V--)}function j(u,h){V++,re[V]=u.current,u.current=h}var oe=te(null),fe=te(null),ue=te(null),Ae=te(null);function he(u,h){switch(j(ue,h),j(fe,u),j(oe,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?GN(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=GN(h),u=KN(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}z(oe),j(oe,u)}function _e(){z(oe),z(fe),z(ue)}function be(u){u.memoizedState!==null&&j(Ae,u);var h=oe.current,v=KN(h,u.type);h!==v&&(j(fe,u),j(oe,v))}function Ne(u){fe.current===u&&(z(oe),z(fe)),Ae.current===u&&(z(Ae),Ev._currentValue=$)}var ze,$e;function He(u){if(ze===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);ze=h&&h[1]||"",$e=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+u+$e}var K=!1;function xe(u,h){if(!u||K)return"";K=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(h){var en=function(){throw Error()};if(Object.defineProperty(en.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(en,[])}catch(Pt){var It=Pt}Reflect.construct(u,[],en)}else{try{en.call()}catch(Pt){It=Pt}u.call(en.prototype)}}else{try{throw Error()}catch(Pt){It=Pt}(en=u())&&typeof en.catch=="function"&&en.catch(function(){})}}catch(Pt){if(Pt&&It&&typeof Pt.stack=="string")return[Pt.stack,It.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=S.DetermineComponentFrameRoot(),de=G[0],Te=G[1];if(de&&Te){var at=de.split(`
`),Nt=Te.split(`
`);for(D=S=0;S<at.length&&!at[S].includes("DetermineComponentFrameRoot");)S++;for(;D<Nt.length&&!Nt[D].includes("DetermineComponentFrameRoot");)D++;if(S===at.length||D===Nt.length)for(S=at.length-1,D=Nt.length-1;1<=S&&0<=D&&at[S]!==Nt[D];)D--;for(;1<=S&&0<=D;S--,D--)if(at[S]!==Nt[D]){if(S!==1||D!==1)do if(S--,D--,0>D||at[S]!==Nt[D]){var Kt=`
`+at[S].replace(" at new "," at ");return u.displayName&&Kt.includes("<anonymous>")&&(Kt=Kt.replace("<anonymous>",u.displayName)),Kt}while(1<=S&&0<=D);break}}}finally{K=!1,Error.prepareStackTrace=v}return(v=u?u.displayName||u.name:"")?He(v):""}function Pe(u,h){switch(u.tag){case 26:case 27:case 5:return He(u.type);case 16:return He("Lazy");case 13:return u.child!==h&&h!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return xe(u.type,!1);case 11:return xe(u.type.render,!1);case 1:return xe(u.type,!0);case 31:return He("Activity");default:return""}}function We(u){try{var h="",v=null;do h+=Pe(u,v),v=u,u=u.return;while(u);return h}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var Le=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,et=n.unstable_shouldYield,me=n.unstable_requestPaint,le=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,P=n.unstable_ImmediatePriority,Z=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,we=n.unstable_LowPriority,Re=n.unstable_IdlePriority,Ze=n.log,dt=n.unstable_setDisableYieldValue,Me=null,Oe=null;function bt(u){if(typeof Ze=="function"&&dt(u),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Me,u)}catch{}}var Fe=Math.clz32?Math.clz32:Qe,Xe=Math.log,ht=Math.LN2;function Qe(u){return u>>>=0,u===0?32:31-(Xe(u)/ht|0)|0}var ot=256,Dt=262144,Rt=4194304;function Et(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Ct(u,h,v){var S=u.pendingLanes;if(S===0)return 0;var D=0,G=u.suspendedLanes,de=u.pingedLanes;u=u.warmLanes;var Te=S&134217727;return Te!==0?(S=Te&~G,S!==0?D=Et(S):(de&=Te,de!==0?D=Et(de):v||(v=Te&~u,v!==0&&(D=Et(v))))):(Te=S&~G,Te!==0?D=Et(Te):de!==0?D=Et(de):v||(v=S&~u,v!==0&&(D=Et(v)))),D===0?0:h!==0&&h!==D&&(h&G)===0&&(G=D&-D,v=h&-h,G>=v||G===32&&(v&4194048)!==0)?h:D}function an(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function pn(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var u=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),u}function Vn(u){for(var h=[],v=0;31>v;v++)h.push(u);return h}function Be(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ke(u,h,v,S,D,G){var de=u.pendingLanes;u.pendingLanes=v,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=v,u.entangledLanes&=v,u.errorRecoveryDisabledLanes&=v,u.shellSuspendCounter=0;var Te=u.entanglements,at=u.expirationTimes,Nt=u.hiddenUpdates;for(v=de&~v;0<v;){var Kt=31-Fe(v),en=1<<Kt;Te[Kt]=0,at[Kt]=-1;var It=Nt[Kt];if(It!==null)for(Nt[Kt]=null,Kt=0;Kt<It.length;Kt++){var Pt=It[Kt];Pt!==null&&(Pt.lane&=-536870913)}v&=~en}S!==0&&tn(u,S,0),G!==0&&D===0&&u.tag!==0&&(u.suspendedLanes|=G&~(de&~h))}function tn(u,h,v){u.pendingLanes|=h,u.suspendedLanes&=~h;var S=31-Fe(h);u.entangledLanes|=h,u.entanglements[S]=u.entanglements[S]|1073741824|v&261930}function cn(u,h){var v=u.entangledLanes|=h;for(u=u.entanglements;v;){var S=31-Fe(v),D=1<<S;D&h|u[S]&h&&(u[S]|=h),v&=~D}}function An(u,h){var v=h&-h;return v=(v&42)!==0?1:On(v),(v&(u.suspendedLanes|h))!==0?0:v}function On(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function li(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function ui(){var u=q.p;return u!==0?u:(u=window.event,u===void 0?32:pF(u.type))}function Pn(u,h){var v=q.p;try{return q.p=u,h()}finally{q.p=v}}var er=Math.random().toString(36).slice(2),Gn="__reactFiber$"+er,pe="__reactProps$"+er,Ue="__reactContainer$"+er,it="__reactEvents$"+er,wt="__reactListeners$"+er,Lt="__reactHandles$"+er,Mt="__reactResources$"+er,Zt="__reactMarker$"+er;function nn(u){delete u[Gn],delete u[pe],delete u[it],delete u[wt],delete u[Lt]}function sn(u){var h=u[Gn];if(h)return h;for(var v=u.parentNode;v;){if(h=v[Ue]||v[Gn]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(u=$N(u);u!==null;){if(v=u[Gn])return v;u=$N(u)}return h}u=v,v=u.parentNode}return null}function ge(u){if(u=u[Gn]||u[Ue]){var h=u.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return u}return null}function Ye(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(i(33))}function rt(u){var h=u[Mt];return h||(h=u[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function pt(u){u[Zt]=!0}var nt=new Set,Ut={};function jt(u,h){$t(u,h),$t(u+"Capture",h)}function $t(u,h){for(Ut[u]=h,u=0;u<h.length;u++)nt.add(h[u])}var on=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dn={},vn={};function yn(u){return Le.call(vn,u)?!0:Le.call(dn,u)?!1:on.test(u)?vn[u]=!0:(dn[u]=!0,!1)}function gn(u,h,v){if(yn(h))if(v===null)u.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var S=h.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+v)}}function ii(u,h,v){if(v===null)u.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+v)}}function Dn(u,h,v,S){if(S===null)u.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(v);return}u.setAttributeNS(h,v,""+S)}}function xn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function gi(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function En(u,h,v){var S=Object.getOwnPropertyDescriptor(u.constructor.prototype,h);if(!u.hasOwnProperty(h)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var D=S.get,G=S.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return D.call(this)},set:function(de){v=""+de,G.call(this,de)}}),Object.defineProperty(u,h,{enumerable:S.enumerable}),{getValue:function(){return v},setValue:function(de){v=""+de},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Ai(u){if(!u._valueTracker){var h=gi(u)?"checked":"value";u._valueTracker=En(u,h,""+u[h])}}function Un(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var v=h.getValue(),S="";return u&&(S=gi(u)?u.checked?"true":"false":u.value),u=S,u!==v?(h.setValue(u),!0):!1}function si(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $n=/[\n"\\]/g;function Nn(u){return u.replace($n,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function kr(u,h,v,S,D,G,de,Te){u.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?u.type=de:u.removeAttribute("type"),h!=null?de==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+xn(h)):u.value!==""+xn(h)&&(u.value=""+xn(h)):de!=="submit"&&de!=="reset"||u.removeAttribute("value"),h!=null?ji(u,de,xn(h)):v!=null?ji(u,de,xn(v)):S!=null&&u.removeAttribute("value"),D==null&&G!=null&&(u.defaultChecked=!!G),D!=null&&(u.checked=D&&typeof D!="function"&&typeof D!="symbol"),Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&typeof Te!="boolean"?u.name=""+xn(Te):u.removeAttribute("name")}function Ri(u,h,v,S,D,G,de,Te){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(u.type=G),h!=null||v!=null){if(!(G!=="submit"&&G!=="reset"||h!=null)){Ai(u);return}v=v!=null?""+xn(v):"",h=h!=null?""+xn(h):v,Te||h===u.value||(u.value=h),u.defaultValue=h}S=S??D,S=typeof S!="function"&&typeof S!="symbol"&&!!S,u.checked=Te?u.checked:!!S,u.defaultChecked=!!S,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(u.name=de),Ai(u)}function ji(u,h,v){h==="number"&&si(u.ownerDocument)===u||u.defaultValue===""+v||(u.defaultValue=""+v)}function Di(u,h,v,S){if(u=u.options,h){h={};for(var D=0;D<v.length;D++)h["$"+v[D]]=!0;for(v=0;v<u.length;v++)D=h.hasOwnProperty("$"+u[v].value),u[v].selected!==D&&(u[v].selected=D),D&&S&&(u[v].defaultSelected=!0)}else{for(v=""+xn(v),h=null,D=0;D<u.length;D++){if(u[D].value===v){u[D].selected=!0,S&&(u[D].defaultSelected=!0);return}h!==null||u[D].disabled||(h=u[D])}h!==null&&(h.selected=!0)}}function ms(u,h,v){if(h!=null&&(h=""+xn(h),h!==u.value&&(u.value=h),v==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=v!=null?""+xn(v):""}function qr(u,h,v,S){if(h==null){if(S!=null){if(v!=null)throw Error(i(92));if(ne(S)){if(1<S.length)throw Error(i(93));S=S[0]}v=S}v==null&&(v=""),h=v}v=xn(h),u.defaultValue=v,S=u.textContent,S===v&&S!==""&&S!==null&&(u.value=S),Ai(u)}function za(u,h){if(h){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=h;return}}u.textContent=h}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hA(u,h,v){var S=h.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":S?u.setProperty(h,v):typeof v!="number"||v===0||aa.has(h)?h==="float"?u.cssFloat=v:u[h]=(""+v).trim():u[h]=v+"px"}function sh(u,h,v){if(h!=null&&typeof h!="object")throw Error(i(62));if(u=u.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||h!=null&&h.hasOwnProperty(S)||(S.indexOf("--")===0?u.setProperty(S,""):S==="float"?u.cssFloat="":u[S]="");for(var D in h)S=h[D],h.hasOwnProperty(D)&&v[D]!==S&&hA(u,D,S)}else for(var G in h)h.hasOwnProperty(G)&&hA(u,G,h[G])}function dA(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(u){return ah.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Jo(){}var Il=null;function Mu(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Xc=null,ei=null;function oh(u){var h=ge(u);if(h&&(u=h.stateNode)){var v=u[pe]||null;e:switch(u=h.stateNode,h.type){case"input":if(kr(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),h=v.name,v.type==="radio"&&h!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Nn(""+h)+'"][type="radio"]'),h=0;h<v.length;h++){var S=v[h];if(S!==u&&S.form===u.form){var D=S[pe]||null;if(!D)throw Error(i(90));kr(S,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(h=0;h<v.length;h++)S=v[h],S.form===u.form&&Un(S)}break e;case"textarea":ms(u,v.value,v.defaultValue);break e;case"select":h=v.value,h!=null&&Di(u,!!v.multiple,h,!1)}}}var of=!1;function lh(u,h,v){if(of)return u(h,v);of=!0;try{var S=u(h);return S}finally{if(of=!1,(Xc!==null||ei!==null)&&(De(),Xc&&(h=Xc,u=ei,ei=Xc=null,oh(h),u)))for(h=0;h<u.length;h++)oh(u[h])}}function to(u,h){var v=u.stateNode;if(v===null)return null;var S=v[pe]||null;if(S===null)return null;v=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(i(231,h,typeof v));return v}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=!1;if(oa)try{var pA={};Object.defineProperty(pA,"passive",{get:function(){lf=!0}}),window.addEventListener("test",pA,pA),window.removeEventListener("test",pA,pA)}catch{lf=!1}var Oo=null,Tu=null,go=null;function cf(){if(go)return go;var u,h=Tu,v=h.length,S,D="value"in Oo?Oo.value:Oo.textContent,G=D.length;for(u=0;u<v&&h[u]===D[u];u++);var de=v-u;for(S=1;S<=de&&h[v-S]===D[G-S];S++);return go=D.slice(u,1<S?1-S:void 0)}function no(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function mA(){return!0}function gA(){return!1}function Ls(u){function h(v,S,D,G,de){this._reactName=v,this._targetInst=D,this.type=S,this.nativeEvent=G,this.target=de,this.currentTarget=null;for(var Te in u)u.hasOwnProperty(Te)&&(v=u[Te],this[Te]=v?v(G):G[Te]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?mA:gA,this.isPropagationStopped=gA,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=mA)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=mA)},persist:function(){},isPersistent:mA}),h}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Ls(Ll),io=f({},Ll,{view:0,detail:0}),Yc=Ls(io),Uu,Rl,cc,Nu=f({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==cc&&(cc&&u.type==="mousemove"?(Uu=u.screenX-cc.screenX,Rl=u.screenY-cc.screenY):Rl=Uu=0,cc=u),Uu)},movementY:function(u){return"movementY"in u?u.movementY:Rl}}),ch=Ls(Nu),Wr=f({},Nu,{dataTransfer:0}),uc=Ls(Wr),uh=f({},io,{relatedTarget:0}),Ac=Ls(uh),Ah=f({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),ee=Ls(Ah),ye=f({},Ll,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),qe=Ls(ye),lt=f({},Ll,{data:0}),mt=Ls(lt),Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hn(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=Fn[u])?!!h[u]:!1}function ri(){return Hn}var mi=f({},io,{key:function(u){if(u.key){var h=Gt[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=no(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?rn[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(u){return u.type==="keypress"?no(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?no(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Vi=Ls(mi),es=f({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Ls(es),Fr=f({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),Ir=Ls(Fr),gs=f({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sa=Ls(gs),fc=f({},Nu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Ls(fc),Ea=f({},Ll,{newState:0,oldState:0}),yA=Ls(Ea),Fu=[9,13,27,32],yo=oa&&"CompositionEvent"in window,vo=null;oa&&"documentMode"in document&&(vo=document.documentMode);var ko=oa&&"TextEvent"in window&&!vo,ts=oa&&(!yo||vo&&8<vo&&11>=vo),Bs=" ",Zc=!1;function hc(u,h){switch(u){case"keyup":return Fu.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var $o=!1;function ca(u,h){switch(u){case"compositionend":return dc(h);case"keypress":return h.which!==32?null:(Zc=!0,Bs);case"textInput":return u=h.data,u===Bs&&Zc?null:u;default:return null}}function pc(u,h){if($o)return u==="compositionend"||!yo&&hc(u,h)?(u=cf(),go=Tu=Oo=null,$o=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ts&&h.locale!=="ko"?null:h.data;default:return null}}var ua={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!ua[u.type]:h==="textarea"}function ro(u,h,v,S){Xc?ei?ei.push(S):ei=[S]:Xc=S,h=yb(h,"onChange"),0<h.length&&(v=new Po("onChange","change",null,v,S),u.push({event:v,listeners:h}))}var el=null,mc=null;function vA(u){kN(u,0)}function Ho(u){var h=Ye(u);if(Un(h))return u}function Jc(u,h){if(u==="change")return h}var Ba=!1;if(oa){var qs;if(oa){var tr="oninput"in document;if(!tr){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),tr=typeof gc.oninput=="function"}qs=tr}else qs=!1;Ba=qs&&(!document.documentMode||9<document.documentMode)}function $c(){el&&(el.detachEvent("onpropertychange",xA),mc=el=null)}function xA(u){if(u.propertyName==="value"&&Ho(mc)){var h=[];ro(h,mc,u,Mu(u)),lh(vA,h)}}function yc(u,h,v){u==="focusin"?($c(),el=h,mc=v,el.attachEvent("onpropertychange",xA)):u==="focusout"&&$c()}function Er(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ho(mc)}function fh(u,h){if(u==="click")return Ho(h)}function Dl(u,h){if(u==="input"||u==="change")return Ho(h)}function ja(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var xr=typeof Object.is=="function"?Object.is:ja;function vc(u,h){if(xr(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var v=Object.keys(u),S=Object.keys(h);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var D=v[S];if(!Le.call(h,D)||!xr(u[D],h[D]))return!1}return!0}function bA(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function wA(u,h){var v=bA(u);u=0;for(var S;v;){if(v.nodeType===3){if(S=u+v.textContent.length,u<=h&&S>=h)return{node:v,offset:h-u};u=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=bA(v)}}function Ol(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?Ol(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function Pl(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=si(u.document);h instanceof u.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)u=h.contentWindow;else break;h=si(u.document)}return h}function Qo(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var Iu=oa&&"documentMode"in document&&11>=document.documentMode,zo=null,xc=null,Ca=null,ys=!1;function Yi(u,h,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ys||zo==null||zo!==si(S)||(S=zo,"selectionStart"in S&&Qo(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Ca&&vc(Ca,S)||(Ca=S,S=yb(xc,"onSelect"),0<S.length&&(h=new Po("onSelect","select",null,h,v),u.push({event:h,listeners:S}),h.target=zo)))}function qi(u,h){var v={};return v[u.toLowerCase()]=h.toLowerCase(),v["Webkit"+u]="webkit"+h,v["Moz"+u]="moz"+h,v}var Hr={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},us={},As={};oa&&(As=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function tl(u){if(us[u])return us[u];if(!Hr[u])return u;var h=Hr[u],v;for(v in h)if(h.hasOwnProperty(v)&&v in As)return us[u]=h[v];return u}var Ws=tl("animationend"),Af=tl("animationiteration"),kl=tl("animationstart"),_A=tl("transitionrun"),eu=tl("transitionstart"),gd=tl("transitioncancel"),hh=tl("transitionend"),bc=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function Ma(u,h){bc.set(u,h),jt(h,[u])}var tu=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Xs=[],Ru=0,dh=0;function nu(){for(var u=Ru,h=dh=Ru=0;h<u;){var v=Xs[h];Xs[h++]=null;var S=Xs[h];Xs[h++]=null;var D=Xs[h];Xs[h++]=null;var G=Xs[h];if(Xs[h++]=null,S!==null&&D!==null){var de=S.pending;de===null?D.next=D:(D.next=de.next,de.next=D),S.pending=D}G!==0&&EA(v,D,G)}}function ff(u,h,v,S){Xs[Ru++]=u,Xs[Ru++]=h,Xs[Ru++]=v,Xs[Ru++]=S,dh|=S,u.lanes|=S,u=u.alternate,u!==null&&(u.lanes|=S)}function SA(u,h,v,S){return ff(u,h,v,S),Aa(u)}function wc(u,h){return ff(u,null,null,h),Aa(u)}function EA(u,h,v){u.lanes|=v;var S=u.alternate;S!==null&&(S.lanes|=v);for(var D=!1,G=u.return;G!==null;)G.childLanes|=v,S=G.alternate,S!==null&&(S.childLanes|=v),G.tag===22&&(u=G.stateNode,u===null||u._visibility&1||(D=!0)),u=G,G=G.return;return u.tag===3?(G=u.stateNode,D&&h!==null&&(D=31-Fe(v),u=G.hiddenUpdates,S=u[D],S===null?u[D]=[h]:S.push(h),h.lane=v|536870912),G):null}function Aa(u){if(50<Fh)throw Fh=0,Ih=null,Error(i(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var Ys={};function ph(u,h,v,S){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(u,h,v,S){return new ph(u,h,v,S)}function Va(u){return u=u.prototype,!(!u||!u.isReactComponent)}function jo(u,h){var v=u.alternate;return v===null?(v=fa(u.tag,h,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=h,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&65011712,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,h=u.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v.refCleanup=u.refCleanup,v}function Zs(u,h){u.flags&=65011714;var v=u.alternate;return v===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=v.childLanes,u.lanes=v.lanes,u.child=v.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=v.memoizedProps,u.memoizedState=v.memoizedState,u.updateQueue=v.updateQueue,u.type=v.type,h=v.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function BA(u,h,v,S,D,G){var de=0;if(S=u,typeof u=="function")Va(u)&&(de=1);else if(typeof u=="string")de=VV(u,v,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case N:return u=fa(31,v,h,D),u.elementType=N,u.lanes=G,u;case x:return _c(v.children,D,G,h);case w:de=8,D|=24;break;case b:return u=fa(12,v,h,D|2),u.elementType=b,u.lanes=G,u;case T:return u=fa(13,v,h,D),u.elementType=T,u.lanes=G,u;case M:return u=fa(19,v,h,D),u.elementType=M,u.lanes=G,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case E:de=10;break e;case _:de=9;break e;case C:de=11;break e;case F:de=14;break e;case L:de=16,S=null;break e}de=29,v=Error(i(130,u===null?"null":typeof u,"")),S=null}return h=fa(de,v,h,D),h.elementType=u,h.type=S,h.lanes=G,h}function _c(u,h,v,S){return u=fa(7,u,S,h),u.lanes=v,u}function hf(u,h,v){return u=fa(6,u,null,h),u.lanes=v,u}function yd(u){var h=fa(18,null,null,0);return h.stateNode=u,h}function xo(u,h,v){return h=fa(4,u.children!==null?u.children:[],u.key,h),h.lanes=v,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var mh=new WeakMap;function bo(u,h){if(typeof u=="object"&&u!==null){var v=mh.get(u);return v!==void 0?v:(h={value:u,source:h,stack:We(h)},mh.set(u,h),h)}return{value:u,source:h,stack:We(h)}}var Hl=[],Du=0,gh=null,df=0,Vo=[],wo=0,Sc=null,nl=1,il="";function Go(u,h){Hl[Du++]=df,Hl[Du++]=gh,gh=u,df=h}function Kp(u,h,v){Vo[wo++]=nl,Vo[wo++]=il,Vo[wo++]=Sc,Sc=u;var S=nl;u=il;var D=32-Fe(S)-1;S&=~(1<<D),v+=1;var G=32-Fe(h)+D;if(30<G){var de=D-D%5;G=(S&(1<<de)-1).toString(32),S>>=de,D-=de,nl=1<<32-Fe(h)+D|v<<D|S,il=G+u}else nl=1<<G|v<<D|S,il=u}function vd(u){u.return!==null&&(Go(u,1),Kp(u,1,0))}function iu(u){for(;u===gh;)gh=Hl[--Du],Hl[Du]=null,df=Hl[--Du],Hl[Du]=null;for(;u===Sc;)Sc=Vo[--wo],Vo[wo]=null,il=Vo[--wo],Vo[wo]=null,nl=Vo[--wo],Vo[wo]=null}function yh(u,h){Vo[wo++]=nl,Vo[wo++]=il,Vo[wo++]=Sc,nl=h.id,il=h.overflow,Sc=u}var ha=null,Qr=null,Gi=!1,Ga=null,Br=!1,rl=Error(i(519));function Qi(u){var h=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pf(bo(h,u)),rl}function vh(u){var h=u.stateNode,v=u.type,S=u.memoizedProps;switch(h[Gn]=u,h[pe]=S,v){case"dialog":Zi("cancel",h),Zi("close",h);break;case"iframe":case"object":case"embed":Zi("load",h);break;case"video":case"audio":for(v=0;v<xv.length;v++)Zi(xv[v],h);break;case"source":Zi("error",h);break;case"img":case"image":case"link":Zi("error",h),Zi("load",h);break;case"details":Zi("toggle",h);break;case"input":Zi("invalid",h),Ri(h,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":Zi("invalid",h);break;case"textarea":Zi("invalid",h),qr(h,S.value,S.defaultValue,S.children)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||h.textContent===""+v||S.suppressHydrationWarning===!0||jN(h.textContent,v)?(S.popover!=null&&(Zi("beforetoggle",h),Zi("toggle",h)),S.onScroll!=null&&Zi("scroll",h),S.onScrollEnd!=null&&Zi("scrollend",h),S.onClick!=null&&(h.onclick=Jo),h=!0):h=!1,h||Qi(u,!0)}function ru(u){for(ha=u.return;ha;)switch(ha.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:ha=ha.return}}function da(u){if(u!==ha)return!1;if(!Gi)return ru(u),Gi=!0,!1;var h=u.tag,v;if((v=h!==3&&h!==27)&&((v=h===5)&&(v=u.type,v=!(v!=="form"&&v!=="button")||sB(u.type,u.memoizedProps)),v=!v),v&&Qr&&Qi(u),ru(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));Qr=JN(u)}else if(h===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));Qr=JN(u)}else h===27?(h=Qr,Vd(u.type)?(u=uB,uB=null,Qr=u):Qr=h):Qr=ha?qu(u.stateNode.nextSibling):null;return!0}function CA(){Qr=ha=null,Gi=!1}function qp(){var u=Ga;return u!==null&&(Co===null?Co=u:Co.push.apply(Co,u),Ga=null),u}function pf(u){Ga===null?Ga=[u]:Ga.push(u)}var xd=te(null),Ec=null,Ta=null;function su(u,h,v){j(xd,h._currentValue),h._currentValue=v}function so(u){u._currentValue=xd.current,z(xd)}function sl(u,h,v){for(;u!==null;){var S=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),u===v)break;u=u.return}}function Ou(u,h,v,S){var D=u.child;for(D!==null&&(D.return=u);D!==null;){var G=D.dependencies;if(G!==null){var de=D.child;G=G.firstContext;e:for(;G!==null;){var Te=G;G=D;for(var at=0;at<h.length;at++)if(Te.context===h[at]){G.lanes|=v,Te=G.alternate,Te!==null&&(Te.lanes|=v),sl(G.return,v,u),S||(de=null);break e}G=Te.next}}else if(D.tag===18){if(de=D.return,de===null)throw Error(i(341));de.lanes|=v,G=de.alternate,G!==null&&(G.lanes|=v),sl(de,v,u),de=null}else de=D.child;if(de!==null)de.return=D;else for(de=D;de!==null;){if(de===u){de=null;break}if(D=de.sibling,D!==null){D.return=de.return,de=D;break}de=de.return}D=de}}function Bc(u,h,v,S){u=null;for(var D=h,G=!1;D!==null;){if(!G){if((D.flags&524288)!==0)G=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var de=D.alternate;if(de===null)throw Error(i(387));if(de=de.memoizedProps,de!==null){var Te=D.type;xr(D.pendingProps.value,de.value)||(u!==null?u.push(Te):u=[Te])}}else if(D===Ae.current){if(de=D.alternate,de===null)throw Error(i(387));de.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(u!==null?u.push(Ev):u=[Ev])}D=D.return}u!==null&&Ou(h,u,v,S),h.flags|=262144}function mf(u){for(u=u.firstContext;u!==null;){if(!xr(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Pu(u){Ec=u,Ta=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function pa(u){return Wp(Ec,u)}function xh(u,h){return Ec===null&&Pu(u),Wp(u,h)}function Wp(u,h){var v=h._currentValue;if(h={context:h,memoizedValue:v,next:null},Ta===null){if(u===null)throw Error(i(308));Ta=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else Ta=Ta.next=h;return v}var Pg=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(v,S){u.push(S)}};this.abort=function(){h.aborted=!0,u.forEach(function(v){return v()})}},kg=n.unstable_scheduleCallback,Xp=n.unstable_NormalPriority,Kn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new Pg,data:new Map,refCount:0}}function Ua(u){u.refCount--,u.refCount===0&&kg(Xp,function(){u.controller.abort()})}var MA=null,bd=0,U=0,H=null;function ie(u,h){if(MA===null){var v=MA=[];bd=0,U=YE(),H={status:"pending",value:void 0,then:function(S){v.push(S)}}}return bd++,h.then(ce,ce),h}function ce(){if(--bd===0&&MA!==null){H!==null&&(H.status="fulfilled");var u=MA;MA=null,U=0,H=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function ve(u,h){var v=[],S={status:"pending",value:null,reason:null,then:function(D){v.push(D)}};return u.then(function(){S.status="fulfilled",S.value=h;for(var D=0;D<v.length;D++)(0,v[D])(h)},function(D){for(S.status="rejected",S.reason=D,D=0;D<v.length;D++)(0,v[D])(void 0)}),S}var Se=W.S;W.S=function(u,h){Qd=le(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&ie(u,h),Se!==null&&Se(u,h)};var Ce=te(null);function Ie(){var u=Ce.current;return u!==null?u:Mr.pooledCache}function ke(u,h){h===null?j(Ce,Ce.current):j(Ce,h.pool)}function Ge(){var u=Ie();return u===null?null:{parent:Kn._currentValue,pool:u}}var ut=Error(i(460)),Bt=Error(i(474)),Ve=Error(i(542)),ft={then:function(){}};function _t(u){return u=u.status,u==="fulfilled"||u==="rejected"}function kt(u,h,v){switch(v=u[v],v===void 0?u.push(h):v!==h&&(h.then(Jo,Jo),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,ln(u),u;default:if(typeof h.status=="string")h.then(Jo,Jo);else{if(u=Mr,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=h,u.status="pending",u.then(function(S){if(h.status==="pending"){var D=h;D.status="fulfilled",D.value=S}},function(S){if(h.status==="pending"){var D=h;D.status="rejected",D.reason=S}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,ln(u),u}throw gt=h,ut}}function St(u){try{var h=u._init;return h(u._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(gt=v,ut):v}}var gt=null;function Vt(){if(gt===null)throw Error(i(459));var u=gt;return gt=null,u}function ln(u){if(u===ut||u===Ve)throw Error(i(483))}var Jt=null,In=0;function Cn(u){var h=In;return In+=1,Jt===null&&(Jt=[]),kt(Jt,u,h)}function hi(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Ln(u,h){throw h.$$typeof===p?Error(i(525)):(u=Object.prototype.toString.call(h),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function Bi(u){function h(vt,At){if(u){var Tt=vt.deletions;Tt===null?(vt.deletions=[At],vt.flags|=16):Tt.push(At)}}function v(vt,At){if(!u)return null;for(;At!==null;)h(vt,At),At=At.sibling;return null}function S(vt){for(var At=new Map;vt!==null;)vt.key!==null?At.set(vt.key,vt):At.set(vt.index,vt),vt=vt.sibling;return At}function D(vt,At){return vt=jo(vt,At),vt.index=0,vt.sibling=null,vt}function G(vt,At,Tt){return vt.index=Tt,u?(Tt=vt.alternate,Tt!==null?(Tt=Tt.index,Tt<At?(vt.flags|=67108866,At):Tt):(vt.flags|=67108866,At)):(vt.flags|=1048576,At)}function de(vt){return u&&vt.alternate===null&&(vt.flags|=67108866),vt}function Te(vt,At,Tt,Yt){return At===null||At.tag!==6?(At=hf(Tt,vt.mode,Yt),At.return=vt,At):(At=D(At,Tt),At.return=vt,At)}function at(vt,At,Tt,Yt){var ni=Tt.type;return ni===x?Kt(vt,At,Tt.props.children,Yt,Tt.key):At!==null&&(At.elementType===ni||typeof ni=="object"&&ni!==null&&ni.$$typeof===L&&St(ni)===At.type)?(At=D(At,Tt.props),hi(At,Tt),At.return=vt,At):(At=BA(Tt.type,Tt.key,Tt.props,null,vt.mode,Yt),hi(At,Tt),At.return=vt,At)}function Nt(vt,At,Tt,Yt){return At===null||At.tag!==4||At.stateNode.containerInfo!==Tt.containerInfo||At.stateNode.implementation!==Tt.implementation?(At=xo(Tt,vt.mode,Yt),At.return=vt,At):(At=D(At,Tt.children||[]),At.return=vt,At)}function Kt(vt,At,Tt,Yt,ni){return At===null||At.tag!==7?(At=_c(Tt,vt.mode,Yt,ni),At.return=vt,At):(At=D(At,Tt),At.return=vt,At)}function en(vt,At,Tt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return At=hf(""+At,vt.mode,Tt),At.return=vt,At;if(typeof At=="object"&&At!==null){switch(At.$$typeof){case d:return Tt=BA(At.type,At.key,At.props,null,vt.mode,Tt),hi(Tt,At),Tt.return=vt,Tt;case y:return At=xo(At,vt.mode,Tt),At.return=vt,At;case L:return At=St(At),en(vt,At,Tt)}if(ne(At)||Q(At))return At=_c(At,vt.mode,Tt,null),At.return=vt,At;if(typeof At.then=="function")return en(vt,Cn(At),Tt);if(At.$$typeof===E)return en(vt,xh(vt,At),Tt);Ln(vt,At)}return null}function It(vt,At,Tt,Yt){var ni=At!==null?At.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return ni!==null?null:Te(vt,At,""+Tt,Yt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case d:return Tt.key===ni?at(vt,At,Tt,Yt):null;case y:return Tt.key===ni?Nt(vt,At,Tt,Yt):null;case L:return Tt=St(Tt),It(vt,At,Tt,Yt)}if(ne(Tt)||Q(Tt))return ni!==null?null:Kt(vt,At,Tt,Yt,null);if(typeof Tt.then=="function")return It(vt,At,Cn(Tt),Yt);if(Tt.$$typeof===E)return It(vt,At,xh(vt,Tt),Yt);Ln(vt,Tt)}return null}function Pt(vt,At,Tt,Yt,ni){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return vt=vt.get(Tt)||null,Te(At,vt,""+Yt,ni);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case d:return vt=vt.get(Yt.key===null?Tt:Yt.key)||null,at(At,vt,Yt,ni);case y:return vt=vt.get(Yt.key===null?Tt:Yt.key)||null,Nt(At,vt,Yt,ni);case L:return Yt=St(Yt),Pt(vt,At,Tt,Yt,ni)}if(ne(Yt)||Q(Yt))return vt=vt.get(Tt)||null,Kt(At,vt,Yt,ni,null);if(typeof Yt.then=="function")return Pt(vt,At,Tt,Cn(Yt),ni);if(Yt.$$typeof===E)return Pt(vt,At,Tt,xh(At,Yt),ni);Ln(At,Yt)}return null}function kn(vt,At,Tt,Yt){for(var ni=null,Ur=null,qn=At,Pi=At=0,lr=null;qn!==null&&Pi<Tt.length;Pi++){qn.index>Pi?(lr=qn,qn=null):lr=qn.sibling;var Nr=It(vt,qn,Tt[Pi],Yt);if(Nr===null){qn===null&&(qn=lr);break}u&&qn&&Nr.alternate===null&&h(vt,qn),At=G(Nr,At,Pi),Ur===null?ni=Nr:Ur.sibling=Nr,Ur=Nr,qn=lr}if(Pi===Tt.length)return v(vt,qn),Gi&&Go(vt,Pi),ni;if(qn===null){for(;Pi<Tt.length;Pi++)qn=en(vt,Tt[Pi],Yt),qn!==null&&(At=G(qn,At,Pi),Ur===null?ni=qn:Ur.sibling=qn,Ur=qn);return Gi&&Go(vt,Pi),ni}for(qn=S(qn);Pi<Tt.length;Pi++)lr=Pt(qn,vt,Pi,Tt[Pi],Yt),lr!==null&&(u&&lr.alternate!==null&&qn.delete(lr.key===null?Pi:lr.key),At=G(lr,At,Pi),Ur===null?ni=lr:Ur.sibling=lr,Ur=lr);return u&&qn.forEach(function(Xd){return h(vt,Xd)}),Gi&&Go(vt,Pi),ni}function ci(vt,At,Tt,Yt){if(Tt==null)throw Error(i(151));for(var ni=null,Ur=null,qn=At,Pi=At=0,lr=null,Nr=Tt.next();qn!==null&&!Nr.done;Pi++,Nr=Tt.next()){qn.index>Pi?(lr=qn,qn=null):lr=qn.sibling;var Xd=It(vt,qn,Nr.value,Yt);if(Xd===null){qn===null&&(qn=lr);break}u&&qn&&Xd.alternate===null&&h(vt,qn),At=G(Xd,At,Pi),Ur===null?ni=Xd:Ur.sibling=Xd,Ur=Xd,qn=lr}if(Nr.done)return v(vt,qn),Gi&&Go(vt,Pi),ni;if(qn===null){for(;!Nr.done;Pi++,Nr=Tt.next())Nr=en(vt,Nr.value,Yt),Nr!==null&&(At=G(Nr,At,Pi),Ur===null?ni=Nr:Ur.sibling=Nr,Ur=Nr);return Gi&&Go(vt,Pi),ni}for(qn=S(qn);!Nr.done;Pi++,Nr=Tt.next())Nr=Pt(qn,vt,Pi,Nr.value,Yt),Nr!==null&&(u&&Nr.alternate!==null&&qn.delete(Nr.key===null?Pi:Nr.key),At=G(Nr,At,Pi),Ur===null?ni=Nr:Ur.sibling=Nr,Ur=Nr);return u&&qn.forEach(function(tG){return h(vt,tG)}),Gi&&Go(vt,Pi),ni}function as(vt,At,Tt,Yt){if(typeof Tt=="object"&&Tt!==null&&Tt.type===x&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case d:e:{for(var ni=Tt.key;At!==null;){if(At.key===ni){if(ni=Tt.type,ni===x){if(At.tag===7){v(vt,At.sibling),Yt=D(At,Tt.props.children),Yt.return=vt,vt=Yt;break e}}else if(At.elementType===ni||typeof ni=="object"&&ni!==null&&ni.$$typeof===L&&St(ni)===At.type){v(vt,At.sibling),Yt=D(At,Tt.props),hi(Yt,Tt),Yt.return=vt,vt=Yt;break e}v(vt,At);break}else h(vt,At);At=At.sibling}Tt.type===x?(Yt=_c(Tt.props.children,vt.mode,Yt,Tt.key),Yt.return=vt,vt=Yt):(Yt=BA(Tt.type,Tt.key,Tt.props,null,vt.mode,Yt),hi(Yt,Tt),Yt.return=vt,vt=Yt)}return de(vt);case y:e:{for(ni=Tt.key;At!==null;){if(At.key===ni)if(At.tag===4&&At.stateNode.containerInfo===Tt.containerInfo&&At.stateNode.implementation===Tt.implementation){v(vt,At.sibling),Yt=D(At,Tt.children||[]),Yt.return=vt,vt=Yt;break e}else{v(vt,At);break}else h(vt,At);At=At.sibling}Yt=xo(Tt,vt.mode,Yt),Yt.return=vt,vt=Yt}return de(vt);case L:return Tt=St(Tt),as(vt,At,Tt,Yt)}if(ne(Tt))return kn(vt,At,Tt,Yt);if(Q(Tt)){if(ni=Q(Tt),typeof ni!="function")throw Error(i(150));return Tt=ni.call(Tt),ci(vt,At,Tt,Yt)}if(typeof Tt.then=="function")return as(vt,At,Cn(Tt),Yt);if(Tt.$$typeof===E)return as(vt,At,xh(vt,Tt),Yt);Ln(vt,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint"?(Tt=""+Tt,At!==null&&At.tag===6?(v(vt,At.sibling),Yt=D(At,Tt),Yt.return=vt,vt=Yt):(v(vt,At),Yt=hf(Tt,vt.mode,Yt),Yt.return=vt,vt=Yt),de(vt)):v(vt,At)}return function(vt,At,Tt,Yt){try{In=0;var ni=as(vt,At,Tt,Yt);return Jt=null,ni}catch(qn){if(qn===ut||qn===Ve)throw qn;var Ur=fa(29,qn,null,vt.mode);return Ur.lanes=Yt,Ur.return=vt,Ur}finally{}}}var Xr=Bi(!0),_i=Bi(!1),Mn=!1;function mn(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fs(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function ti(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Si(u,h,v){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(ar&2)!==0){var D=S.pending;return D===null?h.next=h:(h.next=D.next,D.next=h),S.pending=h,h=Aa(u),EA(u,null,v),h}return ff(u,S,h,v),Aa(u)}function nr(u,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var S=h.lanes;S&=u.pendingLanes,v|=S,h.lanes=v,cn(u,v)}}function Rs(u,h){var v=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var D=null,G=null;if(v=v.firstBaseUpdate,v!==null){do{var de={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};G===null?D=G=de:G=G.next=de,v=v.next}while(v!==null);G===null?D=G=h:G=G.next=h}else D=G=h;v={baseState:S.baseState,firstBaseUpdate:D,lastBaseUpdate:G,shared:S.shared,callbacks:S.callbacks},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=h:u.next=h,v.lastBaseUpdate=h}var Na=!1;function zr(){if(Na){var u=H;if(u!==null)throw u}}function vs(u,h,v,S){Na=!1;var D=u.updateQueue;Mn=!1;var G=D.firstBaseUpdate,de=D.lastBaseUpdate,Te=D.shared.pending;if(Te!==null){D.shared.pending=null;var at=Te,Nt=at.next;at.next=null,de===null?G=Nt:de.next=Nt,de=at;var Kt=u.alternate;Kt!==null&&(Kt=Kt.updateQueue,Te=Kt.lastBaseUpdate,Te!==de&&(Te===null?Kt.firstBaseUpdate=Nt:Te.next=Nt,Kt.lastBaseUpdate=at))}if(G!==null){var en=D.baseState;de=0,Kt=Nt=at=null,Te=G;do{var It=Te.lane&-536870913,Pt=It!==Te.lane;if(Pt?(Xi&It)===It:(S&It)===It){It!==0&&It===U&&(Na=!0),Kt!==null&&(Kt=Kt.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var kn=u,ci=Te;It=h;var as=v;switch(ci.tag){case 1:if(kn=ci.payload,typeof kn=="function"){en=kn.call(as,en,It);break e}en=kn;break e;case 3:kn.flags=kn.flags&-65537|128;case 0:if(kn=ci.payload,It=typeof kn=="function"?kn.call(as,en,It):kn,It==null)break e;en=f({},en,It);break e;case 2:Mn=!0}}It=Te.callback,It!==null&&(u.flags|=64,Pt&&(u.flags|=8192),Pt=D.callbacks,Pt===null?D.callbacks=[It]:Pt.push(It))}else Pt={lane:It,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Kt===null?(Nt=Kt=Pt,at=en):Kt=Kt.next=Pt,de|=It;if(Te=Te.next,Te===null){if(Te=D.shared.pending,Te===null)break;Pt=Te,Te=Pt.next,Pt.next=null,D.lastBaseUpdate=Pt,D.shared.pending=null}}while(!0);Kt===null&&(at=en),D.baseState=at,D.firstBaseUpdate=Nt,D.lastBaseUpdate=Kt,G===null&&(D.shared.lanes=0),Xl|=de,u.lanes=de,u.memoizedState=en}}function ns(u,h){if(typeof u!="function")throw Error(i(191,u));u.call(h)}function Ki(u,h){var v=u.callbacks;if(v!==null)for(u.callbacks=null,u=0;u<v.length;u++)ns(v[u],h)}var di=te(null),yi=te(0);function is(u,h){u=ta,j(yi,u),j(di,h),ta=u|h.baseLanes}function Ar(){j(yi,ta),j(di,di.current)}function ir(){ta=yi.current,z(di),z(yi)}var br=te(null),rr=null;function Cs(u){var h=u.alternate;j(Wi,Wi.current&1),j(br,u),rr===null&&(h===null||di.current!==null||h.memoizedState!==null)&&(rr=u)}function wr(u){j(Wi,Wi.current),j(br,u),rr===null&&(rr=u)}function Ds(u){u.tag===22?(j(Wi,Wi.current),j(br,u),rr===null&&(rr=u)):Ms()}function Ms(){j(Wi,Wi.current),j(br,br.current)}function Lr(u){z(br),rr===u&&(rr=null),z(Wi)}var Wi=te(0);function Ka(u){for(var h=u;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||lB(v)||cB(v)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Rr=0,Qn=null,Jn=null,sr=null,_o=!1,qa=!1,ao=!1,Os=0,ku=0,al=null,wd=0;function jr(){throw Error(i(321))}function Yp(u,h){if(h===null)return!1;for(var v=0;v<h.length&&v<u.length;v++)if(!xr(u[v],h[v]))return!1;return!0}function Zp(u,h,v,S,D,G){return Rr=G,Qn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,W.H=u===null||u.memoizedState===null?ob:Fd,ao=!1,G=v(S,D),ao=!1,qa&&(G=au(h,v,S,D)),_d(u),G}function _d(u){W.H=rm;var h=Jn!==null&&Jn.next!==null;if(Rr=0,sr=Jn=Qn=null,_o=!1,ku=0,al=null,h)throw Error(i(300));u===null||hs||(u=u.dependencies,u!==null&&mf(u)&&(hs=!0))}function au(u,h,v,S){Qn=u;var D=0;do{if(qa&&(al=null),ku=0,qa=!1,25<=D)throw Error(i(301));if(D+=1,sr=Jn=null,u.updateQueue!=null){var G=u.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}W.H=sm,G=h(v,S)}while(qa);return G}function nv(){var u=W.H,h=u.useState()[0];return h=typeof h.then=="function"?Hu(h):h,u=u.useState()[0],(Jn!==null?Jn.memoizedState:null)!==u&&(Qn.flags|=1024),h}function Jp(){var u=Os!==0;return Os=0,u}function $p(u,h,v){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~v}function Sd(u){if(_o){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}_o=!1}Rr=0,sr=Jn=Qn=null,qa=!1,ku=Os=0,al=null}function ma(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Qn.memoizedState=sr=u:sr=sr.next=u,sr}function xs(){if(Jn===null){var u=Qn.alternate;u=u!==null?u.memoizedState:null}else u=Jn.next;var h=sr===null?Qn.memoizedState:sr.next;if(h!==null)sr=h,Jn=u;else{if(u===null)throw Qn.alternate===null?Error(i(467)):Error(i(310));Jn=u,u={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},sr===null?Qn.memoizedState=sr=u:sr=sr.next=u}return sr}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(u){var h=ku;return ku+=1,al===null&&(al=[]),u=kt(al,u,h),h=Qn,(sr===null?h.memoizedState:sr.next)===null&&(h=h.alternate,W.H=h===null||h.memoizedState===null?ob:Fd),u}function vf(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Hu(u);if(u.$$typeof===E)return pa(u)}throw Error(i(438,String(u)))}function TA(u){var h=null,v=Qn.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var S=Qn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(h={data:S.data.map(function(D){return D.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=yf(),Qn.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(u),S=0;S<u;S++)v[S]=R;return h.index++,v}function Cc(u,h){return typeof h=="function"?h(u):h}function Ed(u){var h=xs();return xf(h,Jn,u)}function xf(u,h,v){var S=u.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=v;var D=u.baseQueue,G=S.pending;if(G!==null){if(D!==null){var de=D.next;D.next=G.next,G.next=de}h.baseQueue=D=G,S.pending=null}if(G=u.baseState,D===null)u.memoizedState=G;else{h=D.next;var Te=de=null,at=null,Nt=h,Kt=!1;do{var en=Nt.lane&-536870913;if(en!==Nt.lane?(Xi&en)===en:(Rr&en)===en){var It=Nt.revertLane;if(It===0)at!==null&&(at=at.next={lane:0,revertLane:0,gesture:null,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null}),en===U&&(Kt=!0);else if((Rr&It)===It){Nt=Nt.next,It===U&&(Kt=!0);continue}else en={lane:0,revertLane:Nt.revertLane,gesture:null,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},at===null?(Te=at=en,de=G):at=at.next=en,Qn.lanes|=It,Xl|=It;en=Nt.action,ao&&v(G,en),G=Nt.hasEagerState?Nt.eagerState:v(G,en)}else It={lane:en,revertLane:Nt.revertLane,gesture:Nt.gesture,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},at===null?(Te=at=It,de=G):at=at.next=It,Qn.lanes|=en,Xl|=en;Nt=Nt.next}while(Nt!==null&&Nt!==h);if(at===null?de=G:at.next=Te,!xr(G,u.memoizedState)&&(hs=!0,Kt&&(v=H,v!==null)))throw v;u.memoizedState=G,u.baseState=de,u.baseQueue=at,S.lastRenderedState=G}return D===null&&(S.lanes=0),[u.memoizedState,S.dispatch]}function bh(u){var h=xs(),v=h.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=u;var S=v.dispatch,D=v.pending,G=h.memoizedState;if(D!==null){v.pending=null;var de=D=D.next;do G=u(G,de.action),de=de.next;while(de!==D);xr(G,h.memoizedState)||(hs=!0),h.memoizedState=G,h.baseQueue===null&&(h.baseState=G),v.lastRenderedState=G}return[G,S]}function wh(u,h,v){var S=Qn,D=xs(),G=Gi;if(G){if(v===void 0)throw Error(i(407));v=v()}else v=h();var de=!xr((Jn||D).memoizedState,v);if(de&&(D.memoizedState=v,hs=!0),D=D.queue,iv(Cd.bind(null,S,D,u),[u]),D.getSnapshot!==h||de||sr!==null&&sr.memoizedState.tag&1){if(S.flags|=2048,UA(9,{destroy:void 0},Bd.bind(null,S,D,v,h),null),Mr===null)throw Error(i(349));G||(Rr&127)!==0||ou(S,h,v)}return v}function ou(u,h,v){u.flags|=16384,u={getSnapshot:h,value:v},h=Qn.updateQueue,h===null?(h=yf(),Qn.updateQueue=h,h.stores=[u]):(v=h.stores,v===null?h.stores=[u]:v.push(u))}function Bd(u,h,v,S){h.value=v,h.getSnapshot=S,em(h)&&_h(u)}function Cd(u,h,v){return v(function(){em(h)&&_h(u)})}function em(u){var h=u.getSnapshot;u=u.value;try{var v=h();return!xr(u,v)}catch{return!0}}function _h(u){var h=wc(u,2);h!==null&&g(h,u,2)}function Mc(u){var h=ma();if(typeof u=="function"){var v=u;if(u=v(),ao){bt(!0);try{v()}finally{bt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:u},h}function Hg(u,h,v,S){return u.baseState=v,xf(u,Jn,typeof S=="function"?S:Cc)}function Qg(u,h,v,S,D){if(NA(u))throw Error(i(485));if(u=h.action,u!==null){var G={payload:D,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){G.listeners.push(de)}};W.T!==null?v(!0):G.isTransition=!1,S(G),v=h.pending,v===null?(G.next=h.pending=G,zg(h,G)):(G.next=v.next,h.pending=v.next=G)}}function zg(u,h){var v=h.action,S=h.payload,D=u.state;if(h.isTransition){var G=W.T,de={};W.T=de;try{var Te=v(D,S),at=W.S;at!==null&&at(de,Te),tm(u,h,Te)}catch(Nt){Qu(u,h,Nt)}finally{G!==null&&de.types!==null&&(G.types=de.types),W.T=G}}else try{G=v(D,S),tm(u,h,G)}catch(Nt){Qu(u,h,Nt)}}function tm(u,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){nm(u,h,S)},function(S){return Qu(u,h,S)}):nm(u,h,v)}function nm(u,h,v){h.status="fulfilled",h.value=v,Md(h),u.state=v,h=u.pending,h!==null&&(v=h.next,v===h?u.pending=null:(v=v.next,h.next=v,zg(u,v)))}function Qu(u,h,v){var S=u.pending;if(u.pending=null,S!==null){S=S.next;do h.status="rejected",h.reason=v,Md(h),h=h.next;while(h!==S)}u.action=null}function Md(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function Sh(u,h){return h}function Tc(u,h){if(Gi){var v=Mr.formState;if(v!==null){e:{var S=Qn;if(Gi){if(Qr){t:{for(var D=Qr,G=Br;D.nodeType!==8;){if(!G){D=null;break t}if(D=qu(D.nextSibling),D===null){D=null;break t}}G=D.data,D=G==="F!"||G==="F"?D:null}if(D){Qr=qu(D.nextSibling),S=D.data==="F!";break e}}Qi(S)}S=!1}S&&(h=v[0])}}return v=ma(),v.memoizedState=v.baseState=h,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:h},v.queue=S,v=ab.bind(null,Qn,S),S.dispatch=v,S=Mc(!1),G=im.bind(null,Qn,!1,S.queue),S=ma(),D={state:h,dispatch:null,action:u,pending:null},S.queue=D,v=Qg.bind(null,Qn,D,G,v),D.dispatch=v,S.memoizedState=u,[h,v,!1]}function lu(u){var h=xs();return cu(h,Jn,u)}function cu(u,h,v){if(h=xf(u,h,Sh)[0],u=Ed(Cc)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var S=Hu(h)}catch(de){throw de===ut?Ve:de}else S=h;h=xs();var D=h.queue,G=D.dispatch;return v!==h.memoizedState&&(Qn.flags|=2048,UA(9,{destroy:void 0},Td.bind(null,D,v),null)),[S,G,u]}function Td(u,h){u.action=h}function Ud(u){var h=xs(),v=Jn;if(v!==null)return cu(h,v,u);xs(),h=h.memoizedState,v=xs();var S=v.queue.dispatch;return v.memoizedState=u,[h,S,!1]}function UA(u,h,v,S){return u={tag:u,create:v,deps:S,inst:h,next:null},h=Qn.updateQueue,h===null&&(h=yf(),Qn.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=u.next=u:(S=v.next,v.next=u,u.next=S,h.lastEffect=u),u}function jg(){return xs().memoizedState}function bf(u,h,v,S){var D=ma();Qn.flags|=u,D.memoizedState=UA(1|h,{destroy:void 0},v,S===void 0?null:S)}function wf(u,h,v,S){var D=xs();S=S===void 0?null:S;var G=D.memoizedState.inst;Jn!==null&&S!==null&&Yp(S,Jn.memoizedState.deps)?D.memoizedState=UA(h,G,v,S):(Qn.flags|=u,D.memoizedState=UA(1|h,G,v,S))}function tb(u,h){bf(8390656,8,u,h)}function iv(u,h){wf(2048,8,u,h)}function nb(u){Qn.flags|=4;var h=Qn.updateQueue;if(h===null)h=yf(),Qn.updateQueue=h,h.events=[u];else{var v=h.events;v===null?h.events=[u]:v.push(u)}}function ib(u){var h=xs().memoizedState;return nb({ref:h,nextImpl:u}),function(){if((ar&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}function rb(u,h){return wf(4,2,u,h)}function Ql(u,h){return wf(4,4,u,h)}function rv(u,h){if(typeof h=="function"){u=u();var v=h(u);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Vg(u,h,v){v=v!=null?v.concat([u]):null,wf(4,4,rv.bind(null,h,u),v)}function Gg(){}function sv(u,h){var v=xs();h=h===void 0?null:h;var S=v.memoizedState;return h!==null&&Yp(h,S[1])?S[0]:(v.memoizedState=[u,h],u)}function av(u,h){var v=xs();h=h===void 0?null:h;var S=v.memoizedState;if(h!==null&&Yp(h,S[1]))return S[0];if(S=u(),ao){bt(!0);try{u()}finally{bt(!1)}}return v.memoizedState=[S,h],S}function ov(u,h,v){return v===void 0||(Rr&1073741824)!==0&&(Xi&261930)===0?u.memoizedState=h:(u.memoizedState=v,u=m(),Qn.lanes|=u,Xl|=u,v)}function lv(u,h,v,S){return xr(v,h)?v:di.current!==null?(u=ov(u,v,S),xr(u,h)||(hs=!0),u):(Rr&42)===0||(Rr&1073741824)!==0&&(Xi&261930)===0?(hs=!0,u.memoizedState=v):(u=m(),Qn.lanes|=u,Xl|=u,h)}function cv(u,h,v,S,D){var G=q.p;q.p=G!==0&&8>G?G:8;var de=W.T,Te={};W.T=Te,im(u,!1,h,v);try{var at=D(),Nt=W.S;if(Nt!==null&&Nt(Te,at),at!==null&&typeof at=="object"&&typeof at.then=="function"){var Kt=ve(at,S);Nd(u,h,Kt,qo(u))}else Nd(u,h,S,qo(u))}catch(en){Nd(u,h,{then:function(){},status:"rejected",reason:en},qo())}finally{q.p=G,de!==null&&Te.types!==null&&(de.types=Te.types),W.T=de}}function VE(){}function uv(u,h,v,S){if(u.tag!==5)throw Error(i(476));var D=sb(u).queue;cv(u,D,h,$,v===null?VE:function(){return Av(u),v(S)})}function sb(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:$},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:v},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function Av(u){var h=sb(u);h.next===null&&(h=u.alternate.memoizedState),Nd(u,h.next.queue,{},qo())}function fv(){return pa(Ev)}function oo(){return xs().memoizedState}function hv(){return xs().memoizedState}function GE(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var v=qo();u=ti(v);var S=Si(h,u,v);S!==null&&(g(S,h,v),nr(S,h,v)),h={cache:gf()},u.payload=h;return}h=h.return}}function KE(u,h,v){var S=qo();v={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},NA(u)?Eh(h,v):(v=SA(u,h,v,S),v!==null&&(g(v,u,S),ol(v,h,S)))}function ab(u,h,v){var S=qo();Nd(u,h,v,S)}function Nd(u,h,v,S){var D={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(NA(u))Eh(h,D);else{var G=u.alternate;if(u.lanes===0&&(G===null||G.lanes===0)&&(G=h.lastRenderedReducer,G!==null))try{var de=h.lastRenderedState,Te=G(de,v);if(D.hasEagerState=!0,D.eagerState=Te,xr(Te,de))return ff(u,h,D,0),Mr===null&&nu(),!1}catch{}finally{}if(v=SA(u,h,D,S),v!==null)return g(v,u,S),ol(v,h,S),!0}return!1}function im(u,h,v,S){if(S={lane:2,revertLane:YE(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},NA(u)){if(h)throw Error(i(479))}else h=SA(u,v,S,2),h!==null&&g(h,u,2)}function NA(u){var h=u.alternate;return u===Qn||h!==null&&h===Qn}function Eh(u,h){qa=_o=!0;var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}function ol(u,h,v){if((v&4194048)!==0){var S=h.lanes;S&=u.pendingLanes,v|=S,h.lanes=v,cn(u,v)}}var rm={readContext:pa,use:vf,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};rm.useEffectEvent=jr;var ob={readContext:pa,use:vf,useCallback:function(u,h){return ma().memoizedState=[u,h===void 0?null:h],u},useContext:pa,useEffect:tb,useImperativeHandle:function(u,h,v){v=v!=null?v.concat([u]):null,bf(4194308,4,rv.bind(null,h,u),v)},useLayoutEffect:function(u,h){return bf(4194308,4,u,h)},useInsertionEffect:function(u,h){bf(4,2,u,h)},useMemo:function(u,h){var v=ma();h=h===void 0?null:h;var S=u();if(ao){bt(!0);try{u()}finally{bt(!1)}}return v.memoizedState=[S,h],S},useReducer:function(u,h,v){var S=ma();if(v!==void 0){var D=v(h);if(ao){bt(!0);try{v(h)}finally{bt(!1)}}}else D=h;return S.memoizedState=S.baseState=D,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:D},S.queue=u,u=u.dispatch=KE.bind(null,Qn,u),[S.memoizedState,u]},useRef:function(u){var h=ma();return u={current:u},h.memoizedState=u},useState:function(u){u=Mc(u);var h=u.queue,v=ab.bind(null,Qn,h);return h.dispatch=v,[u.memoizedState,v]},useDebugValue:Gg,useDeferredValue:function(u,h){var v=ma();return ov(v,u,h)},useTransition:function(){var u=Mc(!1);return u=cv.bind(null,Qn,u.queue,!0,!1),ma().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,v){var S=Qn,D=ma();if(Gi){if(v===void 0)throw Error(i(407));v=v()}else{if(v=h(),Mr===null)throw Error(i(349));(Xi&127)!==0||ou(S,h,v)}D.memoizedState=v;var G={value:v,getSnapshot:h};return D.queue=G,tb(Cd.bind(null,S,G,u),[u]),S.flags|=2048,UA(9,{destroy:void 0},Bd.bind(null,S,G,v,h),null),v},useId:function(){var u=ma(),h=Mr.identifierPrefix;if(Gi){var v=il,S=nl;v=(S&~(1<<32-Fe(S)-1)).toString(32)+v,h="_"+h+"R_"+v,v=Os++,0<v&&(h+="H"+v.toString(32)),h+="_"}else v=wd++,h="_"+h+"r_"+v.toString(32)+"_";return u.memoizedState=h},useHostTransitionStatus:fv,useFormState:Tc,useActionState:Tc,useOptimistic:function(u){var h=ma();h.memoizedState=h.baseState=u;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=im.bind(null,Qn,!0,v),v.dispatch=h,[u,h]},useMemoCache:TA,useCacheRefresh:function(){return ma().memoizedState=GE.bind(null,Qn)},useEffectEvent:function(u){var h=ma(),v={impl:u};return h.memoizedState=v,function(){if((ar&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}},Fd={readContext:pa,use:vf,useCallback:sv,useContext:pa,useEffect:iv,useImperativeHandle:Vg,useInsertionEffect:rb,useLayoutEffect:Ql,useMemo:av,useReducer:Ed,useRef:jg,useState:function(){return Ed(Cc)},useDebugValue:Gg,useDeferredValue:function(u,h){var v=xs();return lv(v,Jn.memoizedState,u,h)},useTransition:function(){var u=Ed(Cc)[0],h=xs().memoizedState;return[typeof u=="boolean"?u:Hu(u),h]},useSyncExternalStore:wh,useId:oo,useHostTransitionStatus:fv,useFormState:lu,useActionState:lu,useOptimistic:function(u,h){var v=xs();return Hg(v,Jn,u,h)},useMemoCache:TA,useCacheRefresh:hv};Fd.useEffectEvent=ib;var sm={readContext:pa,use:vf,useCallback:sv,useContext:pa,useEffect:iv,useImperativeHandle:Vg,useInsertionEffect:rb,useLayoutEffect:Ql,useMemo:av,useReducer:bh,useRef:jg,useState:function(){return bh(Cc)},useDebugValue:Gg,useDeferredValue:function(u,h){var v=xs();return Jn===null?ov(v,u,h):lv(v,Jn.memoizedState,u,h)},useTransition:function(){var u=bh(Cc)[0],h=xs().memoizedState;return[typeof u=="boolean"?u:Hu(u),h]},useSyncExternalStore:wh,useId:oo,useHostTransitionStatus:fv,useFormState:Ud,useActionState:Ud,useOptimistic:function(u,h){var v=xs();return Jn!==null?Hg(v,Jn,u,h):(v.baseState=u,[u,v.queue.dispatch])},useMemoCache:TA,useCacheRefresh:hv};sm.useEffectEvent=ib;function Id(u,h,v,S){h=u.memoizedState,v=v(S,h),v=v==null?h:f({},h,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var am={enqueueSetState:function(u,h,v){u=u._reactInternals;var S=qo(),D=ti(S);D.payload=h,v!=null&&(D.callback=v),h=Si(u,D,S),h!==null&&(g(h,u,S),nr(h,u,S))},enqueueReplaceState:function(u,h,v){u=u._reactInternals;var S=qo(),D=ti(S);D.tag=1,D.payload=h,v!=null&&(D.callback=v),h=Si(u,D,S),h!==null&&(g(h,u,S),nr(h,u,S))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var v=qo(),S=ti(v);S.tag=2,h!=null&&(S.callback=h),h=Si(u,S,v),h!==null&&(g(h,u,v),nr(h,u,v))}};function lb(u,h,v,S,D,G,de){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,G,de):h.prototype&&h.prototype.isPureReactComponent?!vc(v,S)||!vc(D,G):!0}function cb(u,h,v,S){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,S),h.state!==u&&am.enqueueReplaceState(h,h.state,null)}function lo(u,h){var v=h;if("ref"in h){v={};for(var S in h)S!=="ref"&&(v[S]=h[S])}if(u=u.defaultProps){v===h&&(v=f({},v));for(var D in u)v[D]===void 0&&(v[D]=u[D])}return v}function dv(u){tu(u)}function ub(u){console.error(u)}function Kg(u){tu(u)}function qg(u,h){try{var v=u.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(S){setTimeout(function(){throw S})}}function Ab(u,h,v){try{var S=u.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function pv(u,h,v){return v=ti(v),v.tag=3,v.payload={element:null},v.callback=function(){qg(u,h)},v}function Ld(u){return u=ti(u),u.tag=3,u}function ll(u,h,v,S){var D=v.type.getDerivedStateFromError;if(typeof D=="function"){var G=S.value;u.payload=function(){return D(G)},u.callback=function(){Ab(h,v,S)}}var de=v.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(u.callback=function(){Ab(h,v,S),typeof D!="function"&&(Ku===null?Ku=new Set([this]):Ku.add(this));var Te=S.stack;this.componentDidCatch(S.value,{componentStack:Te!==null?Te:""})})}function zl(u,h,v,S,D){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(h=v.alternate,h!==null&&Bc(h,v,D,!0),v=br.current,v!==null){switch(v.tag){case 31:case 13:return rr===null?vi():v.alternate===null&&Tr===0&&(Tr=3),v.flags&=-257,v.flags|=65536,v.lanes=D,S===ft?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([S]):h.add(S),qE(u,S,D)),!1;case 22:return v.flags|=65536,S===ft?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([S]):v.add(S)),qE(u,S,D)),!1}throw Error(i(435,v.tag))}return qE(u,S,D),vi(),!1}if(Gi)return h=br.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=D,S!==rl&&(u=Error(i(422),{cause:S}),pf(bo(u,v)))):(S!==rl&&(h=Error(i(423),{cause:S}),pf(bo(h,v))),u=u.current.alternate,u.flags|=65536,D&=-D,u.lanes|=D,S=bo(S,v),D=pv(u.stateNode,S,D),Rs(u,D),Tr!==4&&(Tr=2)),!1;var G=Error(i(520),{cause:S});if(G=bo(G,v),du===null?du=[G]:du.push(G),Tr!==4&&(Tr=2),h===null)return!0;S=bo(S,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,u=D&-D,v.lanes|=u,u=pv(v.stateNode,S,u),Rs(v,u),!1;case 1:if(h=v.type,G=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ku===null||!Ku.has(G))))return v.flags|=65536,D&=-D,v.lanes|=D,D=Ld(D),ll(D,u,v,S),Rs(v,D),!1}v=v.return}while(v!==null);return!1}var Wg=Error(i(461)),hs=!1;function Ps(u,h,v,S){h.child=u===null?_i(h,null,v,S):Xr(h,u.child,v,S)}function om(u,h,v,S,D){v=v.render;var G=h.ref;if("ref"in S){var de={};for(var Te in S)Te!=="ref"&&(de[Te]=S[Te])}else de=S;return Pu(h),S=Zp(u,h,v,de,G,D),Te=Jp(),u!==null&&!hs?($p(u,h,D),fu(u,h,D)):(Gi&&Te&&vd(h),h.flags|=1,Ps(u,h,S,D),h.child)}function lm(u,h,v,S,D){if(u===null){var G=v.type;return typeof G=="function"&&!Va(G)&&G.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=G,jl(u,h,G,S,D)):(u=BA(v.type,null,S,h,h.mode,D),u.ref=h.ref,u.return=h,h.child=u)}if(G=u.child,!Sf(u,D)){var de=G.memoizedProps;if(v=v.compare,v=v!==null?v:vc,v(de,S)&&u.ref===h.ref)return fu(u,h,D)}return h.flags|=1,u=jo(G,S),u.ref=h.ref,u.return=h,h.child=u}function jl(u,h,v,S,D){if(u!==null){var G=u.memoizedProps;if(vc(G,S)&&u.ref===h.ref)if(hs=!1,h.pendingProps=S=G,Sf(u,D))(u.flags&131072)!==0&&(hs=!0);else return h.lanes=u.lanes,fu(u,h,D)}return Rd(u,h,v,S,D)}function Vl(u,h,v,S){var D=S.children,G=u!==null?u.memoizedState:null;if(u===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((h.flags&128)!==0){if(G=G!==null?G.baseLanes|v:v,u!==null){for(S=h.child=u.child,D=0;S!==null;)D=D|S.lanes|S.childLanes,S=S.sibling;S=D&~G}else S=0,h.child=null;return zu(u,h,G,v,S)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&ke(h,G!==null?G.cachePool:null),G!==null?is(h,G):Ar(),Ds(h);else return S=h.lanes=536870912,zu(u,h,G!==null?G.baseLanes|v:v,v,S)}else G!==null?(ke(h,G.cachePool),is(h,G),Ms(),h.memoizedState=null):(u!==null&&ke(h,null),Ar(),Ms());return Ps(u,h,D,v),h.child}function uu(u,h){return u!==null&&u.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function zu(u,h,v,S,D){var G=Ie();return G=G===null?null:{parent:Kn._currentValue,pool:G},h.memoizedState={baseLanes:v,cachePool:G},u!==null&&ke(h,null),Ar(),Ds(h),u!==null&&Bc(u,h,S,!0),h.childLanes=D,null}function Uc(u,h){return h=Dd({mode:h.mode,children:h.children},u.mode),h.ref=u.ref,u.child=h,h.return=u,h}function Wa(u,h,v){return Xr(h,u.child,null,v),u=Uc(h,h.pendingProps),u.flags|=2,Lr(h),h.memoizedState=null,u}function cm(u,h,v){var S=h.pendingProps,D=(h.flags&128)!==0;if(h.flags&=-129,u===null){if(Gi){if(S.mode==="hidden")return u=Uc(h,S),h.lanes=536870912,uu(null,u);if(wr(h),(u=Qr)?(u=ZN(u,Br),u=u!==null&&u.data==="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:Sc!==null?{id:nl,overflow:il}:null,retryLane:536870912,hydrationErrors:null},v=yd(u),v.return=h,h.child=v,ha=h,Qr=null)):u=null,u===null)throw Qi(h);return h.lanes=536870912,null}return Uc(h,S)}var G=u.memoizedState;if(G!==null){var de=G.dehydrated;if(wr(h),D)if(h.flags&256)h.flags&=-257,h=Wa(u,h,v);else if(h.memoizedState!==null)h.child=u.child,h.flags|=128,h=null;else throw Error(i(558));else if(hs||Bc(u,h,v,!1),D=(v&u.childLanes)!==0,hs||D){if(S=Mr,S!==null&&(de=An(S,v),de!==0&&de!==G.retryLane))throw G.retryLane=de,wc(u,de),g(S,u,de),Wg;vi(),h=Wa(u,h,v)}else u=G.treeContext,Qr=qu(de.nextSibling),ha=h,Gi=!0,Ga=null,Br=!1,u!==null&&yh(h,u),h=Uc(h,S),h.flags|=4096;return h}return u=jo(u.child,{mode:S.mode,children:S.children}),u.ref=h.ref,h.child=u,u.return=h,u}function Au(u,h){var v=h.ref;if(v===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(u===null||u.ref!==v)&&(h.flags|=4194816)}}function Rd(u,h,v,S,D){return Pu(h),v=Zp(u,h,v,S,void 0,D),S=Jp(),u!==null&&!hs?($p(u,h,D),fu(u,h,D)):(Gi&&S&&vd(h),h.flags|=1,Ps(u,h,v,D),h.child)}function So(u,h,v,S,D,G){return Pu(h),h.updateQueue=null,v=au(h,S,v,D),_d(u),S=Jp(),u!==null&&!hs?($p(u,h,G),fu(u,h,G)):(Gi&&S&&vd(h),h.flags|=1,Ps(u,h,v,G),h.child)}function co(u,h,v,S,D){if(Pu(h),h.stateNode===null){var G=Ys,de=v.contextType;typeof de=="object"&&de!==null&&(G=pa(de)),G=new v(S,G),h.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=am,h.stateNode=G,G._reactInternals=h,G=h.stateNode,G.props=S,G.state=h.memoizedState,G.refs={},mn(h),de=v.contextType,G.context=typeof de=="object"&&de!==null?pa(de):Ys,G.state=h.memoizedState,de=v.getDerivedStateFromProps,typeof de=="function"&&(Id(h,v,de,S),G.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(de=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),de!==G.state&&am.enqueueReplaceState(G,G.state,null),vs(h,S,G,D),zr(),G.state=h.memoizedState),typeof G.componentDidMount=="function"&&(h.flags|=4194308),S=!0}else if(u===null){G=h.stateNode;var Te=h.memoizedProps,at=lo(v,Te);G.props=at;var Nt=G.context,Kt=v.contextType;de=Ys,typeof Kt=="object"&&Kt!==null&&(de=pa(Kt));var en=v.getDerivedStateFromProps;Kt=typeof en=="function"||typeof G.getSnapshotBeforeUpdate=="function",Te=h.pendingProps!==Te,Kt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Te||Nt!==de)&&cb(h,G,S,de),Mn=!1;var It=h.memoizedState;G.state=It,vs(h,S,G,D),zr(),Nt=h.memoizedState,Te||It!==Nt||Mn?(typeof en=="function"&&(Id(h,v,en,S),Nt=h.memoizedState),(at=Mn||lb(h,v,at,S,It,Nt,de))?(Kt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=Nt),G.props=S,G.state=Nt,G.context=de,S=at):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{G=h.stateNode,fs(u,h),de=h.memoizedProps,Kt=lo(v,de),G.props=Kt,en=h.pendingProps,It=G.context,Nt=v.contextType,at=Ys,typeof Nt=="object"&&Nt!==null&&(at=pa(Nt)),Te=v.getDerivedStateFromProps,(Nt=typeof Te=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(de!==en||It!==at)&&cb(h,G,S,at),Mn=!1,It=h.memoizedState,G.state=It,vs(h,S,G,D),zr();var Pt=h.memoizedState;de!==en||It!==Pt||Mn||u!==null&&u.dependencies!==null&&mf(u.dependencies)?(typeof Te=="function"&&(Id(h,v,Te,S),Pt=h.memoizedState),(Kt=Mn||lb(h,v,Kt,S,It,Pt,at)||u!==null&&u.dependencies!==null&&mf(u.dependencies))?(Nt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(S,Pt,at),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(S,Pt,at)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||de===u.memoizedProps&&It===u.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||de===u.memoizedProps&&It===u.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=Pt),G.props=S,G.state=Pt,G.context=at,S=Kt):(typeof G.componentDidUpdate!="function"||de===u.memoizedProps&&It===u.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||de===u.memoizedProps&&It===u.memoizedState||(h.flags|=1024),S=!1)}return G=S,Au(u,h),S=(h.flags&128)!==0,G||S?(G=h.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:G.render(),h.flags|=1,u!==null&&S?(h.child=Xr(h,u.child,null,D),h.child=Xr(h,null,v,D)):Ps(u,h,v,D),h.memoizedState=G.state,u=h.child):u=fu(u,h,D),u}function fr(u,h,v,S){return CA(),h.flags|=256,Ps(u,h,v,S),h.child}var Gl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(u){return{baseLanes:u,cachePool:Ge()}}function um(u,h,v){return u=u!==null?u.childLanes&~v:0,h&&(u|=or),u}function Kl(u,h,v){var S=h.pendingProps,D=!1,G=(h.flags&128)!==0,de;if((de=G)||(de=u!==null&&u.memoizedState===null?!1:(Wi.current&2)!==0),de&&(D=!0,h.flags&=-129),de=(h.flags&32)!==0,h.flags&=-33,u===null){if(Gi){if(D?Cs(h):Ms(),(u=Qr)?(u=ZN(u,Br),u=u!==null&&u.data!=="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:Sc!==null?{id:nl,overflow:il}:null,retryLane:536870912,hydrationErrors:null},v=yd(u),v.return=h,h.child=v,ha=h,Qr=null)):u=null,u===null)throw Qi(h);return cB(u)?h.lanes=32:h.lanes=536870912,null}var Te=S.children;return S=S.fallback,D?(Ms(),D=h.mode,Te=Dd({mode:"hidden",children:Te},D),S=_c(S,D,v,null),Te.return=h,S.return=h,Te.sibling=S,h.child=Te,S=h.child,S.memoizedState=Nc(v),S.childLanes=um(u,de,v),h.memoizedState=Gl,uu(null,S)):(Cs(h),_f(h,Te))}var at=u.memoizedState;if(at!==null&&(Te=at.dehydrated,Te!==null)){if(G)h.flags&256?(Cs(h),h.flags&=-257,h=Od(u,h,v)):h.memoizedState!==null?(Ms(),h.child=u.child,h.flags|=128,h=null):(Ms(),Te=S.fallback,D=h.mode,S=Dd({mode:"visible",children:S.children},D),Te=_c(Te,D,v,null),Te.flags|=2,S.return=h,Te.return=h,S.sibling=Te,h.child=S,Xr(h,u.child,null,v),S=h.child,S.memoizedState=Nc(v),S.childLanes=um(u,de,v),h.memoizedState=Gl,h=uu(null,S));else if(Cs(h),cB(Te)){if(de=Te.nextSibling&&Te.nextSibling.dataset,de)var Nt=de.dgst;de=Nt,S=Error(i(419)),S.stack="",S.digest=de,pf({value:S,source:null,stack:null}),h=Od(u,h,v)}else if(hs||Bc(u,h,v,!1),de=(v&u.childLanes)!==0,hs||de){if(de=Mr,de!==null&&(S=An(de,v),S!==0&&S!==at.retryLane))throw at.retryLane=S,wc(u,S),g(de,u,S),Wg;lB(Te)||vi(),h=Od(u,h,v)}else lB(Te)?(h.flags|=192,h.child=u.child,h=null):(u=at.treeContext,Qr=qu(Te.nextSibling),ha=h,Gi=!0,Ga=null,Br=!1,u!==null&&yh(h,u),h=_f(h,S.children),h.flags|=4096);return h}return D?(Ms(),Te=S.fallback,D=h.mode,at=u.child,Nt=at.sibling,S=jo(at,{mode:"hidden",children:S.children}),S.subtreeFlags=at.subtreeFlags&65011712,Nt!==null?Te=jo(Nt,Te):(Te=_c(Te,D,v,null),Te.flags|=2),Te.return=h,S.return=h,S.sibling=Te,h.child=S,uu(null,S),S=h.child,Te=u.child.memoizedState,Te===null?Te=Nc(v):(D=Te.cachePool,D!==null?(at=Kn._currentValue,D=D.parent!==at?{parent:at,pool:at}:D):D=Ge(),Te={baseLanes:Te.baseLanes|v,cachePool:D}),S.memoizedState=Te,S.childLanes=um(u,de,v),h.memoizedState=Gl,uu(u.child,S)):(Cs(h),v=u.child,u=v.sibling,v=jo(v,{mode:"visible",children:S.children}),v.return=h,v.sibling=null,u!==null&&(de=h.deletions,de===null?(h.deletions=[u],h.flags|=16):de.push(u)),h.child=v,h.memoizedState=null,v)}function _f(u,h){return h=Dd({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function Dd(u,h){return u=fa(22,u,null,h),u.lanes=0,u}function Od(u,h,v){return Xr(h,u.child,null,v),u=_f(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function Bh(u,h,v){u.lanes|=h;var S=u.alternate;S!==null&&(S.lanes|=h),sl(u.return,h,v)}function Am(u,h,v,S,D,G){var de=u.memoizedState;de===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:D,treeForkCount:G}:(de.isBackwards=h,de.rendering=null,de.renderingStartTime=0,de.last=S,de.tail=v,de.tailMode=D,de.treeForkCount=G)}function fm(u,h,v){var S=h.pendingProps,D=S.revealOrder,G=S.tail;S=S.children;var de=Wi.current,Te=(de&2)!==0;if(Te?(de=de&1|2,h.flags|=128):de&=1,j(Wi,de),Ps(u,h,S,v),S=Gi?df:0,!Te&&u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Bh(u,v,h);else if(u.tag===19)Bh(u,v,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(D){case"forwards":for(v=h.child,D=null;v!==null;)u=v.alternate,u!==null&&Ka(u)===null&&(D=v),v=v.sibling;v=D,v===null?(D=h.child,h.child=null):(D=v.sibling,v.sibling=null),Am(h,!1,D,v,G,S);break;case"backwards":case"unstable_legacy-backwards":for(v=null,D=h.child,h.child=null;D!==null;){if(u=D.alternate,u!==null&&Ka(u)===null){h.child=D;break}u=D.sibling,D.sibling=v,v=D,D=u}Am(h,!0,v,null,G,S);break;case"together":Am(h,!1,null,null,void 0,S);break;default:h.memoizedState=null}return h.child}function fu(u,h,v){if(u!==null&&(h.dependencies=u.dependencies),Xl|=h.lanes,(v&h.childLanes)===0)if(u!==null){if(Bc(u,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(i(153));if(h.child!==null){for(u=h.child,v=jo(u,u.pendingProps),h.child=v,v.return=h;u.sibling!==null;)u=u.sibling,v=v.sibling=jo(u,u.pendingProps),v.return=h;v.sibling=null}return h.child}function Sf(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&mf(u)))}function hm(u,h,v){switch(h.tag){case 3:he(h,h.stateNode.containerInfo),su(h,Kn,u.memoizedState.cache),CA();break;case 27:case 5:be(h);break;case 4:he(h,h.stateNode.containerInfo);break;case 10:su(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,wr(h),null;break;case 13:var S=h.memoizedState;if(S!==null)return S.dehydrated!==null?(Cs(h),h.flags|=128,null):(v&h.child.childLanes)!==0?Kl(u,h,v):(Cs(h),u=fu(u,h,v),u!==null?u.sibling:null);Cs(h);break;case 19:var D=(u.flags&128)!==0;if(S=(v&h.childLanes)!==0,S||(Bc(u,h,v,!1),S=(v&h.childLanes)!==0),D){if(S)return fm(u,h,v);h.flags|=128}if(D=h.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),j(Wi,Wi.current),S)break;return null;case 22:return h.lanes=0,Vl(u,h,v,h.pendingProps);case 24:su(h,Kn,u.memoizedState.cache)}return fu(u,h,v)}function Xg(u,h,v){if(u!==null)if(u.memoizedProps!==h.pendingProps)hs=!0;else{if(!Sf(u,v)&&(h.flags&128)===0)return hs=!1,hm(u,h,v);hs=(u.flags&131072)!==0}else hs=!1,Gi&&(h.flags&1048576)!==0&&Kp(h,df,h.index);switch(h.lanes=0,h.tag){case 16:e:{var S=h.pendingProps;if(u=St(h.elementType),h.type=u,typeof u=="function")Va(u)?(S=lo(u,S),h.tag=1,h=co(null,h,u,S,v)):(h.tag=0,h=Rd(null,h,u,S,v));else{if(u!=null){var D=u.$$typeof;if(D===C){h.tag=11,h=om(null,h,u,S,v);break e}else if(D===F){h.tag=14,h=lm(null,h,u,S,v);break e}}throw h=Y(u)||u,Error(i(306,h,""))}}return h;case 0:return Rd(u,h,h.type,h.pendingProps,v);case 1:return S=h.type,D=lo(S,h.pendingProps),co(u,h,S,D,v);case 3:e:{if(he(h,h.stateNode.containerInfo),u===null)throw Error(i(387));S=h.pendingProps;var G=h.memoizedState;D=G.element,fs(u,h),vs(h,S,null,v);var de=h.memoizedState;if(S=de.cache,su(h,Kn,S),S!==G.cache&&Ou(h,[Kn],v,!0),zr(),S=de.element,G.isDehydrated)if(G={element:S,isDehydrated:!1,cache:de.cache},h.updateQueue.baseState=G,h.memoizedState=G,h.flags&256){h=fr(u,h,S,v);break e}else if(S!==D){D=bo(Error(i(424)),h),pf(D),h=fr(u,h,S,v);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Qr=qu(u.firstChild),ha=h,Gi=!0,Ga=null,Br=!0,v=_i(h,null,S,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(CA(),S===D){h=fu(u,h,v);break e}Ps(u,h,S,v)}h=h.child}return h;case 26:return Au(u,h),u===null?(v=iF(h.type,null,h.pendingProps,null))?h.memoizedState=v:Gi||(v=h.type,u=h.pendingProps,S=vb(ue.current).createElement(v),S[Gn]=h,S[pe]=u,Wo(S,v,u),pt(S),h.stateNode=S):h.memoizedState=iF(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return be(h),u===null&&Gi&&(S=h.stateNode=eF(h.type,h.pendingProps,ue.current),ha=h,Br=!0,D=Qr,Vd(h.type)?(uB=D,Qr=qu(S.firstChild)):Qr=D),Ps(u,h,h.pendingProps.children,v),Au(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&Gi&&((D=S=Qr)&&(S=NV(S,h.type,h.pendingProps,Br),S!==null?(h.stateNode=S,ha=h,Qr=qu(S.firstChild),Br=!1,D=!0):D=!1),D||Qi(h)),be(h),D=h.type,G=h.pendingProps,de=u!==null?u.memoizedProps:null,S=G.children,sB(D,G)?S=null:de!==null&&sB(D,de)&&(h.flags|=32),h.memoizedState!==null&&(D=Zp(u,h,nv,null,null,v),Ev._currentValue=D),Au(u,h),Ps(u,h,S,v),h.child;case 6:return u===null&&Gi&&((u=v=Qr)&&(v=FV(v,h.pendingProps,Br),v!==null?(h.stateNode=v,ha=h,Qr=null,u=!0):u=!1),u||Qi(h)),null;case 13:return Kl(u,h,v);case 4:return he(h,h.stateNode.containerInfo),S=h.pendingProps,u===null?h.child=Xr(h,null,S,v):Ps(u,h,S,v),h.child;case 11:return om(u,h,h.type,h.pendingProps,v);case 7:return Ps(u,h,h.pendingProps,v),h.child;case 8:return Ps(u,h,h.pendingProps.children,v),h.child;case 12:return Ps(u,h,h.pendingProps.children,v),h.child;case 10:return S=h.pendingProps,su(h,h.type,S.value),Ps(u,h,S.children,v),h.child;case 9:return D=h.type._context,S=h.pendingProps.children,Pu(h),D=pa(D),S=S(D),h.flags|=1,Ps(u,h,S,v),h.child;case 14:return lm(u,h,h.type,h.pendingProps,v);case 15:return jl(u,h,h.type,h.pendingProps,v);case 19:return fm(u,h,v);case 31:return cm(u,h,v);case 22:return Vl(u,h,v,h.pendingProps);case 24:return Pu(h),S=pa(Kn),u===null?(D=Ie(),D===null&&(D=Mr,G=gf(),D.pooledCache=G,G.refCount++,G!==null&&(D.pooledCacheLanes|=v),D=G),h.memoizedState={parent:S,cache:D},mn(h),su(h,Kn,D)):((u.lanes&v)!==0&&(fs(u,h),vs(h,null,null,v),zr()),D=u.memoizedState,G=h.memoizedState,D.parent!==S?(D={parent:S,cache:S},h.memoizedState=D,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=D),su(h,Kn,S)):(S=G.cache,su(h,Kn,S),S!==D.cache&&Ou(h,[Kn],v,!0))),Ps(u,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function cl(u){u.flags|=4}function Ef(u,h,v,S,D){if((h=(u.mode&32)!==0)&&(h=!1),h){if(u.flags|=16777216,(D&335544128)===D)if(u.stateNode.complete)u.flags|=8192;else if(fn())u.flags|=8192;else throw gt=ft,Bt}else u.flags&=-16777217}function FA(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!lF(h))if(fn())u.flags|=8192;else throw gt=ft,Bt}function Pd(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Xn():536870912,u.lanes|=h,Yl|=h)}function dm(u,h){if(!Gi)switch(u.tailMode){case"hidden":h=u.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function Dr(u){var h=u.alternate!==null&&u.alternate.child===u.child,v=0,S=0;if(h)for(var D=u.child;D!==null;)v|=D.lanes|D.childLanes,S|=D.subtreeFlags&65011712,S|=D.flags&65011712,D.return=u,D=D.sibling;else for(D=u.child;D!==null;)v|=D.lanes|D.childLanes,S|=D.subtreeFlags,S|=D.flags,D.return=u,D=D.sibling;return u.subtreeFlags|=S,u.childLanes=v,h}function mv(u,h,v){var S=h.pendingProps;switch(iu(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(h),null;case 1:return Dr(h),null;case 3:return v=h.stateNode,S=null,u!==null&&(S=u.memoizedState.cache),h.memoizedState.cache!==S&&(h.flags|=2048),so(Kn),_e(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(da(h)?cl(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,qp())),Dr(h),null;case 26:var D=h.type,G=h.memoizedState;return u===null?(cl(h),G!==null?(Dr(h),FA(h,G)):(Dr(h),Ef(h,D,null,S,v))):G?G!==u.memoizedState?(cl(h),Dr(h),FA(h,G)):(Dr(h),h.flags&=-16777217):(u=u.memoizedProps,u!==S&&cl(h),Dr(h),Ef(h,D,u,S,v)),null;case 27:if(Ne(h),v=ue.current,D=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==S&&cl(h);else{if(!S){if(h.stateNode===null)throw Error(i(166));return Dr(h),null}u=oe.current,da(h)?vh(h):(u=eF(D,S,v),h.stateNode=u,cl(h))}return Dr(h),null;case 5:if(Ne(h),D=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==S&&cl(h);else{if(!S){if(h.stateNode===null)throw Error(i(166));return Dr(h),null}if(G=oe.current,da(h))vh(h);else{var de=vb(ue.current);switch(G){case 1:G=de.createElementNS("http://www.w3.org/2000/svg",D);break;case 2:G=de.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;default:switch(D){case"svg":G=de.createElementNS("http://www.w3.org/2000/svg",D);break;case"math":G=de.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;case"script":G=de.createElement("div"),G.innerHTML="<script><\/script>",G=G.removeChild(G.firstChild);break;case"select":G=typeof S.is=="string"?de.createElement("select",{is:S.is}):de.createElement("select"),S.multiple?G.multiple=!0:S.size&&(G.size=S.size);break;default:G=typeof S.is=="string"?de.createElement(D,{is:S.is}):de.createElement(D)}}G[Gn]=h,G[pe]=S;e:for(de=h.child;de!==null;){if(de.tag===5||de.tag===6)G.appendChild(de.stateNode);else if(de.tag!==4&&de.tag!==27&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===h)break e;for(;de.sibling===null;){if(de.return===null||de.return===h)break e;de=de.return}de.sibling.return=de.return,de=de.sibling}h.stateNode=G;e:switch(Wo(G,D,S),D){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&cl(h)}}return Dr(h),Ef(h,h.type,u===null?null:u.memoizedProps,h.pendingProps,v),null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==S&&cl(h);else{if(typeof S!="string"&&h.stateNode===null)throw Error(i(166));if(u=ue.current,da(h)){if(u=h.stateNode,v=h.memoizedProps,S=null,D=ha,D!==null)switch(D.tag){case 27:case 5:S=D.memoizedProps}u[Gn]=h,u=!!(u.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||jN(u.nodeValue,v)),u||Qi(h,!0)}else u=vb(u).createTextNode(S),u[Gn]=h,h.stateNode=u}return Dr(h),null;case 31:if(v=h.memoizedState,u===null||u.memoizedState!==null){if(S=da(h),v!==null){if(u===null){if(!S)throw Error(i(318));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(557));u[Gn]=h}else CA(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Dr(h),u=!1}else v=qp(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=v),u=!0;if(!u)return h.flags&256?(Lr(h),h):(Lr(h),null);if((h.flags&128)!==0)throw Error(i(558))}return Dr(h),null;case 13:if(S=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(D=da(h),S!==null&&S.dehydrated!==null){if(u===null){if(!D)throw Error(i(318));if(D=h.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(i(317));D[Gn]=h}else CA(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Dr(h),D=!1}else D=qp(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=D),D=!0;if(!D)return h.flags&256?(Lr(h),h):(Lr(h),null)}return Lr(h),(h.flags&128)!==0?(h.lanes=v,h):(v=S!==null,u=u!==null&&u.memoizedState!==null,v&&(S=h.child,D=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(D=S.alternate.memoizedState.cachePool.pool),G=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(G=S.memoizedState.cachePool.pool),G!==D&&(S.flags|=2048)),v!==u&&v&&(h.child.flags|=8192),Pd(h,h.updateQueue),Dr(h),null);case 4:return _e(),u===null&&eB(h.stateNode.containerInfo),Dr(h),null;case 10:return so(h.type),Dr(h),null;case 19:if(z(Wi),S=h.memoizedState,S===null)return Dr(h),null;if(D=(h.flags&128)!==0,G=S.rendering,G===null)if(D)dm(S,!1);else{if(Tr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(G=Ka(u),G!==null){for(h.flags|=128,dm(S,!1),u=G.updateQueue,h.updateQueue=u,Pd(h,u),h.subtreeFlags=0,u=v,v=h.child;v!==null;)Zs(v,u),v=v.sibling;return j(Wi,Wi.current&1|2),Gi&&Go(h,S.treeForkCount),h.child}u=u.sibling}S.tail!==null&&le()>Zl&&(h.flags|=128,D=!0,dm(S,!1),h.lanes=4194304)}else{if(!D)if(u=Ka(G),u!==null){if(h.flags|=128,D=!0,u=u.updateQueue,h.updateQueue=u,Pd(h,u),dm(S,!0),S.tail===null&&S.tailMode==="hidden"&&!G.alternate&&!Gi)return Dr(h),null}else 2*le()-S.renderingStartTime>Zl&&v!==536870912&&(h.flags|=128,D=!0,dm(S,!1),h.lanes=4194304);S.isBackwards?(G.sibling=h.child,h.child=G):(u=S.last,u!==null?u.sibling=G:h.child=G,S.last=G)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=le(),u.sibling=null,v=Wi.current,j(Wi,D?v&1|2:v&1),Gi&&Go(h,S.treeForkCount),u):(Dr(h),null);case 22:case 23:return Lr(h),ir(),S=h.memoizedState!==null,u!==null?u.memoizedState!==null!==S&&(h.flags|=8192):S&&(h.flags|=8192),S?(v&536870912)!==0&&(h.flags&128)===0&&(Dr(h),h.subtreeFlags&6&&(h.flags|=8192)):Dr(h),v=h.updateQueue,v!==null&&Pd(h,v.retryQueue),v=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==v&&(h.flags|=2048),u!==null&&z(Ce),null;case 24:return v=null,u!==null&&(v=u.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),so(Kn),Dr(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function Yg(u,h){switch(iu(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return so(Kn),_e(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Ne(h),null;case 31:if(h.memoizedState!==null){if(Lr(h),h.alternate===null)throw Error(i(340));CA()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 13:if(Lr(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(i(340));CA()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return z(Wi),null;case 4:return _e(),null;case 10:return so(h.type),null;case 22:case 23:return Lr(h),ir(),u!==null&&z(Ce),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return so(Kn),null;case 25:return null;default:return null}}function Ch(u,h){switch(iu(h),h.tag){case 3:so(Kn),_e();break;case 26:case 27:case 5:Ne(h);break;case 4:_e();break;case 31:h.memoizedState!==null&&Lr(h);break;case 13:Lr(h);break;case 19:z(Wi);break;case 10:so(h.type);break;case 22:case 23:Lr(h),ir(),u!==null&&z(Ce);break;case 24:so(Kn)}}function ju(u,h){try{var v=h.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var D=S.next;v=D;do{if((v.tag&u)===u){S=void 0;var G=v.create,de=v.inst;S=G(),de.destroy=S}v=v.next}while(v!==D)}}catch(Te){Yr(h,h.return,Te)}}function Fc(u,h,v){try{var S=h.updateQueue,D=S!==null?S.lastEffect:null;if(D!==null){var G=D.next;S=G;do{if((S.tag&u)===u){var de=S.inst,Te=de.destroy;if(Te!==void 0){de.destroy=void 0,D=h;var at=v,Nt=Te;try{Nt()}catch(Kt){Yr(D,at,Kt)}}}S=S.next}while(S!==G)}}catch(Kt){Yr(h,h.return,Kt)}}function Bf(u){var h=u.updateQueue;if(h!==null){var v=u.stateNode;try{Ki(h,v)}catch(S){Yr(u,u.return,S)}}}function gv(u,h,v){v.props=lo(u.type,u.memoizedProps),v.state=u.memoizedState;try{v.componentWillUnmount()}catch(S){Yr(u,h,S)}}function Vu(u,h){try{var v=u.ref;if(v!==null){switch(u.tag){case 26:case 27:case 5:var S=u.stateNode;break;case 30:S=u.stateNode;break;default:S=u.stateNode}typeof v=="function"?u.refCleanup=v(S):v.current=S}}catch(D){Yr(u,h,D)}}function ql(u,h){var v=u.ref,S=u.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(D){Yr(u,h,D)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(D){Yr(u,h,D)}else v.current=null}function Wl(u){var h=u.type,v=u.memoizedProps,S=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(D){Yr(u,u.return,D)}}function Ic(u,h,v){try{var S=u.stateNode;EV(S,u.type,v,h),S[pe]=h}catch(D){Yr(u,u.return,D)}}function ga(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Vd(u.type)||u.tag===4}function Gu(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||ga(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Vd(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Ui(u,h,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(u,h):(h=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,h.appendChild(u),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=Jo));else if(S!==4&&(S===27&&Vd(u.type)&&(v=u.stateNode,h=null),u=u.child,u!==null))for(Ui(u,h,v),u=u.sibling;u!==null;)Ui(u,h,v),u=u.sibling}function _r(u,h,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?v.insertBefore(u,h):v.appendChild(u);else if(S!==4&&(S===27&&Vd(u.type)&&(v=u.stateNode),u=u.child,u!==null))for(_r(u,h,v),u=u.sibling;u!==null;)_r(u,h,v),u=u.sibling}function Js(u){var h=u.stateNode,v=u.memoizedProps;try{for(var S=u.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);Wo(h,S,v),h[Gn]=u,h[pe]=v}catch(G){Yr(u,u.return,G)}}var Lc=!1,ds=!1,IA=!1,pm=typeof WeakSet=="function"?WeakSet:Set,ks=null;function kd(u,h){if(u=u.containerInfo,iB=Bb,u=Pl(u),Qo(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var D=S.anchorOffset,G=S.focusNode;S=S.focusOffset;try{v.nodeType,G.nodeType}catch{v=null;break e}var de=0,Te=-1,at=-1,Nt=0,Kt=0,en=u,It=null;t:for(;;){for(var Pt;en!==v||D!==0&&en.nodeType!==3||(Te=de+D),en!==G||S!==0&&en.nodeType!==3||(at=de+S),en.nodeType===3&&(de+=en.nodeValue.length),(Pt=en.firstChild)!==null;)It=en,en=Pt;for(;;){if(en===u)break t;if(It===v&&++Nt===D&&(Te=de),It===G&&++Kt===S&&(at=de),(Pt=en.nextSibling)!==null)break;en=It,It=en.parentNode}en=Pt}v=Te===-1||at===-1?null:{start:Te,end:at}}else v=null}v=v||{start:0,end:0}}else v=null;for(rB={focusedElem:u,selectionRange:v},Bb=!1,ks=h;ks!==null;)if(h=ks,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,ks=u;else for(;ks!==null;){switch(h=ks,G=h.alternate,u=h.flags,h.tag){case 0:if((u&4)!==0&&(u=h.updateQueue,u=u!==null?u.events:null,u!==null))for(v=0;v<u.length;v++)D=u[v],D.ref.impl=D.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&G!==null){u=void 0,v=h,D=G.memoizedProps,G=G.memoizedState,S=v.stateNode;try{var kn=lo(v.type,D);u=S.getSnapshotBeforeUpdate(kn,G),S.__reactInternalSnapshotBeforeUpdate=u}catch(ci){Yr(v,v.return,ci)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,v=u.nodeType,v===9)oB(u);else if(v===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":oB(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=h.sibling,u!==null){u.return=h.return,ks=u;break}ks=h.return}}function fb(u,h,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:LA(u,v),S&4&&ju(5,v);break;case 1:if(LA(u,v),S&4)if(u=v.stateNode,h===null)try{u.componentDidMount()}catch(de){Yr(v,v.return,de)}else{var D=lo(v.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(D,h,u.__reactInternalSnapshotBeforeUpdate)}catch(de){Yr(v,v.return,de)}}S&64&&Bf(v),S&512&&Vu(v,v.return);break;case 3:if(LA(u,v),S&64&&(u=v.updateQueue,u!==null)){if(h=null,v.child!==null)switch(v.child.tag){case 27:case 5:h=v.child.stateNode;break;case 1:h=v.child.stateNode}try{Ki(u,h)}catch(de){Yr(v,v.return,de)}}break;case 27:h===null&&S&4&&Js(v);case 26:case 5:LA(u,v),h===null&&S&4&&Wl(v),S&512&&Vu(v,v.return);break;case 12:LA(u,v);break;case 31:LA(u,v),S&4&&Jg(u,v);break;case 13:LA(u,v),S&4&&yv(u,v),S&64&&(u=v.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(v=hV.bind(null,v),IV(u,v))));break;case 22:if(S=v.memoizedState!==null||Lc,!S){h=h!==null&&h.memoizedState!==null||ds,D=Lc;var G=ds;Lc=S,(ds=h)&&!G?Cr(u,v,(v.subtreeFlags&8772)!==0):LA(u,v),Lc=D,ds=G}break;case 30:break;default:LA(u,v)}}function Zg(u){var h=u.alternate;h!==null&&(u.alternate=null,Zg(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&nn(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var hr=null,ya=!1;function Eo(u,h,v){for(v=v.child;v!==null;)Cf(u,h,v),v=v.sibling}function Cf(u,h,v){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Me,v)}catch{}switch(v.tag){case 26:ds||ql(v,h),Eo(u,h,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:ds||ql(v,h);var S=hr,D=ya;Vd(v.type)&&(hr=v.stateNode,ya=!1),Eo(u,h,v),wv(v.stateNode),hr=S,ya=D;break;case 5:ds||ql(v,h);case 6:if(S=hr,D=ya,hr=null,Eo(u,h,v),hr=S,ya=D,hr!==null)if(ya)try{(hr.nodeType===9?hr.body:hr.nodeName==="HTML"?hr.ownerDocument.body:hr).removeChild(v.stateNode)}catch(G){Yr(v,h,G)}else try{hr.removeChild(v.stateNode)}catch(G){Yr(v,h,G)}break;case 18:hr!==null&&(ya?(u=hr,XN(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,v.stateNode),c0(u)):XN(hr,v.stateNode));break;case 4:S=hr,D=ya,hr=v.stateNode.containerInfo,ya=!0,Eo(u,h,v),hr=S,ya=D;break;case 0:case 11:case 14:case 15:Fc(2,v,h),ds||Fc(4,v,h),Eo(u,h,v);break;case 1:ds||(ql(v,h),S=v.stateNode,typeof S.componentWillUnmount=="function"&&gv(v,h,S)),Eo(u,h,v);break;case 21:Eo(u,h,v);break;case 22:ds=(S=ds)||v.memoizedState!==null,Eo(u,h,v),ds=S;break;default:Eo(u,h,v)}}function Jg(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{c0(u)}catch(v){Yr(h,h.return,v)}}}function yv(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{c0(u)}catch(v){Yr(h,h.return,v)}}function hb(u){switch(u.tag){case 31:case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new pm),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new pm),h;default:throw Error(i(435,u.tag))}}function $s(u,h){var v=hb(u);h.forEach(function(S){if(!v.has(S)){v.add(S);var D=dV.bind(null,u,S);S.then(D,D)}})}function Bo(u,h){var v=h.deletions;if(v!==null)for(var S=0;S<v.length;S++){var D=v[S],G=u,de=h,Te=de;e:for(;Te!==null;){switch(Te.tag){case 27:if(Vd(Te.type)){hr=Te.stateNode,ya=!1;break e}break;case 5:hr=Te.stateNode,ya=!1;break e;case 3:case 4:hr=Te.stateNode.containerInfo,ya=!0;break e}Te=Te.return}if(hr===null)throw Error(i(160));Cf(G,de,D),hr=null,ya=!1,G=D.alternate,G!==null&&(G.return=null),D.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)Mf(h,u),h=h.sibling}var ul=null;function Mf(u,h){var v=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Bo(h,u),Hs(u),S&4&&(Fc(3,u,u.return),ju(3,u),Fc(5,u,u.return));break;case 1:Bo(h,u),Hs(u),S&512&&(ds||v===null||ql(v,v.return)),S&64&&Lc&&(u=u.updateQueue,u!==null&&(S=u.callbacks,S!==null&&(v=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var D=ul;if(Bo(h,u),Hs(u),S&512&&(ds||v===null||ql(v,v.return)),S&4){var G=v!==null?v.memoizedState:null;if(S=u.memoizedState,v===null)if(S===null)if(u.stateNode===null){e:{S=u.type,v=u.memoizedProps,D=D.ownerDocument||D;t:switch(S){case"title":G=D.getElementsByTagName("title")[0],(!G||G[Zt]||G[Gn]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=D.createElement(S),D.head.insertBefore(G,D.querySelector("head > title"))),Wo(G,S,v),G[Gn]=u,pt(G),S=G;break e;case"link":var de=aF("link","href",D).get(S+(v.href||""));if(de){for(var Te=0;Te<de.length;Te++)if(G=de[Te],G.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&G.getAttribute("rel")===(v.rel==null?null:v.rel)&&G.getAttribute("title")===(v.title==null?null:v.title)&&G.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){de.splice(Te,1);break t}}G=D.createElement(S),Wo(G,S,v),D.head.appendChild(G);break;case"meta":if(de=aF("meta","content",D).get(S+(v.content||""))){for(Te=0;Te<de.length;Te++)if(G=de[Te],G.getAttribute("content")===(v.content==null?null:""+v.content)&&G.getAttribute("name")===(v.name==null?null:v.name)&&G.getAttribute("property")===(v.property==null?null:v.property)&&G.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&G.getAttribute("charset")===(v.charSet==null?null:v.charSet)){de.splice(Te,1);break t}}G=D.createElement(S),Wo(G,S,v),D.head.appendChild(G);break;default:throw Error(i(468,S))}G[Gn]=u,pt(G),S=G}u.stateNode=S}else oF(D,u.type,u.stateNode);else u.stateNode=sF(D,S,u.memoizedProps);else G!==S?(G===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):G.count--,S===null?oF(D,u.type,u.stateNode):sF(D,S,u.memoizedProps)):S===null&&u.stateNode!==null&&Ic(u,u.memoizedProps,v.memoizedProps)}break;case 27:Bo(h,u),Hs(u),S&512&&(ds||v===null||ql(v,v.return)),v!==null&&S&4&&Ic(u,u.memoizedProps,v.memoizedProps);break;case 5:if(Bo(h,u),Hs(u),S&512&&(ds||v===null||ql(v,v.return)),u.flags&32){D=u.stateNode;try{za(D,"")}catch(kn){Yr(u,u.return,kn)}}S&4&&u.stateNode!=null&&(D=u.memoizedProps,Ic(u,D,v!==null?v.memoizedProps:D)),S&1024&&(IA=!0);break;case 6:if(Bo(h,u),Hs(u),S&4){if(u.stateNode===null)throw Error(i(162));S=u.memoizedProps,v=u.stateNode;try{v.nodeValue=S}catch(kn){Yr(u,u.return,kn)}}break;case 3:if(wb=null,D=ul,ul=xb(h.containerInfo),Bo(h,u),ul=D,Hs(u),S&4&&v!==null&&v.memoizedState.isDehydrated)try{c0(h.containerInfo)}catch(kn){Yr(u,u.return,kn)}IA&&(IA=!1,db(u));break;case 4:S=ul,ul=xb(u.stateNode.containerInfo),Bo(h,u),Hs(u),ul=S;break;case 12:Bo(h,u),Hs(u);break;case 31:Bo(h,u),Hs(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,$s(u,S)));break;case 13:Bo(h,u),Hs(u),u.child.flags&8192&&u.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(OA=le()),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,$s(u,S)));break;case 22:D=u.memoizedState!==null;var at=v!==null&&v.memoizedState!==null,Nt=Lc,Kt=ds;if(Lc=Nt||D,ds=Kt||at,Bo(h,u),ds=Kt,Lc=Nt,Hs(u),S&8192)e:for(h=u.stateNode,h._visibility=D?h._visibility&-2:h._visibility|1,D&&(v===null||at||Lc||ds||Mh(u)),v=null,h=u;;){if(h.tag===5||h.tag===26){if(v===null){at=v=h;try{if(G=at.stateNode,D)de=G.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{Te=at.stateNode;var en=at.memoizedProps.style,It=en!=null&&en.hasOwnProperty("display")?en.display:null;Te.style.display=It==null||typeof It=="boolean"?"":(""+It).trim()}}catch(kn){Yr(at,at.return,kn)}}}else if(h.tag===6){if(v===null){at=h;try{at.stateNode.nodeValue=D?"":at.memoizedProps}catch(kn){Yr(at,at.return,kn)}}}else if(h.tag===18){if(v===null){at=h;try{var Pt=at.stateNode;D?YN(Pt,!0):YN(at.stateNode,!1)}catch(kn){Yr(at,at.return,kn)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}S&4&&(S=u.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,$s(u,v))));break;case 19:Bo(h,u),Hs(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,$s(u,S)));break;case 30:break;case 21:break;default:Bo(h,u),Hs(u)}}function Hs(u){var h=u.flags;if(h&2){try{for(var v,S=u.return;S!==null;){if(ga(S)){v=S;break}S=S.return}if(v==null)throw Error(i(160));switch(v.tag){case 27:var D=v.stateNode,G=Gu(u);_r(u,G,D);break;case 5:var de=v.stateNode;v.flags&32&&(za(de,""),v.flags&=-33);var Te=Gu(u);_r(u,Te,de);break;case 3:case 4:var at=v.stateNode.containerInfo,Nt=Gu(u);Ui(u,Nt,at);break;default:throw Error(i(161))}}catch(Kt){Yr(u,u.return,Kt)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function db(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;db(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function LA(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)fb(u,h.alternate,h),h=h.sibling}function Mh(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Fc(4,h,h.return),Mh(h);break;case 1:ql(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&gv(h,h.return,v),Mh(h);break;case 27:wv(h.stateNode);case 26:case 5:ql(h,h.return),Mh(h);break;case 22:h.memoizedState===null&&Mh(h);break;case 30:Mh(h);break;default:Mh(h)}u=u.sibling}}function Cr(u,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var S=h.alternate,D=u,G=h,de=G.flags;switch(G.tag){case 0:case 11:case 15:Cr(D,G,v),ju(4,G);break;case 1:if(Cr(D,G,v),S=G,D=S.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Nt){Yr(S,S.return,Nt)}if(S=G,D=S.updateQueue,D!==null){var Te=S.stateNode;try{var at=D.shared.hiddenCallbacks;if(at!==null)for(D.shared.hiddenCallbacks=null,D=0;D<at.length;D++)ns(at[D],Te)}catch(Nt){Yr(S,S.return,Nt)}}v&&de&64&&Bf(G),Vu(G,G.return);break;case 27:Js(G);case 26:case 5:Cr(D,G,v),v&&S===null&&de&4&&Wl(G),Vu(G,G.return);break;case 12:Cr(D,G,v);break;case 31:Cr(D,G,v),v&&de&4&&Jg(D,G);break;case 13:Cr(D,G,v),v&&de&4&&yv(D,G);break;case 22:G.memoizedState===null&&Cr(D,G,v),Vu(G,G.return);break;case 30:break;default:Cr(D,G,v)}h=h.sibling}}function $g(u,h){var v=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==v&&(u!=null&&u.refCount++,v!=null&&Ua(v))}function RA(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Ua(u))}function Fa(u,h,v,S){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Ts(u,h,v,S),h=h.sibling}function Ts(u,h,v,S){var D=h.flags;switch(h.tag){case 0:case 11:case 15:Fa(u,h,v,S),D&2048&&ju(9,h);break;case 1:Fa(u,h,v,S);break;case 3:Fa(u,h,v,S),D&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Ua(u)));break;case 12:if(D&2048){Fa(u,h,v,S),u=h.stateNode;try{var G=h.memoizedProps,de=G.id,Te=G.onPostCommit;typeof Te=="function"&&Te(de,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(at){Yr(h,h.return,at)}}else Fa(u,h,v,S);break;case 31:Fa(u,h,v,S);break;case 13:Fa(u,h,v,S);break;case 23:break;case 22:G=h.stateNode,de=h.alternate,h.memoizedState!==null?G._visibility&2?Fa(u,h,v,S):Hd(u,h):G._visibility&2?Fa(u,h,v,S):(G._visibility|=2,Tf(u,h,v,S,(h.subtreeFlags&10256)!==0||!1)),D&2048&&$g(de,h);break;case 24:Fa(u,h,v,S),D&2048&&RA(h.alternate,h);break;default:Fa(u,h,v,S)}}function Tf(u,h,v,S,D){for(D=D&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var G=u,de=h,Te=v,at=S,Nt=de.flags;switch(de.tag){case 0:case 11:case 15:Tf(G,de,Te,at,D),ju(8,de);break;case 23:break;case 22:var Kt=de.stateNode;de.memoizedState!==null?Kt._visibility&2?Tf(G,de,Te,at,D):Hd(G,de):(Kt._visibility|=2,Tf(G,de,Te,at,D)),D&&Nt&2048&&$g(de.alternate,de);break;case 24:Tf(G,de,Te,at,D),D&&Nt&2048&&RA(de.alternate,de);break;default:Tf(G,de,Te,at,D)}h=h.sibling}}function Hd(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=u,S=h,D=S.flags;switch(S.tag){case 22:Hd(v,S),D&2048&&$g(S.alternate,S);break;case 24:Hd(v,S),D&2048&&RA(S.alternate,S);break;default:Hd(v,S)}h=h.sibling}}var Qs=8192;function Th(u,h,v){if(u.subtreeFlags&Qs)for(u=u.child;u!==null;)ea(u,h,v),u=u.sibling}function ea(u,h,v){switch(u.tag){case 26:Th(u,h,v),u.flags&Qs&&u.memoizedState!==null&&GV(v,ul,u.memoizedState,u.memoizedProps);break;case 5:Th(u,h,v);break;case 3:case 4:var S=ul;ul=xb(u.stateNode.containerInfo),Th(u,h,v),ul=S;break;case 22:u.memoizedState===null&&(S=u.alternate,S!==null&&S.memoizedState!==null?(S=Qs,Qs=16777216,Th(u,h,v),Qs=S):Th(u,h,v));break;default:Th(u,h,v)}}function Al(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function Ko(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var S=h[v];ks=S,mm(S,u)}Al(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Uh(u),u=u.sibling}function Uh(u){switch(u.tag){case 0:case 11:case 15:Ko(u),u.flags&2048&&Fc(9,u,u.return);break;case 3:Ko(u);break;case 12:Ko(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,e0(u)):Ko(u);break;default:Ko(u)}}function e0(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var S=h[v];ks=S,mm(S,u)}Al(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Fc(8,h,h.return),e0(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,e0(h));break;default:e0(h)}u=u.sibling}}function mm(u,h){for(;ks!==null;){var v=ks;switch(v.tag){case 0:case 11:case 15:Fc(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Ua(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,ks=S;else e:for(v=u;ks!==null;){S=ks;var D=S.sibling,G=S.return;if(Zg(S),S===v){ks=null;break e}if(D!==null){D.return=G,ks=D;break e}ks=G}}}var t0={getCacheForType:function(u){var h=pa(Kn),v=h.data.get(u);return v===void 0&&(v=u(),h.data.set(u,v)),v},cacheSignal:function(){return pa(Kn).controller.signal}},n0=typeof WeakMap=="function"?WeakMap:Map,ar=0,Mr=null,Ni=null,Xi=0,Yn=0,zi=null,Ei=!1,Oi=!1,Vr=!1,ta=0,Tr=0,Xl=0,DA=0,hu=0,or=0,Yl=0,du=null,Co=null,fl=!1,OA=0,Qd=0,Zl=1/0,zd=null,Ku=null,Us=0,pu=null,Jl=null,Rc=0,PA=0,Nh=null,i0=null,Fh=0,Ih=null;function qo(){return(ar&2)!==0&&Xi!==0?Xi&-Xi:W.T!==null?YE():ui()}function m(){if(or===0)if((Xi&536870912)===0||Gi){var u=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),or=u}else or=536870912;return u=br.current,u!==null&&(u.flags|=32),or}function g(u,h,v){(u===Mr&&(Yn===2||Yn===9)||u.cancelPendingCommit!==null)&&(xt(u,0),ae(u,Xi,or,!1)),Be(u,v),((ar&2)===0||u!==Mr)&&(u===Mr&&((ar&2)===0&&(DA|=v),Tr===4&&ae(u,Xi,or,!1)),Uf(u))}function B(u,h,v){if((ar&6)!==0)throw Error(i(327));var S=!v&&(h&127)===0&&(h&u.expiredLanes)===0||an(u,h),D=S?Lh(u,h):hl(u,h,!0),G=S;do{if(D===0){Oi&&!S&&ae(u,h,0,!1);break}else{if(v=u.current.alternate,G&&!X(v)){D=hl(u,h,!1),G=!1;continue}if(D===2){if(G=h,u.errorRecoveryDisabledLanes&G)var de=0;else de=u.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){h=de;e:{var Te=u;D=du;var at=Te.current.memoizedState.isDehydrated;if(at&&(xt(Te,de).flags|=256),de=hl(Te,de,!1),de!==2){if(Vr&&!at){Te.errorRecoveryDisabledLanes|=G,DA|=G,D=4;break e}G=Co,Co=D,G!==null&&(Co===null?Co=G:Co.push.apply(Co,G))}D=de}if(G=!1,D!==2)continue}}if(D===1){xt(u,0),ae(u,h,0,!0);break}e:{switch(S=u,G=D,G){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:ae(S,h,or,!Ei);break e;case 2:Co=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(D=OA+300-le(),10<D)){if(ae(S,h,or,!Ei),Ct(S,0,!0)!==0)break e;Rc=h,S.timeoutHandle=qN(O.bind(null,S,v,Co,zd,fl,h,or,DA,Yl,Ei,G,"Throttled",-0,0),D);break e}O(S,v,Co,zd,fl,h,or,DA,Yl,Ei,G,null,-0,0)}}break}while(!0);Uf(u)}function O(u,h,v,S,D,G,de,Te,at,Nt,Kt,en,It,Pt){if(u.timeoutHandle=-1,en=h.subtreeFlags,en&8192||(en&16785408)===16785408){en={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jo},ea(h,G,en);var kn=(G&62914560)===G?OA-le():(G&4194048)===G?Qd-le():0;if(kn=KV(en,kn),kn!==null){Rc=G,u.cancelPendingCommit=kn(fi.bind(null,u,h,G,v,S,D,de,Te,at,Kt,en,null,It,Pt)),ae(u,G,de,!Nt);return}}fi(u,h,G,v,S,D,de,Te,at)}function X(u){for(var h=u;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var D=v[S],G=D.getSnapshot;D=D.value;try{if(!xr(G(),D))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ae(u,h,v,S){h&=~hu,h&=~DA,u.suspendedLanes|=h,u.pingedLanes&=~h,S&&(u.warmLanes|=h),S=u.expirationTimes;for(var D=h;0<D;){var G=31-Fe(D),de=1<<G;S[G]=-1,D&=~de}v!==0&&tn(u,v,h)}function De(){return(ar&6)===0?(vv(0),!1):!0}function st(){if(Ni!==null){if(Yn===0)var u=Ni.return;else u=Ni,Ta=Ec=null,Sd(u),Jt=null,In=0,u=Ni;for(;u!==null;)Ch(u.alternate,u),u=u.return;Ni=null}}function xt(u,h){var v=u.timeoutHandle;v!==-1&&(u.timeoutHandle=-1,MV(v)),v=u.cancelPendingCommit,v!==null&&(u.cancelPendingCommit=null,v()),Rc=0,st(),Mr=u,Ni=v=jo(u.current,null),Xi=h,Yn=0,zi=null,Ei=!1,Oi=an(u,h),Vr=!1,Yl=or=hu=DA=Xl=Tr=0,Co=du=null,fl=!1,(h&8)!==0&&(h|=h&32);var S=u.entangledLanes;if(S!==0)for(u=u.entanglements,S&=h;0<S;){var D=31-Fe(S),G=1<<D;h|=u[D],S&=~G}return ta=h,nu(),v}function Wt(u,h){Qn=null,W.H=rm,h===ut||h===Ve?(h=Vt(),Yn=3):h===Bt?(h=Vt(),Yn=4):Yn=h===Wg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,zi=h,Ni===null&&(Tr=1,qg(u,bo(h,u.current)))}function fn(){var u=br.current;return u===null?!0:(Xi&4194048)===Xi?rr===null:(Xi&62914560)===Xi||(Xi&536870912)!==0?u===rr:!1}function wn(){var u=W.H;return W.H=rm,u===null?rm:u}function Bn(){var u=W.A;return W.A=t0,u}function vi(){Tr=4,Ei||(Xi&4194048)!==Xi&&br.current!==null||(Oi=!0),(Xl&134217727)===0&&(DA&134217727)===0||Mr===null||ae(Mr,Xi,or,!1)}function hl(u,h,v){var S=ar;ar|=2;var D=wn(),G=Bn();(Mr!==u||Xi!==h)&&(zd=null,xt(u,h)),h=!1;var de=Tr;e:do try{if(Yn!==0&&Ni!==null){var Te=Ni,at=zi;switch(Yn){case 8:st(),de=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(h=!0);var Nt=Yn;if(Yn=0,zi=null,un(u,Te,at,Nt),v&&Oi){de=0;break e}break;default:Nt=Yn,Yn=0,zi=null,un(u,Te,at,Nt)}}gm(),de=Tr;break}catch(Kt){Wt(u,Kt)}while(!0);return h&&u.shellSuspendCounter++,Ta=Ec=null,ar=S,W.H=D,W.A=G,Ni===null&&(Mr=null,Xi=0,nu()),de}function gm(){for(;Ni!==null;)yt(Ni)}function Lh(u,h){var v=ar;ar|=2;var S=wn(),D=Bn();Mr!==u||Xi!==h?(zd=null,Zl=le()+500,xt(u,h)):Oi=an(u,h);e:do try{if(Yn!==0&&Ni!==null){h=Ni;var G=zi;t:switch(Yn){case 1:Yn=0,zi=null,un(u,h,G,1);break;case 2:case 9:if(_t(G)){Yn=0,zi=null,Ot(h);break}h=function(){Yn!==2&&Yn!==9||Mr!==u||(Yn=7),Uf(u)},G.then(h,h);break e;case 3:Yn=7;break e;case 4:Yn=5;break e;case 7:_t(G)?(Yn=0,zi=null,Ot(h)):(Yn=0,zi=null,un(u,h,G,7));break;case 5:var de=null;switch(Ni.tag){case 26:de=Ni.memoizedState;case 5:case 27:var Te=Ni;if(de?lF(de):Te.stateNode.complete){Yn=0,zi=null;var at=Te.sibling;if(at!==null)Ni=at;else{var Nt=Te.return;Nt!==null?(Ni=Nt,Wn(Nt)):Ni=null}break t}}Yn=0,zi=null,un(u,h,G,5);break;case 6:Yn=0,zi=null,un(u,h,G,6);break;case 8:st(),Tr=6;break e;default:throw Error(i(462))}}Ft();break}catch(Kt){Wt(u,Kt)}while(!0);return Ta=Ec=null,W.H=S,W.A=D,ar=v,Ni!==null?0:(Mr=null,Xi=0,nu(),Tr)}function Ft(){for(;Ni!==null&&!et();)yt(Ni)}function yt(u){var h=Xg(u.alternate,u,ta);u.memoizedProps=u.pendingProps,h===null?Wn(u):Ni=h}function Ot(u){var h=u,v=h.alternate;switch(h.tag){case 15:case 0:h=So(v,h,h.pendingProps,h.type,void 0,Xi);break;case 11:h=So(v,h,h.pendingProps,h.type.render,h.ref,Xi);break;case 5:Sd(h);default:Ch(v,h),h=Ni=Zs(h,ta),h=Xg(v,h,ta)}u.memoizedProps=u.pendingProps,h===null?Wn(u):Ni=h}function un(u,h,v,S){Ta=Ec=null,Sd(h),Jt=null,In=0;var D=h.return;try{if(zl(u,D,h,v,Xi)){Tr=1,qg(u,bo(v,u.current)),Ni=null;return}}catch(G){if(D!==null)throw Ni=D,G;Tr=1,qg(u,bo(v,u.current)),Ni=null;return}h.flags&32768?(Gi||S===1?u=!0:Oi||(Xi&536870912)!==0?u=!1:(Ei=u=!0,(S===2||S===9||S===3||S===6)&&(S=br.current,S!==null&&S.tag===13&&(S.flags|=16384))),rs(h,u)):Wn(h)}function Wn(u){var h=u;do{if((h.flags&32768)!==0){rs(h,Ei);return}u=h.return;var v=mv(h.alternate,h,ta);if(v!==null){Ni=v;return}if(h=h.sibling,h!==null){Ni=h;return}Ni=h=u}while(h!==null);Tr===0&&(Tr=5)}function rs(u,h){do{var v=Yg(u.alternate,u);if(v!==null){v.flags&=32767,Ni=v;return}if(v=u.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(u=u.sibling,u!==null)){Ni=u;return}Ni=u=v}while(u!==null);Tr=6,Ni=null}function fi(u,h,v,S,D,G,de,Te,at){u.cancelPendingCommit=null;do r0();while(Us!==0);if((ar&6)!==0)throw Error(i(327));if(h!==null){if(h===u.current)throw Error(i(177));if(G=h.lanes|h.childLanes,G|=dh,Ke(u,v,G,de,Te,at),u===Mr&&(Ni=Mr=null,Xi=0),Jl=h,pu=u,Rc=v,PA=G,Nh=D,i0=S,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,pV(se,function(){return UN(),null})):(u.callbackNode=null,u.callbackPriority=0),S=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||S){S=W.T,W.T=null,D=q.p,q.p=2,de=ar,ar|=4;try{kd(u,h,v)}finally{ar=de,q.p=D,W.T=S}}Us=1,dr(),Ia(),pr()}}function dr(){if(Us===1){Us=0;var u=pu,h=Jl,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=W.T,W.T=null;var S=q.p;q.p=2;var D=ar;ar|=4;try{Mf(h,u);var G=rB,de=Pl(u.containerInfo),Te=G.focusedElem,at=G.selectionRange;if(de!==Te&&Te&&Te.ownerDocument&&Ol(Te.ownerDocument.documentElement,Te)){if(at!==null&&Qo(Te)){var Nt=at.start,Kt=at.end;if(Kt===void 0&&(Kt=Nt),"selectionStart"in Te)Te.selectionStart=Nt,Te.selectionEnd=Math.min(Kt,Te.value.length);else{var en=Te.ownerDocument||document,It=en&&en.defaultView||window;if(It.getSelection){var Pt=It.getSelection(),kn=Te.textContent.length,ci=Math.min(at.start,kn),as=at.end===void 0?ci:Math.min(at.end,kn);!Pt.extend&&ci>as&&(de=as,as=ci,ci=de);var vt=wA(Te,ci),At=wA(Te,as);if(vt&&At&&(Pt.rangeCount!==1||Pt.anchorNode!==vt.node||Pt.anchorOffset!==vt.offset||Pt.focusNode!==At.node||Pt.focusOffset!==At.offset)){var Tt=en.createRange();Tt.setStart(vt.node,vt.offset),Pt.removeAllRanges(),ci>as?(Pt.addRange(Tt),Pt.extend(At.node,At.offset)):(Tt.setEnd(At.node,At.offset),Pt.addRange(Tt))}}}}for(en=[],Pt=Te;Pt=Pt.parentNode;)Pt.nodeType===1&&en.push({element:Pt,left:Pt.scrollLeft,top:Pt.scrollTop});for(typeof Te.focus=="function"&&Te.focus(),Te=0;Te<en.length;Te++){var Yt=en[Te];Yt.element.scrollLeft=Yt.left,Yt.element.scrollTop=Yt.top}}Bb=!!iB,rB=iB=null}finally{ar=D,q.p=S,W.T=v}}u.current=h,Us=2}}function Ia(){if(Us===2){Us=0;var u=pu,h=Jl,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=W.T,W.T=null;var S=q.p;q.p=2;var D=ar;ar|=4;try{fb(u,h.alternate,h)}finally{ar=D,q.p=S,W.T=v}}Us=3}}function pr(){if(Us===4||Us===3){Us=0,me();var u=pu,h=Jl,v=Rc,S=i0;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Us=5:(Us=0,Jl=pu=null,kA(u,u.pendingLanes));var D=u.pendingLanes;if(D===0&&(Ku=null),li(v),h=h.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Me,h,void 0,(h.current.flags&128)===128)}catch{}if(S!==null){h=W.T,D=q.p,q.p=2,W.T=null;try{for(var G=u.onRecoverableError,de=0;de<S.length;de++){var Te=S[de];G(Te.value,{componentStack:Te.stack})}}finally{W.T=h,q.p=D}}(Rc&3)!==0&&r0(),Uf(u),D=u.pendingLanes,(v&261930)!==0&&(D&42)!==0?u===Ih?Fh++:(Fh=0,Ih=u):Fh=0,vv(0)}}function kA(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Ua(h)))}function r0(){return dr(),Ia(),pr(),UN()}function UN(){if(Us!==5)return!1;var u=pu,h=PA;PA=0;var v=li(Rc),S=W.T,D=q.p;try{q.p=32>v?32:v,W.T=null,v=Nh,Nh=null;var G=pu,de=Rc;if(Us=0,Jl=pu=null,Rc=0,(ar&6)!==0)throw Error(i(331));var Te=ar;if(ar|=4,Uh(G.current),Ts(G,G.current,de,v),ar=Te,vv(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Me,G)}catch{}return!0}finally{q.p=D,W.T=S,kA(u,h)}}function NN(u,h,v){h=bo(v,h),h=pv(u.stateNode,h,2),u=Si(u,h,2),u!==null&&(Be(u,2),Uf(u))}function Yr(u,h,v){if(u.tag===3)NN(u,u,v);else for(;h!==null;){if(h.tag===3){NN(h,u,v);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ku===null||!Ku.has(S))){u=bo(v,u),v=Ld(2),S=Si(h,v,2),S!==null&&(ll(v,S,h,u),Be(S,2),Uf(S));break}}h=h.return}}function qE(u,h,v){var S=u.pingCache;if(S===null){S=u.pingCache=new n0;var D=new Set;S.set(h,D)}else D=S.get(h),D===void 0&&(D=new Set,S.set(h,D));D.has(v)||(Vr=!0,D.add(v),u=fV.bind(null,u,h,v),h.then(u,u))}function fV(u,h,v){var S=u.pingCache;S!==null&&S.delete(h),u.pingedLanes|=u.suspendedLanes&v,u.warmLanes&=~v,Mr===u&&(Xi&v)===v&&(Tr===4||Tr===3&&(Xi&62914560)===Xi&&300>le()-OA?(ar&2)===0&&xt(u,0):hu|=v,Yl===Xi&&(Yl=0)),Uf(u)}function FN(u,h){h===0&&(h=Xn()),u=wc(u,h),u!==null&&(Be(u,h),Uf(u))}function hV(u){var h=u.memoizedState,v=0;h!==null&&(v=h.retryLane),FN(u,v)}function dV(u,h){var v=0;switch(u.tag){case 31:case 13:var S=u.stateNode,D=u.memoizedState;D!==null&&(v=D.retryLane);break;case 19:S=u.stateNode;break;case 22:S=u.stateNode._retryCache;break;default:throw Error(i(314))}S!==null&&S.delete(h),FN(u,v)}function pV(u,h){return tt(u,h)}var pb=null,s0=null,WE=!1,mb=!1,XE=!1,jd=0;function Uf(u){u!==s0&&u.next===null&&(s0===null?pb=s0=u:s0=s0.next=u),mb=!0,WE||(WE=!0,gV())}function vv(u,h){if(!XE&&mb){XE=!0;do for(var v=!1,S=pb;S!==null;){if(u!==0){var D=S.pendingLanes;if(D===0)var G=0;else{var de=S.suspendedLanes,Te=S.pingedLanes;G=(1<<31-Fe(42|u)+1)-1,G&=D&~(de&~Te),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(v=!0,DN(S,G))}else G=Xi,G=Ct(S,S===Mr?G:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(G&3)===0||an(S,G)||(v=!0,DN(S,G));S=S.next}while(v);XE=!1}}function mV(){IN()}function IN(){mb=WE=!1;var u=0;jd!==0&&CV()&&(u=jd);for(var h=le(),v=null,S=pb;S!==null;){var D=S.next,G=LN(S,h);G===0?(S.next=null,v===null?pb=D:v.next=D,D===null&&(s0=v)):(v=S,(u!==0||(G&3)!==0)&&(mb=!0)),S=D}Us!==0&&Us!==5||vv(u),jd!==0&&(jd=0)}function LN(u,h){for(var v=u.suspendedLanes,S=u.pingedLanes,D=u.expirationTimes,G=u.pendingLanes&-62914561;0<G;){var de=31-Fe(G),Te=1<<de,at=D[de];at===-1?((Te&v)===0||(Te&S)!==0)&&(D[de]=pn(Te,h)):at<=h&&(u.expiredLanes|=Te),G&=~Te}if(h=Mr,v=Xi,v=Ct(u,u===h?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),S=u.callbackNode,v===0||u===h&&(Yn===2||Yn===9)||u.cancelPendingCommit!==null)return S!==null&&S!==null&&Ee(S),u.callbackNode=null,u.callbackPriority=0;if((v&3)===0||an(u,v)){if(h=v&-v,h===u.callbackPriority)return h;switch(S!==null&&Ee(S),li(v)){case 2:case 8:v=Z;break;case 32:v=se;break;case 268435456:v=Re;break;default:v=se}return S=RN.bind(null,u),v=tt(v,S),u.callbackPriority=h,u.callbackNode=v,h}return S!==null&&S!==null&&Ee(S),u.callbackPriority=2,u.callbackNode=null,2}function RN(u,h){if(Us!==0&&Us!==5)return u.callbackNode=null,u.callbackPriority=0,null;var v=u.callbackNode;if(r0()&&u.callbackNode!==v)return null;var S=Xi;return S=Ct(u,u===Mr?S:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),S===0?null:(B(u,S,h),LN(u,le()),u.callbackNode!=null&&u.callbackNode===v?RN.bind(null,u):null)}function DN(u,h){if(r0())return null;B(u,h,!0)}function gV(){TV(function(){(ar&6)!==0?tt(P,mV):IN()})}function YE(){if(jd===0){var u=U;u===0&&(u=ot,ot<<=1,(ot&261888)===0&&(ot=256)),jd=u}return jd}function ON(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:eo(""+u)}function PN(u,h){var v=h.ownerDocument.createElement("input");return v.name=h.name,v.value=h.value,u.id&&v.setAttribute("form",u.id),h.parentNode.insertBefore(v,h),u=new FormData(u),v.parentNode.removeChild(v),u}function yV(u,h,v,S,D){if(h==="submit"&&v&&v.stateNode===D){var G=ON((D[pe]||null).action),de=S.submitter;de&&(h=(h=de[pe]||null)?ON(h.formAction):de.getAttribute("formAction"),h!==null&&(G=h,de=null));var Te=new Po("action","action",null,S,D);u.push({event:Te,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(jd!==0){var at=de?PN(D,de):new FormData(D);uv(v,{pending:!0,data:at,method:D.method,action:G},null,at)}}else typeof G=="function"&&(Te.preventDefault(),at=de?PN(D,de):new FormData(D),uv(v,{pending:!0,data:at,method:D.method,action:G},G,at))},currentTarget:D}]})}}for(var ZE=0;ZE<Lu.length;ZE++){var JE=Lu[ZE],vV=JE.toLowerCase(),xV=JE[0].toUpperCase()+JE.slice(1);Ma(vV,"on"+xV)}Ma(Ws,"onAnimationEnd"),Ma(Af,"onAnimationIteration"),Ma(kl,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(_A,"onTransitionRun"),Ma(eu,"onTransitionStart"),Ma(gd,"onTransitionCancel"),Ma(hh,"onTransitionEnd"),$t("onMouseEnter",["mouseout","mouseover"]),$t("onMouseLeave",["mouseout","mouseover"]),$t("onPointerEnter",["pointerout","pointerover"]),$t("onPointerLeave",["pointerout","pointerover"]),jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xv));function kN(u,h){h=(h&4)!==0;for(var v=0;v<u.length;v++){var S=u[v],D=S.event;S=S.listeners;e:{var G=void 0;if(h)for(var de=S.length-1;0<=de;de--){var Te=S[de],at=Te.instance,Nt=Te.currentTarget;if(Te=Te.listener,at!==G&&D.isPropagationStopped())break e;G=Te,D.currentTarget=Nt;try{G(D)}catch(Kt){tu(Kt)}D.currentTarget=null,G=at}else for(de=0;de<S.length;de++){if(Te=S[de],at=Te.instance,Nt=Te.currentTarget,Te=Te.listener,at!==G&&D.isPropagationStopped())break e;G=Te,D.currentTarget=Nt;try{G(D)}catch(Kt){tu(Kt)}D.currentTarget=null,G=at}}}}function Zi(u,h){var v=h[it];v===void 0&&(v=h[it]=new Set);var S=u+"__bubble";v.has(S)||(HN(h,u,2,!1),v.add(S))}function $E(u,h,v){var S=0;h&&(S|=4),HN(v,u,S,h)}var gb="_reactListening"+Math.random().toString(36).slice(2);function eB(u){if(!u[gb]){u[gb]=!0,nt.forEach(function(v){v!=="selectionchange"&&(bV.has(v)||$E(v,!1,u),$E(v,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[gb]||(h[gb]=!0,$E("selectionchange",!1,h))}}function HN(u,h,v,S){switch(pF(h)){case 2:var D=XV;break;case 8:D=YV;break;default:D=pB}v=D.bind(null,h,v,u),D=void 0,!lf||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(D=!0),S?D!==void 0?u.addEventListener(h,v,{capture:!0,passive:D}):u.addEventListener(h,v,!0):D!==void 0?u.addEventListener(h,v,{passive:D}):u.addEventListener(h,v,!1)}function tB(u,h,v,S,D){var G=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var de=S.tag;if(de===3||de===4){var Te=S.stateNode.containerInfo;if(Te===D)break;if(de===4)for(de=S.return;de!==null;){var at=de.tag;if((at===3||at===4)&&de.stateNode.containerInfo===D)return;de=de.return}for(;Te!==null;){if(de=sn(Te),de===null)return;if(at=de.tag,at===5||at===6||at===26||at===27){S=G=de;continue e}Te=Te.parentNode}}S=S.return}lh(function(){var Nt=G,Kt=Mu(v),en=[];e:{var It=bc.get(u);if(It!==void 0){var Pt=Po,kn=u;switch(u){case"keypress":if(no(v)===0)break e;case"keydown":case"keyup":Pt=Vi;break;case"focusin":kn="focus",Pt=Ac;break;case"focusout":kn="blur",Pt=Ac;break;case"beforeblur":case"afterblur":Pt=Ac;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=Ir;break;case Ws:case Af:case kl:Pt=ee;break;case hh:Pt=Sa;break;case"scroll":case"scrollend":Pt=Yc;break;case"wheel":Pt=la;break;case"copy":case"cut":case"paste":Pt=qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=cs;break;case"toggle":case"beforetoggle":Pt=yA}var ci=(h&4)!==0,as=!ci&&(u==="scroll"||u==="scrollend"),vt=ci?It!==null?It+"Capture":null:It;ci=[];for(var At=Nt,Tt;At!==null;){var Yt=At;if(Tt=Yt.stateNode,Yt=Yt.tag,Yt!==5&&Yt!==26&&Yt!==27||Tt===null||vt===null||(Yt=to(At,vt),Yt!=null&&ci.push(bv(At,Yt,Tt))),as)break;At=At.return}0<ci.length&&(It=new Pt(It,kn,null,v,Kt),en.push({event:It,listeners:ci}))}}if((h&7)===0){e:{if(It=u==="mouseover"||u==="pointerover",Pt=u==="mouseout"||u==="pointerout",It&&v!==Il&&(kn=v.relatedTarget||v.fromElement)&&(sn(kn)||kn[Ue]))break e;if((Pt||It)&&(It=Kt.window===Kt?Kt:(It=Kt.ownerDocument)?It.defaultView||It.parentWindow:window,Pt?(kn=v.relatedTarget||v.toElement,Pt=Nt,kn=kn?sn(kn):null,kn!==null&&(as=s(kn),ci=kn.tag,kn!==as||ci!==5&&ci!==27&&ci!==6)&&(kn=null)):(Pt=null,kn=Nt),Pt!==kn)){if(ci=ch,Yt="onMouseLeave",vt="onMouseEnter",At="mouse",(u==="pointerout"||u==="pointerover")&&(ci=cs,Yt="onPointerLeave",vt="onPointerEnter",At="pointer"),as=Pt==null?It:Ye(Pt),Tt=kn==null?It:Ye(kn),It=new ci(Yt,At+"leave",Pt,v,Kt),It.target=as,It.relatedTarget=Tt,Yt=null,sn(Kt)===Nt&&(ci=new ci(vt,At+"enter",kn,v,Kt),ci.target=Tt,ci.relatedTarget=as,Yt=ci),as=Yt,Pt&&kn)t:{for(ci=wV,vt=Pt,At=kn,Tt=0,Yt=vt;Yt;Yt=ci(Yt))Tt++;Yt=0;for(var ni=At;ni;ni=ci(ni))Yt++;for(;0<Tt-Yt;)vt=ci(vt),Tt--;for(;0<Yt-Tt;)At=ci(At),Yt--;for(;Tt--;){if(vt===At||At!==null&&vt===At.alternate){ci=vt;break t}vt=ci(vt),At=ci(At)}ci=null}else ci=null;Pt!==null&&QN(en,It,Pt,ci,!1),kn!==null&&as!==null&&QN(en,as,kn,ci,!0)}}e:{if(It=Nt?Ye(Nt):window,Pt=It.nodeName&&It.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&It.type==="file")var Ur=Jc;else if(uf(It))if(Ba)Ur=Dl;else{Ur=Er;var qn=yc}else Pt=It.nodeName,!Pt||Pt.toLowerCase()!=="input"||It.type!=="checkbox"&&It.type!=="radio"?Nt&&dA(Nt.elementType)&&(Ur=Jc):Ur=fh;if(Ur&&(Ur=Ur(u,Nt))){ro(en,Ur,v,Kt);break e}qn&&qn(u,It,Nt),u==="focusout"&&Nt&&It.type==="number"&&Nt.memoizedProps.value!=null&&ji(It,"number",It.value)}switch(qn=Nt?Ye(Nt):window,u){case"focusin":(uf(qn)||qn.contentEditable==="true")&&(zo=qn,xc=Nt,Ca=null);break;case"focusout":Ca=xc=zo=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,Yi(en,v,Kt);break;case"selectionchange":if(Iu)break;case"keydown":case"keyup":Yi(en,v,Kt)}var Pi;if(yo)e:{switch(u){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else $o?hc(u,v)&&(lr="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(lr="onCompositionStart");lr&&(ts&&v.locale!=="ko"&&($o||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&$o&&(Pi=cf()):(Oo=Kt,Tu="value"in Oo?Oo.value:Oo.textContent,$o=!0)),qn=yb(Nt,lr),0<qn.length&&(lr=new mt(lr,u,null,v,Kt),en.push({event:lr,listeners:qn}),Pi?lr.data=Pi:(Pi=dc(v),Pi!==null&&(lr.data=Pi)))),(Pi=ko?ca(u,v):pc(u,v))&&(lr=yb(Nt,"onBeforeInput"),0<lr.length&&(qn=new mt("onBeforeInput","beforeinput",null,v,Kt),en.push({event:qn,listeners:lr}),qn.data=Pi)),yV(en,u,Nt,v,Kt)}kN(en,h)})}function bv(u,h,v){return{instance:u,listener:h,currentTarget:v}}function yb(u,h){for(var v=h+"Capture",S=[];u!==null;){var D=u,G=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||G===null||(D=to(u,v),D!=null&&S.unshift(bv(u,D,G)),D=to(u,h),D!=null&&S.push(bv(u,D,G))),u.tag===3)return S;u=u.return}return[]}function wV(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function QN(u,h,v,S,D){for(var G=h._reactName,de=[];v!==null&&v!==S;){var Te=v,at=Te.alternate,Nt=Te.stateNode;if(Te=Te.tag,at!==null&&at===S)break;Te!==5&&Te!==26&&Te!==27||Nt===null||(at=Nt,D?(Nt=to(v,G),Nt!=null&&de.unshift(bv(v,Nt,at))):D||(Nt=to(v,G),Nt!=null&&de.push(bv(v,Nt,at)))),v=v.return}de.length!==0&&u.push({event:h,listeners:de})}var _V=/\r\n?/g,SV=/\u0000|\uFFFD/g;function zN(u){return(typeof u=="string"?u:""+u).replace(_V,`
`).replace(SV,"")}function jN(u,h){return h=zN(h),zN(u)===h}function ss(u,h,v,S,D,G){switch(v){case"children":typeof S=="string"?h==="body"||h==="textarea"&&S===""||za(u,S):(typeof S=="number"||typeof S=="bigint")&&h!=="body"&&za(u,""+S);break;case"className":ii(u,"class",S);break;case"tabIndex":ii(u,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(u,v,S);break;case"style":sh(u,S,G);break;case"data":if(h!=="object"){ii(u,"data",S);break}case"src":case"href":if(S===""&&(h!=="a"||v!=="href")){u.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(v);break}S=eo(""+S),u.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){u.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(v==="formAction"?(h!=="input"&&ss(u,h,"name",D.name,D,null),ss(u,h,"formEncType",D.formEncType,D,null),ss(u,h,"formMethod",D.formMethod,D,null),ss(u,h,"formTarget",D.formTarget,D,null)):(ss(u,h,"encType",D.encType,D,null),ss(u,h,"method",D.method,D,null),ss(u,h,"target",D.target,D,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(v);break}S=eo(""+S),u.setAttribute(v,S);break;case"onClick":S!=null&&(u.onclick=Jo);break;case"onScroll":S!=null&&Zi("scroll",u);break;case"onScrollEnd":S!=null&&Zi("scrollend",u);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(v=S.__html,v!=null){if(D.children!=null)throw Error(i(60));u.innerHTML=v}}break;case"multiple":u.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":u.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){u.removeAttribute("xlink:href");break}v=eo(""+S),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(v,""+S):u.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(v,""):u.removeAttribute(v);break;case"capture":case"download":S===!0?u.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(v,S):u.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?u.setAttribute(v,S):u.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?u.removeAttribute(v):u.setAttribute(v,S);break;case"popover":Zi("beforetoggle",u),Zi("toggle",u),gn(u,"popover",S);break;case"xlinkActuate":Dn(u,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Dn(u,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Dn(u,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Dn(u,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Dn(u,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Dn(u,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Dn(u,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Dn(u,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Dn(u,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":gn(u,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=af.get(v)||v,gn(u,v,S))}}function nB(u,h,v,S,D,G){switch(v){case"style":sh(u,S,G);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(v=S.__html,v!=null){if(D.children!=null)throw Error(i(60));u.innerHTML=v}}break;case"children":typeof S=="string"?za(u,S):(typeof S=="number"||typeof S=="bigint")&&za(u,""+S);break;case"onScroll":S!=null&&Zi("scroll",u);break;case"onScrollEnd":S!=null&&Zi("scrollend",u);break;case"onClick":S!=null&&(u.onclick=Jo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ut.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(D=v.endsWith("Capture"),h=v.slice(2,D?v.length-7:void 0),G=u[pe]||null,G=G!=null?G[v]:null,typeof G=="function"&&u.removeEventListener(h,G,D),typeof S=="function")){typeof G!="function"&&G!==null&&(v in u?u[v]=null:u.hasAttribute(v)&&u.removeAttribute(v)),u.addEventListener(h,S,D);break e}v in u?u[v]=S:S===!0?u.setAttribute(v,""):gn(u,v,S)}}}function Wo(u,h,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zi("error",u),Zi("load",u);var S=!1,D=!1,G;for(G in v)if(v.hasOwnProperty(G)){var de=v[G];if(de!=null)switch(G){case"src":S=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:ss(u,h,G,de,v,null)}}D&&ss(u,h,"srcSet",v.srcSet,v,null),S&&ss(u,h,"src",v.src,v,null);return;case"input":Zi("invalid",u);var Te=G=de=D=null,at=null,Nt=null;for(S in v)if(v.hasOwnProperty(S)){var Kt=v[S];if(Kt!=null)switch(S){case"name":D=Kt;break;case"type":de=Kt;break;case"checked":at=Kt;break;case"defaultChecked":Nt=Kt;break;case"value":G=Kt;break;case"defaultValue":Te=Kt;break;case"children":case"dangerouslySetInnerHTML":if(Kt!=null)throw Error(i(137,h));break;default:ss(u,h,S,Kt,v,null)}}Ri(u,G,Te,at,Nt,de,D,!1);return;case"select":Zi("invalid",u),S=de=G=null;for(D in v)if(v.hasOwnProperty(D)&&(Te=v[D],Te!=null))switch(D){case"value":G=Te;break;case"defaultValue":de=Te;break;case"multiple":S=Te;default:ss(u,h,D,Te,v,null)}h=G,v=de,u.multiple=!!S,h!=null?Di(u,!!S,h,!1):v!=null&&Di(u,!!S,v,!0);return;case"textarea":Zi("invalid",u),G=D=S=null;for(de in v)if(v.hasOwnProperty(de)&&(Te=v[de],Te!=null))switch(de){case"value":S=Te;break;case"defaultValue":D=Te;break;case"children":G=Te;break;case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(91));break;default:ss(u,h,de,Te,v,null)}qr(u,S,D,G);return;case"option":for(at in v)if(v.hasOwnProperty(at)&&(S=v[at],S!=null))switch(at){case"selected":u.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:ss(u,h,at,S,v,null)}return;case"dialog":Zi("beforetoggle",u),Zi("toggle",u),Zi("cancel",u),Zi("close",u);break;case"iframe":case"object":Zi("load",u);break;case"video":case"audio":for(S=0;S<xv.length;S++)Zi(xv[S],u);break;case"image":Zi("error",u),Zi("load",u);break;case"details":Zi("toggle",u);break;case"embed":case"source":case"link":Zi("error",u),Zi("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Nt in v)if(v.hasOwnProperty(Nt)&&(S=v[Nt],S!=null))switch(Nt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:ss(u,h,Nt,S,v,null)}return;default:if(dA(h)){for(Kt in v)v.hasOwnProperty(Kt)&&(S=v[Kt],S!==void 0&&nB(u,h,Kt,S,v,void 0));return}}for(Te in v)v.hasOwnProperty(Te)&&(S=v[Te],S!=null&&ss(u,h,Te,S,v,null))}function EV(u,h,v,S){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,G=null,de=null,Te=null,at=null,Nt=null,Kt=null;for(Pt in v){var en=v[Pt];if(v.hasOwnProperty(Pt)&&en!=null)switch(Pt){case"checked":break;case"value":break;case"defaultValue":at=en;default:S.hasOwnProperty(Pt)||ss(u,h,Pt,null,S,en)}}for(var It in S){var Pt=S[It];if(en=v[It],S.hasOwnProperty(It)&&(Pt!=null||en!=null))switch(It){case"type":G=Pt;break;case"name":D=Pt;break;case"checked":Nt=Pt;break;case"defaultChecked":Kt=Pt;break;case"value":de=Pt;break;case"defaultValue":Te=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(i(137,h));break;default:Pt!==en&&ss(u,h,It,Pt,S,en)}}kr(u,de,Te,at,Nt,Kt,G,D);return;case"select":Pt=de=Te=It=null;for(G in v)if(at=v[G],v.hasOwnProperty(G)&&at!=null)switch(G){case"value":break;case"multiple":Pt=at;default:S.hasOwnProperty(G)||ss(u,h,G,null,S,at)}for(D in S)if(G=S[D],at=v[D],S.hasOwnProperty(D)&&(G!=null||at!=null))switch(D){case"value":It=G;break;case"defaultValue":Te=G;break;case"multiple":de=G;default:G!==at&&ss(u,h,D,G,S,at)}h=Te,v=de,S=Pt,It!=null?Di(u,!!v,It,!1):!!S!=!!v&&(h!=null?Di(u,!!v,h,!0):Di(u,!!v,v?[]:"",!1));return;case"textarea":Pt=It=null;for(Te in v)if(D=v[Te],v.hasOwnProperty(Te)&&D!=null&&!S.hasOwnProperty(Te))switch(Te){case"value":break;case"children":break;default:ss(u,h,Te,null,S,D)}for(de in S)if(D=S[de],G=v[de],S.hasOwnProperty(de)&&(D!=null||G!=null))switch(de){case"value":It=D;break;case"defaultValue":Pt=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:D!==G&&ss(u,h,de,D,S,G)}ms(u,It,Pt);return;case"option":for(var kn in v)if(It=v[kn],v.hasOwnProperty(kn)&&It!=null&&!S.hasOwnProperty(kn))switch(kn){case"selected":u.selected=!1;break;default:ss(u,h,kn,null,S,It)}for(at in S)if(It=S[at],Pt=v[at],S.hasOwnProperty(at)&&It!==Pt&&(It!=null||Pt!=null))switch(at){case"selected":u.selected=It&&typeof It!="function"&&typeof It!="symbol";break;default:ss(u,h,at,It,S,Pt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ci in v)It=v[ci],v.hasOwnProperty(ci)&&It!=null&&!S.hasOwnProperty(ci)&&ss(u,h,ci,null,S,It);for(Nt in S)if(It=S[Nt],Pt=v[Nt],S.hasOwnProperty(Nt)&&It!==Pt&&(It!=null||Pt!=null))switch(Nt){case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(i(137,h));break;default:ss(u,h,Nt,It,S,Pt)}return;default:if(dA(h)){for(var as in v)It=v[as],v.hasOwnProperty(as)&&It!==void 0&&!S.hasOwnProperty(as)&&nB(u,h,as,void 0,S,It);for(Kt in S)It=S[Kt],Pt=v[Kt],!S.hasOwnProperty(Kt)||It===Pt||It===void 0&&Pt===void 0||nB(u,h,Kt,It,S,Pt);return}}for(var vt in v)It=v[vt],v.hasOwnProperty(vt)&&It!=null&&!S.hasOwnProperty(vt)&&ss(u,h,vt,null,S,It);for(en in S)It=S[en],Pt=v[en],!S.hasOwnProperty(en)||It===Pt||It==null&&Pt==null||ss(u,h,en,It,S,Pt)}function VN(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BV(){if(typeof performance.getEntriesByType=="function"){for(var u=0,h=0,v=performance.getEntriesByType("resource"),S=0;S<v.length;S++){var D=v[S],G=D.transferSize,de=D.initiatorType,Te=D.duration;if(G&&Te&&VN(de)){for(de=0,Te=D.responseEnd,S+=1;S<v.length;S++){var at=v[S],Nt=at.startTime;if(Nt>Te)break;var Kt=at.transferSize,en=at.initiatorType;Kt&&VN(en)&&(at=at.responseEnd,de+=Kt*(at<Te?1:(Te-Nt)/(at-Nt)))}if(--S,h+=8*(G+de)/(D.duration/1e3),u++,10<u)break}}if(0<u)return h/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var iB=null,rB=null;function vb(u){return u.nodeType===9?u:u.ownerDocument}function GN(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KN(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function sB(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var aB=null;function CV(){var u=window.event;return u&&u.type==="popstate"?u===aB?!1:(aB=u,!0):(aB=null,!1)}var qN=typeof setTimeout=="function"?setTimeout:void 0,MV=typeof clearTimeout=="function"?clearTimeout:void 0,WN=typeof Promise=="function"?Promise:void 0,TV=typeof queueMicrotask=="function"?queueMicrotask:typeof WN<"u"?function(u){return WN.resolve(null).then(u).catch(UV)}:qN;function UV(u){setTimeout(function(){throw u})}function Vd(u){return u==="head"}function XN(u,h){var v=h,S=0;do{var D=v.nextSibling;if(u.removeChild(v),D&&D.nodeType===8)if(v=D.data,v==="/$"||v==="/&"){if(S===0){u.removeChild(D),c0(h);return}S--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")S++;else if(v==="html")wv(u.ownerDocument.documentElement);else if(v==="head"){v=u.ownerDocument.head,wv(v);for(var G=v.firstChild;G;){var de=G.nextSibling,Te=G.nodeName;G[Zt]||Te==="SCRIPT"||Te==="STYLE"||Te==="LINK"&&G.rel.toLowerCase()==="stylesheet"||v.removeChild(G),G=de}}else v==="body"&&wv(u.ownerDocument.body);v=D}while(v);c0(h)}function YN(u,h){var v=u;u=0;do{var S=v.nextSibling;if(v.nodeType===1?h?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(h?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),S&&S.nodeType===8)if(v=S.data,v==="/$"){if(u===0)break;u--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||u++;v=S}while(v)}function oB(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var v=h;switch(h=h.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":oB(v),nn(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}u.removeChild(v)}}function NV(u,h,v,S){for(;u.nodeType===1;){var D=v;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!S&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(S){if(!u[Zt])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(G=u.getAttribute("rel"),G==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(G!==D.rel||u.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||u.getAttribute("title")!==(D.title==null?null:D.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(G=u.getAttribute("src"),(G!==(D.src==null?null:D.src)||u.getAttribute("type")!==(D.type==null?null:D.type)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&G&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var G=D.name==null?null:""+D.name;if(D.type==="hidden"&&u.getAttribute("name")===G)return u}else return u;if(u=qu(u.nextSibling),u===null)break}return null}function FV(u,h,v){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!v||(u=qu(u.nextSibling),u===null))return null;return u}function ZN(u,h){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!h||(u=qu(u.nextSibling),u===null))return null;return u}function lB(u){return u.data==="$?"||u.data==="$~"}function cB(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function IV(u,h){var v=u.ownerDocument;if(u.data==="$~")u._reactRetry=h;else if(u.data!=="$?"||v.readyState!=="loading")h();else{var S=function(){h(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),u._reactRetry=S}}function qu(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return u}var uB=null;function JN(u){u=u.nextSibling;for(var h=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"||v==="/&"){if(h===0)return qu(u.nextSibling);h--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||h++}u=u.nextSibling}return null}function $N(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(h===0)return u;h--}else v!=="/$"&&v!=="/&"||h++}u=u.previousSibling}return null}function eF(u,h,v){switch(h=vb(v),u){case"html":if(u=h.documentElement,!u)throw Error(i(452));return u;case"head":if(u=h.head,!u)throw Error(i(453));return u;case"body":if(u=h.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function wv(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);nn(u)}var Wu=new Map,tF=new Set;function xb(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Rh=q.d;q.d={f:LV,r:RV,D:DV,C:OV,L:PV,m:kV,X:QV,S:HV,M:zV};function LV(){var u=Rh.f(),h=De();return u||h}function RV(u){var h=ge(u);h!==null&&h.tag===5&&h.type==="form"?Av(h):Rh.r(u)}var a0=typeof document>"u"?null:document;function nF(u,h,v){var S=a0;if(S&&typeof h=="string"&&h){var D=Nn(h);D='link[rel="'+u+'"][href="'+D+'"]',typeof v=="string"&&(D+='[crossorigin="'+v+'"]'),tF.has(D)||(tF.add(D),u={rel:u,crossOrigin:v,href:h},S.querySelector(D)===null&&(h=S.createElement("link"),Wo(h,"link",u),pt(h),S.head.appendChild(h)))}}function DV(u){Rh.D(u),nF("dns-prefetch",u,null)}function OV(u,h){Rh.C(u,h),nF("preconnect",u,h)}function PV(u,h,v){Rh.L(u,h,v);var S=a0;if(S&&u&&h){var D='link[rel="preload"][as="'+Nn(h)+'"]';h==="image"&&v&&v.imageSrcSet?(D+='[imagesrcset="'+Nn(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(D+='[imagesizes="'+Nn(v.imageSizes)+'"]')):D+='[href="'+Nn(u)+'"]';var G=D;switch(h){case"style":G=o0(u);break;case"script":G=l0(u)}Wu.has(G)||(u=f({rel:"preload",href:h==="image"&&v&&v.imageSrcSet?void 0:u,as:h},v),Wu.set(G,u),S.querySelector(D)!==null||h==="style"&&S.querySelector(_v(G))||h==="script"&&S.querySelector(Sv(G))||(h=S.createElement("link"),Wo(h,"link",u),pt(h),S.head.appendChild(h)))}}function kV(u,h){Rh.m(u,h);var v=a0;if(v&&u){var S=h&&typeof h.as=="string"?h.as:"script",D='link[rel="modulepreload"][as="'+Nn(S)+'"][href="'+Nn(u)+'"]',G=D;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=l0(u)}if(!Wu.has(G)&&(u=f({rel:"modulepreload",href:u},h),Wu.set(G,u),v.querySelector(D)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(Sv(G)))return}S=v.createElement("link"),Wo(S,"link",u),pt(S),v.head.appendChild(S)}}}function HV(u,h,v){Rh.S(u,h,v);var S=a0;if(S&&u){var D=rt(S).hoistableStyles,G=o0(u);h=h||"default";var de=D.get(G);if(!de){var Te={loading:0,preload:null};if(de=S.querySelector(_v(G)))Te.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":h},v),(v=Wu.get(G))&&AB(u,v);var at=de=S.createElement("link");pt(at),Wo(at,"link",u),at._p=new Promise(function(Nt,Kt){at.onload=Nt,at.onerror=Kt}),at.addEventListener("load",function(){Te.loading|=1}),at.addEventListener("error",function(){Te.loading|=2}),Te.loading|=4,bb(de,h,S)}de={type:"stylesheet",instance:de,count:1,state:Te},D.set(G,de)}}}function QV(u,h){Rh.X(u,h);var v=a0;if(v&&u){var S=rt(v).hoistableScripts,D=l0(u),G=S.get(D);G||(G=v.querySelector(Sv(D)),G||(u=f({src:u,async:!0},h),(h=Wu.get(D))&&fB(u,h),G=v.createElement("script"),pt(G),Wo(G,"link",u),v.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},S.set(D,G))}}function zV(u,h){Rh.M(u,h);var v=a0;if(v&&u){var S=rt(v).hoistableScripts,D=l0(u),G=S.get(D);G||(G=v.querySelector(Sv(D)),G||(u=f({src:u,async:!0,type:"module"},h),(h=Wu.get(D))&&fB(u,h),G=v.createElement("script"),pt(G),Wo(G,"link",u),v.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},S.set(D,G))}}function iF(u,h,v,S){var D=(D=ue.current)?xb(D):null;if(!D)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(h=o0(v.href),v=rt(D).hoistableStyles,S=v.get(h),S||(S={type:"style",instance:null,count:0,state:null},v.set(h,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){u=o0(v.href);var G=rt(D).hoistableStyles,de=G.get(u);if(de||(D=D.ownerDocument||D,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(u,de),(G=D.querySelector(_v(u)))&&!G._p&&(de.instance=G,de.state.loading=5),Wu.has(u)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Wu.set(u,v),G||jV(D,u,v,de.state))),h&&S===null)throw Error(i(528,""));return de}if(h&&S!==null)throw Error(i(529,""));return null;case"script":return h=v.async,v=v.src,typeof v=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=l0(v),v=rt(D).hoistableScripts,S=v.get(h),S||(S={type:"script",instance:null,count:0,state:null},v.set(h,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function o0(u){return'href="'+Nn(u)+'"'}function _v(u){return'link[rel="stylesheet"]['+u+"]"}function rF(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function jV(u,h,v,S){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?S.loading=1:(h=u.createElement("link"),S.preload=h,h.addEventListener("load",function(){return S.loading|=1}),h.addEventListener("error",function(){return S.loading|=2}),Wo(h,"link",v),pt(h),u.head.appendChild(h))}function l0(u){return'[src="'+Nn(u)+'"]'}function Sv(u){return"script[async]"+u}function sF(u,h,v){if(h.count++,h.instance===null)switch(h.type){case"style":var S=u.querySelector('style[data-href~="'+Nn(v.href)+'"]');if(S)return h.instance=S,pt(S),S;var D=f({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(u.ownerDocument||u).createElement("style"),pt(S),Wo(S,"style",D),bb(S,v.precedence,u),h.instance=S;case"stylesheet":D=o0(v.href);var G=u.querySelector(_v(D));if(G)return h.state.loading|=4,h.instance=G,pt(G),G;S=rF(v),(D=Wu.get(D))&&AB(S,D),G=(u.ownerDocument||u).createElement("link"),pt(G);var de=G;return de._p=new Promise(function(Te,at){de.onload=Te,de.onerror=at}),Wo(G,"link",S),h.state.loading|=4,bb(G,v.precedence,u),h.instance=G;case"script":return G=l0(v.src),(D=u.querySelector(Sv(G)))?(h.instance=D,pt(D),D):(S=v,(D=Wu.get(G))&&(S=f({},v),fB(S,D)),u=u.ownerDocument||u,D=u.createElement("script"),pt(D),Wo(D,"link",S),u.head.appendChild(D),h.instance=D);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(S=h.instance,h.state.loading|=4,bb(S,v.precedence,u));return h.instance}function bb(u,h,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=S.length?S[S.length-1]:null,G=D,de=0;de<S.length;de++){var Te=S[de];if(Te.dataset.precedence===h)G=Te;else if(G!==D)break}G?G.parentNode.insertBefore(u,G.nextSibling):(h=v.nodeType===9?v.head:v,h.insertBefore(u,h.firstChild))}function AB(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function fB(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var wb=null;function aF(u,h,v){if(wb===null){var S=new Map,D=wb=new Map;D.set(v,S)}else D=wb,S=D.get(v),S||(S=new Map,D.set(v,S));if(S.has(u))return S;for(S.set(u,null),v=v.getElementsByTagName(u),D=0;D<v.length;D++){var G=v[D];if(!(G[Zt]||G[Gn]||u==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var de=G.getAttribute(h)||"";de=u+de;var Te=S.get(de);Te?Te.push(G):S.set(de,[G])}}return S}function oF(u,h,v){u=u.ownerDocument||u,u.head.insertBefore(v,h==="title"?u.querySelector("head > title"):null)}function VV(u,h,v){if(v===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function lF(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function GV(u,h,v,S){if(v.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var D=o0(S.href),G=h.querySelector(_v(D));if(G){h=G._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(u.count++,u=_b.bind(u),h.then(u,u)),v.state.loading|=4,v.instance=G,pt(G);return}G=h.ownerDocument||h,S=rF(S),(D=Wu.get(D))&&AB(S,D),G=G.createElement("link"),pt(G);var de=G;de._p=new Promise(function(Te,at){de.onload=Te,de.onerror=at}),Wo(G,"link",S),v.instance=G}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(v,h),(h=v.state.preload)&&(v.state.loading&3)===0&&(u.count++,v=_b.bind(u),h.addEventListener("load",v),h.addEventListener("error",v))}}var hB=0;function KV(u,h){return u.stylesheets&&u.count===0&&Eb(u,u.stylesheets),0<u.count||0<u.imgCount?function(v){var S=setTimeout(function(){if(u.stylesheets&&Eb(u,u.stylesheets),u.unsuspend){var G=u.unsuspend;u.unsuspend=null,G()}},6e4+h);0<u.imgBytes&&hB===0&&(hB=62500*BV());var D=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Eb(u,u.stylesheets),u.unsuspend)){var G=u.unsuspend;u.unsuspend=null,G()}},(u.imgBytes>hB?50:800)+h);return u.unsuspend=v,function(){u.unsuspend=null,clearTimeout(S),clearTimeout(D)}}:null}function _b(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eb(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Sb=null;function Eb(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Sb=new Map,h.forEach(qV,u),Sb=null,_b.call(u))}function qV(u,h){if(!(h.state.loading&4)){var v=Sb.get(u);if(v)var S=v.get(null);else{v=new Map,Sb.set(u,v);for(var D=u.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<D.length;G++){var de=D[G];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(v.set(de.dataset.precedence,de),S=de)}S&&v.set(null,S)}D=h.instance,de=D.getAttribute("data-precedence"),G=v.get(de)||S,G===S&&v.set(null,D),v.set(de,D),this.count++,S=_b.bind(this),D.addEventListener("load",S),D.addEventListener("error",S),G?G.parentNode.insertBefore(D,G.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(D,u.firstChild)),h.state.loading|=4}}var Ev={$$typeof:E,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function WV(u,h,v,S,D,G,de,Te,at){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=S,this.onUncaughtError=D,this.onCaughtError=G,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=at,this.incompleteTransitions=new Map}function cF(u,h,v,S,D,G,de,Te,at,Nt,Kt,en){return u=new WV(u,h,v,de,at,Nt,Kt,en,Te),h=1,G===!0&&(h|=24),G=fa(3,null,null,h),u.current=G,G.stateNode=u,h=gf(),h.refCount++,u.pooledCache=h,h.refCount++,G.memoizedState={element:S,isDehydrated:v,cache:h},mn(G),u}function uF(u){return u?(u=Ys,u):Ys}function AF(u,h,v,S,D,G){D=uF(D),S.context===null?S.context=D:S.pendingContext=D,S=ti(h),S.payload={element:v},G=G===void 0?null:G,G!==null&&(S.callback=G),v=Si(u,S,h),v!==null&&(g(v,u,h),nr(v,u,h))}function fF(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<h?v:h}}function dB(u,h){fF(u,h),(u=u.alternate)&&fF(u,h)}function hF(u){if(u.tag===13||u.tag===31){var h=wc(u,67108864);h!==null&&g(h,u,67108864),dB(u,67108864)}}function dF(u){if(u.tag===13||u.tag===31){var h=qo();h=On(h);var v=wc(u,h);v!==null&&g(v,u,h),dB(u,h)}}var Bb=!0;function XV(u,h,v,S){var D=W.T;W.T=null;var G=q.p;try{q.p=2,pB(u,h,v,S)}finally{q.p=G,W.T=D}}function YV(u,h,v,S){var D=W.T;W.T=null;var G=q.p;try{q.p=8,pB(u,h,v,S)}finally{q.p=G,W.T=D}}function pB(u,h,v,S){if(Bb){var D=mB(S);if(D===null)tB(u,h,S,Cb,v),mF(u,S);else if(JV(D,u,h,v,S))S.stopPropagation();else if(mF(u,S),h&4&&-1<ZV.indexOf(u)){for(;D!==null;){var G=ge(D);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var de=Et(G.pendingLanes);if(de!==0){var Te=G;for(Te.pendingLanes|=2,Te.entangledLanes|=2;de;){var at=1<<31-Fe(de);Te.entanglements[1]|=at,de&=~at}Uf(G),(ar&6)===0&&(Zl=le()+500,vv(0))}}break;case 31:case 13:Te=wc(G,2),Te!==null&&g(Te,G,2),De(),dB(G,2)}if(G=mB(S),G===null&&tB(u,h,S,Cb,v),G===D)break;D=G}D!==null&&S.stopPropagation()}else tB(u,h,S,null,v)}}function mB(u){return u=Mu(u),gB(u)}var Cb=null;function gB(u){if(Cb=null,u=sn(u),u!==null){var h=s(u);if(h===null)u=null;else{var v=h.tag;if(v===13){if(u=a(h),u!==null)return u;u=null}else if(v===31){if(u=o(h),u!==null)return u;u=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return Cb=u,null}function pF(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case P:return 2;case Z:return 8;case se:case we:return 32;case Re:return 268435456;default:return 32}default:return 32}}var yB=!1,Gd=null,Kd=null,qd=null,Bv=new Map,Cv=new Map,Wd=[],ZV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mF(u,h){switch(u){case"focusin":case"focusout":Gd=null;break;case"dragenter":case"dragleave":Kd=null;break;case"mouseover":case"mouseout":qd=null;break;case"pointerover":case"pointerout":Bv.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cv.delete(h.pointerId)}}function Mv(u,h,v,S,D,G){return u===null||u.nativeEvent!==G?(u={blockedOn:h,domEventName:v,eventSystemFlags:S,nativeEvent:G,targetContainers:[D]},h!==null&&(h=ge(h),h!==null&&hF(h)),u):(u.eventSystemFlags|=S,h=u.targetContainers,D!==null&&h.indexOf(D)===-1&&h.push(D),u)}function JV(u,h,v,S,D){switch(h){case"focusin":return Gd=Mv(Gd,u,h,v,S,D),!0;case"dragenter":return Kd=Mv(Kd,u,h,v,S,D),!0;case"mouseover":return qd=Mv(qd,u,h,v,S,D),!0;case"pointerover":var G=D.pointerId;return Bv.set(G,Mv(Bv.get(G)||null,u,h,v,S,D)),!0;case"gotpointercapture":return G=D.pointerId,Cv.set(G,Mv(Cv.get(G)||null,u,h,v,S,D)),!0}return!1}function gF(u){var h=sn(u.target);if(h!==null){var v=s(h);if(v!==null){if(h=v.tag,h===13){if(h=a(v),h!==null){u.blockedOn=h,Pn(u.priority,function(){dF(v)});return}}else if(h===31){if(h=o(v),h!==null){u.blockedOn=h,Pn(u.priority,function(){dF(v)});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Mb(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var v=mB(u.nativeEvent);if(v===null){v=u.nativeEvent;var S=new v.constructor(v.type,v);Il=S,v.target.dispatchEvent(S),Il=null}else return h=ge(v),h!==null&&hF(h),u.blockedOn=v,!1;h.shift()}return!0}function yF(u,h,v){Mb(u)&&v.delete(h)}function $V(){yB=!1,Gd!==null&&Mb(Gd)&&(Gd=null),Kd!==null&&Mb(Kd)&&(Kd=null),qd!==null&&Mb(qd)&&(qd=null),Bv.forEach(yF),Cv.forEach(yF)}function Tb(u,h){u.blockedOn===h&&(u.blockedOn=null,yB||(yB=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$V)))}var Ub=null;function vF(u){Ub!==u&&(Ub=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ub===u&&(Ub=null);for(var h=0;h<u.length;h+=3){var v=u[h],S=u[h+1],D=u[h+2];if(typeof S!="function"){if(gB(S||v)===null)continue;break}var G=ge(v);G!==null&&(u.splice(h,3),h-=3,uv(G,{pending:!0,data:D,method:v.method,action:S},S,D))}}))}function c0(u){function h(at){return Tb(at,u)}Gd!==null&&Tb(Gd,u),Kd!==null&&Tb(Kd,u),qd!==null&&Tb(qd,u),Bv.forEach(h),Cv.forEach(h);for(var v=0;v<Wd.length;v++){var S=Wd[v];S.blockedOn===u&&(S.blockedOn=null)}for(;0<Wd.length&&(v=Wd[0],v.blockedOn===null);)gF(v),v.blockedOn===null&&Wd.shift();if(v=(u.ownerDocument||u).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var D=v[S],G=v[S+1],de=D[pe]||null;if(typeof G=="function")de||vF(v);else if(de){var Te=null;if(G&&G.hasAttribute("formAction")){if(D=G,de=G[pe]||null)Te=de.formAction;else if(gB(D)!==null)continue}else Te=de.action;typeof Te=="function"?v[S+1]=Te:(v.splice(S,3),S-=3),vF(v)}}}function xF(){function u(G){G.canIntercept&&G.info==="react-transition"&&G.intercept({handler:function(){return new Promise(function(de){return D=de})},focusReset:"manual",scroll:"manual"})}function h(){D!==null&&(D(),D=null),S||setTimeout(v,20)}function v(){if(!S&&!navigation.transition){var G=navigation.currentEntry;G&&G.url!=null&&navigation.navigate(G.url,{state:G.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,D=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(v,100),function(){S=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),D!==null&&(D(),D=null)}}}function vB(u){this._internalRoot=u}Nb.prototype.render=vB.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(i(409));var v=h.current,S=qo();AF(v,S,u,h,null,null)},Nb.prototype.unmount=vB.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;AF(u.current,2,null,u,null,null),De(),h[Ue]=null}};function Nb(u){this._internalRoot=u}Nb.prototype.unstable_scheduleHydration=function(u){if(u){var h=ui();u={blockedOn:null,target:u,priority:h};for(var v=0;v<Wd.length&&h!==0&&h<Wd[v].priority;v++);Wd.splice(v,0,u),v===0&&gF(u)}};var bF=e.version;if(bF!=="19.2.0")throw Error(i(527,bF,"19.2.0"));q.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=c(h),u=u!==null?A(u):null,u=u===null?null:u.stateNode,u};var eG={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fb.isDisabled&&Fb.supportsFiber)try{Me=Fb.inject(eG),Oe=Fb}catch{}}return Uv.createRoot=function(u,h){if(!r(u))throw Error(i(299));var v=!1,S="",D=dv,G=ub,de=Kg;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(D=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(de=h.onRecoverableError)),h=cF(u,1,!1,null,null,v,S,null,D,G,de,xF),u[Ue]=h.current,eB(u),new vB(h)},Uv.hydrateRoot=function(u,h,v){if(!r(u))throw Error(i(299));var S=!1,D="",G=dv,de=ub,Te=Kg,at=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(D=v.identifierPrefix),v.onUncaughtError!==void 0&&(G=v.onUncaughtError),v.onCaughtError!==void 0&&(de=v.onCaughtError),v.onRecoverableError!==void 0&&(Te=v.onRecoverableError),v.formState!==void 0&&(at=v.formState)),h=cF(u,1,!0,h,v??null,S,D,at,G,de,Te,xF),h.context=uF(null),v=h.current,S=qo(),S=On(S),D=ti(S),D.callback=null,Si(v,D,S),v=S,h.current.lanes=v,Be(h,v),Uf(h),u[Ue]=h.current,eB(u),new Nb(h)},Uv.version="19.2.0",Uv}var NF;function uG(){if(NF)return wB.exports;NF=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wB.exports=cG(),wB.exports}var AG=uG(),C4=Object.defineProperty,fG=Object.getOwnPropertyDescriptor,hG=Object.getOwnPropertyNames,dG=Object.prototype.hasOwnProperty,Kc=(n,e)=>()=>(n&&(e=n(n=0)),e),qt=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Qy=(n,e)=>{for(var t in e)C4(n,t,{get:e[t],enumerable:!0})},pG=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of hG(e))!dG.call(n,r)&&r!==t&&C4(n,r,{get:()=>e[r],enumerable:!(i=fG(e,r))||i.enumerable});return n},ls=n=>pG(C4({},"__esModule",{value:!0}),n),Ht=Kc(()=>{}),ws={};Qy(ws,{_debugEnd:()=>O5,_debugProcess:()=>D5,_events:()=>J5,_eventsCount:()=>$5,_exiting:()=>w5,_fatalExceptions:()=>I5,_getActiveHandles:()=>BP,_getActiveRequests:()=>EP,_kill:()=>E5,_linkedBinding:()=>_P,_maxListeners:()=>Z5,_preload_modules:()=>X5,_rawDebug:()=>v5,_startProfilerIdleNotifier:()=>P5,_stopProfilerIdleNotifier:()=>k5,_tickCallback:()=>R5,abort:()=>j5,addListener:()=>eM,allowedNodeEnvironmentFlags:()=>N5,arch:()=>s5,argv:()=>l5,argv0:()=>W5,assert:()=>CP,binding:()=>h5,browser:()=>y5,chdir:()=>m5,config:()=>_5,cpuUsage:()=>l1,cwd:()=>p5,debugPort:()=>q5,default:()=>T4,dlopen:()=>SP,domain:()=>b5,emit:()=>sM,emitWarning:()=>f5,env:()=>o5,execArgv:()=>c5,execPath:()=>K5,exit:()=>T5,features:()=>F5,hasUncaughtExceptionCaptureCallback:()=>MP,hrtime:()=>S2,kill:()=>M5,listeners:()=>UP,memoryUsage:()=>C5,moduleLoadList:()=>x5,nextTick:()=>bP,off:()=>nM,on:()=>Xh,once:()=>tM,openStdin:()=>U5,pid:()=>V5,platform:()=>a5,ppid:()=>G5,prependListener:()=>aM,prependOnceListener:()=>oM,reallyExit:()=>S5,release:()=>g5,removeAllListeners:()=>rM,removeListener:()=>iM,resourceUsage:()=>B5,setSourceMapsEnabled:()=>Y5,setUncaughtExceptionCaptureCallback:()=>L5,stderr:()=>Q5,stdin:()=>z5,stdout:()=>H5,title:()=>r5,umask:()=>d5,uptime:()=>TP,version:()=>u5,versions:()=>A5});function M4(n){throw new Error("Node.js process "+n+" is not supported by JSPM core outside of Node.js")}function mG(){!rg||!qm||(rg=!1,qm.length?Gf=qm.concat(Gf):E1=-1,Gf.length&&xP())}function xP(){if(!rg){var n=setTimeout(mG,0);rg=!0;for(var e=Gf.length;e;){for(qm=Gf,Gf=[];++E1<e;)qm&&qm[E1].run();E1=-1,e=Gf.length}qm=null,rg=!1,clearTimeout(n)}}function bP(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Gf.push(new wP(n,e)),Gf.length===1&&!rg&&setTimeout(xP,0)}function wP(n,e){this.fun=n,this.array=e}function pl(){}function _P(n){M4("_linkedBinding")}function SP(n){M4("dlopen")}function EP(){return[]}function BP(){return[]}function CP(n,e){if(!n)throw new Error(e||"assertion error")}function MP(){return!1}function TP(){return $h.now()/1e3}function S2(n){var e=Math.floor((Date.now()-$h.now())*.001),t=$h.now()*.001,i=Math.floor(t)+e,r=Math.floor(t%1*1e9);return n&&(i=i-n[0],r=r-n[1],r<0&&(i--,r+=E2)),[i,r]}function Xh(){return T4}function UP(n){return[]}var Gf,rg,qm,E1,r5,s5,a5,o5,l5,c5,u5,A5,f5,h5,d5,p5,m5,g5,y5,v5,x5,b5,w5,_5,S5,E5,l1,B5,C5,M5,T5,U5,N5,F5,I5,L5,R5,D5,O5,P5,k5,H5,Q5,z5,j5,V5,G5,K5,q5,W5,X5,Y5,$h,BB,E2,Z5,J5,$5,eM,tM,nM,iM,rM,sM,aM,oM,T4,gG=Kc(()=>{Ht(),zt(),Qt(),Gf=[],rg=!1,E1=-1,wP.prototype.run=function(){this.fun.apply(null,this.array)},r5="browser",s5="x64",a5="browser",o5={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},l5=["/usr/bin/node"],c5=[],u5="v16.8.0",A5={},f5=function(n,e){console.warn((e?e+": ":"")+n)},h5=function(n){M4("binding")},d5=function(n){return 0},p5=function(){return"/"},m5=function(n){},g5={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},y5=!0,v5=pl,x5=[],b5={},w5=!1,_5={},S5=pl,E5=pl,l1=function(){return{}},B5=l1,C5=l1,M5=pl,T5=pl,U5=pl,N5={},F5={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},I5=pl,L5=pl,R5=pl,D5=pl,O5=pl,P5=pl,k5=pl,H5=void 0,Q5=void 0,z5=void 0,j5=pl,V5=2,G5=1,K5="/bin/usr/node",q5=9229,W5="node",X5=[],Y5=pl,$h={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},$h.now===void 0&&(BB=Date.now(),$h.timing&&$h.timing.navigationStart&&(BB=$h.timing.navigationStart),$h.now=()=>Date.now()-BB),E2=1e9,S2.bigint=function(n){var e=S2(n);return typeof BigInt>"u"?e[0]*E2+e[1]:BigInt(e[0]*E2)+BigInt(e[1])},Z5=10,J5={},$5=0,eM=Xh,tM=Xh,nM=Xh,iM=Xh,rM=Xh,sM=pl,aM=Xh,oM=Xh,T4={version:u5,versions:A5,arch:s5,platform:a5,browser:y5,release:g5,_rawDebug:v5,moduleLoadList:x5,binding:h5,_linkedBinding:_P,_events:J5,_eventsCount:$5,_maxListeners:Z5,on:Xh,addListener:eM,once:tM,off:nM,removeListener:iM,removeAllListeners:rM,emit:sM,prependListener:aM,prependOnceListener:oM,listeners:UP,domain:b5,_exiting:w5,config:_5,dlopen:SP,uptime:TP,_getActiveRequests:EP,_getActiveHandles:BP,reallyExit:S5,_kill:E5,cpuUsage:l1,resourceUsage:B5,memoryUsage:C5,kill:M5,exit:T5,openStdin:U5,allowedNodeEnvironmentFlags:N5,assert:CP,features:F5,_fatalExceptions:I5,setUncaughtExceptionCaptureCallback:L5,hasUncaughtExceptionCaptureCallback:MP,emitWarning:f5,nextTick:bP,_tickCallback:R5,_debugProcess:D5,_debugEnd:O5,_startProfilerIdleNotifier:P5,_stopProfilerIdleNotifier:k5,stdout:H5,stdin:z5,stderr:Q5,abort:j5,umask:d5,chdir:m5,cwd:p5,env:o5,title:r5,argv:l5,execArgv:c5,pid:V5,ppid:G5,execPath:K5,debugPort:q5,hrtime:S2,argv0:W5,_preload_modules:X5,setSourceMapsEnabled:Y5}}),Qt=Kc(()=>{gG()});function yG(){if(lM)return Y0;lM=!0,Y0.byteLength=o,Y0.toByteArray=c,Y0.fromByteArray=p;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=i.length;r<s;++r)n[r]=i[r],e[i.charCodeAt(r)]=r;e[45]=62,e[95]=63;function a(d){var y=d.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=d.indexOf("=");x===-1&&(x=y);var w=x===y?0:4-x%4;return[x,w]}function o(d){var y=a(d),x=y[0],w=y[1];return(x+w)*3/4-w}function l(d,y,x){return(y+x)*3/4-x}function c(d){var y,x=a(d),w=x[0],b=x[1],_=new t(l(d,w,b)),E=0,C=b>0?w-4:w,T;for(T=0;T<C;T+=4)y=e[d.charCodeAt(T)]<<18|e[d.charCodeAt(T+1)]<<12|e[d.charCodeAt(T+2)]<<6|e[d.charCodeAt(T+3)],_[E++]=y>>16&255,_[E++]=y>>8&255,_[E++]=y&255;return b===2&&(y=e[d.charCodeAt(T)]<<2|e[d.charCodeAt(T+1)]>>4,_[E++]=y&255),b===1&&(y=e[d.charCodeAt(T)]<<10|e[d.charCodeAt(T+1)]<<4|e[d.charCodeAt(T+2)]>>2,_[E++]=y>>8&255,_[E++]=y&255),_}function A(d){return n[d>>18&63]+n[d>>12&63]+n[d>>6&63]+n[d&63]}function f(d,y,x){for(var w,b=[],_=y;_<x;_+=3)w=(d[_]<<16&16711680)+(d[_+1]<<8&65280)+(d[_+2]&255),b.push(A(w));return b.join("")}function p(d){for(var y,x=d.length,w=x%3,b=[],_=16383,E=0,C=x-w;E<C;E+=_)b.push(f(d,E,E+_>C?C:E+_));return w===1?(y=d[x-1],b.push(n[y>>2]+n[y<<4&63]+"==")):w===2&&(y=(d[x-2]<<8)+d[x-1],b.push(n[y>>10]+n[y>>4&63]+n[y<<2&63]+"=")),b.join("")}return Y0}function vG(){return cM?c1:(cM=!0,c1.read=function(n,e,t,i,r){var s,a,o=r*8-i-1,l=(1<<o)-1,c=l>>1,A=-7,f=t?r-1:0,p=t?-1:1,d=n[e+f];for(f+=p,s=d&(1<<-A)-1,d>>=-A,A+=o;A>0;s=s*256+n[e+f],f+=p,A-=8);for(a=s&(1<<-A)-1,s>>=-A,A+=i;A>0;a=a*256+n[e+f],f+=p,A-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-c}return(d?-1:1)*a*Math.pow(2,s-i)},c1.write=function(n,e,t,i,r,s){var a,o,l,c=s*8-r-1,A=(1<<c)-1,f=A>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,y=i?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=A):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=A?(o=0,a=A):a+f>=1?(o=(e*l-1)*Math.pow(2,r),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;n[t+d]=o&255,d+=y,o/=256,r-=8);for(a=a<<r|o,c+=r;c>0;n[t+d]=a&255,d+=y,a/=256,c-=8);n[t+d-y]|=x*128},c1)}function xG(){if(uM)return up;uM=!0;let n=yG(),e=vG(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;up.Buffer=a,up.SlowBuffer=b,up.INSPECT_MAX_BYTES=50;let i=2147483647;up.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=r(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{let P=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(P,Z),P.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(P){if(P>i)throw new RangeError('The value "'+P+'" is invalid for option "size"');let Z=new Uint8Array(P);return Object.setPrototypeOf(Z,a.prototype),Z}function a(P,Z,se){if(typeof P=="number"){if(typeof Z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(P)}return o(P,Z,se)}a.poolSize=8192;function o(P,Z,se){if(typeof P=="string")return f(P,Z);if(ArrayBuffer.isView(P))return d(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Ee(P,ArrayBuffer)||P&&Ee(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(P,SharedArrayBuffer)||P&&Ee(P.buffer,SharedArrayBuffer)))return y(P,Z,se);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let we=P.valueOf&&P.valueOf();if(we!=null&&we!==P)return a.from(we,Z,se);let Re=x(P);if(Re)return Re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return a.from(P[Symbol.toPrimitive]("string"),Z,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}a.from=function(P,Z,se){return o(P,Z,se)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function c(P,Z,se){return l(P),P<=0?s(P):Z!==void 0?typeof se=="string"?s(P).fill(Z,se):s(P).fill(Z):s(P)}a.alloc=function(P,Z,se){return c(P,Z,se)};function A(P){return l(P),s(P<0?0:w(P)|0)}a.allocUnsafe=function(P){return A(P)},a.allocUnsafeSlow=function(P){return A(P)};function f(P,Z){if((typeof Z!="string"||Z==="")&&(Z="utf8"),!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);let se=_(P,Z)|0,we=s(se),Re=we.write(P,Z);return Re!==se&&(we=we.slice(0,Re)),we}function p(P){let Z=P.length<0?0:w(P.length)|0,se=s(Z);for(let we=0;we<Z;we+=1)se[we]=P[we]&255;return se}function d(P){if(Ee(P,Uint8Array)){let Z=new Uint8Array(P);return y(Z.buffer,Z.byteOffset,Z.byteLength)}return p(P)}function y(P,Z,se){if(Z<0||P.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<Z+(se||0))throw new RangeError('"length" is outside of buffer bounds');let we;return Z===void 0&&se===void 0?we=new Uint8Array(P):se===void 0?we=new Uint8Array(P,Z):we=new Uint8Array(P,Z,se),Object.setPrototypeOf(we,a.prototype),we}function x(P){if(a.isBuffer(P)){let Z=w(P.length)|0,se=s(Z);return se.length===0||P.copy(se,0,0,Z),se}if(P.length!==void 0)return typeof P.length!="number"||et(P.length)?s(0):p(P);if(P.type==="Buffer"&&Array.isArray(P.data))return p(P.data)}function w(P){if(P>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return P|0}function b(P){return+P!=P&&(P=0),a.alloc(+P)}a.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==a.prototype},a.compare=function(P,Z){if(Ee(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),Ee(Z,Uint8Array)&&(Z=a.from(Z,Z.offset,Z.byteLength)),!a.isBuffer(P)||!a.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===Z)return 0;let se=P.length,we=Z.length;for(let Re=0,Ze=Math.min(se,we);Re<Ze;++Re)if(P[Re]!==Z[Re]){se=P[Re],we=Z[Re];break}return se<we?-1:we<se?1:0},a.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(P,Z){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return a.alloc(0);let se;if(Z===void 0)for(Z=0,se=0;se<P.length;++se)Z+=P[se].length;let we=a.allocUnsafe(Z),Re=0;for(se=0;se<P.length;++se){let Ze=P[se];if(Ee(Ze,Uint8Array))Re+Ze.length>we.length?(a.isBuffer(Ze)||(Ze=a.from(Ze)),Ze.copy(we,Re)):Uint8Array.prototype.set.call(we,Ze,Re);else if(a.isBuffer(Ze))Ze.copy(we,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Ze.length}return we};function _(P,Z){if(a.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||Ee(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);let se=P.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&se===0)return 0;let Re=!1;for(;;)switch(Z){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return xe(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se*2;case"hex":return se>>>1;case"base64":return Le(P).length;default:if(Re)return we?-1:xe(P).length;Z=(""+Z).toLowerCase(),Re=!0}}a.byteLength=_;function E(P,Z,se){let we=!1;if((Z===void 0||Z<0)&&(Z=0),Z>this.length||((se===void 0||se>this.length)&&(se=this.length),se<=0)||(se>>>=0,Z>>>=0,se<=Z))return"";for(P||(P="utf8");;)switch(P){case"hex":return $(this,Z,se);case"utf8":case"utf-8":return J(this,Z,se);case"ascii":return W(this,Z,se);case"latin1":case"binary":return q(this,Z,se);case"base64":return Q(this,Z,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,Z,se);default:if(we)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),we=!0}}a.prototype._isBuffer=!0;function C(P,Z,se){let we=P[Z];P[Z]=P[se],P[se]=we}a.prototype.swap16=function(){let P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<P;Z+=2)C(this,Z,Z+1);return this},a.prototype.swap32=function(){let P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<P;Z+=4)C(this,Z,Z+3),C(this,Z+1,Z+2);return this},a.prototype.swap64=function(){let P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<P;Z+=8)C(this,Z,Z+7),C(this,Z+1,Z+6),C(this,Z+2,Z+5),C(this,Z+3,Z+4);return this},a.prototype.toString=function(){let P=this.length;return P===0?"":arguments.length===0?J(this,0,P):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(P){if(!a.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:a.compare(this,P)===0},a.prototype.inspect=function(){let P="",Z=up.INSPECT_MAX_BYTES;return P=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(P+=" ... "),"<Buffer "+P+">"},t&&(a.prototype[t]=a.prototype.inspect),a.prototype.compare=function(P,Z,se,we,Re){if(Ee(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),!a.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(Z===void 0&&(Z=0),se===void 0&&(se=P?P.length:0),we===void 0&&(we=0),Re===void 0&&(Re=this.length),Z<0||se>P.length||we<0||Re>this.length)throw new RangeError("out of range index");if(we>=Re&&Z>=se)return 0;if(we>=Re)return-1;if(Z>=se)return 1;if(Z>>>=0,se>>>=0,we>>>=0,Re>>>=0,this===P)return 0;let Ze=Re-we,dt=se-Z,Me=Math.min(Ze,dt),Oe=this.slice(we,Re),bt=P.slice(Z,se);for(let Fe=0;Fe<Me;++Fe)if(Oe[Fe]!==bt[Fe]){Ze=Oe[Fe],dt=bt[Fe];break}return Ze<dt?-1:dt<Ze?1:0};function T(P,Z,se,we,Re){if(P.length===0)return-1;if(typeof se=="string"?(we=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,et(se)&&(se=Re?0:P.length-1),se<0&&(se=P.length+se),se>=P.length){if(Re)return-1;se=P.length-1}else if(se<0)if(Re)se=0;else return-1;if(typeof Z=="string"&&(Z=a.from(Z,we)),a.isBuffer(Z))return Z.length===0?-1:M(P,Z,se,we,Re);if(typeof Z=="number")return Z=Z&255,typeof Uint8Array.prototype.indexOf=="function"?Re?Uint8Array.prototype.indexOf.call(P,Z,se):Uint8Array.prototype.lastIndexOf.call(P,Z,se):M(P,[Z],se,we,Re);throw new TypeError("val must be string, number or Buffer")}function M(P,Z,se,we,Re){let Ze=1,dt=P.length,Me=Z.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(P.length<2||Z.length<2)return-1;Ze=2,dt/=2,Me/=2,se/=2}function Oe(Fe,Xe){return Ze===1?Fe[Xe]:Fe.readUInt16BE(Xe*Ze)}let bt;if(Re){let Fe=-1;for(bt=se;bt<dt;bt++)if(Oe(P,bt)===Oe(Z,Fe===-1?0:bt-Fe)){if(Fe===-1&&(Fe=bt),bt-Fe+1===Me)return Fe*Ze}else Fe!==-1&&(bt-=bt-Fe),Fe=-1}else for(se+Me>dt&&(se=dt-Me),bt=se;bt>=0;bt--){let Fe=!0;for(let Xe=0;Xe<Me;Xe++)if(Oe(P,bt+Xe)!==Oe(Z,Xe)){Fe=!1;break}if(Fe)return bt}return-1}a.prototype.includes=function(P,Z,se){return this.indexOf(P,Z,se)!==-1},a.prototype.indexOf=function(P,Z,se){return T(this,P,Z,se,!0)},a.prototype.lastIndexOf=function(P,Z,se){return T(this,P,Z,se,!1)};function F(P,Z,se,we){se=Number(se)||0;let Re=P.length-se;we?(we=Number(we),we>Re&&(we=Re)):we=Re;let Ze=Z.length;we>Ze/2&&(we=Ze/2);let dt;for(dt=0;dt<we;++dt){let Me=parseInt(Z.substr(dt*2,2),16);if(et(Me))return dt;P[se+dt]=Me}return dt}function L(P,Z,se,we){return tt(xe(Z,P.length-se),P,se,we)}function N(P,Z,se,we){return tt(Pe(Z),P,se,we)}function R(P,Z,se,we){return tt(Le(Z),P,se,we)}function k(P,Z,se,we){return tt(We(Z,P.length-se),P,se,we)}a.prototype.write=function(P,Z,se,we){if(Z===void 0)we="utf8",se=this.length,Z=0;else if(se===void 0&&typeof Z=="string")we=Z,se=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(se)?(se=se>>>0,we===void 0&&(we="utf8")):(we=se,se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Re=this.length-Z;if((se===void 0||se>Re)&&(se=Re),P.length>0&&(se<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let Ze=!1;for(;;)switch(we){case"hex":return F(this,P,Z,se);case"utf8":case"utf-8":return L(this,P,Z,se);case"ascii":case"latin1":case"binary":return N(this,P,Z,se);case"base64":return R(this,P,Z,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,P,Z,se);default:if(Ze)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ze=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(P,Z,se){return Z===0&&se===P.length?n.fromByteArray(P):n.fromByteArray(P.slice(Z,se))}function J(P,Z,se){se=Math.min(P.length,se);let we=[],Re=Z;for(;Re<se;){let Ze=P[Re],dt=null,Me=Ze>239?4:Ze>223?3:Ze>191?2:1;if(Re+Me<=se){let Oe,bt,Fe,Xe;switch(Me){case 1:Ze<128&&(dt=Ze);break;case 2:Oe=P[Re+1],(Oe&192)===128&&(Xe=(Ze&31)<<6|Oe&63,Xe>127&&(dt=Xe));break;case 3:Oe=P[Re+1],bt=P[Re+2],(Oe&192)===128&&(bt&192)===128&&(Xe=(Ze&15)<<12|(Oe&63)<<6|bt&63,Xe>2047&&(Xe<55296||Xe>57343)&&(dt=Xe));break;case 4:Oe=P[Re+1],bt=P[Re+2],Fe=P[Re+3],(Oe&192)===128&&(bt&192)===128&&(Fe&192)===128&&(Xe=(Ze&15)<<18|(Oe&63)<<12|(bt&63)<<6|Fe&63,Xe>65535&&Xe<1114112&&(dt=Xe))}}dt===null?(dt=65533,Me=1):dt>65535&&(dt-=65536,we.push(dt>>>10&1023|55296),dt=56320|dt&1023),we.push(dt),Re+=Me}return ne(we)}let Y=4096;function ne(P){let Z=P.length;if(Z<=Y)return String.fromCharCode.apply(String,P);let se="",we=0;for(;we<Z;)se+=String.fromCharCode.apply(String,P.slice(we,we+=Y));return se}function W(P,Z,se){let we="";se=Math.min(P.length,se);for(let Re=Z;Re<se;++Re)we+=String.fromCharCode(P[Re]&127);return we}function q(P,Z,se){let we="";se=Math.min(P.length,se);for(let Re=Z;Re<se;++Re)we+=String.fromCharCode(P[Re]);return we}function $(P,Z,se){let we=P.length;(!Z||Z<0)&&(Z=0),(!se||se<0||se>we)&&(se=we);let Re="";for(let Ze=Z;Ze<se;++Ze)Re+=me[P[Ze]];return Re}function re(P,Z,se){let we=P.slice(Z,se),Re="";for(let Ze=0;Ze<we.length-1;Ze+=2)Re+=String.fromCharCode(we[Ze]+we[Ze+1]*256);return Re}a.prototype.slice=function(P,Z){let se=this.length;P=~~P,Z=Z===void 0?se:~~Z,P<0?(P+=se,P<0&&(P=0)):P>se&&(P=se),Z<0?(Z+=se,Z<0&&(Z=0)):Z>se&&(Z=se),Z<P&&(Z=P);let we=this.subarray(P,Z);return Object.setPrototypeOf(we,a.prototype),we};function V(P,Z,se){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+Z>se)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(P,Z,se){P=P>>>0,Z=Z>>>0,se||V(P,Z,this.length);let we=this[P],Re=1,Ze=0;for(;++Ze<Z&&(Re*=256);)we+=this[P+Ze]*Re;return we},a.prototype.readUintBE=a.prototype.readUIntBE=function(P,Z,se){P=P>>>0,Z=Z>>>0,se||V(P,Z,this.length);let we=this[P+--Z],Re=1;for(;Z>0&&(Re*=256);)we+=this[P+--Z]*Re;return we},a.prototype.readUint8=a.prototype.readUInt8=function(P,Z){return P=P>>>0,Z||V(P,1,this.length),this[P]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(P,Z){return P=P>>>0,Z||V(P,2,this.length),this[P]|this[P+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(P,Z){return P=P>>>0,Z||V(P,2,this.length),this[P]<<8|this[P+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(P,Z){return P=P>>>0,Z||V(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(P,Z){return P=P>>>0,Z||V(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},a.prototype.readBigUInt64LE=le(function(P){P=P>>>0,ze(P,"offset");let Z=this[P],se=this[P+7];(Z===void 0||se===void 0)&&$e(P,this.length-8);let we=Z+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,Re=this[++P]+this[++P]*2**8+this[++P]*2**16+se*2**24;return BigInt(we)+(BigInt(Re)<<BigInt(32))}),a.prototype.readBigUInt64BE=le(function(P){P=P>>>0,ze(P,"offset");let Z=this[P],se=this[P+7];(Z===void 0||se===void 0)&&$e(P,this.length-8);let we=Z*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],Re=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+se;return(BigInt(we)<<BigInt(32))+BigInt(Re)}),a.prototype.readIntLE=function(P,Z,se){P=P>>>0,Z=Z>>>0,se||V(P,Z,this.length);let we=this[P],Re=1,Ze=0;for(;++Ze<Z&&(Re*=256);)we+=this[P+Ze]*Re;return Re*=128,we>=Re&&(we-=Math.pow(2,8*Z)),we},a.prototype.readIntBE=function(P,Z,se){P=P>>>0,Z=Z>>>0,se||V(P,Z,this.length);let we=Z,Re=1,Ze=this[P+--we];for(;we>0&&(Re*=256);)Ze+=this[P+--we]*Re;return Re*=128,Ze>=Re&&(Ze-=Math.pow(2,8*Z)),Ze},a.prototype.readInt8=function(P,Z){return P=P>>>0,Z||V(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},a.prototype.readInt16LE=function(P,Z){P=P>>>0,Z||V(P,2,this.length);let se=this[P]|this[P+1]<<8;return se&32768?se|4294901760:se},a.prototype.readInt16BE=function(P,Z){P=P>>>0,Z||V(P,2,this.length);let se=this[P+1]|this[P]<<8;return se&32768?se|4294901760:se},a.prototype.readInt32LE=function(P,Z){return P=P>>>0,Z||V(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},a.prototype.readInt32BE=function(P,Z){return P=P>>>0,Z||V(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},a.prototype.readBigInt64LE=le(function(P){P=P>>>0,ze(P,"offset");let Z=this[P],se=this[P+7];(Z===void 0||se===void 0)&&$e(P,this.length-8);let we=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(se<<24);return(BigInt(we)<<BigInt(32))+BigInt(Z+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),a.prototype.readBigInt64BE=le(function(P){P=P>>>0,ze(P,"offset");let Z=this[P],se=this[P+7];(Z===void 0||se===void 0)&&$e(P,this.length-8);let we=(Z<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(we)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+se)}),a.prototype.readFloatLE=function(P,Z){return P=P>>>0,Z||V(P,4,this.length),e.read(this,P,!0,23,4)},a.prototype.readFloatBE=function(P,Z){return P=P>>>0,Z||V(P,4,this.length),e.read(this,P,!1,23,4)},a.prototype.readDoubleLE=function(P,Z){return P=P>>>0,Z||V(P,8,this.length),e.read(this,P,!0,52,8)},a.prototype.readDoubleBE=function(P,Z){return P=P>>>0,Z||V(P,8,this.length),e.read(this,P,!1,52,8)};function te(P,Z,se,we,Re,Ze){if(!a.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>Re||Z<Ze)throw new RangeError('"value" argument is out of bounds');if(se+we>P.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(P,Z,se,we){if(P=+P,Z=Z>>>0,se=se>>>0,!we){let dt=Math.pow(2,8*se)-1;te(this,P,Z,se,dt,0)}let Re=1,Ze=0;for(this[Z]=P&255;++Ze<se&&(Re*=256);)this[Z+Ze]=P/Re&255;return Z+se},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(P,Z,se,we){if(P=+P,Z=Z>>>0,se=se>>>0,!we){let dt=Math.pow(2,8*se)-1;te(this,P,Z,se,dt,0)}let Re=se-1,Ze=1;for(this[Z+Re]=P&255;--Re>=0&&(Ze*=256);)this[Z+Re]=P/Ze&255;return Z+se},a.prototype.writeUint8=a.prototype.writeUInt8=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,1,255,0),this[Z]=P&255,Z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,2,65535,0),this[Z]=P&255,this[Z+1]=P>>>8,Z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,2,65535,0),this[Z]=P>>>8,this[Z+1]=P&255,Z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,4,4294967295,0),this[Z+3]=P>>>24,this[Z+2]=P>>>16,this[Z+1]=P>>>8,this[Z]=P&255,Z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,4,4294967295,0),this[Z]=P>>>24,this[Z+1]=P>>>16,this[Z+2]=P>>>8,this[Z+3]=P&255,Z+4};function z(P,Z,se,we,Re){Ne(Z,we,Re,P,se,7);let Ze=Number(Z&BigInt(4294967295));P[se++]=Ze,Ze=Ze>>8,P[se++]=Ze,Ze=Ze>>8,P[se++]=Ze,Ze=Ze>>8,P[se++]=Ze;let dt=Number(Z>>BigInt(32)&BigInt(4294967295));return P[se++]=dt,dt=dt>>8,P[se++]=dt,dt=dt>>8,P[se++]=dt,dt=dt>>8,P[se++]=dt,se}function j(P,Z,se,we,Re){Ne(Z,we,Re,P,se,7);let Ze=Number(Z&BigInt(4294967295));P[se+7]=Ze,Ze=Ze>>8,P[se+6]=Ze,Ze=Ze>>8,P[se+5]=Ze,Ze=Ze>>8,P[se+4]=Ze;let dt=Number(Z>>BigInt(32)&BigInt(4294967295));return P[se+3]=dt,dt=dt>>8,P[se+2]=dt,dt=dt>>8,P[se+1]=dt,dt=dt>>8,P[se]=dt,se+8}a.prototype.writeBigUInt64LE=le(function(P,Z=0){return z(this,P,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=le(function(P,Z=0){return j(this,P,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(P,Z,se,we){if(P=+P,Z=Z>>>0,!we){let Me=Math.pow(2,8*se-1);te(this,P,Z,se,Me-1,-Me)}let Re=0,Ze=1,dt=0;for(this[Z]=P&255;++Re<se&&(Ze*=256);)P<0&&dt===0&&this[Z+Re-1]!==0&&(dt=1),this[Z+Re]=(P/Ze>>0)-dt&255;return Z+se},a.prototype.writeIntBE=function(P,Z,se,we){if(P=+P,Z=Z>>>0,!we){let Me=Math.pow(2,8*se-1);te(this,P,Z,se,Me-1,-Me)}let Re=se-1,Ze=1,dt=0;for(this[Z+Re]=P&255;--Re>=0&&(Ze*=256);)P<0&&dt===0&&this[Z+Re+1]!==0&&(dt=1),this[Z+Re]=(P/Ze>>0)-dt&255;return Z+se},a.prototype.writeInt8=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,1,127,-128),P<0&&(P=255+P+1),this[Z]=P&255,Z+1},a.prototype.writeInt16LE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,2,32767,-32768),this[Z]=P&255,this[Z+1]=P>>>8,Z+2},a.prototype.writeInt16BE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,2,32767,-32768),this[Z]=P>>>8,this[Z+1]=P&255,Z+2},a.prototype.writeInt32LE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,4,2147483647,-2147483648),this[Z]=P&255,this[Z+1]=P>>>8,this[Z+2]=P>>>16,this[Z+3]=P>>>24,Z+4},a.prototype.writeInt32BE=function(P,Z,se){return P=+P,Z=Z>>>0,se||te(this,P,Z,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[Z]=P>>>24,this[Z+1]=P>>>16,this[Z+2]=P>>>8,this[Z+3]=P&255,Z+4},a.prototype.writeBigInt64LE=le(function(P,Z=0){return z(this,P,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=le(function(P,Z=0){return j(this,P,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(P,Z,se,we,Re,Ze){if(se+we>P.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function fe(P,Z,se,we,Re){return Z=+Z,se=se>>>0,Re||oe(P,Z,se,4),e.write(P,Z,se,we,23,4),se+4}a.prototype.writeFloatLE=function(P,Z,se){return fe(this,P,Z,!0,se)},a.prototype.writeFloatBE=function(P,Z,se){return fe(this,P,Z,!1,se)};function ue(P,Z,se,we,Re){return Z=+Z,se=se>>>0,Re||oe(P,Z,se,8),e.write(P,Z,se,we,52,8),se+8}a.prototype.writeDoubleLE=function(P,Z,se){return ue(this,P,Z,!0,se)},a.prototype.writeDoubleBE=function(P,Z,se){return ue(this,P,Z,!1,se)},a.prototype.copy=function(P,Z,se,we){if(!a.isBuffer(P))throw new TypeError("argument should be a Buffer");if(se||(se=0),!we&&we!==0&&(we=this.length),Z>=P.length&&(Z=P.length),Z||(Z=0),we>0&&we<se&&(we=se),we===se||P.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),P.length-Z<we-se&&(we=P.length-Z+se);let Re=we-se;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,se,we):Uint8Array.prototype.set.call(P,this.subarray(se,we),Z),Re},a.prototype.fill=function(P,Z,se,we){if(typeof P=="string"){if(typeof Z=="string"?(we=Z,Z=0,se=this.length):typeof se=="string"&&(we=se,se=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!a.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(P.length===1){let Ze=P.charCodeAt(0);(we==="utf8"&&Ze<128||we==="latin1")&&(P=Ze)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(Z<0||this.length<Z||this.length<se)throw new RangeError("Out of range index");if(se<=Z)return this;Z=Z>>>0,se=se===void 0?this.length:se>>>0,P||(P=0);let Re;if(typeof P=="number")for(Re=Z;Re<se;++Re)this[Re]=P;else{let Ze=a.isBuffer(P)?P:a.from(P,we),dt=Ze.length;if(dt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(Re=0;Re<se-Z;++Re)this[Re+Z]=Ze[Re%dt]}return this};let Ae={};function he(P,Z,se){Ae[P]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:Z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(P,Z){return`The "${P}" argument must be of type number. Received type ${typeof Z}`},TypeError),he("ERR_OUT_OF_RANGE",function(P,Z,se){let we=`The value of "${P}" is out of range.`,Re=se;return Number.isInteger(se)&&Math.abs(se)>2**32?Re=_e(String(se)):typeof se=="bigint"&&(Re=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(Re=_e(Re)),Re+="n"),we+=` It must be ${Z}. Received ${Re}`,we},RangeError);function _e(P){let Z="",se=P.length,we=P[0]==="-"?1:0;for(;se>=we+4;se-=3)Z=`_${P.slice(se-3,se)}${Z}`;return`${P.slice(0,se)}${Z}`}function be(P,Z,se){ze(Z,"offset"),(P[Z]===void 0||P[Z+se]===void 0)&&$e(Z,P.length-(se+1))}function Ne(P,Z,se,we,Re,Ze){if(P>se||P<Z){let dt=typeof Z=="bigint"?"n":"",Me;throw Z===0||Z===BigInt(0)?Me=`>= 0${dt} and < 2${dt} ** ${(Ze+1)*8}${dt}`:Me=`>= -(2${dt} ** ${(Ze+1)*8-1}${dt}) and < 2 ** ${(Ze+1)*8-1}${dt}`,new Ae.ERR_OUT_OF_RANGE("value",Me,P)}be(we,Re,Ze)}function ze(P,Z){if(typeof P!="number")throw new Ae.ERR_INVALID_ARG_TYPE(Z,"number",P)}function $e(P,Z,se){throw Math.floor(P)!==P?(ze(P,se),new Ae.ERR_OUT_OF_RANGE("offset","an integer",P)):Z<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Z}`,P)}let He=/[^+/0-9A-Za-z-_]/g;function K(P){if(P=P.split("=")[0],P=P.trim().replace(He,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function xe(P,Z){Z=Z||1/0;let se,we=P.length,Re=null,Ze=[];for(let dt=0;dt<we;++dt){if(se=P.charCodeAt(dt),se>55295&&se<57344){if(!Re){if(se>56319){(Z-=3)>-1&&Ze.push(239,191,189);continue}else if(dt+1===we){(Z-=3)>-1&&Ze.push(239,191,189);continue}Re=se;continue}if(se<56320){(Z-=3)>-1&&Ze.push(239,191,189),Re=se;continue}se=(Re-55296<<10|se-56320)+65536}else Re&&(Z-=3)>-1&&Ze.push(239,191,189);if(Re=null,se<128){if((Z-=1)<0)break;Ze.push(se)}else if(se<2048){if((Z-=2)<0)break;Ze.push(se>>6|192,se&63|128)}else if(se<65536){if((Z-=3)<0)break;Ze.push(se>>12|224,se>>6&63|128,se&63|128)}else if(se<1114112){if((Z-=4)<0)break;Ze.push(se>>18|240,se>>12&63|128,se>>6&63|128,se&63|128)}else throw new Error("Invalid code point")}return Ze}function Pe(P){let Z=[];for(let se=0;se<P.length;++se)Z.push(P.charCodeAt(se)&255);return Z}function We(P,Z){let se,we,Re,Ze=[];for(let dt=0;dt<P.length&&!((Z-=2)<0);++dt)se=P.charCodeAt(dt),we=se>>8,Re=se%256,Ze.push(Re),Ze.push(we);return Ze}function Le(P){return n.toByteArray(K(P))}function tt(P,Z,se,we){let Re;for(Re=0;Re<we&&!(Re+se>=Z.length||Re>=P.length);++Re)Z[Re+se]=P[Re];return Re}function Ee(P,Z){return P instanceof Z||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===Z.name}function et(P){return P!==P}let me=(function(){let P="0123456789abcdef",Z=new Array(256);for(let se=0;se<16;++se){let we=se*16;for(let Re=0;Re<16;++Re)Z[we+Re]=P[se]+P[Re]}return Z})();function le(P){return typeof BigInt>"u"?Je:P}function Je(){throw new Error("BigInt not supported")}return up}var Y0,lM,c1,cM,up,uM,bG=Kc(()=>{Ht(),zt(),Qt(),Y0={},lM=!1,c1={},cM=!1,up={},uM=!1}),Ro={};Qy(Ro,{Buffer:()=>h_,INSPECT_MAX_BYTES:()=>NP,default:()=>Yh,kMaxLength:()=>FP});var Yh,h_,NP,FP,Do=Kc(()=>{Ht(),zt(),Qt(),bG(),Yh=xG(),Yh.Buffer,Yh.SlowBuffer,Yh.INSPECT_MAX_BYTES,Yh.kMaxLength,h_=Yh.Buffer,NP=Yh.INSPECT_MAX_BYTES,FP=Yh.kMaxLength}),zt=Kc(()=>{Do()}),ra=qt((n,e)=>{Ht(),zt(),Qt();var t=class extends Error{constructor(i){if(!Array.isArray(i))throw new TypeError(`Expected input to be an Array, got ${typeof i}`);let r="";for(let s=0;s<i.length;s++)r+=`    ${i[s].stack}
`;super(r),this.name="AggregateError",this.errors=i}};e.exports={AggregateError:t,ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,r){return i.includes(r)},ArrayPrototypeIndexOf(i,r){return i.indexOf(r)},ArrayPrototypeJoin(i,r){return i.join(r)},ArrayPrototypeMap(i,r){return i.map(r)},ArrayPrototypePop(i,r){return i.pop(r)},ArrayPrototypePush(i,r){return i.push(r)},ArrayPrototypeSlice(i,r,s){return i.slice(r,s)},Error,FunctionPrototypeCall(i,r,...s){return i.call(r,...s)},FunctionPrototypeSymbolHasInstance(i,r){return Function.prototype[Symbol.hasInstance].call(i,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,r){return Object.defineProperties(i,r)},ObjectDefineProperty(i,r,s){return Object.defineProperty(i,r,s)},ObjectGetOwnPropertyDescriptor(i,r){return Object.getOwnPropertyDescriptor(i,r)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,r){return Object.setPrototypeOf(i,r)},Promise,PromisePrototypeCatch(i,r){return i.catch(r)},PromisePrototypeThen(i,r,s){return i.then(r,s)},PromiseReject(i){return Promise.reject(i)},PromiseResolve(i){return Promise.resolve(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,r){return i.test(r)},SafeSet:Set,String,StringPrototypeSlice(i,r,s){return i.slice(r,s)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(i,r,s){return i.set(r,s)},Boolean,Uint8Array}}),IP=qt((n,e)=>{Ht(),zt(),Qt(),e.exports={format(t,...i){return t.replace(/%([sdifj])/g,function(...[r,s]){let a=i.shift();return s==="f"?a.toFixed(6):s==="j"?JSON.stringify(a):s==="s"&&typeof a=="object"?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}}),lc=qt((n,e)=>{Ht(),zt(),Qt();var{format:t,inspect:i}=IP(),{AggregateError:r}=ra(),s=globalThis.AggregateError||r,a=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",A={};function f(_,E){if(!_)throw new A.ERR_INTERNAL_ASSERTION(E)}function p(_){let E="",C=_.length,T=_[0]==="-"?1:0;for(;C>=T+4;C-=3)E=`_${_.slice(C-3,C)}${E}`;return`${_.slice(0,C)}${E}`}function d(_,E,C){if(typeof E=="function")return f(E.length<=C.length,`Code: ${_}; The provided arguments length (${C.length}) does not match the required ones (${E.length}).`),E(...C);let T=(E.match(/%[dfijoOs]/g)||[]).length;return f(T===C.length,`Code: ${_}; The provided arguments length (${C.length}) does not match the required ones (${T}).`),C.length===0?E:t(E,...C)}function y(_,E,C){C||(C=Error);class T extends C{constructor(...F){super(d(_,E,F))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:C.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=_,T.prototype[a]=!0,A[_]=T}function x(_){let E=c+_.name;return Object.defineProperty(_,"name",{value:E}),_}function w(_,E){if(_&&E&&_!==E){if(Array.isArray(E.errors))return E.errors.push(_),E;let C=new s([E,_],E.message);return C.code=E.code,C}return _||E}var b=class extends Error{constructor(_="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new A.ERR_INVALID_ARG_TYPE("options","Object",E);super(_,E),this.code="ABORT_ERR",this.name="AbortError"}};y("ERR_ASSERTION","%s",Error),y("ERR_INVALID_ARG_TYPE",(_,E,C)=>{f(typeof _=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let T="The ";_.endsWith(" argument")?T+=`${_} `:T+=`"${_}" ${_.includes(".")?"property":"argument"} `,T+="must be ";let M=[],F=[],L=[];for(let R of E)f(typeof R=="string","All expected entries have to be of type string"),o.includes(R)?M.push(R.toLowerCase()):l.test(R)?F.push(R):(f(R!=="object",'The value "object" should be written as "Object"'),L.push(R));if(F.length>0){let R=M.indexOf("object");R!==-1&&(M.splice(M,R,1),F.push("Object"))}if(M.length>0){switch(M.length){case 1:T+=`of type ${M[0]}`;break;case 2:T+=`one of type ${M[0]} or ${M[1]}`;break;default:{let R=M.pop();T+=`one of type ${M.join(", ")}, or ${R}`}}(F.length>0||L.length>0)&&(T+=" or ")}if(F.length>0){switch(F.length){case 1:T+=`an instance of ${F[0]}`;break;case 2:T+=`an instance of ${F[0]} or ${F[1]}`;break;default:{let R=F.pop();T+=`an instance of ${F.join(", ")}, or ${R}`}}L.length>0&&(T+=" or ")}switch(L.length){case 0:break;case 1:L[0].toLowerCase()!==L[0]&&(T+="an "),T+=`${L[0]}`;break;case 2:T+=`one of ${L[0]} or ${L[1]}`;break;default:{let R=L.pop();T+=`one of ${L.join(", ")}, or ${R}`}}if(C==null)T+=`. Received ${C}`;else if(typeof C=="function"&&C.name)T+=`. Received function ${C.name}`;else if(typeof C=="object"){var N;if((N=C.constructor)!==null&&N!==void 0&&N.name)T+=`. Received an instance of ${C.constructor.name}`;else{let R=i(C,{depth:-1});T+=`. Received ${R}`}}else{let R=i(C,{colors:!1});R.length>25&&(R=`${R.slice(0,25)}...`),T+=`. Received type ${typeof C} (${R})`}return T},TypeError),y("ERR_INVALID_ARG_VALUE",(_,E,C="is invalid")=>{let T=i(E);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${C}. Received ${T}`},TypeError),y("ERR_INVALID_RETURN_VALUE",(_,E,C)=>{var T;let M=C!=null&&(T=C.constructor)!==null&&T!==void 0&&T.name?`instance of ${C.constructor.name}`:`type ${typeof C}`;return`Expected ${_} to be returned from the "${E}" function but got ${M}.`},TypeError),y("ERR_MISSING_ARGS",(..._)=>{f(_.length>0,"At least one arg needs to be specified");let E,C=_.length;switch(_=(Array.isArray(_)?_:[_]).map(T=>`"${T}"`).join(" or "),C){case 1:E+=`The ${_[0]} argument`;break;case 2:E+=`The ${_[0]} and ${_[1]} arguments`;break;default:{let T=_.pop();E+=`The ${_.join(", ")}, and ${T} arguments`}break}return`${E} must be specified`},TypeError),y("ERR_OUT_OF_RANGE",(_,E,C)=>{f(E,'Missing "range" argument');let T;if(Number.isInteger(C)&&Math.abs(C)>2**32)T=p(String(C));else if(typeof C=="bigint"){T=String(C);let M=BigInt(2)**BigInt(32);(C>M||C<-M)&&(T=p(T)),T+="n"}else T=i(C);return`The value of "${_}" is out of range. It must be ${E}. Received ${T}`},RangeError),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),y("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),y("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),y("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),y("ERR_STREAM_WRITE_AFTER_END","write after end",Error),y("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:x(w),hideStackFrames:x,codes:A}}),J1=qt((n,e)=>{Ht(),zt(),Qt();var{AbortController:t,AbortSignal:i}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=t,e.exports.AbortSignal=i,e.exports.default=t}),kp={};Qy(kp,{EventEmitter:()=>LP,default:()=>Z0,defaultMaxListeners:()=>RP,init:()=>DP,listenerCount:()=>OP,on:()=>PP,once:()=>kP});function wG(){if(AM)return u1;AM=!0;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(C,T,M){return Function.prototype.apply.call(C,T,M)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:t=function(C){return Object.getOwnPropertyNames(C)};function i(C){console&&console.warn&&console.warn(C)}var r=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}u1=s,u1.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(C){if(typeof C!="number"||C<0||r(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");a=C}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||r(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(C){return C._maxListeners===void 0?s.defaultMaxListeners:C._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(C){for(var T=[],M=1;M<arguments.length;M++)T.push(arguments[M]);var F=C==="error",L=this._events;if(L!==void 0)F=F&&L.error===void 0;else if(!F)return!1;if(F){var N;if(T.length>0&&(N=T[0]),N instanceof Error)throw N;var R=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw R.context=N,R}var k=L[C];if(k===void 0)return!1;if(typeof k=="function")e(k,this,T);else for(var Q=k.length,J=y(k,Q),M=0;M<Q;++M)e(J[M],this,T);return!0};function c(C,T,M,F){var L,N,R;if(o(M),N=C._events,N===void 0?(N=C._events=Object.create(null),C._eventsCount=0):(N.newListener!==void 0&&(C.emit("newListener",T,M.listener?M.listener:M),N=C._events),R=N[T]),R===void 0)R=N[T]=M,++C._eventsCount;else if(typeof R=="function"?R=N[T]=F?[M,R]:[R,M]:F?R.unshift(M):R.push(M),L=l(C),L>0&&R.length>L&&!R.warned){R.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=C,k.type=T,k.count=R.length,i(k)}return C}s.prototype.addListener=function(C,T){return c(this,C,T,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,T){return c(this,C,T,!0)};function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(C,T,M){var F={fired:!1,wrapFn:void 0,target:C,type:T,listener:M},L=A.bind(F);return L.listener=M,F.wrapFn=L,L}s.prototype.once=function(C,T){return o(T),this.on(C,f(this,C,T)),this},s.prototype.prependOnceListener=function(C,T){return o(T),this.prependListener(C,f(this,C,T)),this},s.prototype.removeListener=function(C,T){var M,F,L,N,R;if(o(T),F=this._events,F===void 0)return this;if(M=F[C],M===void 0)return this;if(M===T||M.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete F[C],F.removeListener&&this.emit("removeListener",C,M.listener||T));else if(typeof M!="function"){for(L=-1,N=M.length-1;N>=0;N--)if(M[N]===T||M[N].listener===T){R=M[N].listener,L=N;break}if(L<0)return this;L===0?M.shift():x(M,L),M.length===1&&(F[C]=M[0]),F.removeListener!==void 0&&this.emit("removeListener",C,R||T)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var T,M,F;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[C]),this;if(arguments.length===0){var L=Object.keys(M),N;for(F=0;F<L.length;++F)N=L[F],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=M[C],typeof T=="function")this.removeListener(C,T);else if(T!==void 0)for(F=T.length-1;F>=0;F--)this.removeListener(C,T[F]);return this};function p(C,T,M){var F=C._events;if(F===void 0)return[];var L=F[T];return L===void 0?[]:typeof L=="function"?M?[L.listener||L]:[L]:M?w(L):y(L,L.length)}s.prototype.listeners=function(C){return p(this,C,!0)},s.prototype.rawListeners=function(C){return p(this,C,!1)},s.listenerCount=function(C,T){return typeof C.listenerCount=="function"?C.listenerCount(T):d.call(C,T)},s.prototype.listenerCount=d;function d(C){var T=this._events;if(T!==void 0){var M=T[C];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function y(C,T){for(var M=new Array(T),F=0;F<T;++F)M[F]=C[F];return M}function x(C,T){for(;T+1<C.length;T++)C[T]=C[T+1];C.pop()}function w(C){for(var T=new Array(C.length),M=0;M<T.length;++M)T[M]=C[M].listener||C[M];return T}function b(C,T){return new Promise(function(M,F){function L(R){C.removeListener(T,N),F(R)}function N(){typeof C.removeListener=="function"&&C.removeListener("error",L),M([].slice.call(arguments))}E(C,T,N,{once:!0}),T!=="error"&&_(C,L,{once:!0})})}function _(C,T,M){typeof C.on=="function"&&E(C,"error",T,M)}function E(C,T,M,F){if(typeof C.on=="function")F.once?C.once(T,M):C.on(T,M);else if(typeof C.addEventListener=="function")C.addEventListener(T,function L(N){F.once&&C.removeEventListener(T,L),M(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return u1}var u1,AM,Z0,LP,RP,DP,OP,PP,kP,Bg=Kc(()=>{Ht(),zt(),Qt(),u1={},AM=!1,Z0=wG(),Z0.once,Z0.once=function(n,e){return new Promise((t,i)=>{function r(...a){s!==void 0&&n.removeListener("error",s),t(a)}let s;e!=="error"&&(s=a=>{n.removeListener(name,r),i(a)},n.once("error",s)),n.once(e,r)})},Z0.on=function(n,e){let t=[],i=[],r=null,s=!1,a={async next(){let c=t.shift();if(c)return createIterResult(c,!1);if(r){let A=Promise.reject(r);return r=null,A}return s?createIterResult(void 0,!0):new Promise((A,f)=>i.push({resolve:A,reject:f}))},async return(){n.removeListener(e,o),n.removeListener("error",l),s=!0;for(let c of i)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){r=c,n.removeListener(e,o),n.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return n.on(e,o),n.on("error",l),a;function o(...c){let A=i.shift();A?A.resolve(createIterResult(c,!1)):t.push(c)}function l(c){s=!0;let A=i.shift();A?A.reject(c):r=c,a.return()}},{EventEmitter:LP,defaultMaxListeners:RP,init:DP,listenerCount:OP,on:PP,once:kP}=Z0}),Vc=qt((n,e)=>{Ht(),zt(),Qt();var t=(Do(),ls(Ro)),{format:i,inspect:r}=IP(),{codes:{ERR_INVALID_ARG_TYPE:s}}=lc(),{kResistStopPropagation:a,AggregateError:o,SymbolDispose:l}=ra(),c=globalThis.AbortSignal||J1().AbortSignal,A=globalThis.AbortController||J1().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||t.Blob,d=typeof p<"u"?function(w){return w instanceof p}:function(w){return!1},y=(w,b)=>{if(w!==void 0&&(w===null||typeof w!="object"||!("aborted"in w)))throw new s(b,"AbortSignal",w)},x=(w,b)=>{if(typeof w!="function")throw new s(b,"Function",w)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(w){let b=!1;return function(..._){b||(b=!0,w.apply(this,_))}},createDeferredPromise:function(){let w,b;return{promise:new Promise((_,E)=>{w=_,b=E}),resolve:w,reject:b}},promisify(w){return new Promise((b,_)=>{w((E,...C)=>E?_(E):b(...C))})},debuglog(){return function(){}},format:i,inspect:r,types:{isAsyncFunction(w){return w instanceof f},isArrayBufferView(w){return ArrayBuffer.isView(w)}},isBlob:d,deprecate(w,b){return w},addAbortListener:(Bg(),ls(kp)).addAbortListener||function(w,b){if(w===void 0)throw new s("signal","AbortSignal",w);y(w,"signal"),x(b,"listener");let _;return w.aborted?queueMicrotask(()=>b()):(w.addEventListener("abort",b,{__proto__:null,once:!0,[a]:!0}),_=()=>{w.removeEventListener("abort",b)}),{__proto__:null,[l](){var E;(E=_)===null||E===void 0||E()}}},AbortSignalAny:c.any||function(w){if(w.length===1)return w[0];let b=new A,_=()=>b.abort();return w.forEach(E=>{y(E,"signals"),E.addEventListener("abort",_,{once:!0})}),b.signal.addEventListener("abort",()=>{w.forEach(E=>E.removeEventListener("abort",_))},{once:!0}),b.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Mx=qt((n,e)=>{Ht(),zt(),Qt();var{ArrayIsArray:t,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:r,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:A,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:d,StringPrototypeToUpperCase:y,StringPrototypeTrim:x}=ra(),{hideStackFrames:w,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:C,ERR_UNKNOWN_SIGNAL:T}}=lc(),{normalizeEncoding:M}=Vc(),{isAsyncFunction:F,isArrayBufferView:L}=Vc().types,N={};function R(Ee){return Ee===(Ee|0)}function k(Ee){return Ee===Ee>>>0}var Q=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function Y(Ee,et,me){if(typeof Ee>"u"&&(Ee=me),typeof Ee=="string"){if(p(Q,Ee)===null)throw new E(et,Ee,J);Ee=A(Ee,8)}return q(Ee,et),Ee}var ne=w((Ee,et,me=c,le=l)=>{if(typeof Ee!="number")throw new _(et,"number",Ee);if(!a(Ee))throw new C(et,"an integer",Ee);if(Ee<me||Ee>le)throw new C(et,`>= ${me} && <= ${le}`,Ee)}),W=w((Ee,et,me=-2147483648,le=2147483647)=>{if(typeof Ee!="number")throw new _(et,"number",Ee);if(!a(Ee))throw new C(et,"an integer",Ee);if(Ee<me||Ee>le)throw new C(et,`>= ${me} && <= ${le}`,Ee)}),q=w((Ee,et,me=!1)=>{if(typeof Ee!="number")throw new _(et,"number",Ee);if(!a(Ee))throw new C(et,"an integer",Ee);let le=me?1:0,Je=4294967295;if(Ee<le||Ee>Je)throw new C(et,`>= ${le} && <= ${Je}`,Ee)});function $(Ee,et){if(typeof Ee!="string")throw new _(et,"string",Ee)}function re(Ee,et,me=void 0,le){if(typeof Ee!="number")throw new _(et,"number",Ee);if(me!=null&&Ee<me||le!=null&&Ee>le||(me!=null||le!=null)&&o(Ee))throw new C(et,`${me!=null?`>= ${me}`:""}${me!=null&&le!=null?" && ":""}${le!=null?`<= ${le}`:""}`,Ee)}var V=w((Ee,et,me)=>{if(!i(me,Ee)){let le="must be one of: "+r(s(me,Je=>typeof Je=="string"?`'${Je}'`:d(Je)),", ");throw new E(et,Ee,le)}});function te(Ee,et){if(typeof Ee!="boolean")throw new _(et,"boolean",Ee)}function z(Ee,et,me){return Ee==null||!f(Ee,et)?me:Ee[et]}var j=w((Ee,et,me=null)=>{let le=z(me,"allowArray",!1),Je=z(me,"allowFunction",!1);if(!z(me,"nullable",!1)&&Ee===null||!le&&t(Ee)||typeof Ee!="object"&&(!Je||typeof Ee!="function"))throw new _(et,"Object",Ee)}),oe=w((Ee,et)=>{if(Ee!=null&&typeof Ee!="object"&&typeof Ee!="function")throw new _(et,"a dictionary",Ee)}),fe=w((Ee,et,me=0)=>{if(!t(Ee))throw new _(et,"Array",Ee);if(Ee.length<me){let le=`must be longer than ${me}`;throw new E(et,Ee,le)}});function ue(Ee,et){fe(Ee,et);for(let me=0;me<Ee.length;me++)$(Ee[me],`${et}[${me}]`)}function Ae(Ee,et){fe(Ee,et);for(let me=0;me<Ee.length;me++)te(Ee[me],`${et}[${me}]`)}function he(Ee,et){fe(Ee,et);for(let me=0;me<Ee.length;me++){let le=Ee[me],Je=`${et}[${me}]`;if(le==null)throw new _(Je,"AbortSignal",le);$e(le,Je)}}function _e(Ee,et="signal"){if($(Ee,et),N[Ee]===void 0)throw N[y(Ee)]!==void 0?new T(Ee+" (signals must use all capital letters)"):new T(Ee)}var be=w((Ee,et="buffer")=>{if(!L(Ee))throw new _(et,["Buffer","TypedArray","DataView"],Ee)});function Ne(Ee,et){let me=M(et),le=Ee.length;if(me==="hex"&&le%2!==0)throw new E("encoding",et,`is invalid for data of length ${le}`)}function ze(Ee,et="Port",me=!0){if(typeof Ee!="number"&&typeof Ee!="string"||typeof Ee=="string"&&x(Ee).length===0||+Ee!==+Ee>>>0||Ee>65535||Ee===0&&!me)throw new b(et,Ee,me);return Ee|0}var $e=w((Ee,et)=>{if(Ee!==void 0&&(Ee===null||typeof Ee!="object"||!("aborted"in Ee)))throw new _(et,"AbortSignal",Ee)}),He=w((Ee,et)=>{if(typeof Ee!="function")throw new _(et,"Function",Ee)}),K=w((Ee,et)=>{if(typeof Ee!="function"||F(Ee))throw new _(et,"Function",Ee)}),xe=w((Ee,et)=>{if(Ee!==void 0)throw new _(et,"undefined",Ee)});function Pe(Ee,et,me){if(!i(me,Ee))throw new _(et,`('${r(me,"|")}')`,Ee)}var We=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Le(Ee,et){if(typeof Ee>"u"||!p(We,Ee))throw new E(et,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function tt(Ee){if(typeof Ee=="string")return Le(Ee,"hints"),Ee;if(t(Ee)){let et=Ee.length,me="";if(et===0)return me;for(let le=0;le<et;le++){let Je=Ee[le];Le(Je,"hints"),me+=Je,le!==et-1&&(me+=", ")}return me}throw new E("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:R,isUint32:k,parseFileMode:Y,validateArray:fe,validateStringArray:ue,validateBooleanArray:Ae,validateAbortSignalArray:he,validateBoolean:te,validateBuffer:be,validateDictionary:oe,validateEncoding:Ne,validateFunction:He,validateInt32:W,validateInteger:ne,validateNumber:re,validateObject:j,validateOneOf:V,validatePlainFunction:K,validatePort:ze,validateSignalName:_e,validateString:$,validateUint32:q,validateUndefined:xe,validateUnion:Pe,validateAbortSignal:$e,validateLinkHeaderValue:tt}}),Cg=qt((n,e)=>{Ht(),zt(),Qt();var t=e.exports={},i,r;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=s}catch{i=s}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function o(b){if(i===setTimeout)return setTimeout(b,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}function l(b){if(r===clearTimeout)return clearTimeout(b);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(b);try{return r(b)}catch{try{return r.call(null,b)}catch{return r.call(this,b)}}}var c=[],A=!1,f,p=-1;function d(){!A||!f||(A=!1,f.length?c=f.concat(c):p=-1,c.length&&y())}function y(){if(!A){var b=o(d);A=!0;for(var _=c.length;_;){for(f=c,c=[];++p<_;)f&&f[p].run();p=-1,_=c.length}f=null,A=!1,l(b)}}t.nextTick=function(b){var _=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)_[E-1]=arguments[E];c.push(new x(b,_)),c.length===1&&!A&&o(y)};function x(b,_){this.fun=b,this.array=_}x.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(b){return[]},t.binding=function(b){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(b){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),dd=qt((n,e)=>{Ht(),zt(),Qt();var{SymbolAsyncIterator:t,SymbolIterator:i,SymbolFor:r}=ra(),s=r("nodejs.stream.destroyed"),a=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),l=r("nodejs.stream.writable"),c=r("nodejs.stream.disturbed"),A=r("nodejs.webstream.isClosedPromise"),f=r("nodejs.webstream.controllerErrorFunction");function p(z,j=!1){var oe;return!!(z&&typeof z.pipe=="function"&&typeof z.on=="function"&&(!j||typeof z.pause=="function"&&typeof z.resume=="function")&&(!z._writableState||((oe=z._readableState)===null||oe===void 0?void 0:oe.readable)!==!1)&&(!z._writableState||z._readableState))}function d(z){var j;return!!(z&&typeof z.write=="function"&&typeof z.on=="function"&&(!z._readableState||((j=z._writableState)===null||j===void 0?void 0:j.writable)!==!1))}function y(z){return!!(z&&typeof z.pipe=="function"&&z._readableState&&typeof z.on=="function"&&typeof z.write=="function")}function x(z){return z&&(z._readableState||z._writableState||typeof z.write=="function"&&typeof z.on=="function"||typeof z.pipe=="function"&&typeof z.on=="function")}function w(z){return!!(z&&!x(z)&&typeof z.pipeThrough=="function"&&typeof z.getReader=="function"&&typeof z.cancel=="function")}function b(z){return!!(z&&!x(z)&&typeof z.getWriter=="function"&&typeof z.abort=="function")}function _(z){return!!(z&&!x(z)&&typeof z.readable=="object"&&typeof z.writable=="object")}function E(z){return w(z)||b(z)||_(z)}function C(z,j){return z==null?!1:j===!0?typeof z[t]=="function":j===!1?typeof z[i]=="function":typeof z[t]=="function"||typeof z[i]=="function"}function T(z){if(!x(z))return null;let j=z._writableState,oe=z._readableState,fe=j||oe;return!!(z.destroyed||z[s]||fe!=null&&fe.destroyed)}function M(z){if(!d(z))return null;if(z.writableEnded===!0)return!0;let j=z._writableState;return j!=null&&j.errored?!1:typeof j?.ended!="boolean"?null:j.ended}function F(z,j){if(!d(z))return null;if(z.writableFinished===!0)return!0;let oe=z._writableState;return oe!=null&&oe.errored?!1:typeof oe?.finished!="boolean"?null:!!(oe.finished||j===!1&&oe.ended===!0&&oe.length===0)}function L(z){if(!p(z))return null;if(z.readableEnded===!0)return!0;let j=z._readableState;return!j||j.errored?!1:typeof j?.ended!="boolean"?null:j.ended}function N(z,j){if(!p(z))return null;let oe=z._readableState;return oe!=null&&oe.errored?!1:typeof oe?.endEmitted!="boolean"?null:!!(oe.endEmitted||j===!1&&oe.ended===!0&&oe.length===0)}function R(z){return z&&z[o]!=null?z[o]:typeof z?.readable!="boolean"?null:T(z)?!1:p(z)&&z.readable&&!N(z)}function k(z){return z&&z[l]!=null?z[l]:typeof z?.writable!="boolean"?null:T(z)?!1:d(z)&&z.writable&&!M(z)}function Q(z,j){return x(z)?T(z)?!0:!(j?.readable!==!1&&R(z)||j?.writable!==!1&&k(z)):null}function J(z){var j,oe;return x(z)?z.writableErrored?z.writableErrored:(j=(oe=z._writableState)===null||oe===void 0?void 0:oe.errored)!==null&&j!==void 0?j:null:null}function Y(z){var j,oe;return x(z)?z.readableErrored?z.readableErrored:(j=(oe=z._readableState)===null||oe===void 0?void 0:oe.errored)!==null&&j!==void 0?j:null:null}function ne(z){if(!x(z))return null;if(typeof z.closed=="boolean")return z.closed;let j=z._writableState,oe=z._readableState;return typeof j?.closed=="boolean"||typeof oe?.closed=="boolean"?j?.closed||oe?.closed:typeof z._closed=="boolean"&&W(z)?z._closed:null}function W(z){return typeof z._closed=="boolean"&&typeof z._defaultKeepAlive=="boolean"&&typeof z._removedConnection=="boolean"&&typeof z._removedContLen=="boolean"}function q(z){return typeof z._sent100=="boolean"&&W(z)}function $(z){var j;return typeof z._consuming=="boolean"&&typeof z._dumped=="boolean"&&((j=z.req)===null||j===void 0?void 0:j.upgradeOrConnect)===void 0}function re(z){if(!x(z))return null;let j=z._writableState,oe=z._readableState,fe=j||oe;return!fe&&q(z)||!!(fe&&fe.autoDestroy&&fe.emitClose&&fe.closed===!1)}function V(z){var j;return!!(z&&((j=z[c])!==null&&j!==void 0?j:z.readableDidRead||z.readableAborted))}function te(z){var j,oe,fe,ue,Ae,he,_e,be,Ne,ze;return!!(z&&((j=(oe=(fe=(ue=(Ae=(he=z[a])!==null&&he!==void 0?he:z.readableErrored)!==null&&Ae!==void 0?Ae:z.writableErrored)!==null&&ue!==void 0?ue:(_e=z._readableState)===null||_e===void 0?void 0:_e.errorEmitted)!==null&&fe!==void 0?fe:(be=z._writableState)===null||be===void 0?void 0:be.errorEmitted)!==null&&oe!==void 0?oe:(Ne=z._readableState)===null||Ne===void 0?void 0:Ne.errored)!==null&&j!==void 0?j:!((ze=z._writableState)===null||ze===void 0)&&ze.errored))}e.exports={isDestroyed:T,kIsDestroyed:s,isDisturbed:V,kIsDisturbed:c,isErrored:te,kIsErrored:a,isReadable:R,kIsReadable:o,kIsClosedPromise:A,kControllerErrorFunction:f,kIsWritable:l,isClosed:ne,isDuplexNodeStream:y,isFinished:Q,isIterable:C,isReadableNodeStream:p,isReadableStream:w,isReadableEnded:L,isReadableFinished:N,isReadableErrored:Y,isNodeStream:x,isWebStream:E,isWritable:k,isWritableNodeStream:d,isWritableStream:b,isWritableEnded:M,isWritableFinished:F,isWritableErrored:J,isServerRequest:$,isServerResponse:q,willEmitClose:re,isTransformStream:_}}),Hp=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),{AbortError:i,codes:r}=lc(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=r,{kEmptyObject:o,once:l}=Vc(),{validateAbortSignal:c,validateFunction:A,validateObject:f,validateBoolean:p}=Mx(),{Promise:d,PromisePrototypeThen:y,SymbolDispose:x}=ra(),{isClosed:w,isReadable:b,isReadableNodeStream:_,isReadableStream:E,isReadableFinished:C,isReadableErrored:T,isWritable:M,isWritableNodeStream:F,isWritableStream:L,isWritableFinished:N,isWritableErrored:R,isNodeStream:k,willEmitClose:Q,kIsClosedPromise:J}=dd(),Y;function ne(V){return V.setHeader&&typeof V.abort=="function"}var W=()=>{};function q(V,te,z){var j,oe;if(arguments.length===2?(z=te,te=o):te==null?te=o:f(te,"options"),A(z,"callback"),c(te.signal,"options.signal"),z=l(z),E(V)||L(V))return $(V,te,z);if(!k(V))throw new s("stream",["ReadableStream","WritableStream","Stream"],V);let fe=(j=te.readable)!==null&&j!==void 0?j:_(V),ue=(oe=te.writable)!==null&&oe!==void 0?oe:F(V),Ae=V._writableState,he=V._readableState,_e=()=>{V.writable||ze()},be=Q(V)&&_(V)===fe&&F(V)===ue,Ne=N(V,!1),ze=()=>{Ne=!0,V.destroyed&&(be=!1),!(be&&(!V.readable||fe))&&(!fe||$e)&&z.call(V)},$e=C(V,!1),He=()=>{$e=!0,V.destroyed&&(be=!1),!(be&&(!V.writable||ue))&&(!ue||Ne)&&z.call(V)},K=Ee=>{z.call(V,Ee)},xe=w(V),Pe=()=>{xe=!0;let Ee=R(V)||T(V);if(Ee&&typeof Ee!="boolean")return z.call(V,Ee);if(fe&&!$e&&_(V,!0)&&!C(V,!1))return z.call(V,new a);if(ue&&!Ne&&!N(V,!1))return z.call(V,new a);z.call(V)},We=()=>{xe=!0;let Ee=R(V)||T(V);if(Ee&&typeof Ee!="boolean")return z.call(V,Ee);z.call(V)},Le=()=>{V.req.on("finish",ze)};ne(V)?(V.on("complete",ze),be||V.on("abort",Pe),V.req?Le():V.on("request",Le)):ue&&!Ae&&(V.on("end",_e),V.on("close",_e)),!be&&typeof V.aborted=="boolean"&&V.on("aborted",Pe),V.on("end",He),V.on("finish",ze),te.error!==!1&&V.on("error",K),V.on("close",Pe),xe?t.nextTick(Pe):Ae!=null&&Ae.errorEmitted||he!=null&&he.errorEmitted?be||t.nextTick(We):(!fe&&(!be||b(V))&&(Ne||M(V)===!1)||!ue&&(!be||M(V))&&($e||b(V)===!1)||he&&V.req&&V.aborted)&&t.nextTick(We);let tt=()=>{z=W,V.removeListener("aborted",Pe),V.removeListener("complete",ze),V.removeListener("abort",Pe),V.removeListener("request",Le),V.req&&V.req.removeListener("finish",ze),V.removeListener("end",_e),V.removeListener("close",_e),V.removeListener("finish",ze),V.removeListener("end",He),V.removeListener("error",K),V.removeListener("close",Pe)};if(te.signal&&!xe){let Ee=()=>{let et=z;tt(),et.call(V,new i(void 0,{cause:te.signal.reason}))};if(te.signal.aborted)t.nextTick(Ee);else{Y=Y||Vc().addAbortListener;let et=Y(te.signal,Ee),me=z;z=l((...le)=>{et[x](),me.apply(V,le)})}}return tt}function $(V,te,z){let j=!1,oe=W;if(te.signal)if(oe=()=>{j=!0,z.call(V,new i(void 0,{cause:te.signal.reason}))},te.signal.aborted)t.nextTick(oe);else{Y=Y||Vc().addAbortListener;let ue=Y(te.signal,oe),Ae=z;z=l((...he)=>{ue[x](),Ae.apply(V,he)})}let fe=(...ue)=>{j||t.nextTick(()=>z.apply(V,ue))};return y(V[J].promise,fe,fe),W}function re(V,te){var z;let j=!1;return te===null&&(te=o),(z=te)!==null&&z!==void 0&&z.cleanup&&(p(te.cleanup,"cleanup"),j=te.cleanup),new d((oe,fe)=>{let ue=q(V,te,Ae=>{j&&ue(),Ae?fe(Ae):oe()})})}e.exports=q,e.exports.finished=re}),zy=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:s}=lc(),{Symbol:a}=ra(),{kIsDestroyed:o,isDestroyed:l,isFinished:c,isServerRequest:A}=dd(),f=a("kDestroy"),p=a("kConstruct");function d(Q,J,Y){Q&&(Q.stack,J&&!J.errored&&(J.errored=Q),Y&&!Y.errored&&(Y.errored=Q))}function y(Q,J){let Y=this._readableState,ne=this._writableState,W=ne||Y;return ne!=null&&ne.destroyed||Y!=null&&Y.destroyed?(typeof J=="function"&&J(),this):(d(Q,ne,Y),ne&&(ne.destroyed=!0),Y&&(Y.destroyed=!0),W.constructed?x(this,Q,J):this.once(f,function(q){x(this,i(q,Q),J)}),this)}function x(Q,J,Y){let ne=!1;function W(q){if(ne)return;ne=!0;let $=Q._readableState,re=Q._writableState;d(q,re,$),re&&(re.closed=!0),$&&($.closed=!0),typeof Y=="function"&&Y(q),q?t.nextTick(w,Q,q):t.nextTick(b,Q)}try{Q._destroy(J||null,W)}catch(q){W(q)}}function w(Q,J){_(Q,J),b(Q)}function b(Q){let J=Q._readableState,Y=Q._writableState;Y&&(Y.closeEmitted=!0),J&&(J.closeEmitted=!0),(Y!=null&&Y.emitClose||J!=null&&J.emitClose)&&Q.emit("close")}function _(Q,J){let Y=Q._readableState,ne=Q._writableState;ne!=null&&ne.errorEmitted||Y!=null&&Y.errorEmitted||(ne&&(ne.errorEmitted=!0),Y&&(Y.errorEmitted=!0),Q.emit("error",J))}function E(){let Q=this._readableState,J=this._writableState;Q&&(Q.constructed=!0,Q.closed=!1,Q.closeEmitted=!1,Q.destroyed=!1,Q.errored=null,Q.errorEmitted=!1,Q.reading=!1,Q.ended=Q.readable===!1,Q.endEmitted=Q.readable===!1),J&&(J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1)}function C(Q,J,Y){let ne=Q._readableState,W=Q._writableState;if(W!=null&&W.destroyed||ne!=null&&ne.destroyed)return this;ne!=null&&ne.autoDestroy||W!=null&&W.autoDestroy?Q.destroy(J):J&&(J.stack,W&&!W.errored&&(W.errored=J),ne&&!ne.errored&&(ne.errored=J),Y?t.nextTick(_,Q,J):_(Q,J))}function T(Q,J){if(typeof Q._construct!="function")return;let Y=Q._readableState,ne=Q._writableState;Y&&(Y.constructed=!1),ne&&(ne.constructed=!1),Q.once(p,J),!(Q.listenerCount(p)>1)&&t.nextTick(M,Q)}function M(Q){let J=!1;function Y(ne){if(J){C(Q,ne??new r);return}J=!0;let W=Q._readableState,q=Q._writableState,$=q||W;W&&(W.constructed=!0),q&&(q.constructed=!0),$.destroyed?Q.emit(f,ne):ne?C(Q,ne,!0):t.nextTick(F,Q)}try{Q._construct(ne=>{t.nextTick(Y,ne)})}catch(ne){t.nextTick(Y,ne)}}function F(Q){Q.emit(p)}function L(Q){return Q?.setHeader&&typeof Q.abort=="function"}function N(Q){Q.emit("close")}function R(Q,J){Q.emit("error",J),t.nextTick(N,Q)}function k(Q,J){!Q||l(Q)||(!J&&!c(Q)&&(J=new s),A(Q)?(Q.socket=null,Q.destroy(J)):L(Q)?Q.abort():L(Q.req)?Q.req.abort():typeof Q.destroy=="function"?Q.destroy(J):typeof Q.close=="function"?Q.close():J?t.nextTick(R,Q,J):t.nextTick(N,Q),Q.destroyed||(Q[o]=!0))}e.exports={construct:T,destroyer:k,destroy:y,undestroy:E,errorOrDestroy:C}}),U4=qt((n,e)=>{Ht(),zt(),Qt();var{ArrayIsArray:t,ObjectSetPrototypeOf:i}=ra(),{EventEmitter:r}=(Bg(),ls(kp));function s(o){r.call(this,o)}i(s.prototype,r.prototype),i(s,r),s.prototype.pipe=function(o,l){let c=this;function A(b){o.writable&&o.write(b)===!1&&c.pause&&c.pause()}c.on("data",A);function f(){c.readable&&c.resume&&c.resume()}o.on("drain",f),!o._isStdio&&(!l||l.end!==!1)&&(c.on("end",d),c.on("close",y));let p=!1;function d(){p||(p=!0,o.end())}function y(){p||(p=!0,typeof o.destroy=="function"&&o.destroy())}function x(b){w(),r.listenerCount(this,"error")===0&&this.emit("error",b)}a(c,"error",x),a(o,"error",x);function w(){c.removeListener("data",A),o.removeListener("drain",f),c.removeListener("end",d),c.removeListener("close",y),c.removeListener("error",x),o.removeListener("error",x),c.removeListener("end",w),c.removeListener("close",w),o.removeListener("close",w)}return c.on("end",w),c.on("close",w),o.on("close",w),o.emit("pipe",c),o};function a(o,l,c){if(typeof o.prependListener=="function")return o.prependListener(l,c);!o._events||!o._events[l]?o.on(l,c):t(o._events[l])?o._events[l].unshift(c):o._events[l]=[c,o._events[l]]}e.exports={Stream:s,prependListener:a}}),FS=qt((n,e)=>{Ht(),zt(),Qt();var{SymbolDispose:t}=ra(),{AbortError:i,codes:r}=lc(),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:o}=dd(),l=Hp(),{ERR_INVALID_ARG_TYPE:c}=r,A,f=(p,d)=>{if(typeof p!="object"||!("aborted"in p))throw new c(d,"AbortSignal",p)};e.exports.addAbortSignal=function(p,d){if(f(p,"signal"),!s(d)&&!a(d))throw new c("stream",["ReadableStream","WritableStream","Stream"],d);return e.exports.addAbortSignalNoValidate(p,d)},e.exports.addAbortSignalNoValidate=function(p,d){if(typeof p!="object"||!("aborted"in p))return d;let y=s(d)?()=>{d.destroy(new i(void 0,{cause:p.reason}))}:()=>{d[o](new i(void 0,{cause:p.reason}))};if(p.aborted)y();else{A=A||Vc().addAbortListener;let x=A(p,y);l(d,x[t])}return d}}),_G=qt((n,e)=>{Ht(),zt(),Qt();var{StringPrototypeSlice:t,SymbolIterator:i,TypedArrayPrototypeSet:r,Uint8Array:s}=ra(),{Buffer:a}=(Do(),ls(Ro)),{inspect:o}=Vc();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,A=""+c.data;for(;(c=c.next)!==null;)A+=l+c.data;return A}concat(l){if(this.length===0)return a.alloc(0);let c=a.allocUnsafe(l>>>0),A=this.head,f=0;for(;A;)r(c,A.data,f),f+=A.data.length,A=A.next;return c}consume(l,c){let A=this.head.data;if(l<A.length){let f=A.slice(0,l);return this.head.data=A.slice(l),f}return l===A.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[i](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",A=this.head,f=0;do{let p=A.data;if(l>p.length)c+=p,l-=p.length;else{l===p.length?(c+=p,++f,A.next?this.head=A.next:this.head=this.tail=null):(c+=t(p,0,l),this.head=A,A.data=t(p,l));break}++f}while((A=A.next)!==null);return this.length-=f,c}_getBuffer(l){let c=a.allocUnsafe(l),A=l,f=this.head,p=0;do{let d=f.data;if(l>d.length)r(c,d,A-l),l-=d.length;else{l===d.length?(r(c,d,A-l),++p,f.next?this.head=f.next:this.head=this.tail=null):(r(c,new s(d.buffer,d.byteOffset,l),A-l),this.head=f,f.data=d.slice(l));break}++p}while((f=f.next)!==null);return this.length-=p,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return o(this,{...c,depth:0,customInspect:!1})}}}),IS=qt((n,e)=>{Ht(),zt(),Qt();var{MathFloor:t,NumberIsInteger:i}=ra(),{validateInteger:r}=Mx(),{ERR_INVALID_ARG_VALUE:s}=lc().codes,a=16*1024,o=16;function l(p,d,y){return p.highWaterMark!=null?p.highWaterMark:d?p[y]:null}function c(p){return p?o:a}function A(p,d){r(d,"value",0),p?o=d:a=d}function f(p,d,y,x){let w=l(d,x,y);if(w!=null){if(!i(w)||w<0){let b=x?`options.${y}`:"options.highWaterMark";throw new s(b,w)}return t(w)}return c(p.objectMode)}e.exports={getHighWaterMark:f,getDefaultHighWaterMark:c,setDefaultHighWaterMark:A}}),SG=qt((n,e)=>{Ht(),zt(),Qt();var t=(Do(),ls(Ro)),i=t.Buffer;function r(a,o){for(var l in a)o[l]=a[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=t:(r(t,n),n.Buffer=s);function s(a,o,l){return i(a,o,l)}s.prototype=Object.create(i.prototype),r(i,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=i(a);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(a)}}),EG=qt(n=>{Ht(),zt(),Qt();var e=SG().Buffer,t=e.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(_){if(!_)return"utf8";for(var E;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(E)return;_=(""+_).toLowerCase(),E=!0}}function r(_){var E=i(_);if(typeof E!="string"&&(e.isEncoding===t||!t(_)))throw new Error("Unknown encoding: "+_);return E||_}n.StringDecoder=s;function s(_){this.encoding=r(_);var E;switch(this.encoding){case"utf16le":this.text=p,this.end=d,E=4;break;case"utf8":this.fillLast=c,E=4;break;case"base64":this.text=y,this.end=x,E=3;break;default:this.write=w,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}s.prototype.write=function(_){if(_.length===0)return"";var E,C;if(this.lastNeed){if(E=this.fillLast(_),E===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<_.length?E?E+this.text(_,C):this.text(_,C):E||""},s.prototype.end=f,s.prototype.text=A,s.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function a(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function o(_,E,C){var T=E.length-1;if(T<C)return 0;var M=a(E[T]);return M>=0?(M>0&&(_.lastNeed=M-1),M):--T<C||M===-2?0:(M=a(E[T]),M>=0?(M>0&&(_.lastNeed=M-2),M):--T<C||M===-2?0:(M=a(E[T]),M>=0?(M>0&&(M===2?M=0:_.lastNeed=M-3),M):0))}function l(_,E,C){if((E[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return _.lastNeed=2,""}}function c(_){var E=this.lastTotal-this.lastNeed,C=l(this,_);if(C!==void 0)return C;if(this.lastNeed<=_.length)return _.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,E,0,_.length),this.lastNeed-=_.length}function A(_,E){var C=o(this,_,E);if(!this.lastNeed)return _.toString("utf8",E);this.lastTotal=C;var T=_.length-(C-this.lastNeed);return _.copy(this.lastChar,0,T),_.toString("utf8",E,T)}function f(_){var E=_&&_.length?this.write(_):"";return this.lastNeed?E+"":E}function p(_,E){if((_.length-E)%2===0){var C=_.toString("utf16le",E);if(C){var T=C.charCodeAt(C.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",E,_.length-1)}function d(_){var E=_&&_.length?this.write(_):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,C)}return E}function y(_,E){var C=(_.length-E)%3;return C===0?_.toString("base64",E):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",E,_.length-C))}function x(_){var E=_&&_.length?this.write(_):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function w(_){return _.toString(this.encoding)}function b(_){return _&&_.length?this.write(_):""}}),HP=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),{PromisePrototypeThen:i,SymbolAsyncIterator:r,SymbolIterator:s}=ra(),{Buffer:a}=(Do(),ls(Ro)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:l}=lc().codes;function c(A,f,p){let d;if(typeof f=="string"||f instanceof a)return new A({objectMode:!0,...p,read(){this.push(f),this.push(null)}});let y;if(f&&f[r])y=!0,d=f[r]();else if(f&&f[s])y=!1,d=f[s]();else throw new o("iterable",["Iterable"],f);let x=new A({objectMode:!0,highWaterMark:1,...p}),w=!1;x._read=function(){w||(w=!0,_())},x._destroy=function(E,C){i(b(E),()=>t.nextTick(C,E),T=>t.nextTick(C,T||E))};async function b(E){let C=E!=null,T=typeof d.throw=="function";if(C&&T){let{value:M,done:F}=await d.throw(E);if(await M,F)return}if(typeof d.return=="function"){let{value:M}=await d.return();await M}}async function _(){for(;;){try{let{value:E,done:C}=y?await d.next():d.next();if(C)x.push(null);else{let T=E&&typeof E.then=="function"?await E:E;if(T===null)throw w=!1,new l;if(x.push(T))continue;w=!1}}catch(E){x.destroy(E)}break}}return x}e.exports=c}),LS=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),{ArrayPrototypeIndexOf:i,NumberIsInteger:r,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:o,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:A,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:d,Symbol:y}=ra();e.exports=le,le.ReadableState=me;var{EventEmitter:x}=(Bg(),ls(kp)),{Stream:w,prependListener:b}=U4(),{Buffer:_}=(Do(),ls(Ro)),{addAbortSignal:E}=FS(),C=Hp(),T=Vc().debuglog("stream",Be=>{T=Be}),M=_G(),F=zy(),{getHighWaterMark:L,getDefaultHighWaterMark:N}=IS(),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:Q,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:Y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ne},AbortError:W}=lc(),{validateObject:q}=Mx(),$=y("kPaused"),{StringDecoder:re}=EG(),V=HP();c(le.prototype,w.prototype),c(le,w);var te=()=>{},{errorOrDestroy:z}=F,j=1,oe=2,fe=4,ue=8,Ae=16,he=32,_e=64,be=128,Ne=256,ze=512,$e=1024,He=2048,K=4096,xe=8192,Pe=16384,We=32768,Le=65536,tt=1<<17,Ee=1<<18;function et(Be){return{enumerable:!1,get(){return(this.state&Be)!==0},set(Ke){Ke?this.state|=Be:this.state&=~Be}}}o(me.prototype,{objectMode:et(j),ended:et(oe),endEmitted:et(fe),reading:et(ue),constructed:et(Ae),sync:et(he),needReadable:et(_e),emittedReadable:et(be),readableListening:et(Ne),resumeScheduled:et(ze),errorEmitted:et($e),emitClose:et(He),autoDestroy:et(K),destroyed:et(xe),closed:et(Pe),closeEmitted:et(We),multiAwaitDrain:et(Le),readingMore:et(tt),dataEmitted:et(Ee)});function me(Be,Ke,tn){typeof tn!="boolean"&&(tn=Ke instanceof cd()),this.state=He|K|Ae|he,Be&&Be.objectMode&&(this.state|=j),tn&&Be&&Be.readableObjectMode&&(this.state|=j),this.highWaterMark=Be?L(this,Be,"readableHighWaterMark",tn):N(!1),this.buffer=new M,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,Be&&Be.emitClose===!1&&(this.state&=~He),Be&&Be.autoDestroy===!1&&(this.state&=~K),this.errored=null,this.defaultEncoding=Be&&Be.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Be&&Be.encoding&&(this.decoder=new re(Be.encoding),this.encoding=Be.encoding)}function le(Be){if(!(this instanceof le))return new le(Be);let Ke=this instanceof cd();this._readableState=new me(Be,this,Ke),Be&&(typeof Be.read=="function"&&(this._read=Be.read),typeof Be.destroy=="function"&&(this._destroy=Be.destroy),typeof Be.construct=="function"&&(this._construct=Be.construct),Be.signal&&!Ke&&E(Be.signal,this)),w.call(this,Be),F.construct(this,()=>{this._readableState.needReadable&&Me(this,this._readableState)})}le.prototype.destroy=F.destroy,le.prototype._undestroy=F.undestroy,le.prototype._destroy=function(Be,Ke){Ke(Be)},le.prototype[x.captureRejectionSymbol]=function(Be){this.destroy(Be)},le.prototype[p]=function(){let Be;return this.destroyed||(Be=this.readableEnded?null:new W,this.destroy(Be)),new A((Ke,tn)=>C(this,cn=>cn&&cn!==Be?tn(cn):Ke(null)))},le.prototype.push=function(Be,Ke){return Je(this,Be,Ke,!1)},le.prototype.unshift=function(Be,Ke){return Je(this,Be,Ke,!0)};function Je(Be,Ke,tn,cn){T("readableAddChunk",Ke);let An=Be._readableState,On;if((An.state&j)===0&&(typeof Ke=="string"?(tn=tn||An.defaultEncoding,An.encoding!==tn&&(cn&&An.encoding?Ke=_.from(Ke,tn).toString(An.encoding):(Ke=_.from(Ke,tn),tn=""))):Ke instanceof _?tn="":w._isUint8Array(Ke)?(Ke=w._uint8ArrayToBuffer(Ke),tn=""):Ke!=null&&(On=new k("chunk",["string","Buffer","Uint8Array"],Ke))),On)z(Be,On);else if(Ke===null)An.state&=~ue,Re(Be,An);else if((An.state&j)!==0||Ke&&Ke.length>0)if(cn)if((An.state&fe)!==0)z(Be,new ne);else{if(An.destroyed||An.errored)return!1;P(Be,An,Ke,!0)}else if(An.ended)z(Be,new Y);else{if(An.destroyed||An.errored)return!1;An.state&=~ue,An.decoder&&!tn?(Ke=An.decoder.write(Ke),An.objectMode||Ke.length!==0?P(Be,An,Ke,!1):Me(Be,An)):P(Be,An,Ke,!1)}else cn||(An.state&=~ue,Me(Be,An));return!An.ended&&(An.length<An.highWaterMark||An.length===0)}function P(Be,Ke,tn,cn){Ke.flowing&&Ke.length===0&&!Ke.sync&&Be.listenerCount("data")>0?((Ke.state&Le)!==0?Ke.awaitDrainWriters.clear():Ke.awaitDrainWriters=null,Ke.dataEmitted=!0,Be.emit("data",tn)):(Ke.length+=Ke.objectMode?1:tn.length,cn?Ke.buffer.unshift(tn):Ke.buffer.push(tn),(Ke.state&_e)!==0&&Ze(Be)),Me(Be,Ke)}le.prototype.isPaused=function(){let Be=this._readableState;return Be[$]===!0||Be.flowing===!1},le.prototype.setEncoding=function(Be){let Ke=new re(Be);this._readableState.decoder=Ke,this._readableState.encoding=this._readableState.decoder.encoding;let tn=this._readableState.buffer,cn="";for(let An of tn)cn+=Ke.write(An);return tn.clear(),cn!==""&&tn.push(cn),this._readableState.length=cn.length,this};var Z=1073741824;function se(Be){if(Be>Z)throw new J("size","<= 1GiB",Be);return Be--,Be|=Be>>>1,Be|=Be>>>2,Be|=Be>>>4,Be|=Be>>>8,Be|=Be>>>16,Be++,Be}function we(Be,Ke){return Be<=0||Ke.length===0&&Ke.ended?0:(Ke.state&j)!==0?1:s(Be)?Ke.flowing&&Ke.length?Ke.buffer.first().length:Ke.length:Be<=Ke.length?Be:Ke.ended?Ke.length:0}le.prototype.read=function(Be){T("read",Be),Be===void 0?Be=NaN:r(Be)||(Be=a(Be,10));let Ke=this._readableState,tn=Be;if(Be>Ke.highWaterMark&&(Ke.highWaterMark=se(Be)),Be!==0&&(Ke.state&=~be),Be===0&&Ke.needReadable&&((Ke.highWaterMark!==0?Ke.length>=Ke.highWaterMark:Ke.length>0)||Ke.ended))return T("read: emitReadable",Ke.length,Ke.ended),Ke.length===0&&Ke.ended?Ct(this):Ze(this),null;if(Be=we(Be,Ke),Be===0&&Ke.ended)return Ke.length===0&&Ct(this),null;let cn=(Ke.state&_e)!==0;if(T("need readable",cn),(Ke.length===0||Ke.length-Be<Ke.highWaterMark)&&(cn=!0,T("length less than watermark",cn)),Ke.ended||Ke.reading||Ke.destroyed||Ke.errored||!Ke.constructed)cn=!1,T("reading, ended or constructing",cn);else if(cn){T("do read"),Ke.state|=ue|he,Ke.length===0&&(Ke.state|=_e);try{this._read(Ke.highWaterMark)}catch(On){z(this,On)}Ke.state&=~he,Ke.reading||(Be=we(tn,Ke))}let An;return Be>0?An=Et(Be,Ke):An=null,An===null?(Ke.needReadable=Ke.length<=Ke.highWaterMark,Be=0):(Ke.length-=Be,Ke.multiAwaitDrain?Ke.awaitDrainWriters.clear():Ke.awaitDrainWriters=null),Ke.length===0&&(Ke.ended||(Ke.needReadable=!0),tn!==Be&&Ke.ended&&Ct(this)),An!==null&&!Ke.errorEmitted&&!Ke.closeEmitted&&(Ke.dataEmitted=!0,this.emit("data",An)),An};function Re(Be,Ke){if(T("onEofChunk"),!Ke.ended){if(Ke.decoder){let tn=Ke.decoder.end();tn&&tn.length&&(Ke.buffer.push(tn),Ke.length+=Ke.objectMode?1:tn.length)}Ke.ended=!0,Ke.sync?Ze(Be):(Ke.needReadable=!1,Ke.emittedReadable=!0,dt(Be))}}function Ze(Be){let Ke=Be._readableState;T("emitReadable",Ke.needReadable,Ke.emittedReadable),Ke.needReadable=!1,Ke.emittedReadable||(T("emitReadable",Ke.flowing),Ke.emittedReadable=!0,t.nextTick(dt,Be))}function dt(Be){let Ke=Be._readableState;T("emitReadable_",Ke.destroyed,Ke.length,Ke.ended),!Ke.destroyed&&!Ke.errored&&(Ke.length||Ke.ended)&&(Be.emit("readable"),Ke.emittedReadable=!1),Ke.needReadable=!Ke.flowing&&!Ke.ended&&Ke.length<=Ke.highWaterMark,ot(Be)}function Me(Be,Ke){!Ke.readingMore&&Ke.constructed&&(Ke.readingMore=!0,t.nextTick(Oe,Be,Ke))}function Oe(Be,Ke){for(;!Ke.reading&&!Ke.ended&&(Ke.length<Ke.highWaterMark||Ke.flowing&&Ke.length===0);){let tn=Ke.length;if(T("maybeReadMore read 0"),Be.read(0),tn===Ke.length)break}Ke.readingMore=!1}le.prototype._read=function(Be){throw new Q("_read()")},le.prototype.pipe=function(Be,Ke){let tn=this,cn=this._readableState;cn.pipes.length===1&&(cn.multiAwaitDrain||(cn.multiAwaitDrain=!0,cn.awaitDrainWriters=new f(cn.awaitDrainWriters?[cn.awaitDrainWriters]:[]))),cn.pipes.push(Be),T("pipe count=%d opts=%j",cn.pipes.length,Ke);let An=(!Ke||Ke.end!==!1)&&Be!==t.stdout&&Be!==t.stderr?li:Lt;cn.endEmitted?t.nextTick(An):tn.once("end",An),Be.on("unpipe",On);function On(Mt,Zt){T("onunpipe"),Mt===tn&&Zt&&Zt.hasUnpiped===!1&&(Zt.hasUnpiped=!0,er())}function li(){T("onend"),Be.end()}let ui,Pn=!1;function er(){T("cleanup"),Be.removeListener("close",it),Be.removeListener("finish",wt),ui&&Be.removeListener("drain",ui),Be.removeListener("error",Ue),Be.removeListener("unpipe",On),tn.removeListener("end",li),tn.removeListener("end",Lt),tn.removeListener("data",pe),Pn=!0,ui&&cn.awaitDrainWriters&&(!Be._writableState||Be._writableState.needDrain)&&ui()}function Gn(){Pn||(cn.pipes.length===1&&cn.pipes[0]===Be?(T("false write response, pause",0),cn.awaitDrainWriters=Be,cn.multiAwaitDrain=!1):cn.pipes.length>1&&cn.pipes.includes(Be)&&(T("false write response, pause",cn.awaitDrainWriters.size),cn.awaitDrainWriters.add(Be)),tn.pause()),ui||(ui=bt(tn,Be),Be.on("drain",ui))}tn.on("data",pe);function pe(Mt){T("ondata");let Zt=Be.write(Mt);T("dest.write",Zt),Zt===!1&&Gn()}function Ue(Mt){if(T("onerror",Mt),Lt(),Be.removeListener("error",Ue),Be.listenerCount("error")===0){let Zt=Be._writableState||Be._readableState;Zt&&!Zt.errorEmitted?z(Be,Mt):Be.emit("error",Mt)}}b(Be,"error",Ue);function it(){Be.removeListener("finish",wt),Lt()}Be.once("close",it);function wt(){T("onfinish"),Be.removeListener("close",it),Lt()}Be.once("finish",wt);function Lt(){T("unpipe"),tn.unpipe(Be)}return Be.emit("pipe",tn),Be.writableNeedDrain===!0?Gn():cn.flowing||(T("pipe resume"),tn.resume()),Be};function bt(Be,Ke){return function(){let tn=Be._readableState;tn.awaitDrainWriters===Ke?(T("pipeOnDrain",1),tn.awaitDrainWriters=null):tn.multiAwaitDrain&&(T("pipeOnDrain",tn.awaitDrainWriters.size),tn.awaitDrainWriters.delete(Ke)),(!tn.awaitDrainWriters||tn.awaitDrainWriters.size===0)&&Be.listenerCount("data")&&Be.resume()}}le.prototype.unpipe=function(Be){let Ke=this._readableState,tn={hasUnpiped:!1};if(Ke.pipes.length===0)return this;if(!Be){let An=Ke.pipes;Ke.pipes=[],this.pause();for(let On=0;On<An.length;On++)An[On].emit("unpipe",this,{hasUnpiped:!1});return this}let cn=i(Ke.pipes,Be);return cn===-1?this:(Ke.pipes.splice(cn,1),Ke.pipes.length===0&&this.pause(),Be.emit("unpipe",this,tn),this)},le.prototype.on=function(Be,Ke){let tn=w.prototype.on.call(this,Be,Ke),cn=this._readableState;return Be==="data"?(cn.readableListening=this.listenerCount("readable")>0,cn.flowing!==!1&&this.resume()):Be==="readable"&&!cn.endEmitted&&!cn.readableListening&&(cn.readableListening=cn.needReadable=!0,cn.flowing=!1,cn.emittedReadable=!1,T("on readable",cn.length,cn.reading),cn.length?Ze(this):cn.reading||t.nextTick(Xe,this)),tn},le.prototype.addListener=le.prototype.on,le.prototype.removeListener=function(Be,Ke){let tn=w.prototype.removeListener.call(this,Be,Ke);return Be==="readable"&&t.nextTick(Fe,this),tn},le.prototype.off=le.prototype.removeListener,le.prototype.removeAllListeners=function(Be){let Ke=w.prototype.removeAllListeners.apply(this,arguments);return(Be==="readable"||Be===void 0)&&t.nextTick(Fe,this),Ke};function Fe(Be){let Ke=Be._readableState;Ke.readableListening=Be.listenerCount("readable")>0,Ke.resumeScheduled&&Ke[$]===!1?Ke.flowing=!0:Be.listenerCount("data")>0?Be.resume():Ke.readableListening||(Ke.flowing=null)}function Xe(Be){T("readable nexttick read 0"),Be.read(0)}le.prototype.resume=function(){let Be=this._readableState;return Be.flowing||(T("resume"),Be.flowing=!Be.readableListening,ht(this,Be)),Be[$]=!1,this};function ht(Be,Ke){Ke.resumeScheduled||(Ke.resumeScheduled=!0,t.nextTick(Qe,Be,Ke))}function Qe(Be,Ke){T("resume",Ke.reading),Ke.reading||Be.read(0),Ke.resumeScheduled=!1,Be.emit("resume"),ot(Be),Ke.flowing&&!Ke.reading&&Be.read(0)}le.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this};function ot(Be){let Ke=Be._readableState;for(T("flow",Ke.flowing);Ke.flowing&&Be.read()!==null;);}le.prototype.wrap=function(Be){let Ke=!1;Be.on("data",cn=>{!this.push(cn)&&Be.pause&&(Ke=!0,Be.pause())}),Be.on("end",()=>{this.push(null)}),Be.on("error",cn=>{z(this,cn)}),Be.on("close",()=>{this.destroy()}),Be.on("destroy",()=>{this.destroy()}),this._read=()=>{Ke&&Be.resume&&(Ke=!1,Be.resume())};let tn=l(Be);for(let cn=1;cn<tn.length;cn++){let An=tn[cn];this[An]===void 0&&typeof Be[An]=="function"&&(this[An]=Be[An].bind(Be))}return this},le.prototype[d]=function(){return Dt(this)},le.prototype.iterator=function(Be){return Be!==void 0&&q(Be,"options"),Dt(this,Be)};function Dt(Be,Ke){typeof Be.read!="function"&&(Be=le.wrap(Be,{objectMode:!0}));let tn=Rt(Be,Ke);return tn.stream=Be,tn}async function*Rt(Be,Ke){let tn=te;function cn(li){this===Be?(tn(),tn=te):tn=li}Be.on("readable",cn);let An,On=C(Be,{writable:!1},li=>{An=li?R(An,li):null,tn(),tn=te});try{for(;;){let li=Be.destroyed?null:Be.read();if(li!==null)yield li;else{if(An)throw An;if(An===null)return;await new A(cn)}}}catch(li){throw An=R(An,li),An}finally{(An||Ke?.destroyOnReturn!==!1)&&(An===void 0||Be._readableState.autoDestroy)?F.destroyer(Be,null):(Be.off("readable",cn),On())}}o(le.prototype,{readable:{__proto__:null,get(){let Be=this._readableState;return!!Be&&Be.readable!==!1&&!Be.destroyed&&!Be.errorEmitted&&!Be.endEmitted},set(Be){this._readableState&&(this._readableState.readable=!!Be)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Be){this._readableState&&(this._readableState.flowing=Be)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Be){this._readableState&&(this._readableState.destroyed=Be)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(me.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$]!==!1},set(Be){this[$]=!!Be}}}),le._fromList=Et;function Et(Be,Ke){if(Ke.length===0)return null;let tn;return Ke.objectMode?tn=Ke.buffer.shift():!Be||Be>=Ke.length?(Ke.decoder?tn=Ke.buffer.join(""):Ke.buffer.length===1?tn=Ke.buffer.first():tn=Ke.buffer.concat(Ke.length),Ke.buffer.clear()):tn=Ke.buffer.consume(Be,Ke.decoder),tn}function Ct(Be){let Ke=Be._readableState;T("endReadable",Ke.endEmitted),Ke.endEmitted||(Ke.ended=!0,t.nextTick(an,Ke,Be))}function an(Be,Ke){if(T("endReadableNT",Be.endEmitted,Be.length),!Be.errored&&!Be.closeEmitted&&!Be.endEmitted&&Be.length===0){if(Be.endEmitted=!0,Ke.emit("end"),Ke.writable&&Ke.allowHalfOpen===!1)t.nextTick(pn,Ke);else if(Be.autoDestroy){let tn=Ke._writableState;(!tn||tn.autoDestroy&&(tn.finished||tn.writable===!1))&&Ke.destroy()}}}function pn(Be){Be.writable&&!Be.writableEnded&&!Be.destroyed&&Be.end()}le.from=function(Be,Ke){return V(le,Be,Ke)};var Xn;function Vn(){return Xn===void 0&&(Xn={}),Xn}le.fromWeb=function(Be,Ke){return Vn().newStreamReadableFromReadableStream(Be,Ke)},le.toWeb=function(Be,Ke){return Vn().newReadableStreamFromStreamReadable(Be,Ke)},le.wrap=function(Be,Ke){var tn,cn;return new le({objectMode:(tn=(cn=Be.readableObjectMode)!==null&&cn!==void 0?cn:Be.objectMode)!==null&&tn!==void 0?tn:!0,...Ke,destroy(An,On){F.destroyer(Be,An),On(An)}}).wrap(Be)}}),N4=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),{ArrayPrototypeSlice:i,Error:r,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:o,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:A,SymbolHasInstance:f}=ra();e.exports=q,q.WritableState=ne;var{EventEmitter:p}=(Bg(),ls(kp)),d=U4().Stream,{Buffer:y}=(Do(),ls(Ro)),x=zy(),{addAbortSignal:w}=FS(),{getHighWaterMark:b,getDefaultHighWaterMark:_}=IS(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:M,ERR_STREAM_DESTROYED:F,ERR_STREAM_ALREADY_FINISHED:L,ERR_STREAM_NULL_VALUES:N,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:k}=lc().codes,{errorOrDestroy:Q}=x;l(q.prototype,d.prototype),l(q,d);function J(){}var Y=A("kOnFinished");function ne(K,xe,Pe){typeof Pe!="boolean"&&(Pe=xe instanceof cd()),this.objectMode=!!(K&&K.objectMode),Pe&&(this.objectMode=this.objectMode||!!(K&&K.writableObjectMode)),this.highWaterMark=K?b(this,K,"writableHighWaterMark",Pe):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let We=!!(K&&K.decodeStrings===!1);this.decodeStrings=!We,this.defaultEncoding=K&&K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=z.bind(void 0,xe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,W(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!K||K.emitClose!==!1,this.autoDestroy=!K||K.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Y]=[]}function W(K){K.buffered=[],K.bufferedIndex=0,K.allBuffers=!0,K.allNoop=!0}ne.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},a(ne.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function q(K){let xe=this instanceof cd();if(!xe&&!s(q,this))return new q(K);this._writableState=new ne(K,this,xe),K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final),typeof K.construct=="function"&&(this._construct=K.construct),K.signal&&w(K.signal,this)),d.call(this,K),x.construct(this,()=>{let Pe=this._writableState;Pe.writing||ue(this,Pe),be(this,Pe)})}a(q,f,{__proto__:null,value:function(K){return s(this,K)?!0:this!==q?!1:K&&K._writableState instanceof ne}}),q.prototype.pipe=function(){Q(this,new M)};function $(K,xe,Pe,We){let Le=K._writableState;if(typeof Pe=="function")We=Pe,Pe=Le.defaultEncoding;else{if(!Pe)Pe=Le.defaultEncoding;else if(Pe!=="buffer"&&!y.isEncoding(Pe))throw new k(Pe);typeof We!="function"&&(We=J)}if(xe===null)throw new N;if(!Le.objectMode)if(typeof xe=="string")Le.decodeStrings!==!1&&(xe=y.from(xe,Pe),Pe="buffer");else if(xe instanceof y)Pe="buffer";else if(d._isUint8Array(xe))xe=d._uint8ArrayToBuffer(xe),Pe="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],xe);let tt;return Le.ending?tt=new R:Le.destroyed&&(tt=new F("write")),tt?(t.nextTick(We,tt),Q(K,tt,!0),tt):(Le.pendingcb++,re(K,Le,xe,Pe,We))}q.prototype.write=function(K,xe,Pe){return $(this,K,xe,Pe)===!0},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){let K=this._writableState;K.corked&&(K.corked--,K.writing||ue(this,K))},q.prototype.setDefaultEncoding=function(K){if(typeof K=="string"&&(K=c(K)),!y.isEncoding(K))throw new k(K);return this._writableState.defaultEncoding=K,this};function re(K,xe,Pe,We,Le){let tt=xe.objectMode?1:Pe.length;xe.length+=tt;let Ee=xe.length<xe.highWaterMark;return Ee||(xe.needDrain=!0),xe.writing||xe.corked||xe.errored||!xe.constructed?(xe.buffered.push({chunk:Pe,encoding:We,callback:Le}),xe.allBuffers&&We!=="buffer"&&(xe.allBuffers=!1),xe.allNoop&&Le!==J&&(xe.allNoop=!1)):(xe.writelen=tt,xe.writecb=Le,xe.writing=!0,xe.sync=!0,K._write(Pe,We,xe.onwrite),xe.sync=!1),Ee&&!xe.errored&&!xe.destroyed}function V(K,xe,Pe,We,Le,tt,Ee){xe.writelen=We,xe.writecb=Ee,xe.writing=!0,xe.sync=!0,xe.destroyed?xe.onwrite(new F("write")):Pe?K._writev(Le,xe.onwrite):K._write(Le,tt,xe.onwrite),xe.sync=!1}function te(K,xe,Pe,We){--xe.pendingcb,We(Pe),fe(xe),Q(K,Pe)}function z(K,xe){let Pe=K._writableState,We=Pe.sync,Le=Pe.writecb;if(typeof Le!="function"){Q(K,new T);return}Pe.writing=!1,Pe.writecb=null,Pe.length-=Pe.writelen,Pe.writelen=0,xe?(xe.stack,Pe.errored||(Pe.errored=xe),K._readableState&&!K._readableState.errored&&(K._readableState.errored=xe),We?t.nextTick(te,K,Pe,xe,Le):te(K,Pe,xe,Le)):(Pe.buffered.length>Pe.bufferedIndex&&ue(K,Pe),We?Pe.afterWriteTickInfo!==null&&Pe.afterWriteTickInfo.cb===Le?Pe.afterWriteTickInfo.count++:(Pe.afterWriteTickInfo={count:1,cb:Le,stream:K,state:Pe},t.nextTick(j,Pe.afterWriteTickInfo)):oe(K,Pe,1,Le))}function j({stream:K,state:xe,count:Pe,cb:We}){return xe.afterWriteTickInfo=null,oe(K,xe,Pe,We)}function oe(K,xe,Pe,We){for(!xe.ending&&!K.destroyed&&xe.length===0&&xe.needDrain&&(xe.needDrain=!1,K.emit("drain"));Pe-- >0;)xe.pendingcb--,We();xe.destroyed&&fe(xe),be(K,xe)}function fe(K){if(K.writing)return;for(let Le=K.bufferedIndex;Le<K.buffered.length;++Le){var xe;let{chunk:tt,callback:Ee}=K.buffered[Le],et=K.objectMode?1:tt.length;K.length-=et,Ee((xe=K.errored)!==null&&xe!==void 0?xe:new F("write"))}let Pe=K[Y].splice(0);for(let Le=0;Le<Pe.length;Le++){var We;Pe[Le]((We=K.errored)!==null&&We!==void 0?We:new F("end"))}W(K)}function ue(K,xe){if(xe.corked||xe.bufferProcessing||xe.destroyed||!xe.constructed)return;let{buffered:Pe,bufferedIndex:We,objectMode:Le}=xe,tt=Pe.length-We;if(!tt)return;let Ee=We;if(xe.bufferProcessing=!0,tt>1&&K._writev){xe.pendingcb-=tt-1;let et=xe.allNoop?J:le=>{for(let Je=Ee;Je<Pe.length;++Je)Pe[Je].callback(le)},me=xe.allNoop&&Ee===0?Pe:i(Pe,Ee);me.allBuffers=xe.allBuffers,V(K,xe,!0,xe.length,me,"",et),W(xe)}else{do{let{chunk:et,encoding:me,callback:le}=Pe[Ee];Pe[Ee++]=null;let Je=Le?1:et.length;V(K,xe,!1,Je,et,me,le)}while(Ee<Pe.length&&!xe.writing);Ee===Pe.length?W(xe):Ee>256?(Pe.splice(0,Ee),xe.bufferedIndex=0):xe.bufferedIndex=Ee}xe.bufferProcessing=!1}q.prototype._write=function(K,xe,Pe){if(this._writev)this._writev([{chunk:K,encoding:xe}],Pe);else throw new C("_write()")},q.prototype._writev=null,q.prototype.end=function(K,xe,Pe){let We=this._writableState;typeof K=="function"?(Pe=K,K=null,xe=null):typeof xe=="function"&&(Pe=xe,xe=null);let Le;if(K!=null){let tt=$(this,K,xe);tt instanceof r&&(Le=tt)}return We.corked&&(We.corked=1,this.uncork()),Le||(!We.errored&&!We.ending?(We.ending=!0,be(this,We,!0),We.ended=!0):We.finished?Le=new L("end"):We.destroyed&&(Le=new F("end"))),typeof Pe=="function"&&(Le||We.finished?t.nextTick(Pe,Le):We[Y].push(Pe)),this};function Ae(K){return K.ending&&!K.destroyed&&K.constructed&&K.length===0&&!K.errored&&K.buffered.length===0&&!K.finished&&!K.writing&&!K.errorEmitted&&!K.closeEmitted}function he(K,xe){let Pe=!1;function We(Le){if(Pe){Q(K,Le??T());return}if(Pe=!0,xe.pendingcb--,Le){let tt=xe[Y].splice(0);for(let Ee=0;Ee<tt.length;Ee++)tt[Ee](Le);Q(K,Le,xe.sync)}else Ae(xe)&&(xe.prefinished=!0,K.emit("prefinish"),xe.pendingcb++,t.nextTick(Ne,K,xe))}xe.sync=!0,xe.pendingcb++;try{K._final(We)}catch(Le){We(Le)}xe.sync=!1}function _e(K,xe){!xe.prefinished&&!xe.finalCalled&&(typeof K._final=="function"&&!xe.destroyed?(xe.finalCalled=!0,he(K,xe)):(xe.prefinished=!0,K.emit("prefinish")))}function be(K,xe,Pe){Ae(xe)&&(_e(K,xe),xe.pendingcb===0&&(Pe?(xe.pendingcb++,t.nextTick((We,Le)=>{Ae(Le)?Ne(We,Le):Le.pendingcb--},K,xe)):Ae(xe)&&(xe.pendingcb++,Ne(K,xe))))}function Ne(K,xe){xe.pendingcb--,xe.finished=!0;let Pe=xe[Y].splice(0);for(let We=0;We<Pe.length;We++)Pe[We]();if(K.emit("finish"),xe.autoDestroy){let We=K._readableState;(!We||We.autoDestroy&&(We.endEmitted||We.readable===!1))&&K.destroy()}}o(q.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(K){this._writableState&&(this._writableState.destroyed=K)}},writable:{__proto__:null,get(){let K=this._writableState;return!!K&&K.writable!==!1&&!K.destroyed&&!K.errored&&!K.ending&&!K.ended},set(K){this._writableState&&(this._writableState.writable=!!K)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let K=this._writableState;return K?!K.destroyed&&!K.ending&&K.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ze=x.destroy;q.prototype.destroy=function(K,xe){let Pe=this._writableState;return!Pe.destroyed&&(Pe.bufferedIndex<Pe.buffered.length||Pe[Y].length)&&t.nextTick(fe,Pe),ze.call(this,K,xe),this},q.prototype._undestroy=x.undestroy,q.prototype._destroy=function(K,xe){xe(K)},q.prototype[p.captureRejectionSymbol]=function(K){this.destroy(K)};var $e;function He(){return $e===void 0&&($e={}),$e}q.fromWeb=function(K,xe){return He().newStreamWritableFromWritableStream(K,xe)},q.toWeb=function(K){return He().newWritableStreamFromStreamWritable(K)}}),BG=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),i=(Do(),ls(Ro)),{isReadable:r,isWritable:s,isIterable:a,isNodeStream:o,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:A,isReadableStream:f,isWritableStream:p}=dd(),d=Hp(),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:w}}=lc(),{destroyer:b}=zy(),_=cd(),E=LS(),C=N4(),{createDeferredPromise:T}=Vc(),M=HP(),F=globalThis.Blob||i.Blob,L=typeof F<"u"?function(Y){return Y instanceof F}:function(Y){return!1},N=globalThis.AbortController||J1().AbortController,{FunctionPrototypeCall:R}=ra(),k=class extends _{constructor(Y){super(Y),Y?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Y?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function Y(ne,W){if(A(ne))return ne;if(l(ne))return J({readable:ne});if(c(ne))return J({writable:ne});if(o(ne))return J({writable:!1,readable:!1});if(f(ne))return J({readable:E.fromWeb(ne)});if(p(ne))return J({writable:C.fromWeb(ne)});if(typeof ne=="function"){let{value:$,write:re,final:V,destroy:te}=Q(ne);if(a($))return M(k,$,{objectMode:!0,write:re,final:V,destroy:te});let z=$?.then;if(typeof z=="function"){let j,oe=R(z,$,fe=>{if(fe!=null)throw new w("nully","body",fe)},fe=>{b(j,fe)});return j=new k({objectMode:!0,readable:!1,write:re,final(fe){V(async()=>{try{await oe,t.nextTick(fe,null)}catch(ue){t.nextTick(fe,ue)}})},destroy:te})}throw new w("Iterable, AsyncIterable or AsyncFunction",W,$)}if(L(ne))return Y(ne.arrayBuffer());if(a(ne))return M(k,ne,{objectMode:!0,writable:!1});if(f(ne?.readable)&&p(ne?.writable))return k.fromWeb(ne);if(typeof ne?.writable=="object"||typeof ne?.readable=="object"){let $=ne!=null&&ne.readable?l(ne?.readable)?ne?.readable:Y(ne.readable):void 0,re=ne!=null&&ne.writable?c(ne?.writable)?ne?.writable:Y(ne.writable):void 0;return J({readable:$,writable:re})}let q=ne?.then;if(typeof q=="function"){let $;return R(q,ne,re=>{re!=null&&$.push(re),$.push(null)},re=>{b($,re)}),$=new k({objectMode:!0,writable:!1,read(){}})}throw new x(W,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ne)};function Q(Y){let{promise:ne,resolve:W}=T(),q=new N,$=q.signal;return{value:Y((async function*(){for(;;){let re=ne;ne=null;let{chunk:V,done:te,cb:z}=await re;if(t.nextTick(z),te)return;if($.aborted)throw new y(void 0,{cause:$.reason});({promise:ne,resolve:W}=T()),yield V}})(),{signal:$}),write(re,V,te){let z=W;W=null,z({chunk:re,done:!1,cb:te})},final(re){let V=W;W=null,V({done:!0,cb:re})},destroy(re,V){q.abort(),V(re)}}}function J(Y){let ne=Y.readable&&typeof Y.readable.read!="function"?E.wrap(Y.readable):Y.readable,W=Y.writable,q=!!r(ne),$=!!s(W),re,V,te,z,j;function oe(fe){let ue=z;z=null,ue?ue(fe):fe&&j.destroy(fe)}return j=new k({readableObjectMode:!!(ne!=null&&ne.readableObjectMode),writableObjectMode:!!(W!=null&&W.writableObjectMode),readable:q,writable:$}),$&&(d(W,fe=>{$=!1,fe&&b(ne,fe),oe(fe)}),j._write=function(fe,ue,Ae){W.write(fe,ue)?Ae():re=Ae},j._final=function(fe){W.end(),V=fe},W.on("drain",function(){if(re){let fe=re;re=null,fe()}}),W.on("finish",function(){if(V){let fe=V;V=null,fe()}})),q&&(d(ne,fe=>{q=!1,fe&&b(ne,fe),oe(fe)}),ne.on("readable",function(){if(te){let fe=te;te=null,fe()}}),ne.on("end",function(){j.push(null)}),j._read=function(){for(;;){let fe=ne.read();if(fe===null){te=j._read;return}if(!j.push(fe))return}}),j._destroy=function(fe,ue){!fe&&z!==null&&(fe=new y),te=null,re=null,V=null,z===null?ue(fe):(z=ue,b(W,fe),b(ne,fe))},j}}),cd=qt((n,e)=>{Ht(),zt(),Qt();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:r,ObjectSetPrototypeOf:s}=ra();e.exports=l;var a=LS(),o=N4();s(l.prototype,a.prototype),s(l,a);{let p=r(o.prototype);for(let d=0;d<p.length;d++){let y=p[d];l.prototype[y]||(l.prototype[y]=o.prototype[y])}}function l(p){if(!(this instanceof l))return new l(p);a.call(this,p),o.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(l.prototype,{writable:{__proto__:null,...i(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(o.prototype,"writableLength")},writableFinished:{__proto__:null,...i(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var c;function A(){return c===void 0&&(c={}),c}l.fromWeb=function(p,d){return A().newStreamDuplexFromReadableWritablePair(p,d)},l.toWeb=function(p){return A().newReadableWritablePairFromDuplex(p)};var f;l.from=function(p){return f||(f=BG()),f(p,"body")}}),QP=qt((n,e)=>{Ht(),zt(),Qt();var{ObjectSetPrototypeOf:t,Symbol:i}=ra();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:r}=lc().codes,s=cd(),{getHighWaterMark:a}=IS();t(l.prototype,s.prototype),t(l,s);var o=i("kCallback");function l(f){if(!(this instanceof l))return new l(f);let p=f?a(this,f,"readableHighWaterMark",!0):null;p===0&&(f={...f,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:f.writableHighWaterMark||0}),s.call(this,f),this._readableState.sync=!1,this[o]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",A)}function c(f){typeof this._flush=="function"&&!this.destroyed?this._flush((p,d)=>{if(p){f?f(p):this.destroy(p);return}d!=null&&this.push(d),this.push(null),f&&f()}):(this.push(null),f&&f())}function A(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(f,p,d){throw new r("_transform()")},l.prototype._write=function(f,p,d){let y=this._readableState,x=this._writableState,w=y.length;this._transform(f,p,(b,_)=>{if(b){d(b);return}_!=null&&this.push(_),x.ended||w===y.length||y.length<y.highWaterMark?d():this[o]=d})},l.prototype._read=function(){if(this[o]){let f=this[o];this[o]=null,f()}}}),zP=qt((n,e)=>{Ht(),zt(),Qt();var{ObjectSetPrototypeOf:t}=ra();e.exports=r;var i=QP();t(r.prototype,i.prototype),t(r,i);function r(s){if(!(this instanceof r))return new r(s);i.call(this,s)}r.prototype._transform=function(s,a,o){o(null,s)}}),F4=qt((n,e)=>{Ht(),zt(),Qt();var t=Cg(),{ArrayIsArray:i,Promise:r,SymbolAsyncIterator:s,SymbolDispose:a}=ra(),o=Hp(),{once:l}=Vc(),c=zy(),A=cd(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:x,ERR_STREAM_PREMATURE_CLOSE:w},AbortError:b}=lc(),{validateFunction:_,validateAbortSignal:E}=Mx(),{isIterable:C,isReadable:T,isReadableNodeStream:M,isNodeStream:F,isTransformStream:L,isWebStream:N,isReadableStream:R,isReadableFinished:k}=dd(),Q=globalThis.AbortController||J1().AbortController,J,Y,ne;function W(fe,ue,Ae){let he=!1;fe.on("close",()=>{he=!0});let _e=o(fe,{readable:ue,writable:Ae},be=>{he=!be});return{destroy:be=>{he||(he=!0,c.destroyer(fe,be||new x("pipe")))},cleanup:_e}}function q(fe){return _(fe[fe.length-1],"streams[stream.length - 1]"),fe.pop()}function $(fe){if(C(fe))return fe;if(M(fe))return re(fe);throw new p("val",["Readable","Iterable","AsyncIterable"],fe)}async function*re(fe){Y||(Y=LS()),yield*Y.prototype[s].call(fe)}async function V(fe,ue,Ae,{end:he}){let _e,be=null,Ne=He=>{if(He&&(_e=He),be){let K=be;be=null,K()}},ze=()=>new r((He,K)=>{_e?K(_e):be=()=>{_e?K(_e):He()}});ue.on("drain",Ne);let $e=o(ue,{readable:!1},Ne);try{ue.writableNeedDrain&&await ze();for await(let He of fe)ue.write(He)||await ze();he&&(ue.end(),await ze()),Ae()}catch(He){Ae(_e!==He?f(_e,He):He)}finally{$e(),ue.off("drain",Ne)}}async function te(fe,ue,Ae,{end:he}){L(ue)&&(ue=ue.writable);let _e=ue.getWriter();try{for await(let be of fe)await _e.ready,_e.write(be).catch(()=>{});await _e.ready,he&&await _e.close(),Ae()}catch(be){try{await _e.abort(be),Ae(be)}catch(Ne){Ae(Ne)}}}function z(...fe){return j(fe,l(q(fe)))}function j(fe,ue,Ae){if(fe.length===1&&i(fe[0])&&(fe=fe[0]),fe.length<2)throw new y("streams");let he=new Q,_e=he.signal,be=Ae?.signal,Ne=[];E(be,"options.signal");function ze(){Le(new b)}ne=ne||Vc().addAbortListener;let $e;be&&($e=ne(be,ze));let He,K,xe=[],Pe=0;function We(me){Le(me,--Pe===0)}function Le(me,le){var Je;if(me&&(!He||He.code==="ERR_STREAM_PREMATURE_CLOSE")&&(He=me),!(!He&&!le)){for(;xe.length;)xe.shift()(He);(Je=$e)===null||Je===void 0||Je[a](),he.abort(),le&&(He||Ne.forEach(P=>P()),t.nextTick(ue,He,K))}}let tt;for(let me=0;me<fe.length;me++){let le=fe[me],Je=me<fe.length-1,P=me>0,Z=Je||Ae?.end!==!1,se=me===fe.length-1;if(F(le)){let we=function(Re){Re&&Re.name!=="AbortError"&&Re.code!=="ERR_STREAM_PREMATURE_CLOSE"&&We(Re)};if(Z){let{destroy:Re,cleanup:Ze}=W(le,Je,P);xe.push(Re),T(le)&&se&&Ne.push(Ze)}le.on("error",we),T(le)&&se&&Ne.push(()=>{le.removeListener("error",we)})}if(me===0)if(typeof le=="function"){if(tt=le({signal:_e}),!C(tt))throw new d("Iterable, AsyncIterable or Stream","source",tt)}else C(le)||M(le)||L(le)?tt=le:tt=A.from(le);else if(typeof le=="function"){if(L(tt)){var Ee;tt=$((Ee=tt)===null||Ee===void 0?void 0:Ee.readable)}else tt=$(tt);if(tt=le(tt,{signal:_e}),Je){if(!C(tt,!0))throw new d("AsyncIterable",`transform[${me-1}]`,tt)}else{var et;J||(J=zP());let we=new J({objectMode:!0}),Re=(et=tt)===null||et===void 0?void 0:et.then;if(typeof Re=="function")Pe++,Re.call(tt,Me=>{K=Me,Me!=null&&we.write(Me),Z&&we.end(),t.nextTick(We)},Me=>{we.destroy(Me),t.nextTick(We,Me)});else if(C(tt,!0))Pe++,V(tt,we,We,{end:Z});else if(R(tt)||L(tt)){let Me=tt.readable||tt;Pe++,V(Me,we,We,{end:Z})}else throw new d("AsyncIterable or Promise","destination",tt);tt=we;let{destroy:Ze,cleanup:dt}=W(tt,!1,!0);xe.push(Ze),se&&Ne.push(dt)}}else if(F(le)){if(M(tt)){Pe+=2;let we=oe(tt,le,We,{end:Z});T(le)&&se&&Ne.push(we)}else if(L(tt)||R(tt)){let we=tt.readable||tt;Pe++,V(we,le,We,{end:Z})}else if(C(tt))Pe++,V(tt,le,We,{end:Z});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],tt);tt=le}else if(N(le)){if(M(tt))Pe++,te($(tt),le,We,{end:Z});else if(R(tt)||C(tt))Pe++,te(tt,le,We,{end:Z});else if(L(tt))Pe++,te(tt.readable,le,We,{end:Z});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],tt);tt=le}else tt=A.from(le)}return(_e!=null&&_e.aborted||be!=null&&be.aborted)&&t.nextTick(ze),tt}function oe(fe,ue,Ae,{end:he}){let _e=!1;if(ue.on("close",()=>{_e||Ae(new w)}),fe.pipe(ue,{end:!1}),he){let be=function(){_e=!0,ue.end()};k(fe)?t.nextTick(be):fe.once("end",be)}else Ae();return o(fe,{readable:!0,writable:!1},be=>{let Ne=fe._readableState;be&&be.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ne&&Ne.ended&&!Ne.errored&&!Ne.errorEmitted?fe.once("end",Ae).once("error",Ae):Ae(be)}),o(ue,{readable:!1,writable:!0},Ae)}e.exports={pipelineImpl:j,pipeline:z}}),jP=qt((n,e)=>{Ht(),zt(),Qt();var{pipeline:t}=F4(),i=cd(),{destroyer:r}=zy(),{isNodeStream:s,isReadable:a,isWritable:o,isWebStream:l,isTransformStream:c,isWritableStream:A,isReadableStream:f}=dd(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:y}}=lc(),x=Hp();e.exports=function(...w){if(w.length===0)throw new y("streams");if(w.length===1)return i.from(w[0]);let b=[...w];if(typeof w[0]=="function"&&(w[0]=i.from(w[0])),typeof w[w.length-1]=="function"){let Q=w.length-1;w[Q]=i.from(w[Q])}for(let Q=0;Q<w.length;++Q)if(!(!s(w[Q])&&!l(w[Q]))){if(Q<w.length-1&&!(a(w[Q])||f(w[Q])||c(w[Q])))throw new d(`streams[${Q}]`,b[Q],"must be readable");if(Q>0&&!(o(w[Q])||A(w[Q])||c(w[Q])))throw new d(`streams[${Q}]`,b[Q],"must be writable")}let _,E,C,T,M;function F(Q){let J=T;T=null,J?J(Q):Q?M.destroy(Q):!k&&!R&&M.destroy()}let L=w[0],N=t(w,F),R=!!(o(L)||A(L)||c(L)),k=!!(a(N)||f(N)||c(N));if(M=new i({writableObjectMode:!!(L!=null&&L.writableObjectMode),readableObjectMode:!!(N!=null&&N.readableObjectMode),writable:R,readable:k}),R){if(s(L))M._write=function(J,Y,ne){L.write(J,Y)?ne():_=ne},M._final=function(J){L.end(),E=J},L.on("drain",function(){if(_){let J=_;_=null,J()}});else if(l(L)){let J=(c(L)?L.writable:L).getWriter();M._write=async function(Y,ne,W){try{await J.ready,J.write(Y).catch(()=>{}),W()}catch(q){W(q)}},M._final=async function(Y){try{await J.ready,J.close().catch(()=>{}),E=Y}catch(ne){Y(ne)}}}let Q=c(N)?N.readable:N;x(Q,()=>{if(E){let J=E;E=null,J()}})}if(k){if(s(N))N.on("readable",function(){if(C){let Q=C;C=null,Q()}}),N.on("end",function(){M.push(null)}),M._read=function(){for(;;){let Q=N.read();if(Q===null){C=M._read;return}if(!M.push(Q))return}};else if(l(N)){let Q=(c(N)?N.readable:N).getReader();M._read=async function(){for(;;)try{let{value:J,done:Y}=await Q.read();if(!M.push(J))return;if(Y){M.push(null);return}}catch{return}}}}return M._destroy=function(Q,J){!Q&&T!==null&&(Q=new p),C=null,_=null,E=null,T===null?J(Q):(T=J,s(N)&&r(N,Q))},M}}),CG=qt((n,e)=>{Ht(),zt(),Qt();var t=globalThis.AbortController||J1().AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:o}=lc(),{validateAbortSignal:l,validateInteger:c,validateObject:A}=Mx(),f=ra().Symbol("kWeak"),p=ra().Symbol("kResistStopPropagation"),{finished:d}=Hp(),y=jP(),{addAbortSignalNoValidate:x}=FS(),{isWritable:w,isNodeStream:b}=dd(),{deprecate:_}=Vc(),{ArrayPrototypePush:E,Boolean:C,MathFloor:T,Number:M,NumberIsNaN:F,Promise:L,PromiseReject:N,PromiseResolve:R,PromisePrototypeThen:k,Symbol:Q}=ra(),J=Q("kEmpty"),Y=Q("kEof");function ne(be,Ne){if(Ne!=null&&A(Ne,"options"),Ne?.signal!=null&&l(Ne.signal,"options.signal"),b(be)&&!w(be))throw new i("stream",be,"must be writable");let ze=y(this,be);return Ne!=null&&Ne.signal&&x(Ne.signal,ze),ze}function W(be,Ne){if(typeof be!="function")throw new r("fn",["Function","AsyncFunction"],be);Ne!=null&&A(Ne,"options"),Ne?.signal!=null&&l(Ne.signal,"options.signal");let ze=1;Ne?.concurrency!=null&&(ze=T(Ne.concurrency));let $e=ze-1;return Ne?.highWaterMark!=null&&($e=T(Ne.highWaterMark)),c(ze,"options.concurrency",1),c($e,"options.highWaterMark",0),$e+=ze,(async function*(){let He=Vc().AbortSignalAny([Ne?.signal].filter(C)),K=this,xe=[],Pe={signal:He},We,Le,tt=!1,Ee=0;function et(){tt=!0,me()}function me(){Ee-=1,le()}function le(){Le&&!tt&&Ee<ze&&xe.length<$e&&(Le(),Le=null)}async function Je(){try{for await(let P of K){if(tt)return;if(He.aborted)throw new o;try{if(P=be(P,Pe),P===J)continue;P=R(P)}catch(Z){P=N(Z)}Ee+=1,k(P,me,et),xe.push(P),We&&(We(),We=null),!tt&&(xe.length>=$e||Ee>=ze)&&await new L(Z=>{Le=Z})}xe.push(Y)}catch(P){let Z=N(P);k(Z,me,et),xe.push(Z)}finally{tt=!0,We&&(We(),We=null)}}Je();try{for(;;){for(;xe.length>0;){let P=await xe[0];if(P===Y)return;if(He.aborted)throw new o;P!==J&&(yield P),xe.shift(),le()}await new L(P=>{We=P})}}finally{tt=!0,Le&&(Le(),Le=null)}}).call(this)}function q(be=void 0){return be!=null&&A(be,"options"),be?.signal!=null&&l(be.signal,"options.signal"),(async function*(){let Ne=0;for await(let $e of this){var ze;if(be!=null&&(ze=be.signal)!==null&&ze!==void 0&&ze.aborted)throw new o({cause:be.signal.reason});yield[Ne++,$e]}}).call(this)}async function $(be,Ne=void 0){for await(let ze of z.call(this,be,Ne))return!0;return!1}async function re(be,Ne=void 0){if(typeof be!="function")throw new r("fn",["Function","AsyncFunction"],be);return!await $.call(this,async(...ze)=>!await be(...ze),Ne)}async function V(be,Ne){for await(let ze of z.call(this,be,Ne))return ze}async function te(be,Ne){if(typeof be!="function")throw new r("fn",["Function","AsyncFunction"],be);async function ze($e,He){return await be($e,He),J}for await(let $e of W.call(this,ze,Ne));}function z(be,Ne){if(typeof be!="function")throw new r("fn",["Function","AsyncFunction"],be);async function ze($e,He){return await be($e,He)?$e:J}return W.call(this,ze,Ne)}var j=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function oe(be,Ne,ze){var $e;if(typeof be!="function")throw new r("reducer",["Function","AsyncFunction"],be);ze!=null&&A(ze,"options"),ze?.signal!=null&&l(ze.signal,"options.signal");let He=arguments.length>1;if(ze!=null&&($e=ze.signal)!==null&&$e!==void 0&&$e.aborted){let Le=new o(void 0,{cause:ze.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(Le)),Le}let K=new t,xe=K.signal;if(ze!=null&&ze.signal){let Le={once:!0,[f]:this,[p]:!0};ze.signal.addEventListener("abort",()=>K.abort(),Le)}let Pe=!1;try{for await(let Le of this){var We;if(Pe=!0,ze!=null&&(We=ze.signal)!==null&&We!==void 0&&We.aborted)throw new o;He?Ne=await be(Ne,Le,{signal:xe}):(Ne=Le,He=!0)}if(!Pe&&!He)throw new j}finally{K.abort()}return Ne}async function fe(be){be!=null&&A(be,"options"),be?.signal!=null&&l(be.signal,"options.signal");let Ne=[];for await(let $e of this){var ze;if(be!=null&&(ze=be.signal)!==null&&ze!==void 0&&ze.aborted)throw new o(void 0,{cause:be.signal.reason});E(Ne,$e)}return Ne}function ue(be,Ne){let ze=W.call(this,be,Ne);return(async function*(){for await(let $e of ze)yield*$e}).call(this)}function Ae(be){if(be=M(be),F(be))return 0;if(be<0)throw new a("number",">= 0",be);return be}function he(be,Ne=void 0){return Ne!=null&&A(Ne,"options"),Ne?.signal!=null&&l(Ne.signal,"options.signal"),be=Ae(be),(async function*(){var ze;if(Ne!=null&&(ze=Ne.signal)!==null&&ze!==void 0&&ze.aborted)throw new o;for await(let He of this){var $e;if(Ne!=null&&($e=Ne.signal)!==null&&$e!==void 0&&$e.aborted)throw new o;be--<=0&&(yield He)}}).call(this)}function _e(be,Ne=void 0){return Ne!=null&&A(Ne,"options"),Ne?.signal!=null&&l(Ne.signal,"options.signal"),be=Ae(be),(async function*(){var ze;if(Ne!=null&&(ze=Ne.signal)!==null&&ze!==void 0&&ze.aborted)throw new o;for await(let He of this){var $e;if(Ne!=null&&($e=Ne.signal)!==null&&$e!==void 0&&$e.aborted)throw new o;if(be-- >0&&(yield He),be<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:_(q,"readable.asIndexedPairs will be removed in a future version."),drop:he,filter:z,flatMap:ue,map:W,take:_e,compose:ne},e.exports.promiseReturningOperators={every:re,forEach:te,reduce:oe,toArray:fe,some:$,find:V}}),VP=qt((n,e)=>{Ht(),zt(),Qt();var{ArrayPrototypePop:t,Promise:i}=ra(),{isIterable:r,isNodeStream:s,isWebStream:a}=dd(),{pipelineImpl:o}=F4(),{finished:l}=Hp();GP();function c(...A){return new i((f,p)=>{let d,y,x=A[A.length-1];if(x&&typeof x=="object"&&!s(x)&&!r(x)&&!a(x)){let w=t(A);d=w.signal,y=w.end}o(A,(w,b)=>{w?p(w):f(b)},{signal:d,end:y})})}e.exports={finished:l,pipeline:c}}),GP=qt((n,e)=>{Ht(),zt(),Qt();var{Buffer:t}=(Do(),ls(Ro)),{ObjectDefineProperty:i,ObjectKeys:r,ReflectApply:s}=ra(),{promisify:{custom:a}}=Vc(),{streamReturningOperators:o,promiseReturningOperators:l}=CG(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=lc(),A=jP(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:p}=IS(),{pipeline:d}=F4(),{destroyer:y}=zy(),x=Hp(),w=VP(),b=dd(),_=e.exports=U4().Stream;_.isDestroyed=b.isDestroyed,_.isDisturbed=b.isDisturbed,_.isErrored=b.isErrored,_.isReadable=b.isReadable,_.isWritable=b.isWritable,_.Readable=LS();for(let C of r(o)){let T=function(...F){if(new.target)throw c();return _.Readable.from(s(M,this,F))},M=o[C];i(T,"name",{__proto__:null,value:M.name}),i(T,"length",{__proto__:null,value:M.length}),i(_.Readable.prototype,C,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(let C of r(l)){let T=function(...F){if(new.target)throw c();return s(M,this,F)},M=l[C];i(T,"name",{__proto__:null,value:M.name}),i(T,"length",{__proto__:null,value:M.length}),i(_.Readable.prototype,C,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}_.Writable=N4(),_.Duplex=cd(),_.Transform=QP(),_.PassThrough=zP(),_.pipeline=d;var{addAbortSignal:E}=FS();_.addAbortSignal=E,_.finished=x,_.destroy=y,_.compose=A,_.setDefaultHighWaterMark=f,_.getDefaultHighWaterMark=p,i(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),i(d,a,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),i(x,a,{__proto__:null,enumerable:!0,get(){return w.finished}}),_.Stream=_,_._isUint8Array=function(C){return C instanceof Uint8Array},_._uint8ArrayToBuffer=function(C){return t.from(C.buffer,C.byteOffset,C.byteLength)}}),Mg=qt((n,e)=>{Ht(),zt(),Qt();var t=GP(),i=VP(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return i}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}),MG=qt((n,e)=>{Ht(),zt(),Qt(),typeof Object.create=="function"?e.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,i){if(i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}}}),TG=qt((n,e)=>{Ht(),zt(),Qt();var{Buffer:t}=(Do(),ls(Ro)),i=Symbol.for("BufferList");function r(s){if(!(this instanceof r))return new r(s);r._init.call(this,s)}r._init=function(s){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},r.prototype._new=function(s){return new r(s)},r.prototype._offset=function(s){if(s===0)return[0,0];let a=0;for(let o=0;o<this._bufs.length;o++){let l=a+this._bufs[o].length;if(s<l||o===this._bufs.length-1)return[o,s-a];a=l}},r.prototype._reverseOffset=function(s){let a=s[0],o=s[1];for(let l=0;l<a;l++)o+=this._bufs[l].length;return o},r.prototype.getBuffers=function(){return this._bufs},r.prototype.get=function(s){if(s>this.length||s<0)return;let a=this._offset(s);return this._bufs[a[0]][a[1]]},r.prototype.slice=function(s,a){return typeof s=="number"&&s<0&&(s+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,s,a)},r.prototype.copy=function(s,a,o,l){if((typeof o!="number"||o<0)&&(o=0),(typeof l!="number"||l>this.length)&&(l=this.length),o>=this.length||l<=0)return s||t.alloc(0);let c=!!s,A=this._offset(o),f=l-o,p=f,d=c&&a||0,y=A[1];if(o===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let x=0;x<this._bufs.length;x++)this._bufs[x].copy(s,d),d+=this._bufs[x].length;return s}if(p<=this._bufs[A[0]].length-y)return c?this._bufs[A[0]].copy(s,a,y,y+p):this._bufs[A[0]].slice(y,y+p);c||(s=t.allocUnsafe(f));for(let x=A[0];x<this._bufs.length;x++){let w=this._bufs[x].length-y;if(p>w)this._bufs[x].copy(s,d,y),d+=w;else{this._bufs[x].copy(s,d,y,y+p),d+=w;break}p-=w,y&&(y=0)}return s.length>d?s.slice(0,d):s},r.prototype.shallowSlice=function(s,a){if(s=s||0,a=typeof a!="number"?this.length:a,s<0&&(s+=this.length),a<0&&(a+=this.length),s===a)return this._new();let o=this._offset(s),l=this._offset(a),c=this._bufs.slice(o[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),o[1]!==0&&(c[0]=c[0].slice(o[1])),this._new(c)},r.prototype.toString=function(s,a,o){return this.slice(a,o).toString(s)},r.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},r.prototype.duplicate=function(){let s=this._new();for(let a=0;a<this._bufs.length;a++)s.append(this._bufs[a]);return s},r.prototype.append=function(s){return this._attach(s,r.prototype._appendBuffer)},r.prototype.prepend=function(s){return this._attach(s,r.prototype._prependBuffer,!0)},r.prototype._attach=function(s,a,o){if(s==null)return this;if(s.buffer)a.call(this,t.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s)){let[l,c]=o?[s.length-1,-1]:[0,1];for(let A=l;A>=0&&A<s.length;A+=c)this._attach(s[A],a,o)}else if(this._isBufferList(s)){let[l,c]=o?[s._bufs.length-1,-1]:[0,1];for(let A=l;A>=0&&A<s._bufs.length;A+=c)this._attach(s._bufs[A],a,o)}else typeof s=="number"&&(s=s.toString()),a.call(this,t.from(s));return this},r.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},r.prototype._prependBuffer=function(s){this._bufs.unshift(s),this.length+=s.length},r.prototype.indexOf=function(s,a,o){if(o===void 0&&typeof a=="string"&&(o=a,a=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=t.from([s]):typeof s=="string"?s=t.from(s,o):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=t.from(s.buffer,s.byteOffset,s.byteLength):t.isBuffer(s)||(s=t.from(s)),a=Number(a||0),isNaN(a)&&(a=0),a<0&&(a=this.length+a),a<0&&(a=0),s.length===0)return a>this.length?this.length:a;let l=this._offset(a),c=l[0],A=l[1];for(;c<this._bufs.length;c++){let f=this._bufs[c];for(;A<f.length;)if(f.length-A>=s.length){let p=f.indexOf(s,A);if(p!==-1)return this._reverseOffset([c,p]);A=f.length-s.length+1}else{let p=this._reverseOffset([c,A]);if(this._match(p,s))return p;A++}A=0}return-1},r.prototype._match=function(s,a){if(this.length-s<a.length)return!1;for(let o=0;o<a.length;o++)if(this.get(s+o)!==a[o])return!1;return!0},(function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let a in s)(function(o){s[o]===null?r.prototype[o]=function(l,c){return this.slice(l,l+c)[o](0,c)}:r.prototype[o]=function(l=0){return this.slice(l,l+s[o])[o](0)}})(a)})(),r.prototype._isBufferList=function(s){return s instanceof r||r.isBufferList(s)},r.isBufferList=function(s){return s!=null&&s[i]},e.exports=r}),UG=qt((n,e)=>{Ht(),zt(),Qt();var t=Mg().Duplex,i=MG(),r=TG();function s(a){if(!(this instanceof s))return new s(a);if(typeof a=="function"){this._callback=a;let o=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",o)}),this.on("unpipe",function(l){l.removeListener("error",o)}),a=null}r._init.call(this,a),t.call(this)}i(s,t),Object.assign(s.prototype,r.prototype),s.prototype._new=function(a){return new s(a)},s.prototype._write=function(a,o,l){this._appendBuffer(a),typeof l=="function"&&l()},s.prototype._read=function(a){if(!this.length)return this.push(null);a=Math.min(a,this.length),this.push(this.slice(0,a)),this.consume(a)},s.prototype.end=function(a){t.prototype.end.call(this,a),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(a,o){this._bufs.length=0,this.length=0,o(a)},s.prototype._isBufferList=function(a){return a instanceof s||a instanceof r||s.isBufferList(a)},s.isBufferList=r.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=r}),NG=qt((n,e)=>{Ht(),zt(),Qt();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=t}),KP=qt((n,e)=>{Ht(),zt(),Qt();var t=e.exports,{Buffer:i}=(Do(),ls(Ro));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let s in t.requiredHeaderFlags){let a=t.requiredHeaderFlags[s];t.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+a.toString(16)+" for "+t.types[s]+" packet"}t.codes={};for(let s in t.types){let a=t.types[s];t.codes[a]=s}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=i.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=i.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=i.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let s in t.properties){let a=t.properties[s];t.propertiesCodes[a]=s}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function r(s){return[0,1,2].map(a=>[0,1].map(o=>[0,1].map(l=>{let c=i.alloc(1);return c.writeUInt8(t.codes[s]<<t.CMD_SHIFT|(o?t.DUP_MASK:0)|a<<t.QOS_SHIFT|l,0,!0),c})))}t.PUBLISH_HEADER=r("publish"),t.SUBSCRIBE_HEADER=r("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=r("unsubscribe"),t.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},t.SUBACK_HEADER=i.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=i.from([3]),t.VERSION4=i.from([4]),t.VERSION5=i.from([5]),t.VERSION131=i.from([131]),t.VERSION132=i.from([132]),t.QOS=[0,1,2].map(s=>i.from([s])),t.EMPTY={pingreq:i.from([t.codes.pingreq<<4,0]),pingresp:i.from([t.codes.pingresp<<4,0]),disconnect:i.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),FG=qt((n,e)=>{Ht(),zt(),Qt();var t=1e3,i=t*60,r=i*60,s=r*24,a=s*7,o=s*365.25;e.exports=function(p,d){d=d||{};var y=typeof p;if(y==="string"&&p.length>0)return l(p);if(y==="number"&&isFinite(p))return d.long?A(p):c(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(d){var y=parseFloat(d[1]),x=(d[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return y*o;case"weeks":case"week":case"w":return y*a;case"days":case"day":case"d":return y*s;case"hours":case"hour":case"hrs":case"hr":case"h":return y*r;case"minutes":case"minute":case"mins":case"min":case"m":return y*i;case"seconds":case"second":case"secs":case"sec":case"s":return y*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function c(p){var d=Math.abs(p);return d>=s?Math.round(p/s)+"d":d>=r?Math.round(p/r)+"h":d>=i?Math.round(p/i)+"m":d>=t?Math.round(p/t)+"s":p+"ms"}function A(p){var d=Math.abs(p);return d>=s?f(p,d,s,"day"):d>=r?f(p,d,r,"hour"):d>=i?f(p,d,i,"minute"):d>=t?f(p,d,t,"second"):p+" ms"}function f(p,d,y,x){var w=d>=y*1.5;return Math.round(p/y)+" "+x+(w?"s":"")}}),IG=qt((n,e)=>{Ht(),zt(),Qt();function t(i){s.debug=s,s.default=s,s.coerce=f,s.disable=c,s.enable=o,s.enabled=A,s.humanize=FG(),s.destroy=p,Object.keys(i).forEach(d=>{s[d]=i[d]}),s.names=[],s.skips=[],s.formatters={};function r(d){let y=0;for(let x=0;x<d.length;x++)y=(y<<5)-y+d.charCodeAt(x),y|=0;return s.colors[Math.abs(y)%s.colors.length]}s.selectColor=r;function s(d){let y,x=null,w,b;function _(...E){if(!_.enabled)return;let C=_,T=Number(new Date),M=T-(y||T);C.diff=M,C.prev=y,C.curr=T,y=T,E[0]=s.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let F=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(L,N)=>{if(L==="%%")return"%";F++;let R=s.formatters[N];if(typeof R=="function"){let k=E[F];L=R.call(C,k),E.splice(F,1),F--}return L}),s.formatArgs.call(C,E),(C.log||s.log).apply(C,E)}return _.namespace=d,_.useColors=s.useColors(),_.color=s.selectColor(d),_.extend=a,_.destroy=s.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>x!==null?x:(w!==s.namespaces&&(w=s.namespaces,b=s.enabled(d)),b),set:E=>{x=E}}),typeof s.init=="function"&&s.init(_),_}function a(d,y){let x=s(this.namespace+(typeof y>"u"?":":y)+d);return x.log=this.log,x}function o(d){s.save(d),s.namespaces=d,s.names=[],s.skips=[];let y=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let x of y)x[0]==="-"?s.skips.push(x.slice(1)):s.names.push(x)}function l(d,y){let x=0,w=0,b=-1,_=0;for(;x<d.length;)if(w<y.length&&(y[w]===d[x]||y[w]==="*"))y[w]==="*"?(b=w,_=x,w++):(x++,w++);else if(b!==-1)w=b+1,_++,x=_;else return!1;for(;w<y.length&&y[w]==="*";)w++;return w===y.length}function c(){let d=[...s.names,...s.skips.map(y=>"-"+y)].join(",");return s.enable(""),d}function A(d){for(let y of s.skips)if(l(d,y))return!1;for(let y of s.names)if(l(d,y))return!0;return!1}function f(d){return d instanceof Error?d.stack||d.message:d}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}e.exports=t}),ud=qt((n,e)=>{Ht(),zt(),Qt(),n.formatArgs=i,n.save=r,n.load=s,n.useColors=t,n.storage=a(),n.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let A=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(A++,p==="%c"&&(f=A))}),l.splice(f,0,c)}n.log=console.debug||console.log||(()=>{});function r(l){try{l?n.storage.setItem("debug",l):n.storage.removeItem("debug")}catch{}}function s(){let l;try{l=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!l&&typeof ws<"u"&&"env"in ws&&(l=ws.env.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=IG()(n);var{formatters:o}=e.exports;o.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),LG=qt((n,e)=>{Ht(),zt(),Qt();var t=UG(),{EventEmitter:i}=(Bg(),ls(kp)),r=NG(),s=KP(),a=ud()("mqtt-packet:parser"),o=class fM extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof fM?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new fM().parser(c)}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new r,this.error=null,this._list=t(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),a("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),A=c>>s.CMD_SHIFT;this.packet.cmd=s.types[A];let f=c&15,p=s.requiredHeaderFlags[A];return p!=null&&f!==p?this._emitError(new Error(s.requiredHeaderFlagsErrors[A])):(this.packet.retain=(c&s.RETAIN_MASK)!==0,this.packet.qos=c>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&s.DUP_MASK)!==0,a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),a("_parseLength %d",c.value),!!c}_parsePayload(){a("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return a("_parsePayload complete result: %s",c),c}_parseConnect(){a("_parseConnect");let c,A,f,p,d={},y=this.packet,x=this._parseString();if(x===null)return this._emitError(new Error("Cannot parse protocolId"));if(x!=="MQTT"&&x!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(y.protocolId=x,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.protocolVersion=this._list.readUInt8(this._pos),y.protocolVersion>=128&&(y.bridgeMode=!0,y.protocolVersion=y.protocolVersion-128),y.protocolVersion!==3&&y.protocolVersion!==4&&y.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));d.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,d.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,d.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let w=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),b=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(d.will)y.will={},y.will.retain=w,y.will.qos=b;else{if(w)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(b)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(y.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,y.keepalive=this._parseNum(),y.keepalive===-1)return this._emitError(new Error("Packet too short"));if(y.protocolVersion===5){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(y.properties=E)}let _=this._parseString();if(_===null)return this._emitError(new Error("Packet too short"));if(y.clientId=_,a("_parseConnect: packet.clientId: %s",y.clientId),d.will){if(y.protocolVersion===5){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(y.will.properties=E)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(y.will.topic=c,a("_parseConnect: packet.will.topic: %s",y.will.topic),A=this._parseBuffer(),A===null)return this._emitError(new Error("Cannot parse will payload"));y.will.payload=A,a("_parseConnect: packet.will.paylaod: %s",y.will.payload)}if(d.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));y.username=p,a("_parseConnect: packet.username: %s",y.username)}if(d.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));y.password=f}return this.settings=y,a("_parseConnect: complete"),y}_parseConnack(){a("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let A=this._list.readUInt8(this._pos++);if(A>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(A&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(c.properties=A)}c.payload=this._list.slice(this._pos,c.length),a("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){a("_parseSubscribe");let c=this.packet,A,f,p,d,y,x,w;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(c.properties=b)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(A=this._parseString(),A===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=f&s.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(x=(f>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,y=(f>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,d=f>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,d>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));w={topic:A,qos:p},this.settings.protocolVersion===5?(w.nl=x,w.rap=y,w.rh=d):this.settings.bridgeMode&&(w.rh=0,w.rap=!0,w.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",w),c.subscriptions.push(w)}}}_parseSuback(){a("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(c.properties=A)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let A=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[A])return this._emitError(new Error("Invalid suback code"))}else if(A>2&&A!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(A)}}}_parseUnsubscribe(){a("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(c.properties=A)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let A=this._parseString();if(A===null)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",A),c.unsubscriptions.push(A)}}}_parseUnsuback(){a("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let A=this._parseProperties();for(Object.getOwnPropertyNames(A).length&&(c.properties=A),c.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}a("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(c.properties=A)}}return!0}_parseDisconnect(){let c=this.packet;if(a("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(c.properties=A)}return a("_parseDisconnect result: true"),!0}_parseAuth(){a("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let A=this._parseProperties();return Object.getOwnPropertyNames(A).length&&(c.properties=A),a("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let A=this._parseNum(),f=A+this._pos;if(A===-1||f>this._list.length||f>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,f);return this._pos+=A,a("_parseString: result: %s",p),p}_parseStringPair(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),A=c+this._pos;if(c===-1||A>this._list.length||A>this.packet.length)return null;let f=this._list.slice(this._pos,A);return this._pos+=c,a("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){a("_parseVarByteNum");let A=4,f=0,p=1,d=0,y=!1,x,w=this._pos?this._pos:0;for(;f<A&&w+f<this._list.length;){if(x=this._list.readUInt8(w+f++),d+=p*(x&s.VARBYTEINT_MASK),p*=128,(x&s.VARBYTEINT_FIN_MASK)===0){y=!0;break}if(this._list.length<=f)break}return!y&&f===A&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),w&&(this._pos+=f),y?c?y={bytes:f,value:d}:y=d:y=!1,a("_parseVarByteNum: result: %o",y),y}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",c),c}_parseByType(c){switch(a("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){a("_parseProperties");let c=this._parseVarByteNum(),A=this._pos+c,f={};for(;this._pos<A;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let d=s.propertiesCodes[p];if(!d)return this._emitError(new Error("Unknown property")),!1;if(d==="userProperties"){f[d]||(f[d]=Object.create(null));let y=this._parseByType(s.propertiesTypes[d]);if(f[d][y.name])if(Array.isArray(f[d][y.name]))f[d][y.name].push(y.value);else{let x=f[d][y.name];f[d][y.name]=[x],f[d][y.name].push(y.value)}else f[d][y.name]=y.value;continue}f[d]?Array.isArray(f[d])?f[d].push(this._parseByType(s.propertiesTypes[d])):(f[d]=[f[d]],f[d].push(this._parseByType(s.propertiesTypes[d]))):f[d]=this._parseByType(s.propertiesTypes[d])}return f}_newPacket(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new r,this._pos=0,!0}_emitError(c){a("_emitError",c),this.error=c,this.emit("error",c)}};e.exports=o}),RG=qt((n,e)=>{Ht(),zt(),Qt();var{Buffer:t}=(Do(),ls(Ro)),i=65536,r={},s=t.isBuffer(t.from([1,2]).subarray(0,1));function a(A){let f=t.allocUnsafe(2);return f.writeUInt8(A>>8,0),f.writeUInt8(A&255,1),f}function o(){for(let A=0;A<i;A++)r[A]=a(A)}function l(A){let f=0,p=0,d=t.allocUnsafe(4);do f=A%128|0,A=A/128|0,A>0&&(f=f|128),d.writeUInt8(f,p++);while(A>0&&p<4);return A>0&&(p=0),s?d.subarray(0,p):d.slice(0,p)}function c(A){let f=t.allocUnsafe(4);return f.writeUInt32BE(A,0),f}e.exports={cache:r,generateCache:o,generateNumber:a,genBufVariableByteInt:l,generate4ByteBuffer:c}}),DG=qt((n,e)=>{Ht(),zt(),Qt(),typeof ws>"u"||!ws.version||ws.version.indexOf("v0.")===0||ws.version.indexOf("v1.")===0&&ws.version.indexOf("v1.8.")!==0?e.exports={nextTick:t}:e.exports=ws;function t(i,r,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,l,c;switch(o){case 0:case 1:return ws.nextTick(i);case 2:return ws.nextTick(function(){i.call(null,r)});case 3:return ws.nextTick(function(){i.call(null,r,s)});case 4:return ws.nextTick(function(){i.call(null,r,s,a)});default:for(l=new Array(o-1),c=0;c<l.length;)l[c++]=arguments[c];return ws.nextTick(function(){i.apply(null,l)})}}}),qP=qt((n,e)=>{Ht(),zt(),Qt();var t=KP(),{Buffer:i}=(Do(),ls(Ro)),r=i.allocUnsafe(0),s=i.from([0]),a=RG(),o=DG().nextTick,l=ud()("mqtt-packet:writeToStream"),c=a.cache,A=a.generateNumber,f=a.generateCache,p=a.genBufVariableByteInt,d=a.generate4ByteBuffer,y=q,x=!0;function w(Ae,he,_e){switch(l("generate called"),he.cork&&(he.cork(),o(b,he)),x&&(x=!1,f()),l("generate: packet.cmd: %s",Ae.cmd),Ae.cmd){case"connect":return _(Ae,he);case"connack":return E(Ae,he,_e);case"publish":return C(Ae,he,_e);case"puback":case"pubrec":case"pubrel":case"pubcomp":return T(Ae,he,_e);case"subscribe":return M(Ae,he,_e);case"suback":return F(Ae,he,_e);case"unsubscribe":return L(Ae,he,_e);case"unsuback":return N(Ae,he,_e);case"pingreq":case"pingresp":return R(Ae,he);case"disconnect":return k(Ae,he,_e);case"auth":return Q(Ae,he,_e);default:return he.destroy(new Error("Unknown command")),!1}}Object.defineProperty(w,"cacheNumbers",{get(){return y===q},set(Ae){Ae?((!c||Object.keys(c).length===0)&&(x=!0),y=q):(x=!1,y=$)}});function b(Ae){Ae.uncork()}function _(Ae,he,_e){let be=Ae||{},Ne=be.protocolId||"MQTT",ze=be.protocolVersion||4,$e=be.will,He=be.clean,K=be.keepalive||0,xe=be.clientId||"",Pe=be.username,We=be.password,Le=be.properties;He===void 0&&(He=!0);let tt=0;if(typeof Ne!="string"&&!i.isBuffer(Ne))return he.destroy(new Error("Invalid protocolId")),!1;if(tt+=Ne.length+2,ze!==3&&ze!==4&&ze!==5)return he.destroy(new Error("Invalid protocol version")),!1;if(tt+=1,(typeof xe=="string"||i.isBuffer(xe))&&(xe||ze>=4)&&(xe||He))tt+=i.byteLength(xe)+2;else{if(ze<4)return he.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(He*1===0)return he.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof K!="number"||K<0||K>65535||K%1!==0)return he.destroy(new Error("Invalid keepalive")),!1;tt+=2,tt+=1;let Ee,et;if(ze===5){if(Ee=te(he,Le),!Ee)return!1;tt+=Ee.length}if($e){if(typeof $e!="object")return he.destroy(new Error("Invalid will")),!1;if(!$e.topic||typeof $e.topic!="string")return he.destroy(new Error("Invalid will topic")),!1;if(tt+=i.byteLength($e.topic)+2,tt+=2,$e.payload)if($e.payload.length>=0)typeof $e.payload=="string"?tt+=i.byteLength($e.payload):tt+=$e.payload.length;else return he.destroy(new Error("Invalid will payload")),!1;if(et={},ze===5){if(et=te(he,$e.properties),!et)return!1;tt+=et.length}}let me=!1;if(Pe!=null)if(ue(Pe))me=!0,tt+=i.byteLength(Pe)+2;else return he.destroy(new Error("Invalid username")),!1;if(We!=null){if(!me)return he.destroy(new Error("Username is required to use password")),!1;if(ue(We))tt+=fe(We)+2;else return he.destroy(new Error("Invalid password")),!1}he.write(t.CONNECT_HEADER),Y(he,tt),V(he,Ne),be.bridgeMode&&(ze+=128),he.write(ze===131?t.VERSION131:ze===132?t.VERSION132:ze===4?t.VERSION4:ze===5?t.VERSION5:t.VERSION3);let le=0;return le|=Pe!=null?t.USERNAME_MASK:0,le|=We!=null?t.PASSWORD_MASK:0,le|=$e&&$e.retain?t.WILL_RETAIN_MASK:0,le|=$e&&$e.qos?$e.qos<<t.WILL_QOS_SHIFT:0,le|=$e?t.WILL_FLAG_MASK:0,le|=He?t.CLEAN_SESSION_MASK:0,he.write(i.from([le])),y(he,K),ze===5&&Ee.write(),V(he,xe),$e&&(ze===5&&et.write(),ne(he,$e.topic),V(he,$e.payload)),Pe!=null&&V(he,Pe),We!=null&&V(he,We),!0}function E(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=be===5?Ne.reasonCode:Ne.returnCode,$e=Ne.properties,He=2;if(typeof ze!="number")return he.destroy(new Error("Invalid return code")),!1;let K=null;if(be===5){if(K=te(he,$e),!K)return!1;He+=K.length}return he.write(t.CONNACK_HEADER),Y(he,He),he.write(Ne.sessionPresent?t.SESSIONPRESENT_HEADER:s),he.write(i.from([ze])),K?.write(),!0}function C(Ae,he,_e){l("publish: packet: %o",Ae);let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.qos||0,$e=Ne.retain?t.RETAIN_MASK:0,He=Ne.topic,K=Ne.payload||r,xe=Ne.messageId,Pe=Ne.properties,We=0;if(typeof He=="string")We+=i.byteLength(He)+2;else if(i.isBuffer(He))We+=He.length+2;else return he.destroy(new Error("Invalid topic")),!1;if(i.isBuffer(K)?We+=K.length:We+=i.byteLength(K),ze&&typeof xe!="number")return he.destroy(new Error("Invalid messageId")),!1;ze&&(We+=2);let Le=null;if(be===5){if(Le=te(he,Pe),!Le)return!1;We+=Le.length}return he.write(t.PUBLISH_HEADER[ze][Ne.dup?1:0][$e?1:0]),Y(he,We),y(he,fe(He)),he.write(He),ze>0&&y(he,xe),Le?.write(),l("publish: payload: %o",K),he.write(K)}function T(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.cmd||"puback",$e=Ne.messageId,He=Ne.dup&&ze==="pubrel"?t.DUP_MASK:0,K=0,xe=Ne.reasonCode,Pe=Ne.properties,We=be===5?3:2;if(ze==="pubrel"&&(K=1),typeof $e!="number")return he.destroy(new Error("Invalid messageId")),!1;let Le=null;if(be===5&&typeof Pe=="object"){if(Le=z(he,Pe,_e,We),!Le)return!1;We+=Le.length}return he.write(t.ACKS[ze][K][He][0]),We===3&&(We+=xe!==0?1:-1),Y(he,We),y(he,$e),be===5&&We!==2&&he.write(i.from([xe])),Le!==null?Le.write():We===4&&he.write(i.from([0])),!0}function M(Ae,he,_e){l("subscribe: packet: ");let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.dup?t.DUP_MASK:0,$e=Ne.messageId,He=Ne.subscriptions,K=Ne.properties,xe=0;if(typeof $e!="number")return he.destroy(new Error("Invalid messageId")),!1;xe+=2;let Pe=null;if(be===5){if(Pe=te(he,K),!Pe)return!1;xe+=Pe.length}if(typeof He=="object"&&He.length)for(let Le=0;Le<He.length;Le+=1){let tt=He[Le].topic,Ee=He[Le].qos;if(typeof tt!="string")return he.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Ee!="number")return he.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(be===5){if(typeof(He[Le].nl||!1)!="boolean")return he.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(He[Le].rap||!1)!="boolean")return he.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let et=He[Le].rh||0;if(typeof et!="number"||et>2)return he.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}xe+=i.byteLength(tt)+2+1}else return he.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),he.write(t.SUBSCRIBE_HEADER[1][ze?1:0][0]),Y(he,xe),y(he,$e),Pe!==null&&Pe.write();let We=!0;for(let Le of He){let tt=Le.topic,Ee=Le.qos,et=+Le.nl,me=+Le.rap,le=Le.rh,Je;ne(he,tt),Je=t.SUBSCRIBE_OPTIONS_QOS[Ee],be===5&&(Je|=et?t.SUBSCRIBE_OPTIONS_NL:0,Je|=me?t.SUBSCRIBE_OPTIONS_RAP:0,Je|=le?t.SUBSCRIBE_OPTIONS_RH[le]:0),We=he.write(i.from([Je]))}return We}function F(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.messageId,$e=Ne.granted,He=Ne.properties,K=0;if(typeof ze!="number")return he.destroy(new Error("Invalid messageId")),!1;if(K+=2,typeof $e=="object"&&$e.length)for(let Pe=0;Pe<$e.length;Pe+=1){if(typeof $e[Pe]!="number")return he.destroy(new Error("Invalid qos vector")),!1;K+=1}else return he.destroy(new Error("Invalid qos vector")),!1;let xe=null;if(be===5){if(xe=z(he,He,_e,K),!xe)return!1;K+=xe.length}return he.write(t.SUBACK_HEADER),Y(he,K),y(he,ze),xe!==null&&xe.write(),he.write(i.from($e))}function L(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.messageId,$e=Ne.dup?t.DUP_MASK:0,He=Ne.unsubscriptions,K=Ne.properties,xe=0;if(typeof ze!="number")return he.destroy(new Error("Invalid messageId")),!1;if(xe+=2,typeof He=="object"&&He.length)for(let Le=0;Le<He.length;Le+=1){if(typeof He[Le]!="string")return he.destroy(new Error("Invalid unsubscriptions")),!1;xe+=i.byteLength(He[Le])+2}else return he.destroy(new Error("Invalid unsubscriptions")),!1;let Pe=null;if(be===5){if(Pe=te(he,K),!Pe)return!1;xe+=Pe.length}he.write(t.UNSUBSCRIBE_HEADER[1][$e?1:0][0]),Y(he,xe),y(he,ze),Pe!==null&&Pe.write();let We=!0;for(let Le=0;Le<He.length;Le++)We=ne(he,He[Le]);return We}function N(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.messageId,$e=Ne.dup?t.DUP_MASK:0,He=Ne.granted,K=Ne.properties,xe=Ne.cmd,Pe=0,We=2;if(typeof ze!="number")return he.destroy(new Error("Invalid messageId")),!1;if(be===5)if(typeof He=="object"&&He.length)for(let tt=0;tt<He.length;tt+=1){if(typeof He[tt]!="number")return he.destroy(new Error("Invalid qos vector")),!1;We+=1}else return he.destroy(new Error("Invalid qos vector")),!1;let Le=null;if(be===5){if(Le=z(he,K,_e,We),!Le)return!1;We+=Le.length}return he.write(t.ACKS[xe][Pe][$e][0]),Y(he,We),y(he,ze),Le!==null&&Le.write(),be===5&&he.write(i.from(He)),!0}function R(Ae,he,_e){return he.write(t.EMPTY[Ae.cmd])}function k(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.reasonCode,$e=Ne.properties,He=be===5?1:0,K=null;if(be===5){if(K=z(he,$e,_e,He),!K)return!1;He+=K.length}return he.write(i.from([t.codes.disconnect<<4])),Y(he,He),be===5&&he.write(i.from([ze])),K!==null&&K.write(),!0}function Q(Ae,he,_e){let be=_e?_e.protocolVersion:4,Ne=Ae||{},ze=Ne.reasonCode,$e=Ne.properties,He=be===5?1:0;be!==5&&he.destroy(new Error("Invalid mqtt version for auth packet"));let K=z(he,$e,_e,He);return K?(He+=K.length,he.write(i.from([t.codes.auth<<4])),Y(he,He),he.write(i.from([ze])),K!==null&&K.write(),!0):!1}var J={};function Y(Ae,he){if(he>t.VARBYTEINT_MAX)return Ae.destroy(new Error(`Invalid variable byte integer: ${he}`)),!1;let _e=J[he];return _e||(_e=p(he),he<16384&&(J[he]=_e)),l("writeVarByteInt: writing to stream: %o",_e),Ae.write(_e)}function ne(Ae,he){let _e=i.byteLength(he);return y(Ae,_e),l("writeString: %s",he),Ae.write(he,"utf8")}function W(Ae,he,_e){ne(Ae,he),ne(Ae,_e)}function q(Ae,he){return l("writeNumberCached: number: %d",he),l("writeNumberCached: %o",c[he]),Ae.write(c[he])}function $(Ae,he){let _e=A(he);return l("writeNumberGenerated: %o",_e),Ae.write(_e)}function re(Ae,he){let _e=d(he);return l("write4ByteNumber: %o",_e),Ae.write(_e)}function V(Ae,he){typeof he=="string"?ne(Ae,he):he?(y(Ae,he.length),Ae.write(he)):y(Ae,0)}function te(Ae,he){if(typeof he!="object"||he.length!=null)return{length:1,write(){oe(Ae,{},0)}};let _e=0;function be(Ne,ze){let $e=t.propertiesTypes[Ne],He=0;switch($e){case"byte":{if(typeof ze!="boolean")return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=2;break}case"int8":{if(typeof ze!="number"||ze<0||ze>255)return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=2;break}case"binary":{if(ze&&ze===null)return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=1+i.byteLength(ze)+2;break}case"int16":{if(typeof ze!="number"||ze<0||ze>65535)return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=3;break}case"int32":{if(typeof ze!="number"||ze<0||ze>4294967295)return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=5;break}case"var":{if(typeof ze!="number"||ze<0||ze>268435455)return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=1+i.byteLength(p(ze));break}case"string":{if(typeof ze!="string")return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=3+i.byteLength(ze.toString());break}case"pair":{if(typeof ze!="object")return Ae.destroy(new Error(`Invalid ${Ne}: ${ze}`)),!1;He+=Object.getOwnPropertyNames(ze).reduce((K,xe)=>{let Pe=ze[xe];return Array.isArray(Pe)?K+=Pe.reduce((We,Le)=>(We+=3+i.byteLength(xe.toString())+2+i.byteLength(Le.toString()),We),0):K+=3+i.byteLength(xe.toString())+2+i.byteLength(ze[xe].toString()),K},0);break}default:return Ae.destroy(new Error(`Invalid property ${Ne}: ${ze}`)),!1}return He}if(he)for(let Ne in he){let ze=0,$e=0,He=he[Ne];if(He!==void 0){if(Array.isArray(He))for(let K=0;K<He.length;K++){if($e=be(Ne,He[K]),!$e)return!1;ze+=$e}else{if($e=be(Ne,He),!$e)return!1;ze=$e}if(!ze)return!1;_e+=ze}}return{length:i.byteLength(p(_e))+_e,write(){oe(Ae,he,_e)}}}function z(Ae,he,_e,be){let Ne=["reasonString","userProperties"],ze=_e&&_e.properties&&_e.properties.maximumPacketSize?_e.properties.maximumPacketSize:0,$e=te(Ae,he);if(ze)for(;be+$e.length>ze;){let He=Ne.shift();if(He&&he[He])delete he[He],$e=te(Ae,he);else return!1}return $e}function j(Ae,he,_e){switch(t.propertiesTypes[he]){case"byte":{Ae.write(i.from([t.properties[he]])),Ae.write(i.from([+_e]));break}case"int8":{Ae.write(i.from([t.properties[he]])),Ae.write(i.from([_e]));break}case"binary":{Ae.write(i.from([t.properties[he]])),V(Ae,_e);break}case"int16":{Ae.write(i.from([t.properties[he]])),y(Ae,_e);break}case"int32":{Ae.write(i.from([t.properties[he]])),re(Ae,_e);break}case"var":{Ae.write(i.from([t.properties[he]])),Y(Ae,_e);break}case"string":{Ae.write(i.from([t.properties[he]])),ne(Ae,_e);break}case"pair":{Object.getOwnPropertyNames(_e).forEach(be=>{let Ne=_e[be];Array.isArray(Ne)?Ne.forEach(ze=>{Ae.write(i.from([t.properties[he]])),W(Ae,be.toString(),ze.toString())}):(Ae.write(i.from([t.properties[he]])),W(Ae,be.toString(),Ne.toString()))});break}default:return Ae.destroy(new Error(`Invalid property ${he} value: ${_e}`)),!1}}function oe(Ae,he,_e){Y(Ae,_e);for(let be in he)if(Object.prototype.hasOwnProperty.call(he,be)&&he[be]!=null){let Ne=he[be];if(Array.isArray(Ne))for(let ze=0;ze<Ne.length;ze++)j(Ae,be,Ne[ze]);else j(Ae,be,Ne)}}function fe(Ae){return Ae?Ae instanceof i?Ae.length:i.byteLength(Ae):0}function ue(Ae){return typeof Ae=="string"||Ae instanceof i}e.exports=w}),OG=qt((n,e)=>{Ht(),zt(),Qt();var t=qP(),{EventEmitter:i}=(Bg(),ls(kp)),{Buffer:r}=(Do(),ls(Ro));function s(o,l){let c=new a;return t(o,c,l),c.concat()}var a=class extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,l=new Array(this._array.length),c=this._array,A=0,f;for(f=0;f<c.length&&c[f]!==void 0;f++)typeof c[f]!="string"?l[f]=c[f].length:l[f]=r.byteLength(c[f]),o+=l[f];let p=r.allocUnsafe(o);for(f=0;f<c.length&&c[f]!==void 0;f++)typeof c[f]!="string"?(c[f].copy(p,A),A+=l[f]):(p.write(c[f],A),A+=l[f]);return p}destroy(o){o&&this.emit("error",o)}};e.exports=s}),PG=qt(n=>{Ht(),zt(),Qt(),n.parser=LG().parser,n.generate=OG(),n.writeToStream=qP()}),kG=qt((n,e)=>{Ht(),zt(),Qt(),e.exports=i;function t(s){return s instanceof h_?h_.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function i(s){if(s=s||{},s.circles)return r(s);let a=new Map;if(a.set(Date,f=>new Date(f)),a.set(Map,(f,p)=>new Map(l(Array.from(f),p))),a.set(Set,(f,p)=>new Set(l(Array.from(f),p))),s.constructorHandlers)for(let f of s.constructorHandlers)a.set(f[0],f[1]);let o=null;return s.proto?A:c;function l(f,p){let d=Object.keys(f),y=new Array(d.length);for(let x=0;x<d.length;x++){let w=d[x],b=f[w];typeof b!="object"||b===null?y[w]=b:b.constructor!==Object&&(o=a.get(b.constructor))?y[w]=o(b,p):ArrayBuffer.isView(b)?y[w]=t(b):y[w]=p(b)}return y}function c(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,c);if(f.constructor!==Object&&(o=a.get(f.constructor)))return o(f,c);let p={};for(let d in f){if(Object.hasOwnProperty.call(f,d)===!1)continue;let y=f[d];typeof y!="object"||y===null?p[d]=y:y.constructor!==Object&&(o=a.get(y.constructor))?p[d]=o(y,c):ArrayBuffer.isView(y)?p[d]=t(y):p[d]=c(y)}return p}function A(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,A);if(f.constructor!==Object&&(o=a.get(f.constructor)))return o(f,A);let p={};for(let d in f){let y=f[d];typeof y!="object"||y===null?p[d]=y:y.constructor!==Object&&(o=a.get(y.constructor))?p[d]=o(y,A):ArrayBuffer.isView(y)?p[d]=t(y):p[d]=A(y)}return p}}function r(s){let a=[],o=[],l=new Map;if(l.set(Date,d=>new Date(d)),l.set(Map,(d,y)=>new Map(A(Array.from(d),y))),l.set(Set,(d,y)=>new Set(A(Array.from(d),y))),s.constructorHandlers)for(let d of s.constructorHandlers)l.set(d[0],d[1]);let c=null;return s.proto?p:f;function A(d,y){let x=Object.keys(d),w=new Array(x.length);for(let b=0;b<x.length;b++){let _=x[b],E=d[_];if(typeof E!="object"||E===null)w[_]=E;else if(E.constructor!==Object&&(c=l.get(E.constructor)))w[_]=c(E,y);else if(ArrayBuffer.isView(E))w[_]=t(E);else{let C=a.indexOf(E);C!==-1?w[_]=o[C]:w[_]=y(E)}}return w}function f(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return A(d,f);if(d.constructor!==Object&&(c=l.get(d.constructor)))return c(d,f);let y={};a.push(d),o.push(y);for(let x in d){if(Object.hasOwnProperty.call(d,x)===!1)continue;let w=d[x];if(typeof w!="object"||w===null)y[x]=w;else if(w.constructor!==Object&&(c=l.get(w.constructor)))y[x]=c(w,f);else if(ArrayBuffer.isView(w))y[x]=t(w);else{let b=a.indexOf(w);b!==-1?y[x]=o[b]:y[x]=f(w)}}return a.pop(),o.pop(),y}function p(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return A(d,p);if(d.constructor!==Object&&(c=l.get(d.constructor)))return c(d,p);let y={};a.push(d),o.push(y);for(let x in d){let w=d[x];if(typeof w!="object"||w===null)y[x]=w;else if(w.constructor!==Object&&(c=l.get(w.constructor)))y[x]=c(w,p);else if(ArrayBuffer.isView(w))y[x]=t(w);else{let b=a.indexOf(w);b!==-1?y[x]=o[b]:y[x]=p(w)}}return a.pop(),o.pop(),y}}}),HG=qt((n,e)=>{Ht(),zt(),Qt(),e.exports=kG()()}),QG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0}),n.validateTopic=e,n.validateTopics=t;function e(i){let r=i.split("/");for(let s=0;s<r.length;s++)if(r[s]!=="+"){if(r[s]==="#")return s===r.length-1;if(r[s].indexOf("+")!==-1||r[s].indexOf("#")!==-1)return!1}return!0}function t(i){if(i.length===0)return"empty_topic_list";for(let r=0;r<i.length;r++)if(!e(i[r]))return i[r];return null}}),WP=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=Mg(),t={objectMode:!0},i={clean:!0},r=class{options;_inflights;constructor(s){this.options=s||{},this.options={...i,...s},this._inflights=new Map}put(s,a){return this._inflights.set(s.messageId,s),a&&a(),this}createStream(){let s=new e.Readable(t),a=[],o=!1,l=0;return this._inflights.forEach((c,A)=>{a.push(c)}),s._read=()=>{!o&&l<a.length?s.push(a[l++]):s.push(null)},s.destroy=c=>{if(!o)return o=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,a){let o=this._inflights.get(s.messageId);return o?(this._inflights.delete(s.messageId),a(null,o)):a&&a(new Error("missing packet")),this}get(s,a){let o=this._inflights.get(s.messageId);return o?a(null,o):a&&a(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};n.default=r}),zG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],t=(i,r,s)=>{i.log("handlePublish: packet %o",r),s=typeof s<"u"?s:i.noop;let a=r.topic.toString(),o=r.payload,{qos:l}=r,{messageId:c}=r,{options:A}=i;if(i.options.protocolVersion===5){let f;if(r.properties&&(f=r.properties.topicAlias),typeof f<"u")if(a.length===0)if(f>0&&f<=65535){let p=i.topicAliasRecv.getTopicByAlias(f);if(p)a=p,i.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",a,f);else{i.log("handlePublish :: unregistered topic alias. alias: %d",f),i.emit("error",new Error("Received unregistered Topic Alias"));return}}else{i.log("handlePublish :: topic alias out of range. alias: %d",f),i.emit("error",new Error("Received Topic Alias is out of range"));return}else if(i.topicAliasRecv.put(a,f))i.log("handlePublish :: registered topic: %s - alias: %d",a,f);else{i.log("handlePublish :: topic alias out of range. alias: %d",f),i.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(i.log("handlePublish: qos %d",l),l){case 2:{A.customHandleAcks(a,o,r,(f,p)=>{if(typeof f=="number"&&(p=f,f=null),f)return i.emit("error",f);if(e.indexOf(p)===-1)return i.emit("error",new Error("Wrong reason code for pubrec"));p?i._sendPacket({cmd:"pubrec",messageId:c,reasonCode:p},s):i.incomingStore.put(r,()=>{i._sendPacket({cmd:"pubrec",messageId:c},s)})});break}case 1:{A.customHandleAcks(a,o,r,(f,p)=>{if(typeof f=="number"&&(p=f,f=null),f)return i.emit("error",f);if(e.indexOf(p)===-1)return i.emit("error",new Error("Wrong reason code for puback"));p||i.emit("message",a,o,r),i.handleMessage(r,d=>{if(d)return s&&s(d);i._sendPacket({cmd:"puback",messageId:c,reasonCode:p},s)})});break}case 0:i.emit("message",a,o,r),i.handleMessage(r,s);break;default:i.log("handlePublish: unknown QoS. Doing nothing.");break}};n.default=t}),jG=qt((n,e)=>{e.exports={version:"5.14.1"}}),jy=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0}),n.MQTTJS_VERSION=n.nextTick=n.ErrorWithSubackPacket=n.ErrorWithReasonCode=void 0,n.applyMixin=i;var e=class XP extends Error{code;constructor(s,a){super(s),this.code=a,Object.setPrototypeOf(this,XP.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};n.ErrorWithReasonCode=e;var t=class YP extends Error{packet;constructor(s,a){super(s),this.packet=a,Object.setPrototypeOf(this,YP.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};n.ErrorWithSubackPacket=t;function i(r,s,a=!1){let o=[s];for(;;){let l=o[0],c=Object.getPrototypeOf(l);if(c?.prototype)o.unshift(c);else break}for(let l of o)for(let c of Object.getOwnPropertyNames(l.prototype))(a||c!=="constructor")&&Object.defineProperty(r.prototype,c,Object.getOwnPropertyDescriptor(l.prototype,c)??Object.create(null))}n.nextTick=typeof ws?.nextTick=="function"?ws.nextTick:r=>{setTimeout(r,0)},n.MQTTJS_VERSION=jG().version}),RS=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0}),n.ReasonCodes=void 0;var e=jy();n.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(i,r)=>{let{messageId:s}=r,a=r.cmd,o=null,l=i.outgoing[s]?i.outgoing[s].cb:null,c=null;if(!l){i.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(i.log("_handleAck :: packet type",a),a){case"pubcomp":case"puback":{let A=r.reasonCode;A&&A>0&&A!==16?(c=new e.ErrorWithReasonCode(`Publish error: ${n.ReasonCodes[A]}`,A),i._removeOutgoingAndStoreMessage(s,()=>{l(c,r)})):i._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{o={cmd:"pubrel",qos:2,messageId:s};let A=r.reasonCode;A&&A>0&&A!==16?(c=new e.ErrorWithReasonCode(`Publish error: ${n.ReasonCodes[A]}`,A),i._removeOutgoingAndStoreMessage(s,()=>{l(c,r)})):i._sendPacket(o);break}case"suback":{delete i.outgoing[s],i.messageIdProvider.deallocate(s);let A=r.granted;for(let f=0;f<A.length;f++){let p=A[f];if((p&128)!==0){c=new Error(`Subscribe error: ${n.ReasonCodes[p]}`),c.code=p;let d=i.messageIdToTopic[s];d&&d.forEach(y=>{delete i._resubscribeTopics[y]})}}delete i.messageIdToTopic[s],i._invokeStoreProcessingQueue(),l(c,r);break}case"unsuback":{delete i.outgoing[s],i.messageIdProvider.deallocate(s),i._invokeStoreProcessingQueue(),l(null,r);break}default:i.emit("error",new Error("unrecognized packet type"))}i.disconnecting&&Object.keys(i.outgoing).length===0&&i.emit("outgoingEmpty")};n.default=t}),VG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=jy(),t=RS(),i=(r,s)=>{let{options:a}=r,o=a.protocolVersion,l=o===5?s.reasonCode:s.returnCode;if(o!==5){let c=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,l);r.emit("error",c);return}r.handleAuth(s,(c,A)=>{if(c){r.emit("error",c);return}if(l===24)r.reconnecting=!1,r._sendPacket(A);else{let f=new e.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[l]}`,l);r.emit("error",f)}})};n.default=i}),GG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,i=typeof ws=="object"&&ws?ws:{},r=(d,y,x,w)=>{typeof i.emitWarning=="function"?i.emitWarning(d,y,x,w):console.error(`[${x}] ${y}: ${d}`)},s=globalThis.AbortController,a=globalThis.AbortSignal;if(typeof s>"u"){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(x,w){this._onabort.push(w)}},s=class{constructor(){y()}signal=new a;abort(x){if(!this.signal.aborted){this.signal.reason=x,this.signal.aborted=!0;for(let w of this.signal._onabort)w(x);this.signal.onabort?.(x)}}};let d=i.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",y=()=>{d&&(d=!1,r("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",y))}}var o=d=>!t.has(d),l=d=>d&&d===Math.floor(d)&&d>0&&isFinite(d),c=d=>l(d)?d<=Math.pow(2,8)?Uint8Array:d<=Math.pow(2,16)?Uint16Array:d<=Math.pow(2,32)?Uint32Array:d<=Number.MAX_SAFE_INTEGER?A:null:null,A=class extends Array{constructor(d){super(d),this.fill(0)}},f=class A1{heap;length;static#l=!1;static create(y){let x=c(y);if(!x)return[];A1.#l=!0;let w=new A1(y,x);return A1.#l=!1,w}constructor(y,x){if(!A1.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new x(y),this.length=0}push(y){this.heap[this.length++]=y}pop(){return this.heap[--this.length]}},p=class ZP{#l;#A;#p;#m;#U;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#g;#i;#n;#e;#c;#f;#o;#s;#y;#a;#v;#x;#h;#b;#B;#u;static unsafeExposeInternals(y){return{starts:y.#x,ttls:y.#h,sizes:y.#v,keyMap:y.#i,keyList:y.#n,valList:y.#e,next:y.#c,prev:y.#f,get head(){return y.#o},get tail(){return y.#s},free:y.#y,isBackgroundFetch:x=>y.#t(x),backgroundFetch:(x,w,b,_)=>y.#L(x,w,b,_),moveToTail:x=>y.#T(x),indexes:x=>y.#w(x),rindexes:x=>y.#_(x),isStale:x=>y.#d(x)}}get max(){return this.#l}get maxSize(){return this.#A}get calculatedSize(){return this.#g}get size(){return this.#r}get fetchMethod(){return this.#U}get memoMethod(){return this.#N}get dispose(){return this.#p}get disposeAfter(){return this.#m}constructor(y){let{max:x=0,ttl:w,ttlResolution:b=1,ttlAutopurge:_,updateAgeOnGet:E,updateAgeOnHas:C,allowStale:T,dispose:M,disposeAfter:F,noDisposeOnSet:L,noUpdateTTL:N,maxSize:R=0,maxEntrySize:k=0,sizeCalculation:Q,fetchMethod:J,memoMethod:Y,noDeleteOnFetchRejection:ne,noDeleteOnStaleGet:W,allowStaleOnFetchRejection:q,allowStaleOnFetchAbort:$,ignoreFetchAbort:re}=y;if(x!==0&&!l(x))throw new TypeError("max option must be a nonnegative integer");let V=x?c(x):Array;if(!V)throw new Error("invalid max value: "+x);if(this.#l=x,this.#A=R,this.maxEntrySize=k||this.#A,this.sizeCalculation=Q,this.sizeCalculation){if(!this.#A&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Y!==void 0&&typeof Y!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#N=Y,J!==void 0&&typeof J!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#U=J,this.#B=!!J,this.#i=new Map,this.#n=new Array(x).fill(void 0),this.#e=new Array(x).fill(void 0),this.#c=new V(x),this.#f=new V(x),this.#o=0,this.#s=0,this.#y=f.create(x),this.#r=0,this.#g=0,typeof M=="function"&&(this.#p=M),typeof F=="function"?(this.#m=F,this.#a=[]):(this.#m=void 0,this.#a=void 0),this.#b=!!this.#p,this.#u=!!this.#m,this.noDisposeOnSet=!!L,this.noUpdateTTL=!!N,this.noDeleteOnFetchRejection=!!ne,this.allowStaleOnFetchRejection=!!q,this.allowStaleOnFetchAbort=!!$,this.ignoreFetchAbort=!!re,this.maxEntrySize!==0){if(this.#A!==0&&!l(this.#A))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Q()}if(this.allowStale=!!T,this.noDeleteOnStaleGet=!!W,this.updateAgeOnGet=!!E,this.updateAgeOnHas=!!C,this.ttlResolution=l(b)||b===0?b:1,this.ttlAutopurge=!!_,this.ttl=w||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(this.#l===0&&this.ttl===0&&this.#A===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#A){let te="LRU_CACHE_UNBOUNDED";o(te)&&(t.add(te),r("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",te,ZP))}}getRemainingTTL(y){return this.#i.has(y)?1/0:0}#R(){let y=new A(this.#l),x=new A(this.#l);this.#h=y,this.#x=x,this.#D=(_,E,C=e.now())=>{if(x[_]=E!==0?C:0,y[_]=E,E!==0&&this.ttlAutopurge){let T=setTimeout(()=>{this.#d(_)&&this.#S(this.#n[_],"expire")},E+1);T.unref&&T.unref()}},this.#C=_=>{x[_]=y[_]!==0?e.now():0},this.#E=(_,E)=>{if(y[E]){let C=y[E],T=x[E];if(!C||!T)return;_.ttl=C,_.start=T,_.now=w||b();let M=_.now-T;_.remainingTTL=C-M}};let w=0,b=()=>{let _=e.now();if(this.ttlResolution>0){w=_;let E=setTimeout(()=>w=0,this.ttlResolution);E.unref&&E.unref()}return _};this.getRemainingTTL=_=>{let E=this.#i.get(_);if(E===void 0)return 0;let C=y[E],T=x[E];if(!C||!T)return 1/0;let M=(w||b())-T;return C-M},this.#d=_=>{let E=x[_],C=y[_];return!!C&&!!E&&(w||b())-E>C}}#C=()=>{};#E=()=>{};#D=()=>{};#d=()=>!1;#Q(){let y=new A(this.#l);this.#g=0,this.#v=y,this.#M=x=>{this.#g-=y[x],y[x]=0},this.#O=(x,w,b,_)=>{if(this.#t(w))return 0;if(!l(b))if(_){if(typeof _!="function")throw new TypeError("sizeCalculation must be a function");if(b=_(w,x),!l(b))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return b},this.#F=(x,w,b)=>{if(y[x]=w,this.#A){let _=this.#A-y[x];for(;this.#g>_;)this.#I(!0)}this.#g+=y[x],b&&(b.entrySize=w,b.totalCalculatedSize=this.#g)}}#M=y=>{};#F=(y,x,w)=>{};#O=(y,x,w,b)=>{if(w||b)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:y=this.allowStale}={}){if(this.#r)for(let x=this.#s;!(!this.#P(x)||((y||!this.#d(x))&&(yield x),x===this.#o));)x=this.#f[x]}*#_({allowStale:y=this.allowStale}={}){if(this.#r)for(let x=this.#o;!(!this.#P(x)||((y||!this.#d(x))&&(yield x),x===this.#s));)x=this.#c[x]}#P(y){return y!==void 0&&this.#i.get(this.#n[y])===y}*entries(){for(let y of this.#w())this.#e[y]!==void 0&&this.#n[y]!==void 0&&!this.#t(this.#e[y])&&(yield[this.#n[y],this.#e[y]])}*rentries(){for(let y of this.#_())this.#e[y]!==void 0&&this.#n[y]!==void 0&&!this.#t(this.#e[y])&&(yield[this.#n[y],this.#e[y]])}*keys(){for(let y of this.#w()){let x=this.#n[y];x!==void 0&&!this.#t(this.#e[y])&&(yield x)}}*rkeys(){for(let y of this.#_()){let x=this.#n[y];x!==void 0&&!this.#t(this.#e[y])&&(yield x)}}*values(){for(let y of this.#w())this.#e[y]!==void 0&&!this.#t(this.#e[y])&&(yield this.#e[y])}*rvalues(){for(let y of this.#_())this.#e[y]!==void 0&&!this.#t(this.#e[y])&&(yield this.#e[y])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(y,x={}){for(let w of this.#w()){let b=this.#e[w],_=this.#t(b)?b.__staleWhileFetching:b;if(_!==void 0&&y(_,this.#n[w],this))return this.get(this.#n[w],x)}}forEach(y,x=this){for(let w of this.#w()){let b=this.#e[w],_=this.#t(b)?b.__staleWhileFetching:b;_!==void 0&&y.call(x,_,this.#n[w],this)}}rforEach(y,x=this){for(let w of this.#_()){let b=this.#e[w],_=this.#t(b)?b.__staleWhileFetching:b;_!==void 0&&y.call(x,_,this.#n[w],this)}}purgeStale(){let y=!1;for(let x of this.#_({allowStale:!0}))this.#d(x)&&(this.#S(this.#n[x],"expire"),y=!0);return y}info(y){let x=this.#i.get(y);if(x===void 0)return;let w=this.#e[x],b=this.#t(w)?w.__staleWhileFetching:w;if(b===void 0)return;let _={value:b};if(this.#h&&this.#x){let E=this.#h[x],C=this.#x[x];if(E&&C){let T=E-(e.now()-C);_.ttl=T,_.start=Date.now()}}return this.#v&&(_.size=this.#v[x]),_}dump(){let y=[];for(let x of this.#w({allowStale:!0})){let w=this.#n[x],b=this.#e[x],_=this.#t(b)?b.__staleWhileFetching:b;if(_===void 0||w===void 0)continue;let E={value:_};if(this.#h&&this.#x){E.ttl=this.#h[x];let C=e.now()-this.#x[x];E.start=Math.floor(Date.now()-C)}this.#v&&(E.size=this.#v[x]),y.unshift([w,E])}return y}load(y){this.clear();for(let[x,w]of y){if(w.start){let b=Date.now()-w.start;w.start=e.now()-b}this.set(x,w.value,w)}}set(y,x,w={}){if(x===void 0)return this.delete(y),this;let{ttl:b=this.ttl,start:_,noDisposeOnSet:E=this.noDisposeOnSet,sizeCalculation:C=this.sizeCalculation,status:T}=w,{noUpdateTTL:M=this.noUpdateTTL}=w,F=this.#O(y,x,w.size||0,C);if(this.maxEntrySize&&F>this.maxEntrySize)return T&&(T.set="miss",T.maxEntrySizeExceeded=!0),this.#S(y,"set"),this;let L=this.#r===0?void 0:this.#i.get(y);if(L===void 0)L=this.#r===0?this.#s:this.#y.length!==0?this.#y.pop():this.#r===this.#l?this.#I(!1):this.#r,this.#n[L]=y,this.#e[L]=x,this.#i.set(y,L),this.#c[this.#s]=L,this.#f[L]=this.#s,this.#s=L,this.#r++,this.#F(L,F,T),T&&(T.set="add"),M=!1;else{this.#T(L);let N=this.#e[L];if(x!==N){if(this.#B&&this.#t(N)){N.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:R}=N;R!==void 0&&!E&&(this.#b&&this.#p?.(R,y,"set"),this.#u&&this.#a?.push([R,y,"set"]))}else E||(this.#b&&this.#p?.(N,y,"set"),this.#u&&this.#a?.push([N,y,"set"]));if(this.#M(L),this.#F(L,F,T),this.#e[L]=x,T){T.set="replace";let R=N&&this.#t(N)?N.__staleWhileFetching:N;R!==void 0&&(T.oldValue=R)}}else T&&(T.set="update")}if(b!==0&&!this.#h&&this.#R(),this.#h&&(M||this.#D(L,b,_),T&&this.#E(T,L)),!E&&this.#u&&this.#a){let N=this.#a,R;for(;R=N?.shift();)this.#m?.(...R)}return this}pop(){try{for(;this.#r;){let y=this.#e[this.#o];if(this.#I(!0),this.#t(y)){if(y.__staleWhileFetching)return y.__staleWhileFetching}else if(y!==void 0)return y}}finally{if(this.#u&&this.#a){let y=this.#a,x;for(;x=y?.shift();)this.#m?.(...x)}}}#I(y){let x=this.#o,w=this.#n[x],b=this.#e[x];return this.#B&&this.#t(b)?b.__abortController.abort(new Error("evicted")):(this.#b||this.#u)&&(this.#b&&this.#p?.(b,w,"evict"),this.#u&&this.#a?.push([b,w,"evict"])),this.#M(x),y&&(this.#n[x]=void 0,this.#e[x]=void 0,this.#y.push(x)),this.#r===1?(this.#o=this.#s=0,this.#y.length=0):this.#o=this.#c[x],this.#i.delete(w),this.#r--,x}has(y,x={}){let{updateAgeOnHas:w=this.updateAgeOnHas,status:b}=x,_=this.#i.get(y);if(_!==void 0){let E=this.#e[_];if(this.#t(E)&&E.__staleWhileFetching===void 0)return!1;if(this.#d(_))b&&(b.has="stale",this.#E(b,_));else return w&&this.#C(_),b&&(b.has="hit",this.#E(b,_)),!0}else b&&(b.has="miss");return!1}peek(y,x={}){let{allowStale:w=this.allowStale}=x,b=this.#i.get(y);if(b===void 0||!w&&this.#d(b))return;let _=this.#e[b];return this.#t(_)?_.__staleWhileFetching:_}#L(y,x,w,b){let _=x===void 0?void 0:this.#e[x];if(this.#t(_))return _;let E=new s,{signal:C}=w;C?.addEventListener("abort",()=>E.abort(C.reason),{signal:E.signal});let T={signal:E.signal,options:w,context:b},M=(Q,J=!1)=>{let{aborted:Y}=E.signal,ne=w.ignoreFetchAbort&&Q!==void 0;if(w.status&&(Y&&!J?(w.status.fetchAborted=!0,w.status.fetchError=E.signal.reason,ne&&(w.status.fetchAbortIgnored=!0)):w.status.fetchResolved=!0),Y&&!ne&&!J)return L(E.signal.reason);let W=R;return this.#e[x]===R&&(Q===void 0?W.__staleWhileFetching?this.#e[x]=W.__staleWhileFetching:this.#S(y,"fetch"):(w.status&&(w.status.fetchUpdated=!0),this.set(y,Q,T.options))),Q},F=Q=>(w.status&&(w.status.fetchRejected=!0,w.status.fetchError=Q),L(Q)),L=Q=>{let{aborted:J}=E.signal,Y=J&&w.allowStaleOnFetchAbort,ne=Y||w.allowStaleOnFetchRejection,W=ne||w.noDeleteOnFetchRejection,q=R;if(this.#e[x]===R&&(!W||q.__staleWhileFetching===void 0?this.#S(y,"fetch"):Y||(this.#e[x]=q.__staleWhileFetching)),ne)return w.status&&q.__staleWhileFetching!==void 0&&(w.status.returnedStale=!0),q.__staleWhileFetching;if(q.__returned===q)throw Q},N=(Q,J)=>{let Y=this.#U?.(y,_,T);Y&&Y instanceof Promise&&Y.then(ne=>Q(ne===void 0?void 0:ne),J),E.signal.addEventListener("abort",()=>{(!w.ignoreFetchAbort||w.allowStaleOnFetchAbort)&&(Q(void 0),w.allowStaleOnFetchAbort&&(Q=ne=>M(ne,!0)))})};w.status&&(w.status.fetchDispatched=!0);let R=new Promise(N).then(M,F),k=Object.assign(R,{__abortController:E,__staleWhileFetching:_,__returned:void 0});return x===void 0?(this.set(y,k,{...T.options,status:void 0}),x=this.#i.get(y)):this.#e[x]=k,k}#t(y){if(!this.#B)return!1;let x=y;return!!x&&x instanceof Promise&&x.hasOwnProperty("__staleWhileFetching")&&x.__abortController instanceof s}async fetch(y,x={}){let{allowStale:w=this.allowStale,updateAgeOnGet:b=this.updateAgeOnGet,noDeleteOnStaleGet:_=this.noDeleteOnStaleGet,ttl:E=this.ttl,noDisposeOnSet:C=this.noDisposeOnSet,size:T=0,sizeCalculation:M=this.sizeCalculation,noUpdateTTL:F=this.noUpdateTTL,noDeleteOnFetchRejection:L=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:N=this.allowStaleOnFetchRejection,ignoreFetchAbort:R=this.ignoreFetchAbort,allowStaleOnFetchAbort:k=this.allowStaleOnFetchAbort,context:Q,forceRefresh:J=!1,status:Y,signal:ne}=x;if(!this.#B)return Y&&(Y.fetch="get"),this.get(y,{allowStale:w,updateAgeOnGet:b,noDeleteOnStaleGet:_,status:Y});let W={allowStale:w,updateAgeOnGet:b,noDeleteOnStaleGet:_,ttl:E,noDisposeOnSet:C,size:T,sizeCalculation:M,noUpdateTTL:F,noDeleteOnFetchRejection:L,allowStaleOnFetchRejection:N,allowStaleOnFetchAbort:k,ignoreFetchAbort:R,status:Y,signal:ne},q=this.#i.get(y);if(q===void 0){Y&&(Y.fetch="miss");let $=this.#L(y,q,W,Q);return $.__returned=$}else{let $=this.#e[q];if(this.#t($)){let z=w&&$.__staleWhileFetching!==void 0;return Y&&(Y.fetch="inflight",z&&(Y.returnedStale=!0)),z?$.__staleWhileFetching:$.__returned=$}let re=this.#d(q);if(!J&&!re)return Y&&(Y.fetch="hit"),this.#T(q),b&&this.#C(q),Y&&this.#E(Y,q),$;let V=this.#L(y,q,W,Q),te=V.__staleWhileFetching!==void 0&&w;return Y&&(Y.fetch=re?"stale":"refresh",te&&re&&(Y.returnedStale=!0)),te?V.__staleWhileFetching:V.__returned=V}}async forceFetch(y,x={}){let w=await this.fetch(y,x);if(w===void 0)throw new Error("fetch() returned undefined");return w}memo(y,x={}){let w=this.#N;if(!w)throw new Error("no memoMethod provided to constructor");let{context:b,forceRefresh:_,...E}=x,C=this.get(y,E);if(!_&&C!==void 0)return C;let T=w(y,C,{options:E,context:b});return this.set(y,T,E),T}get(y,x={}){let{allowStale:w=this.allowStale,updateAgeOnGet:b=this.updateAgeOnGet,noDeleteOnStaleGet:_=this.noDeleteOnStaleGet,status:E}=x,C=this.#i.get(y);if(C!==void 0){let T=this.#e[C],M=this.#t(T);return E&&this.#E(E,C),this.#d(C)?(E&&(E.get="stale"),M?(E&&w&&T.__staleWhileFetching!==void 0&&(E.returnedStale=!0),w?T.__staleWhileFetching:void 0):(_||this.#S(y,"expire"),E&&w&&(E.returnedStale=!0),w?T:void 0)):(E&&(E.get="hit"),M?T.__staleWhileFetching:(this.#T(C),b&&this.#C(C),T))}else E&&(E.get="miss")}#k(y,x){this.#f[x]=y,this.#c[y]=x}#T(y){y!==this.#s&&(y===this.#o?this.#o=this.#c[y]:this.#k(this.#f[y],this.#c[y]),this.#k(this.#s,y),this.#s=y)}delete(y){return this.#S(y,"delete")}#S(y,x){let w=!1;if(this.#r!==0){let b=this.#i.get(y);if(b!==void 0)if(w=!0,this.#r===1)this.#H(x);else{this.#M(b);let _=this.#e[b];if(this.#t(_)?_.__abortController.abort(new Error("deleted")):(this.#b||this.#u)&&(this.#b&&this.#p?.(_,y,x),this.#u&&this.#a?.push([_,y,x])),this.#i.delete(y),this.#n[b]=void 0,this.#e[b]=void 0,b===this.#s)this.#s=this.#f[b];else if(b===this.#o)this.#o=this.#c[b];else{let E=this.#f[b];this.#c[E]=this.#c[b];let C=this.#c[b];this.#f[C]=this.#f[b]}this.#r--,this.#y.push(b)}}if(this.#u&&this.#a?.length){let b=this.#a,_;for(;_=b?.shift();)this.#m?.(..._)}return w}clear(){return this.#H("delete")}#H(y){for(let x of this.#_({allowStale:!0})){let w=this.#e[x];if(this.#t(w))w.__abortController.abort(new Error("deleted"));else{let b=this.#n[x];this.#b&&this.#p?.(w,b,y),this.#u&&this.#a?.push([w,b,y])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#h&&this.#x&&(this.#h.fill(0),this.#x.fill(0)),this.#v&&this.#v.fill(0),this.#o=0,this.#s=0,this.#y.length=0,this.#g=0,this.#r=0,this.#u&&this.#a){let x=this.#a,w;for(;w=x?.shift();)this.#m?.(...w)}}};n.LRUCache=p}),pd=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.ContainerIterator=n.Container=n.Base=void 0;var e=class{constructor(r=0){this.iteratorType=r}equals(r){return this.o===r.o}};n.ContainerIterator=e;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};n.Base=t;var i=class extends t{};n.Container=i}),KG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=pd(),t=class extends e.Base{constructor(r=[]){super(),this.S=[];let s=this;r.forEach(function(a){s.push(a)})}clear(){this.i=0,this.S=[]}push(r){return this.S.push(r),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},i=t;n.default=i}),qG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=pd(),t=class extends e.Base{constructor(r=[]){super(),this.j=0,this.q=[];let s=this;r.forEach(function(a){s.push(a)})}clear(){this.q=[],this.i=this.j=0}push(r){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let a=this.i;for(let o=0;o<a;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=r}else this.q[this.j+this.i]=r;return++this.i}pop(){if(this.i===0)return;let r=this.q[this.j++];return this.i-=1,r}front(){if(this.i!==0)return this.q[this.j]}},i=t;n.default=i}),WG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=pd(),t=class extends e.Base{constructor(r=[],s=function(o,l){return o>l?-1:o<l?1:0},a=!0){if(super(),this.v=s,Array.isArray(r))this.C=a?[...r]:r;else{this.C=[];let l=this;r.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let o=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,o)}m(r){let s=this.C[r];for(;r>0;){let a=r-1>>1,o=this.C[a];if(this.v(o,s)<=0)break;this.C[r]=o,r=a}this.C[r]=s}k(r,s){let a=this.C[r];for(;r<s;){let o=r<<1|1,l=o+1,c=this.C[o];if(l<this.i&&this.v(c,this.C[l])>0&&(o=l,c=this.C[l]),this.v(c,a)>=0)break;this.C[r]=c,r=o}this.C[r]=a}clear(){this.i=0,this.C.length=0}push(r){this.C.push(r),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let r=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),r}top(){return this.C[0]}find(r){return this.C.indexOf(r)>=0}remove(r){let s=this.C.indexOf(r);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(r){let s=this.C.indexOf(r);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},i=t;n.default=i}),I4=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=pd(),t=class extends e.Container{},i=t;n.default=i}),md=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),JP=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.RandomIterator=void 0;var e=pd(),t=md(),i=class extends e.ContainerIterator{constructor(r,s){super(s),this.o=r,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(r){this.container.setElementByPos(this.o,r)}};n.RandomIterator=i}),XG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=i(I4()),t=JP();function i(o){return o&&o.t?o:{default:o}}var r=class $P extends t.RandomIterator{constructor(l,c,A){super(l,A),this.container=c}copy(){return new $P(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(o=[],l=!0){if(super(),Array.isArray(o))this.J=l?[...o]:o,this.i=o.length;else{this.J=[];let c=this;o.forEach(function(A){c.pushBack(A)})}}clear(){this.i=0,this.J.length=0}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==o&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(o){let l=o.o;return o=o.next(),this.eraseElementByPos(l),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,l){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=l}insert(o,l,c=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(c).fill(l)),this.i+=c,this.i}find(o){for(let l=0;l<this.i;++l)if(this.J[l]===o)return new r(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[o++]=this.J[l]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let l=0;l<this.i;++l)o(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},a=s;n.default=a}),YG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=r(I4()),t=pd(),i=md();function r(l){return l&&l.t?l:{default:l}}var s=class ek extends t.ContainerIterator{constructor(c,A,f,p){super(p),this.o=c,this.h=A,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=c}copy(){return new ek(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(A){c.pushBack(A)})}V(l){let{L:c,B:A}=l;c.B=A,A.L=c,l===this.p&&(this.p=A),l===this._&&(this._=c),this.i-=1}G(l,c){let A=c.B,f={l,L:c,B:A};c.B=f,A.L=f,c===this.h&&(this.p=f),A===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,i.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let A=this.p;for(;l--;)A=A.B;A.l=c}insert(l,c,A=1){if(l<0||l>this.i)throw new RangeError;if(A<=0)return this.i;if(l===0)for(;A--;)this.pushFront(c);else if(l===this.i)for(;A--;)this.pushBack(c);else{let f=this.p;for(let d=1;d<l;++d)f=f.B;let p=f.B;for(this.i+=A;A--;)f.B={l:c,L:f},f.B.L=f,f=f.B;f.B=p,p.L=f}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new s(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,A=0;for(;A<<1<this.i;){let f=l.l;l.l=c.l,c.l=f,l=l.B,c=c.L,A+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(f){c.push(f)}),c.sort(l);let A=this.p;c.forEach(function(f){A.l=f,A=A.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(A){c.pushBack(A)});else{let A=this.p;l.forEach(function(f){for(;A!==c.h&&A.l<=f;)A=A.B;c.G(f,A.L)})}return this.i}forEach(l){let c=this.p,A=0;for(;c!==this.h;)l(c.l,A++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},o=a;n.default=o}),ZG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=i(I4()),t=JP();function i(o){return o&&o.t?o:{default:o}}var r=class tk extends t.RandomIterator{constructor(l,c,A){super(l,A),this.container=c}copy(){return new tk(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(o=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let A=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(A>>1),this.D=this.N=this.F-c%this.F>>1;let f=this;o.forEach(function(p){f.pushBack(p)})}T(){let o=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)o[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)o[o.length]=this.A[c];for(let c=0;c<this.R;++c)o[o.length]=this.A[c];o[o.length]=[...this.A[this.R]],this.j=l,this.R=o.length-1;for(let c=0;c<l;++c)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let l=this.D+o+1,c=l%this.F,A=c-1,f=this.j+(l-c)/this.F;return c===0&&(f-=1),f%=this.P,A<0&&(A+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:A}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(o);return this.A[l][c]}setElementByPos(o,l){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:A}=this.O(o);this.A[c][A]=l}insert(o,l,c=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;c--;)this.pushFront(l);else if(o===this.i)for(;c--;)this.pushBack(l);else{let A=[];for(let f=o;f<this.i;++f)A.push(this.getElementByPos(f));this.cut(o-1);for(let f=0;f<c;++f)this.pushBack(l);for(let f=0;f<A.length;++f)this.pushBack(A[f])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(o);return this.R=l,this.N=c,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let l=[];for(let A=o+1;A<this.i;++A)l.push(this.getElementByPos(A));this.cut(o),this.popBack();let c=this;l.forEach(function(A){c.pushBack(A)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let l=[];for(let A=0;A<this.i;++A){let f=this.getElementByPos(A);f!==o&&l.push(f)}let c=l.length;for(let A=0;A<c;++A)this.setElementByPos(A,l[A]);return this.cut(c-1)}eraseElementByIterator(o){let l=o.o;return this.eraseElementByPos(l),o=o.next(),o}find(o){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===o)return new r(l,this);return this.end()}reverse(){let o=0,l=this.i-1;for(;o<l;){let c=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(l)),this.setElementByPos(l,c),o+=1,l-=1}}unique(){if(this.i<=1)return this.i;let o=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let A=this.getElementByPos(c);A!==l&&(l=A,this.setElementByPos(o++,A))}for(;this.i>o;)this.popBack();return this.i}sort(o){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(o);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(l){o.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<o.length;++l)this.pushBack(o[l])}forEach(o){for(let l=0;l<this.i;++l)o(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},a=s;n.default=a}),JG=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.TreeNodeEnableIndex=n.TreeNode=void 0;var e=class{constructor(i,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=i,this.l=r}L(){let i=this;if(i.ee===1&&i.tt.tt===i)i=i.W;else if(i.U)for(i=i.U;i.W;)i=i.W;else{let r=i.tt;for(;r.U===i;)i=r,r=i.tt;i=r}return i}B(){let i=this;if(i.W){for(i=i.W;i.U;)i=i.U;return i}else{let r=i.tt;for(;r.W===i;)i=r,r=i.tt;return i.W!==r?r:i}}te(){let i=this.tt,r=this.W,s=r.U;return i.tt===this?i.tt=r:i.U===this?i.U=r:i.W=r,r.tt=i,r.U=this,this.tt=r,this.W=s,s&&(s.tt=this),r}se(){let i=this.tt,r=this.U,s=r.W;return i.tt===this?i.tt=r:i.U===this?i.U=r:i.W=r,r.tt=i,r.W=this,this.tt=r,this.U=s,s&&(s.tt=this),r}};n.TreeNode=e;var t=class extends e{constructor(){super(...arguments),this.rt=1}te(){let i=super.te();return this.ie(),i.ie(),i}se(){let i=super.se();return this.ie(),i.ie(),i}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};n.TreeNodeEnableIndex=t}),nk=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=JG(),t=pd(),i=md(),r=class extends t.Container{constructor(a=function(l,c){return l<c?-1:l>c?1:0},o=!1){super(),this.Y=void 0,this.v=a,o?(this.re=e.TreeNodeEnableIndex,this.M=function(l,c,A){let f=this.ne(l,c,A);if(f){let p=f.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let d=this.he(f);if(d){let{parentNode:y,grandParent:x,curNode:w}=d;y.ie(),x.ie(),w.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=e.TreeNode,this.M=function(l,c,A){let f=this.ne(l,c,A);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(a,o){let l=this.h;for(;a;){let c=this.v(a.u,o);if(c<0)a=a.W;else if(c>0)l=a,a=a.U;else return a}return l}Z(a,o){let l=this.h;for(;a;)this.v(a.u,o)<=0?a=a.W:(l=a,a=a.U);return l}$(a,o){let l=this.h;for(;a;){let c=this.v(a.u,o);if(c<0)l=a,a=a.W;else if(c>0)a=a.U;else return a}return l}rr(a,o){let l=this.h;for(;a;)this.v(a.u,o)<0?(l=a,a=a.W):a=a.U;return l}ue(a){for(;;){let o=a.tt;if(o===this.h)return;if(a.ee===1){a.ee=0;return}if(a===o.U){let l=o.W;if(l.ee===1)l.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(l.W&&l.W.ee===1){l.ee=o.ee,o.ee=0,l.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,a=o)}else{let l=o.U;if(l.ee===1)l.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(l.U&&l.U.ee===1){l.ee=o.ee,o.ee=0,l.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,a=o)}}}fe(a){if(this.i===1)return this.clear(),this.h;let o=a;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[a.u,o.u]=[o.u,a.u],[a.l,o.l]=[o.l,a.l],a=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let l=o.tt;return o===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(a,o){return a===void 0?!1:this.oe(a.U,o)||o(a)?!0:this.oe(a.W,o)}he(a){for(;;){let o=a.tt;if(o.ee===0)return;let l=o.tt;if(o===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=o.ee=0,l===this.Y)return;l.ee=1,a=l;continue}else if(a===o.W){if(a.ee=0,a.U&&(a.U.tt=o),a.W&&(a.W.tt=l),o.W=a.U,l.U=a.W,a.U=o,a.W=l,l===this.Y)this.Y=a,this.h.tt=a;else{let A=l.tt;A.U===l?A.U=a:A.W=a}return a.tt=l.tt,o.tt=a,l.tt=a,l.ee=1,{parentNode:o,grandParent:l,curNode:a}}else o.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=o.ee=0,l===this.Y)return;l.ee=1,a=l;continue}else if(a===o.U){if(a.ee=0,a.U&&(a.U.tt=l),a.W&&(a.W.tt=o),l.W=a.U,o.U=a.W,a.U=l,a.W=o,l===this.Y)this.Y=a,this.h.tt=a;else{let A=l.tt;A.U===l?A.U=a:A.W=a}return a.tt=l.tt,o.tt=a,l.tt=a,l.ee=1,{parentNode:o,grandParent:l,curNode:a}}else o.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(a,o,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(a,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,A=this.h.U,f=this.v(A.u,a);if(f===0){A.l=o;return}else if(f>0)A.U=new this.re(a,o),A.U.tt=A,c=A.U,this.h.U=c;else{let p=this.h.W,d=this.v(p.u,a);if(d===0){p.l=o;return}else if(d<0)p.W=new this.re(a,o),p.W.tt=p,c=p.W,this.h.W=c;else{if(l!==void 0){let y=l.o;if(y!==this.h){let x=this.v(y.u,a);if(x===0){y.l=o;return}else if(x>0){let w=y.L(),b=this.v(w.u,a);if(b===0){w.l=o;return}else b<0&&(c=new this.re(a,o),w.W===void 0?(w.W=c,c.tt=w):(y.U=c,c.tt=y))}}}if(c===void 0)for(c=this.Y;;){let y=this.v(c.u,a);if(y>0){if(c.U===void 0){c.U=new this.re(a,o),c.U.tt=c,c=c.U;break}c=c.U}else if(y<0){if(c.W===void 0){c.W=new this.re(a,o),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=o;return}}}}return this.i+=1,c}I(a,o){for(;a;){let l=this.v(a.u,o);if(l<0)a=a.W;else if(l>0)a=a.U;else return a}return a||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(a,o){let l=a.o;if(l===this.h&&(0,i.throwIteratorAccessError)(),this.i===1)return l.u=o,!0;if(l===this.h.U)return this.v(l.B().u,o)>0?(l.u=o,!0):!1;if(l===this.h.W)return this.v(l.L().u,o)<0?(l.u=o,!0):!1;let c=l.L().u;if(this.v(c,o)>=0)return!1;let A=l.B().u;return this.v(A,o)<=0?!1:(l.u=o,!0)}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o=0,l=this;return this.oe(this.Y,function(c){return a===o?(l.V(c),!0):(o+=1,!1)}),this.i}eraseElementByKey(a){if(this.i===0)return!1;let o=this.I(this.Y,a);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(a){let o=a.o;o===this.h&&(0,i.throwIteratorAccessError)();let l=o.W===void 0;return a.iteratorType===0?l&&a.next():(!l||o.U===void 0)&&a.next(),this.V(o),a}forEach(a){let o=0;for(let l of this)a(l,o++,this)}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o,l=0;for(let c of this){if(l===a){o=c;break}l+=1}return o}getHeight(){if(this.i===0)return 0;let a=function(o){return o?Math.max(a(o.U),a(o.W))+1:0};return a(this.Y)}},s=r;n.default=s}),ik=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=pd(),t=md(),i=class extends e.ContainerIterator{constructor(s,a,o){super(o),this.o=s,this.h=a,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,a=this.h.tt;if(s===this.h)return a?a.rt-1:0;let o=0;for(s.U&&(o+=s.U.rt);s!==a;){let l=s.tt;s===l.W&&(o+=1,l.U&&(o+=l.U.rt)),s=l}return o}},r=i;n.default=r}),$G=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=r(nk()),t=r(ik()),i=md();function r(l){return l&&l.t?l:{default:l}}var s=class rk extends t.default{constructor(c,A,f,p){super(c,A,p),this.container=f}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.u}copy(){return new rk(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.default{constructor(l=[],c,A){super(c,A);let f=this;l.forEach(function(p){f.insert(p)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}union(l){let c=this;return l.forEach(function(A){c.insert(A)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=a;n.default=o}),eK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=r(nk()),t=r(ik()),i=md();function r(l){return l&&l.t?l:{default:l}}var s=class sk extends t.default{constructor(c,A,f,p){super(c,A,p),this.container=f}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let c=this;return new Proxy([],{get(A,f){if(f==="0")return c.o.u;if(f==="1")return c.o.l},set(A,f,p){if(f!=="1")throw new TypeError("props must be 1");return c.o.l=p,!0}})}copy(){return new sk(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.default{constructor(l=[],c,A){super(c,A);let f=this;l.forEach(function(p){f.setElement(p[0],p[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}setElement(l,c,A){return this.M(l,c,A)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(A){c.setElement(A[0],A[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=a;n.default=o}),ak=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=e;function e(t){let i=typeof t;return i==="object"&&t!==null||i==="function"}}),ok=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.HashContainerIterator=n.HashContainer=void 0;var e=pd(),t=r(ak()),i=md();function r(o){return o&&o.t?o:{default:o}}var s=class extends e.ContainerIterator{constructor(o,l,c){super(c),this.o=o,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}};n.HashContainerIterator=s;var a=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:l,B:c}=o;l.B=c,c.L=l,o===this.p&&(this.p=c),o===this._&&(this._=l),this.i-=1}M(o,l,c){c===void 0&&(c=(0,t.default)(o));let A;if(c){let f=o[this.HASH_TAG];if(f!==void 0)return this.H[f].l=l,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),A={u:o,l,L:this._,B:this.h},this.H.push(A)}else{let f=this.g[o];if(f)return f.l=l,this.i;A={u:o,l,L:this._,B:this.h},this.g[o]=A}return this.i===0?(this.p=A,this.h.B=A):this._.B=A,this._=A,this.h.L=A,++this.i}I(o,l){if(l===void 0&&(l=(0,t.default)(o)),l){let c=o[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(l){delete l.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,l){let c;if(l===void 0&&(l=(0,t.default)(o)),l){let A=o[this.HASH_TAG];if(A===void 0)return!1;delete o[this.HASH_TAG],c=this.H[A],delete this.H[A]}else{if(c=this.g[o],c===void 0)return!1;delete this.g[o]}return this.V(c),!0}eraseElementByIterator(o){let l=o.o;return l===this.h&&(0,i.throwIteratorAccessError)(),this.V(l),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let l=this.p;for(;o--;)l=l.B;return this.V(l),this.i}};n.HashContainer=a}),tK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=ok(),t=md(),i=class lk extends e.HashContainerIterator{constructor(o,l,c,A){super(o,l,A),this.container=c}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new lk(this.o,this.h,this.container,this.iteratorType)}},r=class extends e.HashContainer{constructor(a=[]){super();let o=this;a.forEach(function(l){o.insert(l)})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(a,o){return this.M(a,void 0,o)}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o=this.p;for(;a--;)o=o.B;return o.u}find(a,o){let l=this.I(a,o);return new i(l,this.h,this)}forEach(a){let o=0,l=this.p;for(;l!==this.h;)a(l.u,o++,this),l=l.B}[Symbol.iterator](){return(function*(){let a=this.p;for(;a!==this.h;)yield a.u,a=a.B}).bind(this)()}},s=r;n.default=s}),nK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var e=ok(),t=r(ak()),i=md();function r(l){return l&&l.t?l:{default:l}}var s=class ck extends e.HashContainerIterator{constructor(c,A,f,p){super(c,A,p),this.container=f}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let c=this;return new Proxy([],{get(A,f){if(f==="0")return c.o.u;if(f==="1")return c.o.l},set(A,f,p){if(f!=="1")throw new TypeError("props must be 1");return c.o.l=p,!0}})}copy(){return new ck(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(A){c.setElement(A[0],A[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,A){return this.M(l,c,A)}getElementByKey(l,c){if(c===void 0&&(c=(0,t.default)(l)),c){let f=l[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let A=this.g[l];return A?A.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let A=this.I(l,c);return new s(A,this.h,this)}forEach(l){let c=0,A=this.p;for(;A!==this.h;)l([A.u,A.l],c++,this),A=A.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},o=a;n.default=o}),iK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"t",{value:!0}),Object.defineProperty(n,"Deque",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"HashMap",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"PriorityQueue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(n,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return r.default}});var e=f(KG()),t=f(qG()),i=f(WG()),r=f(XG()),s=f(YG()),a=f(ZG()),o=f($G()),l=f(eK()),c=f(tK()),A=f(nK());function f(p){return p&&p.t?p:{default:p}}}),rK=qt((n,e)=>{Ht(),zt(),Qt();var t=iK().OrderedSet,i=ud()("number-allocator:trace"),r=ud()("number-allocator:error");function s(o,l){this.low=o,this.high=l}s.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},s.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function a(o,l){if(!(this instanceof a))return new a(o,l);this.min=o,this.max=l,this.ss=new t([],(c,A)=>c.compare(A)),i("Create"),this.clear()}a.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},a.prototype.alloc=function(){if(this.ss.size()===0)return i("alloc():empty"),null;let o=this.ss.begin(),l=o.pointer.low,c=o.pointer.high,A=l;return A+1<=c?this.ss.updateKeyByIterator(o,new s(l+1,c)):this.ss.eraseElementByPos(0),i("alloc():"+A),A},a.prototype.use=function(o){let l=new s(o,o),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let A=c.pointer.low,f=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),i("use():"+o),!0):A>o?!1:A===o?(this.ss.updateKeyByIterator(c,new s(A+1,f)),i("use():"+o),!0):f===o?(this.ss.updateKeyByIterator(c,new s(A,f-1)),i("use():"+o),!0):(this.ss.updateKeyByIterator(c,new s(o+1,f)),this.ss.insert(new s(A,o-1)),i("use():"+o),!0)}return i("use():failed"),!1},a.prototype.free=function(o){if(o<this.min||o>this.max){r("free():"+o+" is out of range");return}let l=new s(o,o),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let A=c.pointer.high;c.pointer.high+1===o?this.ss.updateKeyByIterator(c,new s(A,o)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(o+1===c.pointer.low){let A=c.pointer.high;this.ss.updateKeyByIterator(c,new s(o,A))}else this.ss.insert(l);else{let A=c.pointer.low,f=c.pointer.high;c.pre();let p=c.pointer.low;c.pointer.high+1===o?o+1===A?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new s(p,f))):this.ss.updateKeyByIterator(c,new s(p,o)):o+1===A?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new s(o,f))):this.ss.insert(l)}i("free():"+o)},a.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},e.exports=a}),uk=qt((n,e)=>{Ht(),zt(),Qt();var t=rK();e.exports.NumberAllocator=t}),sK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=GG(),t=uk(),i=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(r){r>0&&(this.aliasToTopic=new e.LRUCache({max:r}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,r),this.max=r,this.length=0)}put(r,s){if(s===0||s>this.max)return!1;let a=this.aliasToTopic.get(s);return a&&delete this.topicToAlias[a],this.aliasToTopic.set(s,r),this.topicToAlias[r]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(r){return this.aliasToTopic.get(r)}getAliasByTopic(r){let s=this.topicToAlias[r];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};n.default=i}),aK=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0});var t=RS(),i=e(sK()),r=jy(),s=(a,o)=>{a.log("_handleConnack");let{options:l}=a,c=l.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(a.connackTimer),delete a.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){a.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(a.topicAliasSend=new i.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=o.properties.serverKeepAlive),o.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(c===0)a.reconnecting=!1,a._onConnect(o);else if(c>0){let A=new r.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[c]}`,c);a.emit("error",A),a.options.reconnectOnConnackError&&a._cleanUp(!0)}};n.default=s}),oK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=(t,i,r)=>{t.log("handling pubrel packet");let s=typeof r<"u"?r:t.noop,{messageId:a}=i,o={cmd:"pubcomp",messageId:a};t.incomingStore.get(i,(l,c)=>{l?t._sendPacket(o,s):(t.emit("message",c.topic,c.payload,c),t.handleMessage(c,A=>{if(A)return s(A);t.incomingStore.del(c,t.noop),t._sendPacket(o,s)}))})};n.default=e}),lK=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0});var t=e(zG()),i=e(VG()),r=e(aK()),s=e(RS()),a=e(oK()),o=(l,c,A)=>{let{options:f}=l;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,t.default)(l,c,A);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,c),A();break;case"pubrel":l.reschedulePing(),(0,a.default)(l,c,A);break;case"connack":(0,r.default)(l,c),A();break;case"auth":l.reschedulePing(),(0,i.default)(l,c),A();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),A();break;case"disconnect":l.emit("disconnect",c),A();break;default:l.log("_handlePacket :: unknown command"),A();break}};n.default=o}),Ak=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};n.default=e}),cK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=class{aliasToTopic;max;length;constructor(t){this.aliasToTopic={},this.max=t}put(t,i){return i===0||i>this.max?!1:(this.aliasToTopic[i]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};n.default=e}),uK=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.TypedEventEmitter=void 0;var t=e((Bg(),ls(kp))),i=jy(),r=class{};n.TypedEventEmitter=r,(0,i.applyMixin)(r,t.default)}),DS=qt((n,e)=>{Ht(),zt(),Qt();function t(i){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),AK=qt((n,e)=>{Ht(),zt(),Qt();var t=DS().default;function i(r,s){if(t(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,s||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),fK=qt((n,e)=>{Ht(),zt(),Qt();var t=DS().default,i=AK();function r(s){var a=i(s,"string");return t(a)=="symbol"?a:a+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),hK=qt((n,e)=>{Ht(),zt(),Qt();var t=fK();function i(r,s,a){return(s=t(s))in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),dK=qt((n,e)=>{Ht(),zt(),Qt();function t(i){if(Array.isArray(i))return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),pK=qt((n,e)=>{Ht(),zt(),Qt();function t(i,r){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var a,o,l,c,A=[],f=!0,p=!1;try{if(l=(s=s.call(i)).next,r===0){if(Object(s)!==s)return;f=!1}else for(;!(f=(a=l.call(s)).done)&&(A.push(a.value),A.length!==r);f=!0);}catch(d){p=!0,o=d}finally{try{if(!f&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(p)throw o}}return A}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),mK=qt((n,e)=>{Ht(),zt(),Qt();function t(i,r){(r==null||r>i.length)&&(r=i.length);for(var s=0,a=Array(r);s<r;s++)a[s]=i[s];return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),gK=qt((n,e)=>{Ht(),zt(),Qt();var t=mK();function i(r,s){if(r){if(typeof r=="string")return t(r,s);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(r,s):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),yK=qt((n,e)=>{Ht(),zt(),Qt();function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),vK=qt((n,e)=>{Ht(),zt(),Qt();var t=dK(),i=pK(),r=gK(),s=yK();function a(o,l){return t(o)||i(o,l)||r(o,l)||s()}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}),fk=qt((n,e)=>{Ht(),zt(),Qt(),(function(t,i){typeof n=="object"&&typeof e<"u"?i(n):typeof define=="function"&&define.amd?define(["exports"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.fastUniqueNumbers={}))})(n,function(t){var i=function(d){return function(y){var x=d(y);return y.add(x),x}},r=function(d){return function(y,x){return d.set(y,x),x}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,o=a*2,l=function(d,y){return function(x){var w=y.get(x),b=w===void 0?x.size:w<o?w+1:0;if(!x.has(b))return d(x,b);if(x.size<a){for(;x.has(b);)b=Math.floor(Math.random()*o);return d(x,b)}if(x.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;x.has(b);)b=Math.floor(Math.random()*s);return d(x,b)}},c=new WeakMap,A=r(c),f=l(A,c),p=i(f);t.addUniqueNumber=p,t.generateUniqueNumber=f})}),xK=qt((n,e)=>{Ht(),zt(),Qt();function t(r,s,a,o,l,c,A){try{var f=r[c](A),p=f.value}catch(d){return void a(d)}f.done?s(p):Promise.resolve(p).then(o,l)}function i(r){return function(){var s=this,a=arguments;return new Promise(function(o,l){var c=r.apply(s,a);function A(p){t(c,o,l,A,f,"next",p)}function f(p){t(c,o,l,A,f,"throw",p)}A(void 0)})}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),hk=qt((n,e)=>{Ht(),zt(),Qt();function t(i,r){this.v=i,this.k=r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),dk=qt((n,e)=>{Ht(),zt(),Qt();function t(i,r,s,a){var o=Object.defineProperty;try{o({},"",{})}catch{o=0}e.exports=t=function(l,c,A,f){function p(d,y){t(l,d,function(x){return this._invoke(d,y,x)})}c?o?o(l,c,{value:A,enumerable:!f,configurable:!f,writable:!f}):l[c]=A:(p("next",0),p("throw",1),p("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(i,r,s,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),pk=qt((n,e)=>{Ht(),zt(),Qt();var t=dk();function i(){var r,s,a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",l=a.toStringTag||"@@toStringTag";function c(b,_,E,C){var T=_&&_.prototype instanceof f?_:f,M=Object.create(T.prototype);return t(M,"_invoke",(function(F,L,N){var R,k,Q,J=0,Y=N||[],ne=!1,W={p:0,n:0,v:r,a:q,f:q.bind(r,4),d:function($,re){return R=$,k=0,Q=r,W.n=re,A}};function q($,re){for(k=$,Q=re,s=0;!ne&&J&&!V&&s<Y.length;s++){var V,te=Y[s],z=W.p,j=te[2];$>3?(V=j===re)&&(Q=te[(k=te[4])?5:(k=3,3)],te[4]=te[5]=r):te[0]<=z&&((V=$<2&&z<te[1])?(k=0,W.v=re,W.n=te[1]):z<j&&(V=$<3||te[0]>re||re>j)&&(te[4]=$,te[5]=re,W.n=j,k=0))}if(V||$>1)return A;throw ne=!0,re}return function($,re,V){if(J>1)throw TypeError("Generator is already running");for(ne&&re===1&&q(re,V),k=re,Q=V;(s=k<2?r:Q)||!ne;){R||(k?k<3?(k>1&&(W.n=-1),q(k,Q)):W.n=Q:W.v=Q);try{if(J=2,R){if(k||($="next"),s=R[$]){if(!(s=s.call(R,Q)))throw TypeError("iterator result is not an object");if(!s.done)return s;Q=s.value,k<2&&(k=0)}else k===1&&(s=R.return)&&s.call(R),k<2&&(Q=TypeError("The iterator does not provide a '"+$+"' method"),k=1);R=r}else if((s=(ne=W.n<0)?Q:F.call(L,W))!==A)break}catch(te){R=r,k=1,Q=te}finally{J=1}}return{value:s,done:ne}}})(b,E,C),!0),M}var A={};function f(){}function p(){}function d(){}s=Object.getPrototypeOf;var y=[][o]?s(s([][o]())):(t(s={},o,function(){return this}),s),x=d.prototype=f.prototype=Object.create(y);function w(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,d):(b.__proto__=d,t(b,l,"GeneratorFunction")),b.prototype=Object.create(x),b}return p.prototype=d,t(x,"constructor",d),t(d,"constructor",p),p.displayName="GeneratorFunction",t(d,l,"GeneratorFunction"),t(x),t(x,l,"Generator"),t(x,o,function(){return this}),t(x,"toString",function(){return"[object Generator]"}),(e.exports=i=function(){return{w:c,m:w}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),mk=qt((n,e)=>{Ht(),zt(),Qt();var t=hk(),i=dk();function r(s,a){function o(c,A,f,p){try{var d=s[c](A),y=d.value;return y instanceof t?a.resolve(y.v).then(function(x){o("next",x,f,p)},function(x){o("throw",x,f,p)}):a.resolve(y).then(function(x){d.value=x,f(d)},function(x){return o("throw",x,f,p)})}catch(x){p(x)}}var l;this.next||(i(r.prototype),i(r.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),i(this,"_invoke",function(c,A,f){function p(){return new a(function(d,y){o(c,f,d,y)})}return l=l?l.then(p,p):p()},!0)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),gk=qt((n,e)=>{Ht(),zt(),Qt();var t=pk(),i=mk();function r(s,a,o,l,c){return new i(t().w(s,a,o,l),c||Promise)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),bK=qt((n,e)=>{Ht(),zt(),Qt();var t=gk();function i(r,s,a,o,l){var c=t(r,s,a,o,l);return c.next().then(function(A){return A.done?A.value:c.next()})}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),wK=qt((n,e)=>{Ht(),zt(),Qt();function t(i){var r=Object(i),s=[];for(var a in r)s.unshift(a);return function o(){for(;s.length;)if((a=s.pop())in r)return o.value=a,o.done=!1,o;return o.done=!0,o}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),_K=qt((n,e)=>{Ht(),zt(),Qt();var t=DS().default;function i(r){if(r!=null){var s=r[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],a=0;if(s)return s.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length))return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}}}throw new TypeError(t(r)+" is not iterable")}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),SK=qt((n,e)=>{Ht(),zt(),Qt();var t=hk(),i=pk(),r=bK(),s=gk(),a=mk(),o=wK(),l=_K();function c(){var A=i(),f=A.m(c),p=(Object.getPrototypeOf?Object.getPrototypeOf(f):f.__proto__).constructor;function d(w){var b=typeof w=="function"&&w.constructor;return!!b&&(b===p||(b.displayName||b.name)==="GeneratorFunction")}var y={throw:1,return:2,break:3,continue:3};function x(w){var b,_;return function(E){b||(b={stop:function(){return _(E.a,2)},catch:function(){return E.v},abrupt:function(C,T){return _(E.a,y[C],T)},delegateYield:function(C,T,M){return b.resultName=T,_(E.d,l(C),M)},finish:function(C){return _(E.f,C)}},_=function(C,T,M){E.p=b.prev,E.n=b.next;try{return C(T,M)}finally{b.next=E.n}}),b.resultName&&(b[b.resultName]=E.v,b.resultName=void 0),b.sent=E.v,b.next=E.n;try{return w.call(this,b)}finally{E.p=b.prev,E.n=b.next}}}return(e.exports=c=function(){return{wrap:function(w,b,_,E){return A.w(x(w),b,_,E&&E.reverse())},isGeneratorFunction:d,mark:A.m,awrap:function(w,b){return new t(w,b)},AsyncIterator:a,async:function(w,b,_,E,C){return(d(b)?s:r)(x(w),b,_,E,C)},keys:o,values:l}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=c,e.exports.__esModule=!0,e.exports.default=e.exports}),EK=qt((n,e)=>{Ht(),zt(),Qt();var t=SK()();e.exports=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}),BK=qt((n,e)=>{Ht(),zt(),Qt(),(function(t,i){typeof n=="object"&&typeof e<"u"?i(n,hK(),vK(),fk(),xK(),EK()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.brokerFactory={},t._defineProperty,t._slicedToArray,t.fastUniqueNumbers,t._asyncToGenerator,t._regeneratorRuntime))})(n,function(t,i,r,s,a,o){var l=function(_){return typeof _.start=="function"},c=new WeakMap;function A(_,E){var C=Object.keys(_);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(_);E&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(_,M).enumerable})),C.push.apply(C,T)}return C}function f(_){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?A(Object(C),!0).forEach(function(T){i(_,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(C)):A(Object(C)).forEach(function(T){Object.defineProperty(_,T,Object.getOwnPropertyDescriptor(C,T))})}return _}var p=function(_){return f(f({},_),{},{connect:function(E){var C=E.call;return a(o.mark(function T(){var M,F,L,N;return o.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return M=new MessageChannel,F=M.port1,L=M.port2,R.next=1,C("connect",{port:F},[F]);case 1:return N=R.sent,c.set(L,N),R.abrupt("return",L);case 2:case"end":return R.stop()}},T)}))},disconnect:function(E){var C=E.call;return(function(){var T=a(o.mark(function M(F){var L;return o.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(L=c.get(F),L!==void 0){N.next=1;break}throw new Error("The given port is not connected.");case 1:return N.next=2,C("disconnect",{portId:L});case 2:case"end":return N.stop()}},M)}));return function(M){return T.apply(this,arguments)}})()},isSupported:function(E){var C=E.call;return function(){return C("isSupported")}}})};function d(_,E){var C=Object.keys(_);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(_);E&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(_,M).enumerable})),C.push.apply(C,T)}return C}function y(_){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?d(Object(C),!0).forEach(function(T){i(_,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(C)):d(Object(C)).forEach(function(T){Object.defineProperty(_,T,Object.getOwnPropertyDescriptor(C,T))})}return _}var x=new WeakMap,w=function(_){if(x.has(_))return x.get(_);var E=new Map;return x.set(_,E),E},b=function(_){var E=p(_);return function(C){var T=w(C);C.addEventListener("message",function(Y){var ne=Y.data,W=ne.id;if(W!==null&&T.has(W)){var q=T.get(W),$=q.reject,re=q.resolve;T.delete(W),ne.error===void 0?re(ne.result):$(new Error(ne.error.message))}}),l(C)&&C.start();for(var M=function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(q,$){var re=s.generateUniqueNumber(T);T.set(re,{reject:$,resolve:q}),ne===null?C.postMessage({id:re,method:Y},W):C.postMessage({id:re,method:Y,params:ne},W)})},F=function(Y,ne){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];C.postMessage({id:null,method:Y,params:ne},W)},L={},N=0,R=Object.entries(E);N<R.length;N++){var k=r(R[N],2),Q=k[0],J=k[1];L=y(y({},L),{},i({},Q,J({call:M,notify:F})))}return y({},L)}};t.createBroker=b})}),CK=qt((n,e)=>{Ht(),zt(),Qt(),(function(t,i){typeof n=="object"&&typeof e<"u"?i(n,DS(),BK(),fk()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.workerTimersBroker={},t._typeof,t.brokerFactory,t.fastUniqueNumbers))})(n,function(t,i,r,s){var a=new Map([[0,null]]),o=new Map([[0,null]]),l=r.createBroker({clearInterval:function(A){var f=A.call;return function(p){i(a.get(p))==="symbol"&&(a.set(p,null),f("clear",{timerId:p,timerType:"interval"}).then(function(){a.delete(p)}))}},clearTimeout:function(A){var f=A.call;return function(p){i(o.get(p))==="symbol"&&(o.set(p,null),f("clear",{timerId:p,timerType:"timeout"}).then(function(){o.delete(p)}))}},setInterval:function(A){var f=A.call;return function(p){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length,x=new Array(y>2?y-2:0),w=2;w<y;w++)x[w-2]=arguments[w];var b=Symbol(),_=s.generateUniqueNumber(a);a.set(_,b);var E=function(){return f("set",{delay:d,now:performance.timeOrigin+performance.now(),timerId:_,timerType:"interval"}).then(function(){var C=a.get(_);if(C===void 0)throw new Error("The timer is in an undefined state.");C===b&&(p.apply(void 0,x),a.get(_)===b&&E())})};return E(),_}},setTimeout:function(A){var f=A.call;return function(p){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length,x=new Array(y>2?y-2:0),w=2;w<y;w++)x[w-2]=arguments[w];var b=Symbol(),_=s.generateUniqueNumber(o);return o.set(_,b),f("set",{delay:d,now:performance.timeOrigin+performance.now(),timerId:_,timerType:"timeout"}).then(function(){var E=o.get(_);if(E===void 0)throw new Error("The timer is in an undefined state.");E===b&&(o.delete(_),p.apply(void 0,x))}),_}}}),c=function(A){var f=new Worker(A);return l(f)};t.load=c,t.wrap=l})}),MK=qt((n,e)=>{Ht(),zt(),Qt(),(function(t,i){typeof n=="object"&&typeof e<"u"?i(n,CK()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.workerTimers={},t.workerTimersBroker))})(n,function(t,i){var r=function(f,p){var d=null;return function(){if(d!==null)return d;var y=new Blob([p],{type:"application/javascript; charset=utf-8"}),x=URL.createObjectURL(y);return d=f(x),setTimeout(function(){return URL.revokeObjectURL(x)}),d}},s=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,a=r(i.load,s),o=function(f){return a().clearInterval(f)},l=function(f){return a().clearTimeout(f)},c=function(){var f;return(f=a()).setInterval.apply(f,arguments)},A=function(){var f;return(f=a()).setTimeout.apply(f,arguments)};t.clearInterval=o,t.clearTimeout=l,t.setInterval=c,t.setTimeout=A})}),OS=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0}),n.isReactNativeBrowser=n.isWebWorker=void 0;var e=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&ws?.versions?!Object.prototype.hasOwnProperty.call(ws.versions,"electron"):typeof window.document<"u":!1,t=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),i=()=>typeof navigator<"u"&&navigator.product==="ReactNative",r=e()||t()||i();n.isWebWorker=t(),n.isReactNativeBrowser=i(),n.default=r}),TK=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__createBinding||(Object.create?function(c,A,f,p){p===void 0&&(p=f);var d=Object.getOwnPropertyDescriptor(A,f);(!d||("get"in d?!A.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return A[f]}}),Object.defineProperty(c,p,d)}:function(c,A,f,p){p===void 0&&(p=f),c[p]=A[f]}),t=n&&n.__setModuleDefault||(Object.create?function(c,A){Object.defineProperty(c,"default",{enumerable:!0,value:A})}:function(c,A){c.default=A}),i=n&&n.__importStar||(function(){var c=function(A){return c=Object.getOwnPropertyNames||function(f){var p=[];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(p[p.length]=d);return p},c(A)};return function(A){if(A&&A.__esModule)return A;var f={};if(A!=null)for(var p=c(A),d=0;d<p.length;d++)p[d]!=="default"&&e(f,A,p[d]);return t(f,A),f}})();Object.defineProperty(n,"__esModule",{value:!0});var r=MK(),s=i(OS()),a={set:r.setInterval,clear:r.clearInterval},o={set:(c,A)=>setInterval(c,A),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return o;case"worker":return a;case"auto":default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?a:o}};n.default=l}),yk=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0});var t=e(TK()),i=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(r,s){this.client=r,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,t.default)(s),this.setKeepalive(r.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(r){if(r*=1e3,isNaN(r)||r<=0||r>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${r}`);this._keepalive=r,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${r}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let r=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+r,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};n.default=i}),hM=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__createBinding||(Object.create?function(T,M,F,L){L===void 0&&(L=F);var N=Object.getOwnPropertyDescriptor(M,F);(!N||("get"in N?!M.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return M[F]}}),Object.defineProperty(T,L,N)}:function(T,M,F,L){L===void 0&&(L=F),T[L]=M[F]}),t=n&&n.__setModuleDefault||(Object.create?function(T,M){Object.defineProperty(T,"default",{enumerable:!0,value:M})}:function(T,M){T.default=M}),i=n&&n.__importStar||(function(){var T=function(M){return T=Object.getOwnPropertyNames||function(F){var L=[];for(var N in F)Object.prototype.hasOwnProperty.call(F,N)&&(L[L.length]=N);return L},T(M)};return function(M){if(M&&M.__esModule)return M;var F={};if(M!=null)for(var L=T(M),N=0;N<L.length;N++)L[N]!=="default"&&e(F,M,L[N]);return t(F,M),F}})(),r=n&&n.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(PG()),a=Mg(),o=r(HG()),l=r(ud()),c=i(QG()),A=r(WP()),f=r(lK()),p=r(Ak()),d=r(cK()),y=jy(),x=uK(),w=r(yk()),b=i(OS()),_=globalThis.setImmediate||((...T)=>{let M=T.shift();(0,y.nextTick)(()=>{M(...T)})}),E={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},C=class dM extends x.TypedEventEmitter{static VERSION=y.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(M,F){super(),this.options=F||{};for(let L in E)typeof this.options[L]>"u"?this.options[L]=E[L]:this.options[L]=F[L];this.log=this.options.log||(0,l.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",dM.VERSION),b.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",b.default?"browser":"node"),this.log("MqttClient :: options.protocol",F.protocol),this.log("MqttClient :: options.protocolVersion",F.protocolVersion),this.log("MqttClient :: options.username",F.username),this.log("MqttClient :: options.keepalive",F.keepalive),this.log("MqttClient :: options.reconnectPeriod",F.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",F.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",F.properties?F.properties.topicAliasMaximum:void 0),this.options.clientId=typeof F.clientId=="string"?F.clientId:dM.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=F.protocolVersion===5&&F.customHandleAcks?F.customHandleAcks:(...L)=>{L[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=M,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=F.outgoingStore||new A.default,this.incomingStore=F.incomingStore||new A.default,this.queueQoSZero=F.queueQoSZero===void 0?!0:F.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,F.properties&&F.properties.topicAliasMaximum>0&&(F.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new d.default(F.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:L}=this,N=()=>{let R=L.shift();this.log("deliver :: entry %o",R);let k=null;if(!R){this._resubscribe();return}k=R.packet,this.log("deliver :: call _sendPacket for %o",k);let Q=!0;k.messageId&&k.messageId!==0&&(this.messageIdProvider.register(k.messageId)||(Q=!1)),Q?this._sendPacket(k,J=>{R.cb&&R.cb(J),N()}):(this.log("messageId: %d has already used. The message is skipped and removed.",k.messageId),N())};this.log("connect :: sending queued packets"),N()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(M,F){F()}handleMessage(M,F){F()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let M=new a.Writable,F=s.default.parser(this.options),L=null,N=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new A.default,this.outgoingStore=this.options.outgoingStore||new A.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),F.on("packet",Y=>{this.log("parser :: on packet push to packets array."),N.push(Y)});let R=()=>{this.log("work :: getting next packet in queue");let Y=N.shift();if(Y)this.log("work :: packet pulled from queue"),(0,f.default)(this,Y,k);else{this.log("work :: no packets in queue");let ne=L;L=null,this.log("work :: done flag is %s",!!ne),ne&&ne()}},k=()=>{if(N.length)(0,y.nextTick)(R);else{let Y=L;L=null,Y()}};M._write=(Y,ne,W)=>{L=W,this.log("writable stream :: parsing buffer"),F.parse(Y),R()};let Q=Y=>{this.log("streamErrorHandler :: error",Y.message),Y.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Y)):this.noop(Y)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(M),this.stream.on("error",Q),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let J={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(J.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(J.properties||(J.properties={}),this.topicAliasRecv&&(J.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(J),F.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let Y={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(Y)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(M,F,L,N){this.log("publish :: message `%s` to topic `%s`",F,M);let{options:R}=this;typeof L=="function"&&(N=L,L=null),L=L||{},L={qos:0,retain:!1,dup:!1,...L};let{qos:k,retain:Q,dup:J,properties:Y,cbStorePut:ne}=L;if(this._checkDisconnecting(N))return this;let W=()=>{let q=0;if((k===1||k===2)&&(q=this._nextId(),q===null))return this.log("No messageId left"),!1;let $={cmd:"publish",topic:M,payload:F,qos:k,retain:Q,messageId:q,dup:J};switch(R.protocolVersion===5&&($.properties=Y),this.log("publish :: qos",k),k){case 1:case 2:this.outgoing[$.messageId]={volatile:!1,cb:N||this.noop},this.log("MqttClient:publish: packet cmd: %s",$.cmd),this._sendPacket($,void 0,ne);break;default:this.log("MqttClient:publish: packet cmd: %s",$.cmd),this._sendPacket($,N,ne);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,cbStorePut:L.cbStorePut,callback:N}),this}publishAsync(M,F,L){return new Promise((N,R)=>{this.publish(M,F,L,(k,Q)=>{k?R(k):N(Q)})})}subscribe(M,F,L){let N=this.options.protocolVersion;typeof F=="function"&&(L=F),L=L||this.noop;let R=!1,k=[];typeof M=="string"?(M=[M],k=M):Array.isArray(M)?k=M:typeof M=="object"&&(R=M.resubscribe,delete M.resubscribe,k=Object.keys(M));let Q=c.validateTopics(k);if(Q!==null)return _(L,new Error(`Invalid topic ${Q}`)),this;if(this._checkDisconnecting(L))return this.log("subscribe: discconecting true"),this;let J={qos:0};N===5&&(J.nl=!1,J.rap=!1,J.rh=0),F={...J,...F};let{properties:Y}=F,ne=[],W=(re,V)=>{if(V=V||F,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,re)||this._resubscribeTopics[re].qos<V.qos||R){let te={topic:re,qos:V.qos};N===5&&(te.nl=V.nl,te.rap=V.rap,te.rh=V.rh,te.properties=Y),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",te.topic,te.qos),ne.push(te)}};if(Array.isArray(M)?M.forEach(re=>{this.log("subscribe: array topic %s",re),W(re)}):Object.keys(M).forEach(re=>{this.log("subscribe: object topic %s, %o",re,M[re]),W(re,M[re])}),!ne.length)return L(null,[]),this;let q=(re,V)=>{let te={cmd:"subscribe",subscriptions:re,messageId:V};if(Y&&(te.properties=Y),this.options.resubscribe){this.log("subscribe :: resubscribe true");let j=[];re.forEach(oe=>{if(this.options.reconnectPeriod>0){let fe={qos:oe.qos};N===5&&(fe.nl=oe.nl||!1,fe.rap=oe.rap||!1,fe.rh=oe.rh||0,fe.properties=oe.properties),this._resubscribeTopics[oe.topic]=fe,j.push(oe.topic)}}),this.messageIdToTopic[te.messageId]=j}let z=new Promise((j,oe)=>{this.outgoing[te.messageId]={volatile:!0,cb(fe,ue){if(!fe){let{granted:Ae}=ue;for(let he=0;he<Ae.length;he+=1)re[he].qos=Ae[he]}fe?oe(new y.ErrorWithSubackPacket(fe.message,ue)):j(ue)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(te),z},$=()=>{let re=this.options.subscribeBatchSize??ne.length,V=[];for(let te=0;te<ne.length;te+=re){let z=ne.slice(te,te+re),j=this._nextId();if(j===null)return this.log("No messageId left"),!1;V.push(q(z,j))}return Promise.all(V).then(te=>{L(null,ne,te.at(-1))}).catch(te=>{L(te,ne,te.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!$())&&this._storeProcessingQueue.push({invoke:$,callback:L}),this}subscribeAsync(M,F){return new Promise((L,N)=>{this.subscribe(M,F,(R,k)=>{R?N(R):L(k)})})}unsubscribe(M,F,L){typeof M=="string"&&(M=[M]),typeof F=="function"&&(L=F),L=L||this.noop;let N=c.validateTopics(M);if(N!==null)return _(L,new Error(`Invalid topic ${N}`)),this;if(this._checkDisconnecting(L))return this;let R=()=>{let k=this._nextId();if(k===null)return this.log("No messageId left"),!1;let Q={cmd:"unsubscribe",messageId:k,unsubscriptions:[]};return typeof M=="string"?Q.unsubscriptions=[M]:Array.isArray(M)&&(Q.unsubscriptions=M),this.options.resubscribe&&Q.unsubscriptions.forEach(J=>{delete this._resubscribeTopics[J]}),typeof F=="object"&&F.properties&&(Q.properties=F.properties),this.outgoing[Q.messageId]={volatile:!0,cb:L},this.log("unsubscribe: call _sendPacket"),this._sendPacket(Q),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!R())&&this._storeProcessingQueue.push({invoke:R,callback:L}),this}unsubscribeAsync(M,F){return new Promise((L,N)=>{this.unsubscribe(M,F,(R,k)=>{R?N(R):L(k)})})}end(M,F,L){this.log("end :: (%s)",this.options.clientId),(M==null||typeof M!="boolean")&&(L=L||F,F=M,M=!1),typeof F!="object"&&(L=L||F,F=null),this.log("end :: cb? %s",!!L),(!L||typeof L!="function")&&(L=this.noop);let N=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(k=>{this.outgoingStore.close(Q=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),L){let J=k||Q;this.log("end :: closeStores: invoking callback with args"),L(J)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},R=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,M),this._cleanUp(M,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,y.nextTick)(N)},F)};return this.disconnecting?(L(),this):(this._clearReconnect(),this.disconnecting=!0,!M&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,R,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),R()),this)}endAsync(M,F){return new Promise((L,N)=>{this.end(M,F,R=>{R?N(R):L()})})}removeOutgoingMessage(M){if(this.outgoing[M]){let{cb:F}=this.outgoing[M];this._removeOutgoingAndStoreMessage(M,()=>{F(new Error("Message removed"))})}return this}reconnect(M){this.log("client reconnect");let F=()=>{M?(this.options.incomingStore=M.incomingStore,this.options.outgoingStore=M.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new A.default,this.outgoingStore=this.options.outgoingStore||new A.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=F:F(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(M=>{this.outgoing[M].volatile&&typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(M=>{typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_removeTopicAliasAndRecoverTopicName(M){let F;M.properties&&(F=M.properties.topicAlias);let L=M.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",F,L),L.length===0){if(typeof F>"u")return new Error("Unregistered Topic Alias");if(L=this.topicAliasSend.getTopicByAlias(F),typeof L>"u")return new Error("Unregistered Topic Alias");M.topic=L}F&&delete M.properties.topicAlias}_checkDisconnecting(M){return this.disconnecting&&(M&&M!==this.noop?M(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(M,F,L={}){if(F&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",F)),this.log("_cleanUp :: forced? %s",M),M)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let N={cmd:"disconnect",...L};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(N,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),_(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),F&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",F),F())}_storeAndSend(M,F,L){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",M.cmd);let N=M,R;if(N.cmd==="publish"&&(N=(0,o.default)(M),R=this._removeTopicAliasAndRecoverTopicName(N),R))return F&&F(R);this.outgoingStore.put(N,k=>{if(k)return F&&F(k);L(),this._writePacket(M,F)})}_applyTopicAlias(M){if(this.options.protocolVersion===5&&M.cmd==="publish"){let F;M.properties&&(F=M.properties.topicAlias);let L=M.topic.toString();if(this.topicAliasSend)if(F){if(L.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",L,F),!this.topicAliasSend.put(L,F)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",L,F),new Error("Sending Topic Alias out of range")}else L.length!==0&&(this.options.autoAssignTopicAlias?(F=this.topicAliasSend.getAliasByTopic(L),F?(M.topic="",M.properties={...M.properties,topicAlias:F},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",L,F)):(F=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(L,F),M.properties={...M.properties,topicAlias:F},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",L,F))):this.options.autoUseTopicAlias&&(F=this.topicAliasSend.getAliasByTopic(L),F&&(M.topic="",M.properties={...M.properties,topicAlias:F},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",L,F))));else if(F)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",L,F),new Error("Sending Topic Alias out of range")}}_noop(M){this.log("noop ::",M)}_writePacket(M,F){this.log("_writePacket :: packet: %O",M),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",M),this.log("_writePacket :: writing to stream");let L=s.default.writeToStream(M,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",L),!L&&F&&F!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",F)):F&&(this.log("_writePacket :: invoking cb"),F())}_sendPacket(M,F,L,N){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),L=L||this.noop,F=F||this.noop;let R=this._applyTopicAlias(M);if(R){F(R);return}if(!this.connected){if(M.cmd==="auth"){this._writePacket(M,F);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(M,F,L);return}if(N){this._writePacket(M,F);return}switch(M.cmd){case"publish":break;case"pubrel":this._storeAndSend(M,F,L);return;default:this._writePacket(M,F);return}switch(M.qos){case 2:case 1:this._storeAndSend(M,F,L);break;case 0:default:this._writePacket(M,F);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(M,F,L){this.log("_storePacket :: packet: %o",M),this.log("_storePacket :: cb? %s",!!F),L=L||this.noop;let N=M;if(N.cmd==="publish"){N=(0,o.default)(M);let k=this._removeTopicAliasAndRecoverTopicName(N);if(k)return F&&F(k)}let R=N.qos||0;R===0&&this.queueQoSZero||N.cmd!=="publish"?this.queue.push({packet:N,cb:F}):R>0?(F=this.outgoing[N.messageId]?this.outgoing[N.messageId].cb:null,this.outgoingStore.put(N,k=>{if(k)return F&&F(k);L()})):F&&F(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new w.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(M=!1){this.keepaliveManager&&this.options.keepalive&&(M||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let M=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&M.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let F=0;F<M.length;F++){let L={};L[M[F]]=this._resubscribeTopics[M[F]],L.resubscribe=!0,this.subscribe(L,{properties:L[M[F]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(M){if(this.disconnected){this.emit("connect",M);return}this.connackPacket=M,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let F=()=>{let L=this.outgoingStore.createStream(),N=()=>{L.destroy(),L=null,this._flushStoreProcessingQueue(),R()},R=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",N),L.on("error",Q=>{R(),this._flushStoreProcessingQueue(),this.removeListener("close",N),this.emit("error",Q)});let k=()=>{if(!L)return;let Q=L.read(1),J;if(!Q){L.once("readable",k);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[Q.messageId]){k();return}!this.disconnecting&&!this.reconnectTimer?(J=this.outgoing[Q.messageId]?this.outgoing[Q.messageId].cb:null,this.outgoing[Q.messageId]={volatile:!1,cb(Y,ne){J&&J(Y,ne),k()}},this._packetIdsDuringStoreProcessing[Q.messageId]=!0,this.messageIdProvider.register(Q.messageId)?this._sendPacket(Q,void 0,void 0,!0):this.log("messageId: %d has already used.",Q.messageId)):L.destroy&&L.destroy()};L.on("end",()=>{let Q=!0;for(let J in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[J]){Q=!1;break}this.removeListener("close",N),Q?(R(),this._invokeAllStoreProcessingQueue(),this.emit("connect",M)):F()}),k()};F()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let M=this._storeProcessingQueue[0];if(M&&M.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let M of this._storeProcessingQueue)M.cbStorePut&&M.cbStorePut(new Error("Connection closed")),M.callback&&M.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(M,F){delete this.outgoing[M],this.outgoingStore.del({messageId:M},(L,N)=>{F(L,N),this.messageIdProvider.deallocate(M),this._invokeStoreProcessingQueue()})}};n.default=C}),UK=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=uk(),t=class{numberAllocator;lastId;constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(i){return this.numberAllocator.use(i)}deallocate(i){this.numberAllocator.free(i)}clear(){this.numberAllocator.clear()}};n.default=t});function NK(){if(pM)return B2;pM=!0;let n=2147483647,e=36,t=1,i=26,r=38,s=700,a=72,o=128,l="-",c=/^xn--/,A=/[^\0-\x7F]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=e-t,y=Math.floor,x=String.fromCharCode;function w(R){throw new RangeError(p[R])}function b(R,k){let Q=[],J=R.length;for(;J--;)Q[J]=k(R[J]);return Q}function _(R,k){let Q=R.split("@"),J="";Q.length>1&&(J=Q[0]+"@",R=Q[1]),R=R.replace(f,".");let Y=R.split("."),ne=b(Y,k).join(".");return J+ne}function E(R){let k=[],Q=0,J=R.length;for(;Q<J;){let Y=R.charCodeAt(Q++);if(Y>=55296&&Y<=56319&&Q<J){let ne=R.charCodeAt(Q++);(ne&64512)==56320?k.push(((Y&1023)<<10)+(ne&1023)+65536):(k.push(Y),Q--)}else k.push(Y)}return k}let C=R=>String.fromCodePoint(...R),T=function(R){return R>=48&&R<58?26+(R-48):R>=65&&R<91?R-65:R>=97&&R<123?R-97:e},M=function(R,k){return R+22+75*(R<26)-((k!=0)<<5)},F=function(R,k,Q){let J=0;for(R=Q?y(R/s):R>>1,R+=y(R/k);R>d*i>>1;J+=e)R=y(R/d);return y(J+(d+1)*R/(R+r))},L=function(R){let k=[],Q=R.length,J=0,Y=o,ne=a,W=R.lastIndexOf(l);W<0&&(W=0);for(let q=0;q<W;++q)R.charCodeAt(q)>=128&&w("not-basic"),k.push(R.charCodeAt(q));for(let q=W>0?W+1:0;q<Q;){let $=J;for(let V=1,te=e;;te+=e){q>=Q&&w("invalid-input");let z=T(R.charCodeAt(q++));z>=e&&w("invalid-input"),z>y((n-J)/V)&&w("overflow"),J+=z*V;let j=te<=ne?t:te>=ne+i?i:te-ne;if(z<j)break;let oe=e-j;V>y(n/oe)&&w("overflow"),V*=oe}let re=k.length+1;ne=F(J-$,re,$==0),y(J/re)>n-Y&&w("overflow"),Y+=y(J/re),J%=re,k.splice(J++,0,Y)}return String.fromCodePoint(...k)},N=function(R){let k=[];R=E(R);let Q=R.length,J=o,Y=0,ne=a;for(let $ of R)$<128&&k.push(x($));let W=k.length,q=W;for(W&&k.push(l);q<Q;){let $=n;for(let V of R)V>=J&&V<$&&($=V);let re=q+1;$-J>y((n-Y)/re)&&w("overflow"),Y+=($-J)*re,J=$;for(let V of R)if(V<J&&++Y>n&&w("overflow"),V===J){let te=Y;for(let z=e;;z+=e){let j=z<=ne?t:z>=ne+i?i:z-ne;if(te<j)break;let oe=te-j,fe=e-j;k.push(x(M(j+oe%fe,0))),te=y(oe/fe)}k.push(x(M(te,0))),ne=F(Y,re,q===W),Y=0,++q}++Y,++J}return k.join("")};return B2={version:"2.3.1",ucs2:{decode:E,encode:C},decode:L,encode:N,toASCII:function(R){return _(R,function(k){return A.test(k)?"xn--"+N(k):k})},toUnicode:function(R){return _(R,function(k){return c.test(k)?L(k.slice(4).toLowerCase()):k})}},B2}var B2,pM,Ap,FK=Kc(()=>{Ht(),zt(),Qt(),B2={},pM=!1,Ap=NK(),Ap.decode,Ap.encode,Ap.toASCII,Ap.toUnicode,Ap.ucs2,Ap.version});function IK(){return gM||(gM=!0,mM=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var i=42;n[e]=i;for(e in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var r=Object.getOwnPropertySymbols(n);if(r.length!==1||r[0]!==e||!Object.prototype.propertyIsEnumerable.call(n,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(n,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),mM}function LK(){return vM||(vM=!0,yM=Error),yM}function RK(){return bM||(bM=!0,xM=EvalError),xM}function DK(){return _M||(_M=!0,wM=RangeError),wM}function OK(){return EM||(EM=!0,SM=ReferenceError),SM}function vk(){return CM||(CM=!0,BM=SyntaxError),BM}function Tx(){return TM||(TM=!0,MM=TypeError),MM}function PK(){return NM||(NM=!0,UM=URIError),UM}function kK(){if(FM)return C2;FM=!0;var n=typeof Symbol<"u"&&Symbol,e=IK();return C2=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},C2}function HK(){if(IM)return M2;IM=!0;var n={__proto__:null,foo:{}},e=Object;return M2=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof e)},M2}function QK(){if(LM)return T2;LM=!0;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",r=function(o,l){for(var c=[],A=0;A<o.length;A+=1)c[A]=o[A];for(var f=0;f<l.length;f+=1)c[f+o.length]=l[f];return c},s=function(o,l){for(var c=[],A=l,f=0;A<o.length;A+=1,f+=1)c[f]=o[A];return c},a=function(o,l){for(var c="",A=0;A<o.length;A+=1)c+=o[A],A+1<o.length&&(c+=l);return c};return T2=function(o){var l=this;if(typeof l!="function"||e.apply(l)!==i)throw new TypeError(n+l);for(var c=s(arguments,1),A,f=function(){if(this instanceof A){var w=l.apply(this,r(c,arguments));return Object(w)===w?w:this}return l.apply(o,r(c,arguments))},p=t(0,l.length-c.length),d=[],y=0;y<p;y++)d[y]="$"+y;if(A=Function("binder","return function ("+a(d,",")+"){ return binder.apply(this,arguments); }")(f),l.prototype){var x=function(){};x.prototype=l.prototype,A.prototype=new x,x.prototype=null}return A},T2}function L4(){if(RM)return U2;RM=!0;var n=QK();return U2=Function.prototype.bind||n,U2}function zK(){if(DM)return N2;DM=!0;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=L4();return N2=t.call(n,e),N2}function Vy(){if(OM)return F2;OM=!0;var n,e=LK(),t=RK(),i=DK(),r=OK(),s=vk(),a=Tx(),o=PK(),l=Function,c=function(q){try{return l('"use strict"; return ('+q+").constructor;")()}catch{}},A=Object.getOwnPropertyDescriptor;if(A)try{A({},"")}catch{A=null}var f=function(){throw new a},p=A?(function(){try{return arguments.callee,f}catch{try{return A(arguments,"callee").get}catch{return f}}})():f,d=kK()(),y=HK()(),x=Object.getPrototypeOf||(y?function(q){return q.__proto__}:null),w={},b=typeof Uint8Array>"u"||!x?n:x(Uint8Array),_={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":d&&x?x([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":w,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&x?x(x([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!x?n:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":r,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!x?n:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&x?x(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":p,"%TypedArray%":b,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":o,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet};if(x)try{null.error}catch(q){var E=x(x(q));_["%Error.prototype%"]=E}var C=function q($){var re;if($==="%AsyncFunction%")re=c("async function () {}");else if($==="%GeneratorFunction%")re=c("function* () {}");else if($==="%AsyncGeneratorFunction%")re=c("async function* () {}");else if($==="%AsyncGenerator%"){var V=q("%AsyncGeneratorFunction%");V&&(re=V.prototype)}else if($==="%AsyncIteratorPrototype%"){var te=q("%AsyncGenerator%");te&&x&&(re=x(te.prototype))}return _[$]=re,re},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=L4(),F=zK(),L=M.call(Function.call,Array.prototype.concat),N=M.call(Function.apply,Array.prototype.splice),R=M.call(Function.call,String.prototype.replace),k=M.call(Function.call,String.prototype.slice),Q=M.call(Function.call,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,ne=function(q){var $=k(q,0,1),re=k(q,-1);if($==="%"&&re!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&$!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var V=[];return R(q,J,function(te,z,j,oe){V[V.length]=j?R(oe,Y,"$1"):z||te}),V},W=function(q,$){var re=q,V;if(F(T,re)&&(V=T[re],re="%"+V[0]+"%"),F(_,re)){var te=_[re];if(te===w&&(te=C(re)),typeof te>"u"&&!$)throw new a("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:V,name:re,value:te}}throw new s("intrinsic "+q+" does not exist!")};return F2=function(q,$){if(typeof q!="string"||q.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new a('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,q)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=ne(q),V=re.length>0?re[0]:"",te=W("%"+V+"%",$),z=te.name,j=te.value,oe=!1,fe=te.alias;fe&&(V=fe[0],N(re,L([0,1],fe)));for(var ue=1,Ae=!0;ue<re.length;ue+=1){var he=re[ue],_e=k(he,0,1),be=k(he,-1);if((_e==='"'||_e==="'"||_e==="`"||be==='"'||be==="'"||be==="`")&&_e!==be)throw new s("property names with quotes must have matching quotes");if((he==="constructor"||!Ae)&&(oe=!0),V+="."+he,z="%"+V+"%",F(_,z))j=_[z];else if(j!=null){if(!(he in j)){if(!$)throw new a("base intrinsic for "+q+" exists, but the property is not available.");return}if(A&&ue+1>=re.length){var Ne=A(j,he);Ae=!!Ne,Ae&&"get"in Ne&&!("originalValue"in Ne.get)?j=Ne.get:j=j[he]}else Ae=F(j,he),j=j[he];Ae&&!oe&&(_[z]=j)}}return j},F2}function R4(){if(PM)return I2;PM=!0;var n=Vy(),e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return I2=e,I2}function xk(){if(kM)return L2;kM=!0;var n=Vy(),e=n("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return L2=e,L2}function jK(){if(HM)return R2;HM=!0;var n=R4(),e=vk(),t=Tx(),i=xk();return R2=function(r,s,a){if(!r||typeof r!="object"&&typeof r!="function")throw new t("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,A=arguments.length>6?arguments[6]:!1,f=!!i&&i(r,s);if(n)n(r,s,{configurable:c===null&&f?f.configurable:!c,enumerable:o===null&&f?f.enumerable:!o,value:a,writable:l===null&&f?f.writable:!l});else if(A||!o&&!l&&!c)r[s]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},R2}function VK(){if(QM)return D2;QM=!0;var n=R4(),e=function(){return!!n};return e.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},D2=e,D2}function GK(){if(zM)return O2;zM=!0;var n=Vy(),e=jK(),t=VK()(),i=xk(),r=Tx(),s=n("%Math.floor%");return O2=function(a,o){if(typeof a!="function")throw new r("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||s(o)!==o)throw new r("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],c=!0,A=!0;if("length"in a&&i){var f=i(a,"length");f&&!f.configurable&&(c=!1),f&&!f.writable&&(A=!1)}return(c||A||!l)&&(t?e(a,"length",o,!0,!0):e(a,"length",o)),a},O2}function KK(){if(jM)return J0;jM=!0;var n=L4(),e=Vy(),t=GK(),i=Tx(),r=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),a=e("%Reflect.apply%",!0)||n.call(s,r),o=R4(),l=e("%Math.max%");J0=function(A){if(typeof A!="function")throw new i("a function is required");var f=a(n,s,arguments);return t(f,1+l(0,A.length-(arguments.length-1)),!0)};var c=function(){return a(n,r,arguments)};return o?o(J0,"apply",{value:c}):J0.apply=c,J0}function qK(){if(VM)return P2;VM=!0;var n=Vy(),e=KK(),t=e(n("String.prototype.indexOf"));return P2=function(i,r){var s=n(i,!!r);return typeof s=="function"&&t(i,".prototype.")>-1?e(s):s},P2}var mM,gM,yM,vM,xM,bM,wM,_M,SM,EM,BM,CM,MM,TM,UM,NM,C2,FM,M2,IM,T2,LM,U2,RM,N2,DM,F2,OM,I2,PM,L2,kM,R2,HM,D2,QM,O2,zM,J0,jM,P2,VM,WK=Kc(()=>{Ht(),zt(),Qt(),mM={},gM=!1,yM={},vM=!1,xM={},bM=!1,wM={},_M=!1,SM={},EM=!1,BM={},CM=!1,MM={},TM=!1,UM={},NM=!1,C2={},FM=!1,M2={},IM=!1,T2={},LM=!1,U2={},RM=!1,N2={},DM=!1,F2={},OM=!1,I2={},PM=!1,L2={},kM=!1,R2={},HM=!1,D2={},QM=!1,O2={},zM=!1,J0={},jM=!1,P2={},VM=!1});function D4(n){throw new Error("Node.js process "+n+" is not supported by JSPM core outside of Node.js")}function XK(){!sg||!Wm||(sg=!1,Wm.length?Kf=Wm.concat(Kf):B1=-1,Kf.length&&bk())}function bk(){if(!sg){var n=setTimeout(XK,0);sg=!0;for(var e=Kf.length;e;){for(Wm=Kf,Kf=[];++B1<e;)Wm&&Wm[B1].run();B1=-1,e=Kf.length}Wm=null,sg=!1,clearTimeout(n)}}function YK(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Kf.push(new wk(n,e)),Kf.length===1&&!sg&&setTimeout(bk,0)}function wk(n,e){this.fun=n,this.array=e}function ml(){}function ZK(n){D4("_linkedBinding")}function JK(n){D4("dlopen")}function $K(){return[]}function eq(){return[]}function tq(n,e){if(!n)throw new Error(e||"assertion error")}function nq(){return!1}function iq(){return ed.now()/1e3}function CB(n){var e=Math.floor((Date.now()-ed.now())*.001),t=ed.now()*.001,i=Math.floor(t)+e,r=Math.floor(t%1*1e9);return n&&(i=i-n[0],r=r-n[1],r<0&&(i--,r+=k2)),[i,r]}function Yd(){return O4}function rq(n){return[]}var Kf,sg,Wm,B1,FF,IF,LF,RF,DF,OF,PF,kF,HF,QF,zF,jF,VF,GF,KF,qF,WF,XF,YF,ZF,JF,Ib,$F,eI,tI,nI,iI,rI,sI,aI,oI,lI,cI,uI,AI,fI,hI,dI,pI,mI,gI,yI,vI,xI,bI,wI,_I,ed,MB,k2,SI,EI,BI,CI,MI,TI,UI,NI,FI,II,LI,O4,_k=Kc(()=>{Ht(),zt(),Qt(),Kf=[],sg=!1,B1=-1,wk.prototype.run=function(){this.fun.apply(null,this.array)},FF="browser",IF="x64",LF="browser",RF={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},DF=["/usr/bin/node"],OF=[],PF="v16.8.0",kF={},HF=function(n,e){console.warn((e?e+": ":"")+n)},QF=function(n){D4("binding")},zF=function(n){return 0},jF=function(){return"/"},VF=function(n){},GF={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},KF=ml,qF=[],WF={},XF=!1,YF={},ZF=ml,JF=ml,Ib=function(){return{}},$F=Ib,eI=Ib,tI=ml,nI=ml,iI=ml,rI={},sI={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},aI=ml,oI=ml,lI=ml,cI=ml,uI=ml,AI=ml,fI=ml,hI=void 0,dI=void 0,pI=void 0,mI=ml,gI=2,yI=1,vI="/bin/usr/node",xI=9229,bI="node",wI=[],_I=ml,ed={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ed.now===void 0&&(MB=Date.now(),ed.timing&&ed.timing.navigationStart&&(MB=ed.timing.navigationStart),ed.now=()=>Date.now()-MB),k2=1e9,CB.bigint=function(n){var e=CB(n);return typeof BigInt>"u"?e[0]*k2+e[1]:BigInt(e[0]*k2)+BigInt(e[1])},SI=10,EI={},BI=0,CI=Yd,MI=Yd,TI=Yd,UI=Yd,NI=Yd,FI=ml,II=Yd,LI=Yd,O4={version:PF,versions:kF,arch:IF,platform:LF,release:GF,_rawDebug:KF,moduleLoadList:qF,binding:QF,_linkedBinding:ZK,_events:EI,_eventsCount:BI,_maxListeners:SI,on:Yd,addListener:CI,once:MI,off:TI,removeListener:UI,removeAllListeners:NI,emit:FI,prependListener:II,prependOnceListener:LI,listeners:rq,domain:WF,_exiting:XF,config:YF,dlopen:JK,uptime:iq,_getActiveRequests:$K,_getActiveHandles:eq,reallyExit:ZF,_kill:JF,cpuUsage:Ib,resourceUsage:$F,memoryUsage:eI,kill:tI,exit:nI,openStdin:iI,allowedNodeEnvironmentFlags:rI,assert:tq,features:sI,_fatalExceptions:aI,setUncaughtExceptionCaptureCallback:oI,hasUncaughtExceptionCaptureCallback:nq,emitWarning:HF,nextTick:YK,_tickCallback:lI,_debugProcess:cI,_debugEnd:uI,_startProfilerIdleNotifier:AI,_stopProfilerIdleNotifier:fI,stdout:hI,stdin:pI,stderr:dI,abort:mI,umask:zF,chdir:VF,cwd:jF,env:RF,title:FF,argv:DF,execArgv:OF,pid:gI,ppid:yI,execPath:vI,debugPort:xI,hrtime:CB,argv0:bI,_preload_modules:wI,setSourceMapsEnabled:_I}});function sq(){if(GM)return H2;GM=!0;var n=O4;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,a){for(var o="",l=0,c=-1,A=0,f,p=0;p<=s.length;++p){if(p<s.length)f=s.charCodeAt(p);else{if(f===47)break;f=47}if(f===47){if(!(c===p-1||A===1))if(c!==p-1&&A===2){if(o.length<2||l!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var d=o.lastIndexOf("/");if(d!==o.length-1){d===-1?(o="",l=0):(o=o.slice(0,d),l=o.length-1-o.lastIndexOf("/")),c=p,A=0;continue}}else if(o.length===2||o.length===1){o="",l=0,c=p,A=0;continue}}a&&(o.length>0?o+="/..":o="..",l=2)}else o.length>0?o+="/"+s.slice(c+1,p):o=s.slice(c+1,p),l=p-c-1;c=p,A=0}else f===46&&A!==-1?++A:A=-1}return o}function i(s,a){var o=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+l:o+s+l:l}var r={resolve:function(){for(var s="",a=!1,o,l=arguments.length-1;l>=-1&&!a;l--){var c;l>=0?c=arguments[l]:(o===void 0&&(o=n.cwd()),c=o),e(c),c.length!==0&&(s=c+"/"+s,a=c.charCodeAt(0)===47)}return s=t(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var a=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!a),s.length===0&&!a&&(s="."),s.length>0&&o&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var o=arguments[a];e(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":r.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=r.resolve(s),a=r.resolve(a),s===a))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var l=s.length,c=l-o,A=1;A<a.length&&a.charCodeAt(A)===47;++A);for(var f=a.length,p=f-A,d=c<p?c:p,y=-1,x=0;x<=d;++x){if(x===d){if(p>d){if(a.charCodeAt(A+x)===47)return a.slice(A+x+1);if(x===0)return a.slice(A+x)}else c>d&&(s.charCodeAt(o+x)===47?y=x:x===0&&(y=0));break}var w=s.charCodeAt(o+x),b=a.charCodeAt(A+x);if(w!==b)break;w===47&&(y=x)}var _="";for(x=o+y+1;x<=l;++x)(x===l||s.charCodeAt(x)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+a.slice(A+y):(A+=y,a.charCodeAt(A)===47&&++A,a.slice(A))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var a=s.charCodeAt(0),o=a===47,l=-1,c=!0,A=s.length-1;A>=1;--A)if(a=s.charCodeAt(A),a===47){if(!c){l=A;break}}else c=!1;return l===-1?o?"/":".":o&&l===1?"//":s.slice(0,l)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var o=0,l=-1,c=!0,A;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var f=a.length-1,p=-1;for(A=s.length-1;A>=0;--A){var d=s.charCodeAt(A);if(d===47){if(!c){o=A+1;break}}else p===-1&&(c=!1,p=A+1),f>=0&&(d===a.charCodeAt(f)?--f===-1&&(l=A):(f=-1,l=p))}return o===l?l=p:l===-1&&(l=s.length),s.slice(o,l)}else{for(A=s.length-1;A>=0;--A)if(s.charCodeAt(A)===47){if(!c){o=A+1;break}}else l===-1&&(c=!1,l=A+1);return l===-1?"":s.slice(o,l)}},extname:function(s){e(s);for(var a=-1,o=0,l=-1,c=!0,A=0,f=s.length-1;f>=0;--f){var p=s.charCodeAt(f);if(p===47){if(!c){o=f+1;break}continue}l===-1&&(c=!1,l=f+1),p===46?a===-1?a=f:A!==1&&(A=1):a!==-1&&(A=-1)}return a===-1||l===-1||A===0||A===1&&a===l-1&&a===o+1?"":s.slice(a,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var o=s.charCodeAt(0),l=o===47,c;l?(a.root="/",c=1):c=0;for(var A=-1,f=0,p=-1,d=!0,y=s.length-1,x=0;y>=c;--y){if(o=s.charCodeAt(y),o===47){if(!d){f=y+1;break}continue}p===-1&&(d=!1,p=y+1),o===46?A===-1?A=y:x!==1&&(x=1):A!==-1&&(x=-1)}return A===-1||p===-1||x===0||x===1&&A===p-1&&A===f+1?p!==-1&&(f===0&&l?a.base=a.name=s.slice(1,p):a.base=a.name=s.slice(f,p)):(f===0&&l?(a.name=s.slice(1,A),a.base=s.slice(1,p)):(a.name=s.slice(f,A),a.base=s.slice(f,p)),a.ext=s.slice(A,p)),f>0?a.dir=s.slice(0,f-1):l&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,H2=r,H2}var H2,GM,KM,aq=Kc(()=>{Ht(),zt(),Qt(),_k(),H2={},GM=!1,KM=sq()}),Sk={};Qy(Sk,{URL:()=>Lk,Url:()=>Tk,default:()=>Sl,fileURLToPath:()=>Bk,format:()=>Uk,parse:()=>Ik,pathToFileURL:()=>Ck,resolve:()=>Nk,resolveObject:()=>Fk});function oq(){if(qM)return Q2;qM=!0;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,i=n&&Map.prototype.forEach,r=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=r&&s&&typeof s.get=="function"?s.get:null,o=r&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,A=typeof WeakSet=="function"&&WeakSet.prototype,f=A?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,d=p?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,x=Object.prototype.toString,w=Function.prototype.toString,b=String.prototype.match,_=String.prototype.slice,E=String.prototype.replace,C=String.prototype.toUpperCase,T=String.prototype.toLowerCase,M=RegExp.prototype.test,F=Array.prototype.concat,L=Array.prototype.join,N=Array.prototype.slice,R=Math.floor,k=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ne=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Y||!0)?Symbol.toStringTag:null,W=Object.prototype.propertyIsEnumerable,q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Me){return Me.__proto__}:null);function $(Me,Oe){if(Me===1/0||Me===-1/0||Me!==Me||Me&&Me>-1e3&&Me<1e3||M.call(/e/,Oe))return Oe;var bt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Me=="number"){var Fe=Me<0?-R(-Me):R(Me);if(Fe!==Me){var Xe=String(Fe),ht=_.call(Oe,Xe.length+1);return E.call(Xe,bt,"$&_")+"."+E.call(E.call(ht,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(Oe,bt,"$&_")}var re=Mk,V=re.custom,te=Ne(V)?V:null;Q2=function Me(Oe,bt,Fe,Xe){var ht=bt||{};if(He(ht,"quoteStyle")&&ht.quoteStyle!=="single"&&ht.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(He(ht,"maxStringLength")&&(typeof ht.maxStringLength=="number"?ht.maxStringLength<0&&ht.maxStringLength!==1/0:ht.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qe=He(ht,"customInspect")?ht.customInspect:!0;if(typeof Qe!="boolean"&&Qe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(He(ht,"indent")&&ht.indent!==null&&ht.indent!=="	"&&!(parseInt(ht.indent,10)===ht.indent&&ht.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(He(ht,"numericSeparator")&&typeof ht.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ot=ht.numericSeparator;if(typeof Oe>"u")return"undefined";if(Oe===null)return"null";if(typeof Oe=="boolean")return Oe?"true":"false";if(typeof Oe=="string")return le(Oe,ht);if(typeof Oe=="number"){if(Oe===0)return 1/0/Oe>0?"0":"-0";var Dt=String(Oe);return ot?$(Oe,Dt):Dt}if(typeof Oe=="bigint"){var Rt=String(Oe)+"n";return ot?$(Oe,Rt):Rt}var Et=typeof ht.depth>"u"?5:ht.depth;if(typeof Fe>"u"&&(Fe=0),Fe>=Et&&Et>0&&typeof Oe=="object")return oe(Oe)?"[Array]":"[Object]";var Ct=Re(ht,Fe);if(typeof Xe>"u")Xe=[];else if(Pe(Xe,Oe)>=0)return"[Circular]";function an(it,wt,Lt){if(wt&&(Xe=N.call(Xe),Xe.push(wt)),Lt){var Mt={depth:ht.depth};return He(ht,"quoteStyle")&&(Mt.quoteStyle=ht.quoteStyle),Me(it,Mt,Fe+1,Xe)}return Me(it,ht,Fe+1,Xe)}if(typeof Oe=="function"&&!ue(Oe)){var pn=xe(Oe),Xn=dt(Oe,an);return"[Function"+(pn?": "+pn:" (anonymous)")+"]"+(Xn.length>0?" { "+L.call(Xn,", ")+" }":"")}if(Ne(Oe)){var Vn=Y?E.call(String(Oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(Oe);return typeof Oe=="object"&&!Y?P(Vn):Vn}if(me(Oe)){for(var Be="<"+T.call(String(Oe.nodeName)),Ke=Oe.attributes||[],tn=0;tn<Ke.length;tn++)Be+=" "+Ke[tn].name+"="+z(j(Ke[tn].value),"double",ht);return Be+=">",Oe.childNodes&&Oe.childNodes.length&&(Be+="..."),Be+="</"+T.call(String(Oe.nodeName))+">",Be}if(oe(Oe)){if(Oe.length===0)return"[]";var cn=dt(Oe,an);return Ct&&!we(cn)?"["+Ze(cn,Ct)+"]":"[ "+L.call(cn,", ")+" ]"}if(Ae(Oe)){var An=dt(Oe,an);return!("cause"in Error.prototype)&&"cause"in Oe&&!W.call(Oe,"cause")?"{ ["+String(Oe)+"] "+L.call(F.call("[cause]: "+an(Oe.cause),An),", ")+" }":An.length===0?"["+String(Oe)+"]":"{ ["+String(Oe)+"] "+L.call(An,", ")+" }"}if(typeof Oe=="object"&&Qe){if(te&&typeof Oe[te]=="function"&&re)return re(Oe,{depth:Et-Fe});if(Qe!=="symbol"&&typeof Oe.inspect=="function")return Oe.inspect()}if(We(Oe)){var On=[];return i&&i.call(Oe,function(it,wt){On.push(an(wt,Oe,!0)+" => "+an(it,Oe))}),se("Map",t.call(Oe),On,Ct)}if(Ee(Oe)){var li=[];return o&&o.call(Oe,function(it){li.push(an(it,Oe))}),se("Set",a.call(Oe),li,Ct)}if(Le(Oe))return Z("WeakMap");if(et(Oe))return Z("WeakSet");if(tt(Oe))return Z("WeakRef");if(_e(Oe))return P(an(Number(Oe)));if(ze(Oe))return P(an(k.call(Oe)));if(be(Oe))return P(y.call(Oe));if(he(Oe))return P(an(String(Oe)));if(typeof window<"u"&&Oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Oe===globalThis||typeof z2<"u"&&Oe===z2)return"{ [object globalThis] }";if(!fe(Oe)&&!ue(Oe)){var ui=dt(Oe,an),Pn=q?q(Oe)===Object.prototype:Oe instanceof Object||Oe.constructor===Object,er=Oe instanceof Object?"":"null prototype",Gn=!Pn&&ne&&Object(Oe)===Oe&&ne in Oe?_.call(K(Oe),8,-1):er?"Object":"",pe=Pn||typeof Oe.constructor!="function"?"":Oe.constructor.name?Oe.constructor.name+" ":"",Ue=pe+(Gn||er?"["+L.call(F.call([],Gn||[],er||[]),": ")+"] ":"");return ui.length===0?Ue+"{}":Ct?Ue+"{"+Ze(ui,Ct)+"}":Ue+"{ "+L.call(ui,", ")+" }"}return String(Oe)};function z(Me,Oe,bt){var Fe=(bt.quoteStyle||Oe)==="double"?'"':"'";return Fe+Me+Fe}function j(Me){return E.call(String(Me),/"/g,"&quot;")}function oe(Me){return K(Me)==="[object Array]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function fe(Me){return K(Me)==="[object Date]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function ue(Me){return K(Me)==="[object RegExp]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function Ae(Me){return K(Me)==="[object Error]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function he(Me){return K(Me)==="[object String]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function _e(Me){return K(Me)==="[object Number]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function be(Me){return K(Me)==="[object Boolean]"&&(!ne||!(typeof Me=="object"&&ne in Me))}function Ne(Me){if(Y)return Me&&typeof Me=="object"&&Me instanceof Symbol;if(typeof Me=="symbol")return!0;if(!Me||typeof Me!="object"||!J)return!1;try{return J.call(Me),!0}catch{}return!1}function ze(Me){if(!Me||typeof Me!="object"||!k)return!1;try{return k.call(Me),!0}catch{}return!1}var $e=Object.prototype.hasOwnProperty||function(Me){return Me in(this||z2)};function He(Me,Oe){return $e.call(Me,Oe)}function K(Me){return x.call(Me)}function xe(Me){if(Me.name)return Me.name;var Oe=b.call(w.call(Me),/^function\s*([\w$]+)/);return Oe?Oe[1]:null}function Pe(Me,Oe){if(Me.indexOf)return Me.indexOf(Oe);for(var bt=0,Fe=Me.length;bt<Fe;bt++)if(Me[bt]===Oe)return bt;return-1}function We(Me){if(!t||!Me||typeof Me!="object")return!1;try{t.call(Me);try{a.call(Me)}catch{return!0}return Me instanceof Map}catch{}return!1}function Le(Me){if(!c||!Me||typeof Me!="object")return!1;try{c.call(Me,c);try{f.call(Me,f)}catch{return!0}return Me instanceof WeakMap}catch{}return!1}function tt(Me){if(!d||!Me||typeof Me!="object")return!1;try{return d.call(Me),!0}catch{}return!1}function Ee(Me){if(!a||!Me||typeof Me!="object")return!1;try{a.call(Me);try{t.call(Me)}catch{return!0}return Me instanceof Set}catch{}return!1}function et(Me){if(!f||!Me||typeof Me!="object")return!1;try{f.call(Me,f);try{c.call(Me,c)}catch{return!0}return Me instanceof WeakSet}catch{}return!1}function me(Me){return!Me||typeof Me!="object"?!1:typeof HTMLElement<"u"&&Me instanceof HTMLElement?!0:typeof Me.nodeName=="string"&&typeof Me.getAttribute=="function"}function le(Me,Oe){if(Me.length>Oe.maxStringLength){var bt=Me.length-Oe.maxStringLength,Fe="... "+bt+" more character"+(bt>1?"s":"");return le(_.call(Me,0,Oe.maxStringLength),Oe)+Fe}var Xe=E.call(E.call(Me,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Je);return z(Xe,"single",Oe)}function Je(Me){var Oe=Me.charCodeAt(0),bt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Oe];return bt?"\\"+bt:"\\x"+(Oe<16?"0":"")+C.call(Oe.toString(16))}function P(Me){return"Object("+Me+")"}function Z(Me){return Me+" { ? }"}function se(Me,Oe,bt,Fe){var Xe=Fe?Ze(bt,Fe):L.call(bt,", ");return Me+" ("+Oe+") {"+Xe+"}"}function we(Me){for(var Oe=0;Oe<Me.length;Oe++)if(Pe(Me[Oe],`
`)>=0)return!1;return!0}function Re(Me,Oe){var bt;if(Me.indent==="	")bt="	";else if(typeof Me.indent=="number"&&Me.indent>0)bt=L.call(Array(Me.indent+1)," ");else return null;return{base:bt,prev:L.call(Array(Oe+1),bt)}}function Ze(Me,Oe){if(Me.length===0)return"";var bt=`
`+Oe.prev+Oe.base;return bt+L.call(Me,","+bt)+`
`+Oe.prev}function dt(Me,Oe){var bt=oe(Me),Fe=[];if(bt){Fe.length=Me.length;for(var Xe=0;Xe<Me.length;Xe++)Fe[Xe]=He(Me,Xe)?Oe(Me[Xe],Me):""}var ht=typeof Q=="function"?Q(Me):[],Qe;if(Y){Qe={};for(var ot=0;ot<ht.length;ot++)Qe["$"+ht[ot]]=ht[ot]}for(var Dt in Me)He(Me,Dt)&&(bt&&String(Number(Dt))===Dt&&Dt<Me.length||Y&&Qe["$"+Dt]instanceof Symbol||(M.call(/[^\w$]/,Dt)?Fe.push(Oe(Dt,Me)+": "+Oe(Me[Dt],Me)):Fe.push(Dt+": "+Oe(Me[Dt],Me))));if(typeof Q=="function")for(var Rt=0;Rt<ht.length;Rt++)W.call(Me,ht[Rt])&&Fe.push("["+Oe(ht[Rt])+"]: "+Oe(Me[ht[Rt]],Me));return Fe}return Q2}function lq(){if(WM)return j2;WM=!0;var n=Vy(),e=qK(),t=oq(),i=Tx(),r=n("%WeakMap%",!0),s=n("%Map%",!0),a=e("WeakMap.prototype.get",!0),o=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),c=e("Map.prototype.get",!0),A=e("Map.prototype.set",!0),f=e("Map.prototype.has",!0),p=function(w,b){for(var _=w,E;(E=_.next)!==null;_=E)if(E.key===b)return _.next=E.next,E.next=w.next,w.next=E,E},d=function(w,b){var _=p(w,b);return _&&_.value},y=function(w,b,_){var E=p(w,b);E?E.value=_:w.next={key:b,next:w.next,value:_}},x=function(w,b){return!!p(w,b)};return j2=function(){var w,b,_,E={assert:function(C){if(!E.has(C))throw new i("Side channel does not contain "+t(C))},get:function(C){if(r&&C&&(typeof C=="object"||typeof C=="function")){if(w)return a(w,C)}else if(s){if(b)return c(b,C)}else if(_)return d(_,C)},has:function(C){if(r&&C&&(typeof C=="object"||typeof C=="function")){if(w)return l(w,C)}else if(s){if(b)return f(b,C)}else if(_)return x(_,C);return!1},set:function(C,T){r&&C&&(typeof C=="object"||typeof C=="function")?(w||(w=new r),o(w,C,T)):s?(b||(b=new s),A(b,C,T)):(_||(_={key:{},next:null}),y(_,C,T))}};return E},j2}function P4(){if(XM)return V2;XM=!0;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return V2={default:t.RFC3986,formatters:{RFC1738:function(i){return n.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},V2}function Ek(){if(YM)return G2;YM=!0;var n=P4(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i=(function(){for(var w=[],b=0;b<256;++b)w.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return w})(),r=function(w){for(;w.length>1;){var b=w.pop(),_=b.obj[b.prop];if(t(_)){for(var E=[],C=0;C<_.length;++C)typeof _[C]<"u"&&E.push(_[C]);b.obj[b.prop]=E}}},s=function(w,b){for(var _=b&&b.plainObjects?Object.create(null):{},E=0;E<w.length;++E)typeof w[E]<"u"&&(_[E]=w[E]);return _},a=function w(b,_,E){if(!_)return b;if(typeof _!="object"){if(t(b))b.push(_);else if(b&&typeof b=="object")(E&&(E.plainObjects||E.allowPrototypes)||!e.call(Object.prototype,_))&&(b[_]=!0);else return[b,_];return b}if(!b||typeof b!="object")return[b].concat(_);var C=b;return t(b)&&!t(_)&&(C=s(b,E)),t(b)&&t(_)?(_.forEach(function(T,M){if(e.call(b,M)){var F=b[M];F&&typeof F=="object"&&T&&typeof T=="object"?b[M]=w(F,T,E):b.push(T)}else b[M]=T}),b):Object.keys(_).reduce(function(T,M){var F=_[M];return e.call(T,M)?T[M]=w(T[M],F,E):T[M]=F,T},C)},o=function(w,b){return Object.keys(b).reduce(function(_,E){return _[E]=b[E],_},w)},l=function(w,b,_){var E=w.replace(/\+/g," ");if(_==="iso-8859-1")return E.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(E)}catch{return E}},c=1024,A=function(w,b,_,E,C){if(w.length===0)return w;var T=w;if(typeof w=="symbol"?T=Symbol.prototype.toString.call(w):typeof w!="string"&&(T=String(w)),_==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(Q){return"%26%23"+parseInt(Q.slice(2),16)+"%3B"});for(var M="",F=0;F<T.length;F+=c){for(var L=T.length>=c?T.slice(F,F+c):T,N=[],R=0;R<L.length;++R){var k=L.charCodeAt(R);if(k===45||k===46||k===95||k===126||k>=48&&k<=57||k>=65&&k<=90||k>=97&&k<=122||C===n.RFC1738&&(k===40||k===41)){N[N.length]=L.charAt(R);continue}if(k<128){N[N.length]=i[k];continue}if(k<2048){N[N.length]=i[192|k>>6]+i[128|k&63];continue}if(k<55296||k>=57344){N[N.length]=i[224|k>>12]+i[128|k>>6&63]+i[128|k&63];continue}R+=1,k=65536+((k&1023)<<10|L.charCodeAt(R)&1023),N[N.length]=i[240|k>>18]+i[128|k>>12&63]+i[128|k>>6&63]+i[128|k&63]}M+=N.join("")}return M},f=function(w){for(var b=[{obj:{o:w},prop:"o"}],_=[],E=0;E<b.length;++E)for(var C=b[E],T=C.obj[C.prop],M=Object.keys(T),F=0;F<M.length;++F){var L=M[F],N=T[L];typeof N=="object"&&N!==null&&_.indexOf(N)===-1&&(b.push({obj:T,prop:L}),_.push(N))}return r(b),w},p=function(w){return Object.prototype.toString.call(w)==="[object RegExp]"},d=function(w){return!w||typeof w!="object"?!1:!!(w.constructor&&w.constructor.isBuffer&&w.constructor.isBuffer(w))},y=function(w,b){return[].concat(w,b)},x=function(w,b){if(t(w)){for(var _=[],E=0;E<w.length;E+=1)_.push(b(w[E]));return _}return b(w)};return G2={arrayToObject:s,assign:o,combine:y,compact:f,decode:l,encode:A,isBuffer:d,isRegExp:p,maybeMap:x,merge:a},G2}function cq(){if(ZM)return K2;ZM=!0;var n=lq(),e=Ek(),t=P4(),i=Object.prototype.hasOwnProperty,r={brackets:function(x){return x+"[]"},comma:"comma",indices:function(x,w){return x+"["+w+"]"},repeat:function(x){return x}},s=Array.isArray,a=Array.prototype.push,o=function(x,w){a.apply(x,s(w)?w:[w])},l=Date.prototype.toISOString,c=t.default,A={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:c,formatter:t.formatters[c],indices:!1,serializeDate:function(x){return l.call(x)},skipNulls:!1,strictNullHandling:!1},f=function(x){return typeof x=="string"||typeof x=="number"||typeof x=="boolean"||typeof x=="symbol"||typeof x=="bigint"},p={},d=function x(w,b,_,E,C,T,M,F,L,N,R,k,Q,J,Y,ne,W,q){for(var $=w,re=q,V=0,te=!1;(re=re.get(p))!==void 0&&!te;){var z=re.get(w);if(V+=1,typeof z<"u"){if(z===V)throw new RangeError("Cyclic object value");te=!0}typeof re.get(p)>"u"&&(V=0)}if(typeof N=="function"?$=N(b,$):$ instanceof Date?$=Q($):_==="comma"&&s($)&&($=e.maybeMap($,function(K){return K instanceof Date?Q(K):K})),$===null){if(T)return L&&!ne?L(b,A.encoder,W,"key",J):b;$=""}if(f($)||e.isBuffer($)){if(L){var j=ne?b:L(b,A.encoder,W,"key",J);return[Y(j)+"="+Y(L($,A.encoder,W,"value",J))]}return[Y(b)+"="+Y(String($))]}var oe=[];if(typeof $>"u")return oe;var fe;if(_==="comma"&&s($))ne&&L&&($=e.maybeMap($,L)),fe=[{value:$.length>0?$.join(",")||null:void 0}];else if(s(N))fe=N;else{var ue=Object.keys($);fe=R?ue.sort(R):ue}var Ae=F?b.replace(/\./g,"%2E"):b,he=E&&s($)&&$.length===1?Ae+"[]":Ae;if(C&&s($)&&$.length===0)return he+"[]";for(var _e=0;_e<fe.length;++_e){var be=fe[_e],Ne=typeof be=="object"&&typeof be.value<"u"?be.value:$[be];if(!(M&&Ne===null)){var ze=k&&F?be.replace(/\./g,"%2E"):be,$e=s($)?typeof _=="function"?_(he,ze):he:he+(k?"."+ze:"["+ze+"]");q.set(w,V);var He=n();He.set(p,q),o(oe,x(Ne,$e,_,E,C,T,M,F,_==="comma"&&ne&&s($)?null:L,N,R,k,Q,J,Y,ne,W,He))}}return oe},y=function(x){if(!x)return A;if(typeof x.allowEmptyArrays<"u"&&typeof x.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof x.encodeDotInKeys<"u"&&typeof x.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(x.encoder!==null&&typeof x.encoder<"u"&&typeof x.encoder!="function")throw new TypeError("Encoder has to be a function.");var w=x.charset||A.charset;if(typeof x.charset<"u"&&x.charset!=="utf-8"&&x.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=t.default;if(typeof x.format<"u"){if(!i.call(t.formatters,x.format))throw new TypeError("Unknown format option provided.");b=x.format}var _=t.formatters[b],E=A.filter;(typeof x.filter=="function"||s(x.filter))&&(E=x.filter);var C;if(x.arrayFormat in r?C=x.arrayFormat:"indices"in x?C=x.indices?"indices":"repeat":C=A.arrayFormat,"commaRoundTrip"in x&&typeof x.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof x.allowDots>"u"?x.encodeDotInKeys===!0?!0:A.allowDots:!!x.allowDots;return{addQueryPrefix:typeof x.addQueryPrefix=="boolean"?x.addQueryPrefix:A.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof x.allowEmptyArrays=="boolean"?!!x.allowEmptyArrays:A.allowEmptyArrays,arrayFormat:C,charset:w,charsetSentinel:typeof x.charsetSentinel=="boolean"?x.charsetSentinel:A.charsetSentinel,commaRoundTrip:x.commaRoundTrip,delimiter:typeof x.delimiter>"u"?A.delimiter:x.delimiter,encode:typeof x.encode=="boolean"?x.encode:A.encode,encodeDotInKeys:typeof x.encodeDotInKeys=="boolean"?x.encodeDotInKeys:A.encodeDotInKeys,encoder:typeof x.encoder=="function"?x.encoder:A.encoder,encodeValuesOnly:typeof x.encodeValuesOnly=="boolean"?x.encodeValuesOnly:A.encodeValuesOnly,filter:E,format:b,formatter:_,serializeDate:typeof x.serializeDate=="function"?x.serializeDate:A.serializeDate,skipNulls:typeof x.skipNulls=="boolean"?x.skipNulls:A.skipNulls,sort:typeof x.sort=="function"?x.sort:null,strictNullHandling:typeof x.strictNullHandling=="boolean"?x.strictNullHandling:A.strictNullHandling}};return K2=function(x,w){var b=x,_=y(w),E,C;typeof _.filter=="function"?(C=_.filter,b=C("",b)):s(_.filter)&&(C=_.filter,E=C);var T=[];if(typeof b!="object"||b===null)return"";var M=r[_.arrayFormat],F=M==="comma"&&_.commaRoundTrip;E||(E=Object.keys(b)),_.sort&&E.sort(_.sort);for(var L=n(),N=0;N<E.length;++N){var R=E[N];_.skipNulls&&b[R]===null||o(T,d(b[R],R,M,F,_.allowEmptyArrays,_.strictNullHandling,_.skipNulls,_.encodeDotInKeys,_.encode?_.encoder:null,_.filter,_.sort,_.allowDots,_.serializeDate,_.format,_.formatter,_.encodeValuesOnly,_.charset,L))}var k=T.join(_.delimiter),Q=_.addQueryPrefix===!0?"?":"";return _.charsetSentinel&&(_.charset==="iso-8859-1"?Q+="utf8=%26%2310003%3B&":Q+="utf8=%E2%9C%93&"),k.length>0?Q+k:""},K2}function uq(){if(JM)return q2;JM=!0;var n=Ek(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},r=function(p){return p.replace(/&#(\d+);/g,function(d,y){return String.fromCharCode(parseInt(y,10))})},s=function(p,d){return p&&typeof p=="string"&&d.comma&&p.indexOf(",")>-1?p.split(","):p},a="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",l=function(p,d){var y={__proto__:null},x=d.ignoreQueryPrefix?p.replace(/^\?/,""):p;x=x.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var w=d.parameterLimit===1/0?void 0:d.parameterLimit,b=x.split(d.delimiter,w),_=-1,E,C=d.charset;if(d.charsetSentinel)for(E=0;E<b.length;++E)b[E].indexOf("utf8=")===0&&(b[E]===o?C="utf-8":b[E]===a&&(C="iso-8859-1"),_=E,E=b.length);for(E=0;E<b.length;++E)if(E!==_){var T=b[E],M=T.indexOf("]="),F=M===-1?T.indexOf("="):M+1,L,N;F===-1?(L=d.decoder(T,i.decoder,C,"key"),N=d.strictNullHandling?null:""):(L=d.decoder(T.slice(0,F),i.decoder,C,"key"),N=n.maybeMap(s(T.slice(F+1),d),function(k){return d.decoder(k,i.decoder,C,"value")})),N&&d.interpretNumericEntities&&C==="iso-8859-1"&&(N=r(N)),T.indexOf("[]=")>-1&&(N=t(N)?[N]:N);var R=e.call(y,L);R&&d.duplicates==="combine"?y[L]=n.combine(y[L],N):(!R||d.duplicates==="last")&&(y[L]=N)}return y},c=function(p,d,y,x){for(var w=x?d:s(d,y),b=p.length-1;b>=0;--b){var _,E=p[b];if(E==="[]"&&y.parseArrays)_=y.allowEmptyArrays&&(w===""||y.strictNullHandling&&w===null)?[]:[].concat(w);else{_=y.plainObjects?Object.create(null):{};var C=E.charAt(0)==="["&&E.charAt(E.length-1)==="]"?E.slice(1,-1):E,T=y.decodeDotInKeys?C.replace(/%2E/g,"."):C,M=parseInt(T,10);!y.parseArrays&&T===""?_={0:w}:!isNaN(M)&&E!==T&&String(M)===T&&M>=0&&y.parseArrays&&M<=y.arrayLimit?(_=[],_[M]=w):T!=="__proto__"&&(_[T]=w)}w=_}return w},A=function(p,d,y,x){if(p){var w=y.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,b=/(\[[^[\]]*])/,_=/(\[[^[\]]*])/g,E=y.depth>0&&b.exec(w),C=E?w.slice(0,E.index):w,T=[];if(C){if(!y.plainObjects&&e.call(Object.prototype,C)&&!y.allowPrototypes)return;T.push(C)}for(var M=0;y.depth>0&&(E=_.exec(w))!==null&&M<y.depth;){if(M+=1,!y.plainObjects&&e.call(Object.prototype,E[1].slice(1,-1))&&!y.allowPrototypes)return;T.push(E[1])}if(E){if(y.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+y.depth+" and strictDepth is true");T.push("["+w.slice(E.index)+"]")}return c(T,d,y,x)}},f=function(p){if(!p)return i;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=typeof p.charset>"u"?i.charset:p.charset,y=typeof p.duplicates>"u"?i.duplicates:p.duplicates;if(y!=="combine"&&y!=="first"&&y!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var x=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:i.allowDots:!!p.allowDots;return{allowDots:x,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:i.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:i.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:i.arrayLimit,charset:d,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:i.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:i.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:i.decoder,delimiter:typeof p.delimiter=="string"||n.isRegExp(p.delimiter)?p.delimiter:i.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:i.depth,duplicates:y,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:i.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:i.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:i.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:i.strictNullHandling}};return q2=function(p,d){var y=f(d);if(p===""||p===null||typeof p>"u")return y.plainObjects?Object.create(null):{};for(var x=typeof p=="string"?l(p,y):p,w=y.plainObjects?Object.create(null):{},b=Object.keys(x),_=0;_<b.length;++_){var E=b[_],C=A(E,x[E],y,typeof p=="string");w=n.merge(w,C,y)}return y.allowSparse===!0?w:n.compact(w)},q2}function Aq(){if($M)return W2;$M=!0;var n=cq(),e=uq(),t=P4();return W2={formats:t,parse:e,stringify:n},W2}function fq(){if(eT)return fp;eT=!0;var n=Ap;function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(s),o=["'"].concat(a),l=["%","/","?",";","#"].concat(o),c=["/","?","#"],A=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=Aq();function b(T,M,F){if(T&&typeof T=="object"&&T instanceof e)return T;var L=new e;return L.parse(T,M,F),L}e.prototype.parse=function(T,M,F){if(typeof T!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof T);var L=T.indexOf("?"),N=L!==-1&&L<T.indexOf("#")?"?":"#",R=T.split(N),k=/\\/g;R[0]=R[0].replace(k,"/"),T=R.join(N);var Q=T;if(Q=Q.trim(),!F&&T.split("#").length===1){var J=r.exec(Q);if(J)return this.path=Q,this.href=Q,this.pathname=J[1],J[2]?(this.search=J[2],M?this.query=w.parse(this.search.substr(1)):this.query=this.search.substr(1)):M&&(this.search="",this.query={}),this}var Y=t.exec(Q);if(Y){Y=Y[0];var ne=Y.toLowerCase();this.protocol=ne,Q=Q.substr(Y.length)}if(F||Y||Q.match(/^\/\/[^@/]+@[^@/]+/)){var W=Q.substr(0,2)==="//";W&&!(Y&&y[Y])&&(Q=Q.substr(2),this.slashes=!0)}if(!y[Y]&&(W||Y&&!x[Y])){for(var q=-1,$=0;$<c.length;$++){var re=Q.indexOf(c[$]);re!==-1&&(q===-1||re<q)&&(q=re)}var V,te;q===-1?te=Q.lastIndexOf("@"):te=Q.lastIndexOf("@",q),te!==-1&&(V=Q.slice(0,te),Q=Q.slice(te+1),this.auth=decodeURIComponent(V)),q=-1;for(var $=0;$<l.length;$++){var re=Q.indexOf(l[$]);re!==-1&&(q===-1||re<q)&&(q=re)}q===-1&&(q=Q.length),this.host=Q.slice(0,q),Q=Q.slice(q),this.parseHost(),this.hostname=this.hostname||"";var z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!z)for(var j=this.hostname.split(/\./),$=0,oe=j.length;$<oe;$++){var fe=j[$];if(fe&&!fe.match(f)){for(var ue="",Ae=0,he=fe.length;Ae<he;Ae++)fe.charCodeAt(Ae)>127?ue+="x":ue+=fe[Ae];if(!ue.match(f)){var _e=j.slice(0,$),be=j.slice($+1),Ne=fe.match(p);Ne&&(_e.push(Ne[1]),be.unshift(Ne[2])),be.length&&(Q="/"+be.join(".")+Q),this.hostname=_e.join(".");break}}}this.hostname.length>A?this.hostname="":this.hostname=this.hostname.toLowerCase(),z||(this.hostname=n.toASCII(this.hostname));var ze=this.port?":"+this.port:"",$e=this.hostname||"";this.host=$e+ze,this.href+=this.host,z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!d[ne])for(var $=0,oe=o.length;$<oe;$++){var He=o[$];if(Q.indexOf(He)!==-1){var K=encodeURIComponent(He);K===He&&(K=escape(He)),Q=Q.split(He).join(K)}}var xe=Q.indexOf("#");xe!==-1&&(this.hash=Q.substr(xe),Q=Q.slice(0,xe));var Pe=Q.indexOf("?");if(Pe!==-1?(this.search=Q.substr(Pe),this.query=Q.substr(Pe+1),M&&(this.query=w.parse(this.query)),Q=Q.slice(0,Pe)):M&&(this.search="",this.query={}),Q&&(this.pathname=Q),x[ne]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ze=this.pathname||"",We=this.search||"";this.path=ze+We}return this.href=this.format(),this};function _(T){return typeof T=="string"&&(T=b(T)),T instanceof e?T.format():e.prototype.format.call(T)}e.prototype.format=function(){var T=this.auth||"";T&&(T=encodeURIComponent(T),T=T.replace(/%3A/i,":"),T+="@");var M=this.protocol||"",F=this.pathname||"",L=this.hash||"",N=!1,R="";this.host?N=T+this.host:this.hostname&&(N=T+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(R=w.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var k=this.search||R&&"?"+R||"";return M&&M.substr(-1)!==":"&&(M+=":"),this.slashes||(!M||x[M])&&N!==!1?(N="//"+(N||""),F&&F.charAt(0)!=="/"&&(F="/"+F)):N||(N=""),L&&L.charAt(0)!=="#"&&(L="#"+L),k&&k.charAt(0)!=="?"&&(k="?"+k),F=F.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),k=k.replace("#","%23"),M+N+F+k+L};function E(T,M){return b(T,!1,!0).resolve(M)}e.prototype.resolve=function(T){return this.resolveObject(b(T,!1,!0)).format()};function C(T,M){return T?b(T,!1,!0).resolveObject(M):M}return e.prototype.resolveObject=function(T){if(typeof T=="string"){var M=new e;M.parse(T,!1,!0),T=M}for(var F=new e,L=Object.keys(this),N=0;N<L.length;N++){var R=L[N];F[R]=this[R]}if(F.hash=T.hash,T.href==="")return F.href=F.format(),F;if(T.slashes&&!T.protocol){for(var k=Object.keys(T),Q=0;Q<k.length;Q++){var J=k[Q];J!=="protocol"&&(F[J]=T[J])}return x[F.protocol]&&F.hostname&&!F.pathname&&(F.pathname="/",F.path=F.pathname),F.href=F.format(),F}if(T.protocol&&T.protocol!==F.protocol){if(!x[T.protocol]){for(var Y=Object.keys(T),ne=0;ne<Y.length;ne++){var W=Y[ne];F[W]=T[W]}return F.href=F.format(),F}if(F.protocol=T.protocol,!T.host&&!y[T.protocol]){for(var oe=(T.pathname||"").split("/");oe.length&&!(T.host=oe.shift()););T.host||(T.host=""),T.hostname||(T.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),F.pathname=oe.join("/")}else F.pathname=T.pathname;if(F.search=T.search,F.query=T.query,F.host=T.host||"",F.auth=T.auth,F.hostname=T.hostname||T.host,F.port=T.port,F.pathname||F.search){var q=F.pathname||"",$=F.search||"";F.path=q+$}return F.slashes=F.slashes||T.slashes,F.href=F.format(),F}var re=F.pathname&&F.pathname.charAt(0)==="/",V=T.host||T.pathname&&T.pathname.charAt(0)==="/",te=V||re||F.host&&T.pathname,z=te,j=F.pathname&&F.pathname.split("/")||[],oe=T.pathname&&T.pathname.split("/")||[],fe=F.protocol&&!x[F.protocol];if(fe&&(F.hostname="",F.port=null,F.host&&(j[0]===""?j[0]=F.host:j.unshift(F.host)),F.host="",T.protocol&&(T.hostname=null,T.port=null,T.host&&(oe[0]===""?oe[0]=T.host:oe.unshift(T.host)),T.host=null),te=te&&(oe[0]===""||j[0]==="")),V)F.host=T.host||T.host===""?T.host:F.host,F.hostname=T.hostname||T.hostname===""?T.hostname:F.hostname,F.search=T.search,F.query=T.query,j=oe;else if(oe.length)j||(j=[]),j.pop(),j=j.concat(oe),F.search=T.search,F.query=T.query;else if(T.search!=null){if(fe){F.host=j.shift(),F.hostname=F.host;var ue=F.host&&F.host.indexOf("@")>0?F.host.split("@"):!1;ue&&(F.auth=ue.shift(),F.hostname=ue.shift(),F.host=F.hostname)}return F.search=T.search,F.query=T.query,(F.pathname!==null||F.search!==null)&&(F.path=(F.pathname?F.pathname:"")+(F.search?F.search:"")),F.href=F.format(),F}if(!j.length)return F.pathname=null,F.search?F.path="/"+F.search:F.path=null,F.href=F.format(),F;for(var Ae=j.slice(-1)[0],he=(F.host||T.host||j.length>1)&&(Ae==="."||Ae==="..")||Ae==="",_e=0,be=j.length;be>=0;be--)Ae=j[be],Ae==="."?j.splice(be,1):Ae===".."?(j.splice(be,1),_e++):_e&&(j.splice(be,1),_e--);if(!te&&!z)for(;_e--;_e)j.unshift("..");te&&j[0]!==""&&(!j[0]||j[0].charAt(0)!=="/")&&j.unshift(""),he&&j.join("/").substr(-1)!=="/"&&j.push("");var Ne=j[0]===""||j[0]&&j[0].charAt(0)==="/";if(fe){F.hostname=Ne?"":j.length?j.shift():"",F.host=F.hostname;var ue=F.host&&F.host.indexOf("@")>0?F.host.split("@"):!1;ue&&(F.auth=ue.shift(),F.hostname=ue.shift(),F.host=F.hostname)}return te=te||F.host&&j.length,te&&!Ne&&j.unshift(""),j.length>0?F.pathname=j.join("/"):(F.pathname=null,F.path=null),(F.pathname!==null||F.search!==null)&&(F.path=(F.pathname?F.pathname:"")+(F.search?F.search:"")),F.auth=T.auth||F.auth,F.slashes=F.slashes||T.slashes,F.href=F.format(),F},e.prototype.parseHost=function(){var T=this.host,M=i.exec(T);M&&(M=M[0],M!==":"&&(this.port=M.substr(1)),T=T.substr(0,T.length-M.length)),T&&(this.hostname=T)},fp.parse=b,fp.resolve=E,fp.resolveObject=C,fp.format=_,fp.Url=e,fp}function Bk(n){if(typeof n=="string")n=new URL(n);else if(!(n instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(n.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return d_?hq(n):dq(n)}function hq(n){let e=n.hostname,t=n.pathname;for(let i=0;i<t.length;i++)if(t[i]==="%"){let r=t.codePointAt(i+2)||32;if(t[i+1]==="2"&&r===102||t[i+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(kk,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let i=t.codePointAt(1)|32,r=t[2];if(i<Ok||i>Pk||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function dq(n){if(n.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=n.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let i=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function Ck(n){let e=KM.resolve(n),t=n.charCodeAt(n.length-1);(t===Dk||d_&&t===Rk)&&e[e.length-1]!==KM.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(Hk,"%25")),!d_&&e.includes("\\")&&(e=e.replace(Qk,"%5C")),e.includes(`
`)&&(e=e.replace(zk,"%0A")),e.includes("\r")&&(e=e.replace(jk,"%0D")),e.includes("	")&&(e=e.replace(Vk,"%09")),i.pathname=e,i}var Mk,Q2,qM,z2,j2,WM,V2,XM,G2,YM,K2,ZM,q2,JM,W2,$M,fp,eT,Sl,RI,Tk,Uk,Nk,Fk,Ik,Lk,Rk,Dk,Ok,Pk,d_,kk,Hk,Qk,zk,jk,Vk,pq=Kc(()=>{Ht(),zt(),Qt(),FK(),WK(),aq(),_k(),Mk=Object.freeze(Object.create(null)),Q2={},qM=!1,z2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,j2={},WM=!1,V2={},XM=!1,G2={},YM=!1,K2={},ZM=!1,q2={},JM=!1,W2={},$M=!1,fp={},eT=!1,Sl=fq(),Sl.parse,Sl.resolve,Sl.resolveObject,Sl.format,Sl.Url,RI=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Sl.URL=typeof URL<"u"?URL:null,Sl.pathToFileURL=Ck,Sl.fileURLToPath=Bk,Tk=Sl.Url,Uk=Sl.format,Nk=Sl.resolve,Fk=Sl.resolveObject,Ik=Sl.parse,Lk=Sl.URL,Rk=92,Dk=47,Ok=97,Pk=122,d_=RI==="win32",kk=/\//g,Hk=/%/g,Qk=/\\/g,zk=/\n/g,jk=/\r/g,Vk=/\t/g}),mq=qt((n,e)=>{Ht(),zt(),Qt(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),k4=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0}),n.BufferedDuplex=void 0,n.writev=i;var e=Mg(),t=(Do(),ls(Ro));function i(s,a){let o=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?o[l]=t.Buffer.from(s[l].chunk,"utf8"):o[l]=s[l].chunk;this._write(t.Buffer.concat(o),"binary",a)}var r=class extends e.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(s,a,o){super({objectMode:!0}),this.proxy=a,this.socket=o,this.writeQueue=[],s.objectMode||(this._writev=i.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(s){this.proxy.read(s)}_write(s,a,o){this.isSocketOpen?this.writeToProxy(s,a,o):this.writeQueue.push({chunk:s,encoding:a,cb:o})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,a){this.writeQueue=[],this.proxy.destroy(),a(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,a,o){this.proxy.write(s,a)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:a,cb:o}=this.writeQueue.shift();this.writeToProxy(s,a,o)}}};n.BufferedDuplex=r}),Lb=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(n,"__esModule",{value:!0}),n.streamBuilder=n.browserStreamBuilder=void 0;var t=(Do(),ls(Ro)),i=e(mq()),r=e(ud()),s=Mg(),a=e(OS()),o=k4(),l=(0,r.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function A(b,_){let E=`${b.protocol}://${b.hostname}:${b.port}${b.path}`;return typeof b.transformWsUrl=="function"&&(E=b.transformWsUrl(E,b,_)),E}function f(b){let _=b;return b.port||(b.protocol==="wss"?_.port=443:_.port=80),b.path||(_.path="/"),b.wsOptions||(_.wsOptions={}),!a.default&&!b.forceNativeWebSocket&&b.protocol==="wss"&&c.forEach(E=>{Object.prototype.hasOwnProperty.call(b,E)&&!Object.prototype.hasOwnProperty.call(b.wsOptions,E)&&(_.wsOptions[E]=b[E])}),_}function p(b){let _=f(b);if(_.hostname||(_.hostname=_.host),!_.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let E=new URL(document.URL);_.hostname=E.hostname,_.port||(_.port=Number(E.port))}return _.objectMode===void 0&&(_.objectMode=!(_.binary===!0||_.binary===void 0)),_}function d(b,_,E){l("createWebSocket"),l(`protocol: ${E.protocolId} ${E.protocolVersion}`);let C=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${_} and protocol: ${C}`);let T;return E.createWebsocket?T=E.createWebsocket(_,[C],E):T=new i.default(_,[C],E.wsOptions),T}function y(b,_){let E=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt",C=A(_,b),T;return _.createWebsocket?T=_.createWebsocket(C,[E],_):T=new WebSocket(C,[E]),T.binaryType="arraybuffer",T}var x=(b,_)=>{l("streamBuilder");let E=f(_);E.hostname=E.hostname||E.host||"localhost";let C=A(E,b),T=d(b,C,E),M=i.default.createWebSocketStream(T,E.wsOptions);return M.url=C,T.on("close",()=>{M.destroy()}),M};n.streamBuilder=x;var w=(b,_)=>{l("browserStreamBuilder");let E,C=p(_).browserBufferSize||1024*512,T=_.browserBufferTimeout||1e3,M=!_.objectMode,F=y(b,_),L=R(_,ne,W);_.objectMode||(L._writev=o.writev.bind(L)),L.on("close",()=>{F.close()});let N=typeof F.addEventListener<"u";F.readyState===F.OPEN?(E=L,E.socket=F):(E=new o.BufferedDuplex(_,L,F),N?F.addEventListener("open",k):F.onopen=k),N?(F.addEventListener("close",Q),F.addEventListener("error",J),F.addEventListener("message",Y)):(F.onclose=Q,F.onerror=J,F.onmessage=Y);function R(q,$,re){let V=new s.Transform({objectMode:q.objectMode});return V._write=$,V._flush=re,V}function k(){l("WebSocket onOpen"),E instanceof o.BufferedDuplex&&E.socketReady()}function Q(q){l("WebSocket onClose",q),E.end(),E.destroy()}function J(q){l("WebSocket onError",q);let $=new Error("WebSocket error");$.event=q,E.destroy($)}async function Y(q){if(!L||!L.readable||!L.writable)return;let{data:$}=q;$ instanceof ArrayBuffer?$=t.Buffer.from($):$ instanceof Blob?$=t.Buffer.from(await new Response($).arrayBuffer()):$=t.Buffer.from($,"utf8"),L.push($)}function ne(q,$,re){if(F.bufferedAmount>C){setTimeout(ne,T,q,$,re);return}M&&typeof q=="string"&&(q=t.Buffer.from(q,"utf8"));try{F.send(q)}catch(V){return re(V)}re()}function W(q){F.close(),q()}return E};n.browserStreamBuilder=w}),H4={};Qy(H4,{Server:()=>Vs,Socket:()=>Vs,Stream:()=>Vs,_createServerHandle:()=>Vs,_normalizeArgs:()=>Vs,_setSimultaneousAccepts:()=>Vs,connect:()=>Vs,createConnection:()=>Vs,createServer:()=>Vs,default:()=>Gk,isIP:()=>Vs,isIPv4:()=>Vs,isIPv6:()=>Vs});function Vs(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Gk,Kk=Kc(()=>{Ht(),zt(),Qt(),Gk={_createServerHandle:Vs,_normalizeArgs:Vs,_setSimultaneousAccepts:Vs,connect:Vs,createConnection:Vs,createServer:Vs,isIP:Vs,isIPv4:Vs,isIPv6:Vs,Server:Vs,Socket:Vs,Stream:Vs}}),qk=qt((n,e)=>{Ht(),zt(),Qt(),e.exports={}}),DI=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0});var t=e((Kk(),ls(H4))),i=e(ud()),r=e(qk()),s=(0,i.default)("mqttjs:tcp"),a=(o,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,r.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:c,path:A}=l,f=l.hostname;return s("port %d and host %s",c,f),t.default.createConnection({port:c,host:f,path:A})};n.default=a}),Wk={};Qy(Wk,{default:()=>Xk});var Xk,gq=Kc(()=>{Ht(),zt(),Qt(),Xk={}}),OI=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0});var t=(gq(),ls(Wk)),i=e((Kk(),ls(H4))),r=e(ud()),s=e(qk()),a=(0,r.default)("mqttjs:tls");function o(c){let{host:A,port:f,socksProxy:p,...d}=c;if(p!==void 0){let y=(0,s.default)(A,f,p,{timeout:c.socksTimeout});return(0,t.connect)({...d,socket:y})}return(0,t.connect)(c)}var l=(c,A)=>{A.port=A.port||8883,A.host=A.hostname||A.host||"localhost",i.default.isIP(A.host)===0&&(A.servername=A.host),A.rejectUnauthorized=A.rejectUnauthorized!==!1,delete A.path,a("port %d host %s rejectUnauthorized %b",A.port,A.host,A.rejectUnauthorized);let f=o(A);f.on("secureConnect",()=>{A.rejectUnauthorized&&!f.authorized?f.emit("error",new Error("TLS not authorized")):f.removeListener("error",p)});function p(d){A.rejectUnauthorized&&c.emit("error",d),f.end()}return f.on("error",p),f};n.default=l}),PI=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=(Do(),ls(Ro)),t=Mg(),i=k4(),r,s,a;function o(){let p=new t.Transform;return p._write=(d,y,x)=>{r.send({data:d.buffer,success(){x()},fail(w){x(new Error(w))}})},p._flush=d=>{r.close({success(){d()}})},p}function l(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function c(p,d){let y=p.protocol==="wxs"?"wss":"ws",x=`${y}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(x=`${y}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(x=p.transformWsUrl(x,p,d)),x}function A(){r.onOpen(()=>{a.socketReady()}),r.onMessage(p=>{let{data:d}=p;d instanceof ArrayBuffer?d=e.Buffer.from(d):d=e.Buffer.from(d,"utf8"),s.push(d)}),r.onClose(()=>{a.emit("close"),a.end(),a.destroy()}),r.onError(p=>{let d=new Error(p.errMsg);a.destroy(d)})}var f=(p,d)=>{if(d.hostname=d.hostname||d.host,!d.hostname)throw new Error("Could not determine host. Specify host manually.");let y=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt";l(d);let x=c(d,p);r=wx.connectSocket({url:x,protocols:[y]}),s=o(),a=new i.BufferedDuplex(d,s,r),a._destroy=(b,_)=>{r.close({success(){_&&_(b)}})};let w=a.destroy;return a.destroy=(b,_)=>(a.destroy=w,setTimeout(()=>{r.close({fail(){a._destroy(b,_)}})},0),a),A(),a};n.default=f}),kI=qt(n=>{Ht(),zt(),Qt(),Object.defineProperty(n,"__esModule",{value:!0});var e=(Do(),ls(Ro)),t=Mg(),i=k4(),r,s,a,o=!1;function l(){let d=new t.Transform;return d._write=(y,x,w)=>{r.sendSocketMessage({data:y.buffer,success(){w()},fail(){w(new Error)}})},d._flush=y=>{r.closeSocket({success(){y()}})},d}function c(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function A(d,y){let x=d.protocol==="alis"?"wss":"ws",w=`${x}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(w=`${x}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(w=d.transformWsUrl(w,d,y)),w}function f(){o||(o=!0,r.onSocketOpen(()=>{a.socketReady()}),r.onSocketMessage(d=>{if(typeof d.data=="string"){let y=e.Buffer.from(d.data,"base64");s.push(y)}else{let y=new FileReader;y.addEventListener("load",()=>{if(y.result instanceof ArrayBuffer){s.push(e.Buffer.from(y.result));return}s.push(e.Buffer.from(y.result,"utf-8"))}),y.readAsArrayBuffer(d.data)}}),r.onSocketClose(()=>{a.end(),a.destroy()}),r.onSocketError(d=>{a.destroy(d)}))}var p=(d,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let x=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";c(y);let w=A(y,d);return r=y.my,r.connectSocket({url:w,protocols:x}),s=l(),a=new i.BufferedDuplex(y,s,r),f(),a};n.default=p}),yq=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0}),n.connectAsync=A;var t=e(ud()),i=e((pq(),ls(Sk))),r=e(hM()),s=e(OS());typeof ws?.nextTick!="function"&&(ws.nextTick=setImmediate);var a=(0,t.default)("mqttjs"),o=null;function l(f){let p;if(f.auth)if(p=f.auth.match(/^(.+):(.+)$/),p){let[,d,y]=p;f.username=d,f.password=y}else f.username=f.auth}function c(f,p){if(a("connecting to an MQTT broker..."),typeof f=="object"&&!p&&(p=f,f=""),p=p||{},f&&typeof f=="string"){let x=i.default.parse(f,!0),w={};if(x.port!=null&&(w.port=Number(x.port)),w.host=x.hostname,w.query=x.query,w.auth=x.auth,w.protocol=x.protocol,w.path=x.path,p={...w,...p},!p.protocol)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(p.unixSocket=p.unixSocket||p.protocol?.includes("+unix"),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!p.protocol?.startsWith("ws")&&!p.protocol?.startsWith("wx")&&delete p.path,l(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),s.default||p.unixSocket?p.socksProxy=void 0:p.socksProxy===void 0&&typeof ws<"u"&&(p.socksProxy=ws.env.MQTTJS_SOCKS_PROXY),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(o||(o={},!s.default&&!p.forceNativeWebSocket?(o.ws=Lb().streamBuilder,o.wss=Lb().streamBuilder,o.mqtt=DI().default,o.tcp=DI().default,o.ssl=OI().default,o.tls=o.ssl,o.mqtts=OI().default):(o.ws=Lb().browserStreamBuilder,o.wss=Lb().browserStreamBuilder,o.wx=PI().default,o.wxs=PI().default,o.ali=kI().default,o.alis=kI().default)),!o[p.protocol]){let x=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((w,b)=>x&&b%2===0?!1:typeof o[w]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function d(x){return p.servers&&((!x._reconnectCount||x._reconnectCount===p.servers.length)&&(x._reconnectCount=0),p.host=p.servers[x._reconnectCount].host,p.port=p.servers[x._reconnectCount].port,p.protocol=p.servers[x._reconnectCount].protocol?p.servers[x._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,x._reconnectCount++),a("calling streambuilder for",p.protocol),o[p.protocol](x,p)}let y=new r.default(d,p);return y.on("error",()=>{}),y}function A(f,p,d=!0){return new Promise((y,x)=>{let w=c(f,p),b={connect:E=>{_(),y(w)},end:()=>{_(),y(w)},error:E=>{_(),w.end(),x(E)}};d===!1&&(b.close=()=>{b.error(new Error("Couldn't connect to server"))});function _(){Object.keys(b).forEach(E=>{w.off(E,b[E])})}Object.keys(b).forEach(E=>{w.on(E,b[E])})})}n.default=c}),HI=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__createBinding||(Object.create?function(d,y,x,w){w===void 0&&(w=x);var b=Object.getOwnPropertyDescriptor(y,x);(!b||("get"in b?!y.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return y[x]}}),Object.defineProperty(d,w,b)}:function(d,y,x,w){w===void 0&&(w=x),d[w]=y[x]}),t=n&&n.__setModuleDefault||(Object.create?function(d,y){Object.defineProperty(d,"default",{enumerable:!0,value:y})}:function(d,y){d.default=y}),i=n&&n.__importStar||(function(){var d=function(y){return d=Object.getOwnPropertyNames||function(x){var w=[];for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(w[w.length]=b);return w},d(y)};return function(y){if(y&&y.__esModule)return y;var x={};if(y!=null)for(var w=d(y),b=0;b<w.length;b++)w[b]!=="default"&&e(x,y,w[b]);return t(x,y),x}})(),r=n&&n.__exportStar||function(d,y){for(var x in d)x!=="default"&&!Object.prototype.hasOwnProperty.call(y,x)&&e(y,d,x)},s=n&&n.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.ReasonCodes=n.KeepaliveManager=n.UniqueMessageIdProvider=n.DefaultMessageIdProvider=n.Store=n.MqttClient=n.connectAsync=n.connect=n.Client=void 0;var a=s(hM());n.MqttClient=a.default;var o=s(Ak());n.DefaultMessageIdProvider=o.default;var l=s(UK());n.UniqueMessageIdProvider=l.default;var c=s(WP());n.Store=c.default;var A=i(yq());n.connect=A.default,Object.defineProperty(n,"connectAsync",{enumerable:!0,get:function(){return A.connectAsync}});var f=s(yk());n.KeepaliveManager=f.default,n.Client=a.default,r(hM(),n),r(jy(),n);var p=RS();Object.defineProperty(n,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),vq=qt(n=>{Ht(),zt(),Qt();var e=n&&n.__createBinding||(Object.create?function(a,o,l,c){c===void 0&&(c=l);var A=Object.getOwnPropertyDescriptor(o,l);(!A||("get"in A?!o.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(a,c,A)}:function(a,o,l,c){c===void 0&&(c=l),a[c]=o[l]}),t=n&&n.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),i=n&&n.__importStar||(function(){var a=function(o){return a=Object.getOwnPropertyNames||function(l){var c=[];for(var A in l)Object.prototype.hasOwnProperty.call(l,A)&&(c[c.length]=A);return c},a(o)};return function(o){if(o&&o.__esModule)return o;var l={};if(o!=null)for(var c=a(o),A=0;A<c.length;A++)c[A]!=="default"&&e(l,o,c[A]);return t(l,o),l}})(),r=n&&n.__exportStar||function(a,o){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&e(o,a,l)};Object.defineProperty(n,"__esModule",{value:!0});var s=i(HI());n.default=s,r(HI(),n)});const xq=vq();const Ad="http://127.0.0.1:8000/",TB={mqtt:{broker:"wss://087ff76994dc4fd4b47546d2309632e3.s1.eu.hivemq.cloud:8884/mqtt",username:"motor_admin",password:"motor1234L",clientId:`motor_web_${Date.now()}`,clean:!0,reconnectPeriod:5e3,connectTimeout:15e3,keepalive:60,qos:0,protocolVersion:4,resubscribe:!0,topics:{general:{temperatura:"motor/temperatura",rpm:"motor/rpm",vibracion:"motor/vibracion"}}},app:{chartMaxPoints:20,updateInterval:1e3}},bq=()=>["motor/fase_a/#","motor/fase_b/#","motor/fase_c/#","motor/fase_a","motor/fase_b","motor/fase_c","motor/temperatura","motor/rpm","motor/vibracion","motor/vibracion/#","motor/humedad","motor/status","motor/thresholds/update","motor/maintenance/#"],Yk=ct.createContext(),Cu=()=>{const n=ct.useContext(Yk);if(!n)throw new Error("useMQTT must be used within MQTTProvider");return n},wq=({children:n})=>{const[e,t]=ct.useState(null),[i,r]=ct.useState(!1),[s,a]=ct.useState("Desconectado"),[o,l]=ct.useState({A:{voltaje:0,corriente:0,potencia:0,energia:0,frecuencia:0,factorPotencia:0},B:{voltaje:0,corriente:0,potencia:0,energia:0,frecuencia:0,factorPotencia:0},C:{voltaje:0,corriente:0,potencia:0,energia:0,frecuencia:0,factorPotencia:0}}),[c,A]=ct.useState({temperatura:0,rpm:0,vibracion:0}),[f,p]=ct.useState({vrms:0,arms:0,apico:0,picoPico:0}),[d,y]=ct.useState({}),x=3600,w=(re,V)=>{const te=Date.now();y(z=>{const j=z[re]?z[re].slice():[];return j.push({ts:te,value:V}),j.length>x&&j.splice(0,j.length-x),{...z,[re]:j}})},b=(re,V=300)=>{const z=Date.now()-V*1e3;return(d[re]||[]).filter(oe=>oe.ts>=z)},[_,E]=ct.useState([]),[C,T]=ct.useState(!1),[M,F]=ct.useState(!1),[L,N]=ct.useState({temp_warning:60,temp_critical:80,vibration_warning:7,vibration_critical:10,rpm_warning:2500,rpm_critical:3e3}),[R,k]=ct.useState(null),Q=ct.useCallback(async()=>{try{const re=await fetch(`${Ad}api/settings/thresholds`);if(re.ok){const V=await re.json();N({temp_warning:V.temp_warning,temp_critical:V.temp_critical,vibration_warning:V.vibration_warning,vibration_critical:V.vibration_critical,rpm_warning:V.rpm_warning,rpm_critical:V.rpm_critical}),console.log(" Umbrales actualizados desde backend:",V)}}catch(re){console.error("Error al obtener umbrales:",re)}},[]),J=ct.useCallback(()=>{console.log(" Conectando al broker MQTT..."),console.log(" Broker:",TB.mqtt.broker);try{const re=xq.connect(TB.mqtt.broker,TB.mqtt);let V=0;const te=10;re.on("connect",()=>{console.log(" Conectado a MQTT"),V=0,r(!0),a("Conectado");const z=bq();z.forEach(j=>{re.subscribe(j,{qos:0},oe=>{oe&&console.error(` Error suscribiendo a ${j}:`,oe)})}),console.log(` Suscrito a ${z.length} topics`)}),re.on("reconnect",()=>{V++,console.log(` Reconectando... (intento ${V}/${te})`),V>=te?(console.warn(" Demasiados intentos de reconexin, esperando 30s..."),re.end(!0),setTimeout(()=>{V=0,J()},3e4)):a(`Reconectando (${V})...`)}),re.on("message",(z,j)=>{Y(z,j)}),re.on("error",z=>{console.error(" Error MQTT:",z.message),a(`Error: ${z.message}`),r(!1)}),re.on("offline",()=>{console.warn(" Cliente offline"),r(!1),a("Offline")}),re.on("close",()=>{console.warn(" Conexin cerrada"),r(!1),a("Desconectado")}),re.on("disconnect",()=>{console.warn(" Desconectado del broker"),r(!1)}),t(re)}catch(re){console.error(" Error al conectar:",re),a("Error de conexin")}},[]),Y=(re,V)=>{try{if(re==="motor/thresholds/update"){const j=JSON.parse(V.toString());console.log(" Actualizacin de umbrales recibida:",j);const{tipo:oe,warning:fe,critical:ue}=j;N(Ae=>{const he={...Ae};return oe==="temperatura"?(he.temp_warning=fe,he.temp_critical=ue):oe==="vibracion"||oe==="vibration"?(he.vibration_warning=fe,he.vibration_critical=ue):oe==="rpm"&&(he.rpm_warning=fe,he.rpm_critical=ue),console.log(" Umbrales actualizados en frontend:",he),he});return}if(re==="motor/maintenance/command"){const j=JSON.parse(V.toString());console.log(" Comando de mantenimiento recibido:",j),k(j);return}if(re==="motor/failure"){try{const j=JSON.parse(V.toString());console.error(" Motor failure received via MQTT:",j),E(oe=>[{severity:"critical",category:"failure",message:j.message||"Motor failure detected",details:j,timestamp:j.timestamp||Date.now()},...oe]),T(!0)}catch(j){console.error("Error parsing motor/failure payload:",j)}return}if(re==="motor/fase_a"||re==="motor/fase_b"||re==="motor/fase_c"){const j=JSON.parse(V.toString()),oe=re.split("/")[1];Object.keys(j).forEach(fe=>{const ue=j[fe],Ae=`motor/${oe}/${fe}`,he=ne(Ae,ue);he&&W(he)});return}const te=parseFloat(V.toString());if(isNaN(te))return;const z=ne(re,te);z&&W(z)}catch(te){console.error(" Error al procesar mensaje:",te)}},ne=(re,V)=>re==="motor/fase_a/voltaje"?{phase:"A",type:"voltaje",value:V}:re==="motor/fase_a/corriente"?{phase:"A",type:"corriente",value:V}:re==="motor/fase_a/potencia"?{phase:"A",type:"potencia",value:V}:re==="motor/fase_a/energia"?{phase:"A",type:"energia",value:V}:re==="motor/fase_a/frecuencia"?{phase:"A",type:"frecuencia",value:V}:re==="motor/fase_a/factor_potencia"?{phase:"A",type:"factorPotencia",value:V}:re==="motor/fase_b/voltaje"?{phase:"B",type:"voltaje",value:V}:re==="motor/fase_b/corriente"?{phase:"B",type:"corriente",value:V}:re==="motor/fase_b/potencia"?{phase:"B",type:"potencia",value:V}:re==="motor/fase_b/energia"?{phase:"B",type:"energia",value:V}:re==="motor/fase_b/frecuencia"?{phase:"B",type:"frecuencia",value:V}:re==="motor/fase_b/factor_potencia"?{phase:"B",type:"factorPotencia",value:V}:re==="motor/fase_c/voltaje"?{phase:"C",type:"voltaje",value:V}:re==="motor/fase_c/corriente"?{phase:"C",type:"corriente",value:V}:re==="motor/fase_c/potencia"?{phase:"C",type:"potencia",value:V}:re==="motor/fase_c/energia"?{phase:"C",type:"energia",value:V}:re==="motor/fase_c/frecuencia"?{phase:"C",type:"frecuencia",value:V}:re==="motor/fase_c/factor_potencia"?{phase:"C",type:"factorPotencia",value:V}:re==="motor/temperatura"?{phase:"general",type:"temperatura",value:V}:re==="motor/rpm"?{phase:"general",type:"rpm",value:V}:re==="motor/vibracion"?{phase:"general",type:"vibracion",value:V}:re==="motor/humedad"?{phase:"general",type:"humedad",value:V}:re==="motor/vibracion/arms"?{phase:"vibration",type:"arms",value:V}:re==="motor/vibracion/apico"?{phase:"vibration",type:"apico",value:V}:re==="motor/vibracion/pico_pico"?{phase:"vibration",type:"picoPico",value:V}:null,W=({phase:re,type:V,value:te})=>{if(re==="A"||re==="B"||re==="C"){l(z=>({...z,[re]:{...z[re],[V]:te}}));try{w(`${re}.${V}`,te)}catch{}}else if(re==="general"){A(z=>({...z,[V]:te}));try{w(V,te)}catch{}}else if(re==="vibration"){p(z=>({...z,[V]:te})),V==="arms"&&A(z=>({...z,vibracion:te*9806.65/(2*Math.PI*80)}));try{w(`vibration.${V}`,te)}catch{}}},q=ct.useCallback(async()=>{try{const re=await fetch(`${Ad}api/alerts/active`);if(re.ok){const V=await re.json();console.log(" Alertas activas:",V),E(V);const te=V.some(j=>j.severity==="critical"&&!j.resolved);console.log(" Hay crticas?",te,"Total alertas:",V.length),T(te);const z=V.some(j=>j.severity==="warning"&&!j.resolved);F(z)}}catch(re){console.error("Error al obtener alertas:",re)}},[]);ct.useEffect(()=>{q();const re=setInterval(q,3e3);return()=>clearInterval(re)},[q]),ct.useEffect(()=>{Q()},[Q]),ct.useEffect(()=>(J(),()=>{e&&e.end()}),[J]);const $={client:e,isConnected:i,connectionStatus:s,phaseData:o,generalData:c,vibrationData:f,history:d,getHistory:b,alerts:_,hasActiveAlerts:C,hasWarnings:M,thresholds:L,maintenanceCommand:R,reconnect:J,refreshAlerts:q,refreshThresholds:Q,setTestData:re=>{A(V=>({...V,...re}))},setTestPhaseData:re=>{l(re)}};return I.jsx(Yk.Provider,{value:$,children:n})},Zk=ct.createContext(),_q=()=>{const n=ct.useContext(Zk);if(!n)throw new Error("useSearch debe usarse dentro de SearchProvider");return n},Sq=({children:n})=>{const[e,t]=ct.useState(""),[i,r]=ct.useState([]),[s,a]=ct.useState(!1),o=c=>{if(t(c),a(c.length>0),c.length===0){r([]);return}const A=[{type:"view",id:"dashboard",view:"dashboard",targetId:null,label:"Dashboard - Vista Principal",keywords:["inicio","principal","dashboard","home","overview","resumen","estadsticas"]},{type:"view",id:"monitoring",view:"monitoring",targetId:null,label:"Laboratorio - Anlisis Avanzado",keywords:["monitoreo","tiempo real","sensores","laboratorio","anlisis","experimental","grficas","datos"]},{type:"view",id:"ai-reports",view:"ai-reports",targetId:null,label:"Reportes IA - Inteligencia Artificial",keywords:["ia","ai","inteligencia artificial","reportes","ollama","prediccin","anlisis ai"]},{type:"view",id:"errors",view:"errors",targetId:null,label:"Errores y Alertas",keywords:["errores","alertas","problemas","crtico","warnings","anomalas","fallas"]},{type:"view",id:"logs",view:"logs",targetId:null,label:"Registros del Sistema",keywords:["registros","logs","historial","eventos","actividad","bitcora"]},{type:"view",id:"settings",view:"settings",targetId:null,label:"Configuracin y Ajustes",keywords:["configuracin","ajustes","mqtt","umbrales","settings","parmetros","opciones"]},{type:"metric",id:"voltage",view:"dashboard",targetId:"phase-panels",label:"Voltaje (V)",keywords:["voltaje","voltage","v","tensin","volts","volt","pzem","fase","trifsico","elctrico"]},{type:"metric",id:"current",view:"dashboard",targetId:"phase-panels",label:"Corriente (A)",keywords:["corriente","current","a","amperios","amperes","amp","intensidad","fase","pzem"]},{type:"metric",id:"power",view:"dashboard",targetId:"phase-panels",label:"Potencia (W)",keywords:["potencia","power","w","watts","watt","consumo","fase","pzem","energa"]},{type:"metric",id:"energy",view:"dashboard",targetId:"phase-panels",label:"Energa (kWh)",keywords:["energa","energy","kwh","kilowatt","consumo","acumulada","pzem","medidor"]},{type:"metric",id:"frequency",view:"dashboard",targetId:"phase-panels",label:"Frecuencia (Hz)",keywords:["frecuencia","frequency","hz","hertz","ciclos","red","pzem","50hz","60hz"]},{type:"metric",id:"pf",view:"dashboard",targetId:"phase-panels",label:"Factor de Potencia (PF)",keywords:["factor","potencia","pf","power factor","cos phi","eficiencia","pzem","fase"]},{type:"metric",id:"temperature",view:"dashboard",targetId:"stats-section",label:"Temperatura Motor (C)",keywords:["temperatura","temp","c","celsius","calor","trmico","sobrecalentamiento","ds18b20","sensor"]},{type:"metric",id:"rpm",view:"dashboard",targetId:"stats-section",label:"Velocidad RPM",keywords:["rpm","revoluciones","velocidad","rotacin","giros","encoder","tacmetro","motor"]},{type:"metric",id:"vibration",view:"dashboard",targetId:"stats-section",label:"Vibracin (mm/s)",keywords:["vibracin","vibration","vibracion","oscilacin","movimiento","sensor","acelermetro","mpu6050"]},{type:"phase",id:"phaseA",view:"dashboard",targetId:"phase-a",label:"Fase A (R)",keywords:["fase a","phase a","fase 1","r","lnea 1","trifsica","voltaje a","corriente a"]},{type:"phase",id:"phaseB",view:"dashboard",targetId:"phase-b",label:"Fase B (S)",keywords:["fase b","phase b","fase 2","s","lnea 2","trifsica","voltaje b","corriente b"]},{type:"phase",id:"phaseC",view:"dashboard",targetId:"phase-c",label:"Fase C (T)",keywords:["fase c","phase c","fase 3","t","lnea 3","trifsica","voltaje c","corriente c"]},{type:"feature",id:"motor3d",view:"dashboard",targetId:"motor-3d",label:"Motor 3D Interactivo",keywords:["motor","3d","visualizacin","three.js","modelo","animacin","render"]},{type:"feature",id:"combinedChart",view:"dashboard",targetId:"combined-chart",label:"Grfica Combinada",keywords:["grfica","chart","combinada","histrico","tiempo real","lnea"]},{type:"feature",id:"phaseChart",view:"dashboard",targetId:"phase-chart",label:"Grfica de Fases",keywords:["fases","trifsico","chart","comparacin","elctrico"]},{type:"feature",id:"stats",view:"dashboard",targetId:"stats-section",label:"Estadsticas del Motor",keywords:["stats","estadsticas","resumen","mtricas","nmeros"]},{type:"ai",id:"aiStatus",view:"dashboard",targetId:"ai-status",label:"Estado IA - Deteccin de Anomalas",keywords:["ia","ai","status","estado","ollama","machine learning","deteccin","anomalas","ml"]},{type:"ai",id:"aiReports",view:"ai-reports",targetId:"ai-reports-section",label:"Generador de Reportes IA",keywords:["reportes","informes","ia","ollama","generador","pdf","markdown","llama"]},{type:"ai",id:"aiPrediction",view:"monitoring",targetId:"ai-prediction",label:"Prediccin IA",keywords:["prediccin","forecast","ia","futuro","tendencias","pronostico"]},{type:"ai",id:"aiThreshold",view:"monitoring",targetId:"ai-threshold",label:"Control Inteligente de Umbrales",keywords:["umbrales","thresholds","ia","lmites","automtico","ajuste"]},{type:"action",id:"motorStart",view:"dashboard",targetId:"motor-controls",label:"Encender Motor (START)",keywords:["encender","start","iniciar","arrancar","motor","on","activar","botn verde"]},{type:"action",id:"motorStop",view:"dashboard",targetId:"motor-controls",label:"Apagar Motor (STOP)",keywords:["apagar","stop","detener","parar","motor","off","desactivar","botn rojo"]},{type:"action",id:"testMode",view:"monitoring",targetId:"test-controls",label:"Modo de Prueba",keywords:["prueba","test","simulacin","demo","modo"]},{type:"action",id:"resolveAlerts",view:"errors",targetId:"resolve-alerts",label:"Resolver Alertas",keywords:["resolver","limpiar","alertas","clear","borrar"]},{type:"system",id:"mqtt",view:"settings",targetId:"mqtt-config",label:"MQTT - Protocolo de Comunicacin",keywords:["mqtt","conexin","broker","hivemq","websocket","mensajera","iot","conectividad"]},{type:"system",id:"cloudflare",view:"settings",targetId:null,label:"Cloudflare Tunnel - Acceso Web",keywords:["cloudflare","tunnel","web","url","despliegue","nube","acceso remoto"]},{type:"system",id:"backend",view:"settings",targetId:null,label:"Backend FastAPI",keywords:["backend","api","fastapi","servidor","python","endpoints"]},{type:"system",id:"database",view:"logs",targetId:"database-logs",label:"Base de Datos SQLite",keywords:["database","sqlite","base de datos","motor_data.db","registros","histrico"]},{type:"tool",id:"maintenance",view:"monitoring",targetId:"maintenance-section",label:"Tcnicas de Mantenimiento",keywords:["mantenimiento","maintenance","predictivo","preventivo","rrms","vibracin","tcnicas"]},{type:"tool",id:"reportBuilder",view:"monitoring",targetId:"report-builder",label:"Constructor de Reportes",keywords:["reportes","builder","constructor","personalizado","pdf","exportar"]},{type:"tool",id:"thresholdConfig",view:"settings",targetId:"threshold-settings",label:"Configuracin de Umbrales",keywords:["umbrales","lmites","configuracin","warning","critical","alertas"]},{type:"term",id:"anomaly",view:"errors",targetId:"anomaly-alerts",label:"Anomalas Detectadas",keywords:["anomala","anomaly","anormal","irregular","problema","ml"]},{type:"term",id:"threshold",view:"settings",targetId:"threshold-settings",label:"Umbrales de Operacin",keywords:["umbral","threshold","lmite","warning","critical","normal"]},{type:"term",id:"realtime",view:"monitoring",targetId:"realtime-data",label:"Monitoreo en Tiempo Real",keywords:["tiempo real","real time","live","en vivo","instantneo"]},{type:"term",id:"historical",view:"logs",targetId:"historical-logs",label:"Datos Histricos",keywords:["histrico","historical","pasado","registros","archivo"]}],f=c.toLowerCase(),p=A.filter(d=>d.label.toLowerCase().includes(f)||d.keywords.some(y=>y.includes(f)));r(p)},l=()=>{t(""),r([]),a(!1)};return I.jsx(Zk.Provider,{value:{searchTerm:e,searchResults:i,isSearching:s,performSearch:o,clearSearch:l},children:n})};const Eq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),QI=n=>{const e=Bq(n);return e.charAt(0).toUpperCase()+e.slice(1)},Jk=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Cq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Mq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tq=ct.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>ct.createElement("svg",{ref:l,...Mq,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Jk("lucide",r),...!s&&!Cq(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,A])=>ct.createElement(c,A)),...Array.isArray(s)?s:[s]]));const Li=(n,e)=>{const t=ct.forwardRef(({className:i,...r},s)=>ct.createElement(Tq,{ref:s,iconNode:e,className:Jk(`lucide-${Eq(QI(n))}`,`lucide-${n}`,i),...r}));return t.displayName=QI(n),t};const Uq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],JA=Li("activity",Uq);const Nq=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Fq=Li("beaker",Nq);const Iq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lq=Li("bell",Iq);const Rq=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],zI=Li("brain",Rq);const Dq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oq=Li("calendar",Dq);const Pq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kq=Li("chevron-left",Pq);const Hq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qq=Li("chevron-right",Hq);const zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ba=Li("circle-alert",zq);const jq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PS=Li("circle-check-big",jq);const Vq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ym=Li("circle-x",Vq);const Gq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ux=Li("clock",Gq);const Kq=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],jI=Li("cpu",Kq);const qq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p_=Li("download",qq);const Wq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Xq=Li("file-down",Wq);const Yq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hg=Li("file-text",Yq);const Zq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Jq=Li("funnel",Zq);const $q=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],$1=Li("gauge",$q);const eW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],tW=Li("image",eW);const nW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tT=Li("info",nW);const iW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rW=Li("layout-dashboard",iW);const sW=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],aW=Li("loader",sW);const oW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],lW=Li("maximize-2",oW);const cW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uW=Li("menu",cW);const AW=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],fW=Li("minimize-2",AW);const hW=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dW=Li("play",hW);const pW=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$k=Li("power-off",pW);const mW=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],eH=Li("power",mW);const gW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],VI=Li("save",gW);const yW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vW=Li("search",yW);const xW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bW=Li("send",xW);const wW=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q4=Li("settings",wW);const _W=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tH=Li("sparkles",_W);const SW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],GI=Li("square",SW);const EW=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],UB=Li("test-tube",EW);const BW=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],ex=Li("thermometer",BW);const CW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nH=Li("trending-up",CW);const MW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zf=Li("triangle-alert",MW);const TW=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],UW=Li("waves",TW);const NW=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],FW=Li("wifi-off",NW);const IW=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],iH=Li("wifi",IW);const LW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dg=Li("x",LW);const RW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vy=Li("zap",RW),DW=({onMenuClick:n})=>{const{isConnected:e,connectionStatus:t}=Cu(),[i,r]=ct.useState(new Date);ct.useEffect(()=>{const o=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(o)},[]);const s=o=>o.toLocaleDateString("es-ES",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),a=o=>o.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return I.jsx("header",{className:"glass-card sticky top-0 z-40 shadow-lg border-b-2 border-purple-main/30",children:I.jsx("div",{className:"px-4 md:px-6 py-4",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("button",{onClick:n,className:"md:hidden p-2 hover:bg-purple-500/20 rounded-lg transition-colors",children:I.jsx(uW,{className:"w-6 h-6 text-white"})}),I.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[I.jsx(JA,{className:"w-8 md:w-10 h-8 md:h-10 text-purple-light animate-pulse"}),I.jsxs("div",{children:[I.jsx("h1",{className:"text-lg md:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-purple-light to-blue-400 bg-clip-text text-transparent",children:"Monitoreo de Motores"}),I.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx(Oq,{className:"w-3.5 h-3.5"}),I.jsx("span",{children:s(i)})]}),I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx(Ux,{className:"w-3.5 h-3.5"}),I.jsx("span",{className:"font-mono",children:a(i)})]})]})]})]}),I.jsxs("div",{className:"flex items-center gap-3 bg-primary-secondary/50 px-4 py-2 rounded-lg border border-purple-main/20",children:[e?I.jsx(iH,{className:"w-5 h-5 text-green-400 animate-pulse"}):I.jsx(FW,{className:"w-5 h-5 text-red-400"}),I.jsxs("div",{className:"hidden md:block",children:[I.jsx("p",{className:"text-xs text-gray-400",children:"Estado MQTT"}),I.jsx("p",{className:`text-sm font-semibold ${e?"text-green-400":"text-red-400"}`,children:t})]})]})]})})})},OW=({currentView:n,onViewChange:e,isOpen:t,setIsOpen:i})=>{const{searchTerm:r,searchResults:s,performSearch:a,clearSearch:o}=_q(),[l,c]=ct.useState(!1),A=ct.useRef(null),f=[{id:"dashboard",label:"Dashboard",icon:rW},{id:"monitoring",label:"Laboratorio",icon:Fq},{id:"ai-reports",label:"Reportes IA",icon:tH},{id:"errors",label:"Errores",icon:zf},{id:"logs",label:"Registros",icon:hg},{id:"settings",label:"Configuracin",icon:Q4}];ct.useEffect(()=>{const x=w=>{A.current&&!A.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{const w=x.target.value;a(w),c(w.length>0)},d=x=>{x.view&&e(x.view),x.targetId&&setTimeout(()=>{const w=document.getElementById(x.targetId);w&&(w.scrollIntoView({behavior:"smooth",block:"center"}),w.classList.add("search-highlight"),setTimeout(()=>{w.classList.remove("search-highlight")},2e3))},300),c(!1),o(),window.innerWidth<768&&i(!1)},y=()=>{o(),c(!1)};return I.jsxs(I.Fragment,{children:[t&&I.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>i(!1)}),I.jsxs("div",{className:`fixed left-0 top-0 h-full bg-gradient-to-b from-purple-900 to-purple-950 text-white transition-all duration-300 z-50 flex flex-col ${t?"w-64":"w-20 -translate-x-full md:translate-x-0"}`,children:[I.jsx("div",{className:"p-4 flex items-center justify-between border-b border-purple-400/20",children:t?I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:I.jsx(JA,{className:"w-5 h-5 text-white"})}),I.jsx("span",{className:"font-bold text-lg",children:"MotorWatch"})]}):I.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center mx-auto",children:I.jsx(JA,{className:"w-5 h-5 text-white"})})}),I.jsx("button",{onClick:()=>i(!t),className:"absolute -right-3 top-20 bg-purple-600 hover:bg-purple-700 rounded-full p-1 border-2 border-purple-400 shadow-lg transition-colors z-50",children:t?I.jsx(kq,{className:"w-4 h-4"}):I.jsx(Qq,{className:"w-4 h-4"})}),t&&I.jsxs("div",{className:"p-4 relative",ref:A,children:[I.jsxs("div",{className:"relative",children:[I.jsx(vW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-purple-300"}),I.jsx("input",{type:"text",placeholder:"Buscar en toda la app...",value:r,onChange:p,onFocus:()=>r&&c(!0),className:"w-full bg-purple-800/50 border border-purple-400/30 rounded-lg pl-10 pr-10 py-2 text-sm text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 transition-all"}),r&&I.jsx("button",{onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-300 hover:text-white transition-colors",children:I.jsx(dg,{className:"w-4 h-4"})})]}),l&&s.length>0&&I.jsx("div",{className:"absolute top-full left-4 right-4 mt-2 bg-purple-900 border border-purple-400/30 rounded-lg shadow-xl max-h-96 overflow-y-auto z-50",children:s.map((x,w)=>I.jsxs("button",{onClick:()=>d(x),className:"w-full px-4 py-3 text-left hover:bg-purple-800/50 transition-colors border-b border-purple-700/30 last:border-b-0 flex items-center gap-3",children:[I.jsx("div",{className:`px-2 py-1 rounded text-xs font-semibold flex-shrink-0 ${x.type==="view"?"bg-blue-500/20 text-blue-300":x.type==="metric"?"bg-green-500/20 text-green-300":x.type==="phase"?"bg-yellow-500/20 text-yellow-300":"bg-purple-500/20 text-purple-300"}`,children:x.type==="view"?"Vista":x.type==="metric"?"Mtrica":x.type==="phase"?"Fase":"Accin"}),I.jsx("span",{className:"text-white text-sm",children:x.label})]},w))}),l&&r&&s.length===0&&I.jsx("div",{className:"absolute top-full left-4 right-4 mt-2 bg-purple-900 border border-purple-400/30 rounded-lg shadow-xl p-4 z-50",children:I.jsx("p",{className:"text-purple-300 text-sm text-center",children:"No se encontraron resultados"})})]}),I.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:I.jsxs("ul",{className:"space-y-2 relative",children:[I.jsx("div",{className:"absolute left-0 w-full h-12 bg-gradient-to-r from-purple-600 to-purple-500 rounded-lg transition-all duration-300 ease-out shadow-lg",style:{top:`${f.findIndex(x=>x.id===n)*56}px`,opacity:f.some(x=>x.id===n)?1:0}}),f.map(x=>{const w=x.icon,b=n===x.id;return I.jsx("li",{className:"relative",children:I.jsxs("button",{onClick:()=>e(x.id),className:`w-full flex items-center gap-3 py-3 transition-all duration-200 group relative z-10 ${b?"bg-purple-600 text-white rounded-lg px-4":"text-purple-100 hover:bg-purple-800/50 rounded-lg px-4 mr-2"}`,children:[b&&I.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-purple-400 rounded-r-full"}),I.jsx(w,{className:"w-5 h-5 flex-shrink-0"}),t&&I.jsx("span",{className:"font-medium",children:x.label}),!t&&I.jsx("div",{className:"absolute left-full ml-2 px-3 py-2 bg-purple-950 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50 border border-purple-600",children:x.label})]})},x.id)})]})}),t&&I.jsx("div",{className:"p-4 border-t border-purple-400/20",children:I.jsxs("div",{className:"flex justify-center gap-4 text-purple-300",children:[I.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:I.jsx("span",{className:"text-xs",children:"Facebook"})}),I.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:I.jsx("span",{className:"text-xs",children:"Twitter"})}),I.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:I.jsx("span",{className:"text-xs",children:"Google+"})})]})})]})]})},PW=({onDataChange:n,onPhaseDataChange:e,isTestMode:t,setIsTestMode:i})=>{const[r,s]=ct.useState(!0),[a,o]=ct.useState({temperatura:25,rpm:1500,vibracion:3}),[l,c]=ct.useState({A:{voltaje:220,corriente:10,potencia:2200,energia:50,frecuencia:60,factorPotencia:.95},B:{voltaje:220,corriente:10,potencia:2200,energia:50,frecuencia:60,factorPotencia:.95},C:{voltaje:220,corriente:10,potencia:2200,energia:50,frecuencia:60,factorPotencia:.95}}),A=(x,w)=>{if(!t)return;const b={...a,[x]:parseFloat(w)};o(b),n(b)},f=(x,w,b)=>{if(!t)return;const _={...l,[x]:{...l[x],[w]:parseFloat(b)}};c(_),e(_)},p={normal:{temperatura:30,rpm:1500,vibracion:2,phases:{A:{voltaje:220,corriente:10,potencia:2200,energia:50,frecuencia:60,factorPotencia:.95},B:{voltaje:220,corriente:10,potencia:2200,energia:50,frecuencia:60,factorPotencia:.95},C:{voltaje:220,corriente:10,potencia:2200,energia:50,frecuencia:60,factorPotencia:.95}}},precaucion:{temperatura:50,rpm:2e3,vibracion:6,phases:{A:{voltaje:230,corriente:15,potencia:3450,energia:200,frecuencia:62,factorPotencia:.8},B:{voltaje:228,corriente:16,potencia:3500,energia:220,frecuencia:61,factorPotencia:.82},C:{voltaje:232,corriente:15.5,potencia:3400,energia:210,frecuencia:62,factorPotencia:.81}}},advertencia:{temperatura:70,rpm:2500,vibracion:9,phases:{A:{voltaje:245,corriente:18,potencia:4200,energia:600,frecuencia:64,factorPotencia:.72},B:{voltaje:198,corriente:19,potencia:4300,energia:650,frecuencia:46,factorPotencia:.7},C:{voltaje:242,corriente:18.5,potencia:4100,energia:620,frecuencia:65,factorPotencia:.73}}},critico:{temperatura:90,rpm:3e3,vibracion:15,phases:{A:{voltaje:250,corriente:22,potencia:5e3,energia:1100,frecuencia:68,factorPotencia:.65},B:{voltaje:195,corriente:24,potencia:5200,energia:1200,frecuencia:42,factorPotencia:.6},C:{voltaje:248,corriente:23,potencia:5100,energia:1150,frecuencia:67,factorPotencia:.63}}}},d=x=>{t&&(o(p[x]),n(p[x]),e&&p[x].phases&&(c(p[x].phases),e(p[x].phases)))},y=()=>{const x=!t;i(x),x&&d("normal")};return r?I.jsxs("div",{className:"fixed bottom-4 right-4 glass-card p-4 w-96 max-h-[90vh] overflow-y-auto z-50",children:[I.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(UB,{className:"w-5 h-5 text-purple-light"}),I.jsx("h3",{className:"text-lg font-bold text-purple-light",children:"Panel de Pruebas"})]}),I.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white transition-colors",children:I.jsx(dg,{className:"w-5 h-5"})})]}),I.jsxs("div",{className:"mb-4 p-3 bg-purple-900/20 rounded-lg border border-purple-500/30",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[t?I.jsx(UB,{className:"w-4 h-4 text-green-400"}):I.jsx(vy,{className:"w-4 h-4 text-blue-400"}),I.jsx("span",{className:"text-sm font-semibold",children:t?"Modo Prueba":"Modo MQTT"})]}),I.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t?"bg-green-600":"bg-gray-600"}`,children:I.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]}),I.jsx("p",{className:"text-xs text-gray-400",children:t?" Usando datos de simulacin":" Recibiendo datos de MQTT"})]}),I.jsxs("div",{className:`space-y-4 ${t?"":"opacity-50 pointer-events-none"}`,children:[I.jsxs("div",{className:"space-y-3",children:[I.jsx("h4",{className:"text-sm font-bold text-white border-b border-purple-500/30 pb-1",children:"Datos Generales"}),I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Temperatura: ",a.temperatura,"C"]}),I.jsx("input",{type:"range",min:"0",max:"120",value:a.temperatura,onChange:x=>A("temperatura",x.target.value),className:"w-full",disabled:!t})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["RPM: ",a.rpm]}),I.jsx("input",{type:"range",min:"0",max:"3600",step:"100",value:a.rpm,onChange:x=>A("rpm",x.target.value),className:"w-full",disabled:!t})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Vibracin: ",a.vibracion," mm/s"]}),I.jsx("input",{type:"range",min:"0",max:"20",step:"0.5",value:a.vibracion,onChange:x=>A("vibracion",x.target.value),className:"w-full",disabled:!t})]})]}),["A","B","C"].map(x=>I.jsxs("div",{className:"space-y-2",children:[I.jsxs("h4",{className:`text-sm font-bold border-b pb-1 ${x==="A"?"text-red-400 border-red-500/30":x==="B"?"text-yellow-400 border-yellow-500/30":"text-blue-400 border-blue-500/30"}`,children:["Fase ",x]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Voltaje: ",l[x].voltaje,"V"]}),I.jsx("input",{type:"range",min:"180",max:"260",value:l[x].voltaje,onChange:w=>f(x,"voltaje",w.target.value),className:"w-full h-1",disabled:!t})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Corriente: ",l[x].corriente,"A"]}),I.jsx("input",{type:"range",min:"0",max:"30",step:"0.5",value:l[x].corriente,onChange:w=>f(x,"corriente",w.target.value),className:"w-full h-1",disabled:!t})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Frecuencia: ",l[x].frecuencia,"Hz"]}),I.jsx("input",{type:"range",min:"40",max:"70",step:"0.1",value:l[x].frecuencia,onChange:w=>f(x,"frecuencia",w.target.value),className:"w-full h-1",disabled:!t})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Factor P.: ",l[x].factorPotencia]}),I.jsx("input",{type:"range",min:"0.5",max:"1",step:"0.01",value:l[x].factorPotencia,onChange:w=>f(x,"factorPotencia",w.target.value),className:"w-full h-1",disabled:!t})]})]})]},x)),I.jsxs("div",{className:"space-y-2",children:[I.jsx("p",{className:"text-xs text-gray-400 border-b border-purple-500/30 pb-1",children:"Presets Rpidos:"}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx("button",{onClick:()=>d("normal"),className:"px-3 py-2 bg-green-600 hover:bg-green-700 rounded text-xs font-semibold transition-colors disabled:opacity-50",disabled:!t,children:" Normal"}),I.jsx("button",{onClick:()=>d("precaucion"),className:"px-3 py-2 bg-yellow-600 hover:bg-yellow-700 rounded text-xs font-semibold transition-colors disabled:opacity-50",disabled:!t,children:" Precaucin"}),I.jsx("button",{onClick:()=>d("advertencia"),className:"px-3 py-2 bg-orange-600 hover:bg-orange-700 rounded text-xs font-semibold transition-colors disabled:opacity-50",disabled:!t,children:" Advertencia"}),I.jsx("button",{onClick:()=>d("critico"),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded text-xs font-semibold transition-colors disabled:opacity-50",disabled:!t,children:" Crtico"})]})]})]})]}):I.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-4 right-4 glass-card p-3 z-50 hover:scale-110 transition-transform",title:"Abrir Panel de Pruebas",children:I.jsx(UB,{className:"w-6 h-6 text-purple-light"})})},kW=({alert:n,onClose:e})=>{const t=n.severity==="critical",i=n.category==="ml_anomaly",r=()=>i?I.jsx(vy,{className:"w-6 h-6"}):t?I.jsx(ba,{className:"w-6 h-6"}):I.jsx(zf,{className:"w-6 h-6"}),a=t?{bg:"bg-red-600",border:"border-red-400",icon:"text-red-100",text:"text-red-50"}:i?{bg:"bg-purple-600",border:"border-purple-400",icon:"text-purple-100",text:"text-purple-50"}:{bg:"bg-yellow-600",border:"border-yellow-400",icon:"text-yellow-100",text:"text-yellow-50"};return I.jsx("div",{className:`${a.bg} ${a.border} border-2 rounded-lg shadow-2xl p-4 mb-3 animate-slide-in-right max-w-md backdrop-blur-sm bg-opacity-95`,style:{animation:t?"pulse 2s infinite, slide-in-right 0.5s ease-out":"slide-in-right 0.5s ease-out"},children:I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx("div",{className:`${a.icon} flex-shrink-0 ${t?"animate-bounce":""}`,children:r()}),I.jsx("div",{className:"flex-1 min-w-0",children:I.jsxs("div",{className:"flex items-start justify-between gap-2",children:[I.jsxs("div",{children:[I.jsx("p",{className:`font-bold ${a.text} text-sm uppercase tracking-wide`,children:t?" ALERTA CRTICA":i?" ANOMALA IA":" ADVERTENCIA"}),I.jsx("p",{className:`${a.text} text-base font-semibold mt-1`,children:n.message}),I.jsxs("p",{className:"text-white text-opacity-80 text-xs mt-1",children:[n.category.replace("_"," ").toUpperCase()," | Valor: ",n.value?.toFixed(2)]})]}),I.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 transition-colors flex-shrink-0",children:I.jsx(dg,{className:"w-5 h-5"})})]})})]})})},HW=()=>{const[n,e]=ct.useState([]),[t,i]=ct.useState(new Set);ct.useEffect(()=>{const s=async()=>{try{const o=await fetch(`${Ad}api/alerts/active`);if(o.ok){const l=await o.json(),c=l.filter(A=>!t.has(A.id));if(c.length>0){const A=c.map(f=>({...f,toastId:Date.now()+Math.random()}));e(f=>[...A,...f].slice(0,5)),i(new Set(l.map(f=>f.id))),A.forEach(f=>{setTimeout(()=>{e(p=>p.filter(d=>d.toastId!==f.toastId))},8e3)})}}}catch(o){console.error("Error fetching alerts:",o)}};s();const a=setInterval(s,2e3);return()=>clearInterval(a)},[t]);const r=s=>{e(a=>a.filter(o=>o.toastId!==s))};return n.length===0?null:I.jsx("div",{className:"fixed top-20 right-4 z-50 pointer-events-none",children:I.jsx("div",{className:"pointer-events-auto",children:n.map(s=>I.jsx(kW,{alert:s,onClose:()=>r(s.toastId)},s.toastId))})})};var NB={exports:{}},Dh={};var KI;function QW(){return KI||(KI=1,Dh.ConcurrentRoot=1,Dh.ContinuousEventPriority=8,Dh.DefaultEventPriority=32,Dh.DiscreteEventPriority=2,Dh.IdleEventPriority=268435456,Dh.LegacyRoot=0,Dh.NoEventPriority=0),Dh}var qI;function zW(){return qI||(qI=1,NB.exports=QW()),NB.exports}var X2=zW();const Nx="181",Pm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},km={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rH=0,nT=1,sH=2,jW=3,aH=0,kS=1,C1=2,KA=3,Zf=0,rc=1,tA=2,YA=0,ag=1,iT=2,rT=3,sT=4,oH=5,mp=100,lH=101,cH=102,uH=103,AH=104,fH=200,hH=201,dH=202,pH=203,m_=204,g_=205,mH=206,gH=207,yH=208,vH=209,xH=210,bH=211,wH=212,_H=213,SH=214,y_=0,v_=1,x_=2,pg=3,b_=4,w_=5,__=6,S_=7,Fx=0,EH=1,BH=2,Xf=0,CH=1,MH=2,TH=3,z4=4,UH=5,NH=6,FH=7,aT="attached",IH="detached",Np=300,Jf=301,Fp=302,xy=303,tx=304,Gy=306,Ip=1e3,ia=1001,by=1002,fo=1003,HS=1004,VW=1004,Xm=1005,GW=1005,ur=1006,oy=1007,KW=1007,iA=1008,oT=1008,ac=1009,QS=1010,zS=1011,wy=1012,Ix=1013,$f=1014,Ks=1015,Ja=1016,jS=1017,VS=1018,_y=1020,j4=35902,V4=35899,G4=1021,K4=1022,Ha=1023,Sy=1026,Ey=1027,Lx=1028,Rx=1029,GS=1030,KS=1031,qW=1032,qS=1033,M1=33776,T1=33777,U1=33778,N1=33779,E_=35840,B_=35841,C_=35842,M_=35843,T_=36196,U_=37492,N_=37496,F_=37808,I_=37809,L_=37810,R_=37811,D_=37812,O_=37813,P_=37814,k_=37815,H_=37816,Q_=37817,z_=37818,j_=37819,V_=37820,G_=37821,K_=36492,q_=36494,W_=36495,X_=36283,Y_=36284,Z_=36285,J_=36286,LH=2200,RH=2201,DH=2202,By=2300,Cy=2301,Y2=2302,Ym=2400,Zm=2401,nx=2402,WS=2500,q4=2501,OH=0,W4=1,$_=2,PH=3200,kH=3201,WW=3202,XW=3203,Qp=0,HH=1,rd="",wa="srgb",$a="srgb-linear",ix="linear",Zr="srgb",YW=0,Hm=7680,ZW=7681,JW=7682,$W=7683,eX=34055,tX=34056,nX=5386,iX=512,rX=513,sX=514,aX=515,oX=516,lX=517,cX=518,lT=519,QH=512,zH=513,jH=514,X4=515,VH=516,GH=517,KH=518,qH=519,rx=35044,uX=35048,AX=35040,fX=35045,hX=35049,dX=35041,pX=35046,mX=35050,gX=35042,yX="100",cT="300 es",bu=2e3,My=2001,vX={COMPUTE:"compute",RENDER:"render"},xX={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},bX={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function WH(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const wX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function iy(n,e){return new wX[n](e)}function sx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function XH(){const n=sx("canvas");return n.style.display="block",n}const WI={};let Lp=null;function _X(n){Lp=n}function SX(){return Lp}function ax(...n){const e="THREE."+n.shift();Lp?Lp("log",e,...n):console.log(e,...n)}function Sn(...n){const e="THREE."+n.shift();Lp?Lp("warn",e,...n):console.warn(e,...n)}function bi(...n){const e="THREE."+n.shift();Lp?Lp("error",e,...n):console.error(e,...n)}function Ty(...n){const e=n.join(" ");e in WI||(WI[e]=!0,Sn(...n))}function EX(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}let th=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const gl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let XI=1234567;const og=Math.PI/180,Uy=180/Math.PI;function Su(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(gl[n&255]+gl[n>>8&255]+gl[n>>16&255]+gl[n>>24&255]+"-"+gl[e&255]+gl[e>>8&255]+"-"+gl[e>>16&15|64]+gl[e>>24&255]+"-"+gl[t&63|128]+gl[t>>8&255]+"-"+gl[t>>16&255]+gl[t>>24&255]+gl[i&255]+gl[i>>8&255]+gl[i>>16&255]+gl[i>>24&255]).toLowerCase()}function pi(n,e,t){return Math.max(e,Math.min(t,n))}function Y4(n,e){return(n%e+e)%e}function BX(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function CX(n,e,t){return n!==e?(t-n)/(e-n):0}function F1(n,e,t){return(1-t)*n+t*e}function MX(n,e,t,i){return F1(n,e,1-Math.exp(-t*i))}function TX(n,e=1){return e-Math.abs(Y4(n,e*2)-e)}function UX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function NX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function FX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function IX(n,e){return n+Math.random()*(e-n)}function LX(n){return n*(.5-Math.random())}function RX(n){n!==void 0&&(XI=n);let e=XI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function DX(n){return n*og}function OX(n){return n*Uy}function PX(n){return(n&n-1)===0&&n!==0}function kX(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function HX(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function QX(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+i)/2),A=a((e+i)/2),f=s((e-i)/2),p=a((e-i)/2),d=s((i-e)/2),y=a((i-e)/2);switch(r){case"XYX":n.set(o*A,l*f,l*p,o*c);break;case"YZY":n.set(l*p,o*A,l*f,o*c);break;case"ZXZ":n.set(l*f,l*p,o*A,o*c);break;case"XZX":n.set(o*A,l*y,l*d,o*c);break;case"YXY":n.set(l*d,o*A,l*y,o*c);break;case"ZYZ":n.set(l*y,l*d,o*A,o*c);break;default:Sn("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ic(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ii(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const YH={DEG2RAD:og,RAD2DEG:Uy,generateUUID:Su,clamp:pi,euclideanModulo:Y4,mapLinear:BX,inverseLerp:CX,lerp:F1,damp:MX,pingpong:TX,smoothstep:UX,smootherstep:NX,randInt:FX,randFloat:IX,randFloatSpread:LX,seededRandom:RX,degToRad:DX,radToDeg:OX,isPowerOfTwo:PX,ceilPowerOfTwo:kX,floorPowerOfTwo:HX,setQuaternionFromProperEuler:QX,normalize:Ii,denormalize:ic};class Xt{constructor(e=0,t=0){Xt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=pi(this.x,e.x,t.x),this.y=pi(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=pi(this.x,e,t),this.y=pi(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(pi(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(pi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fo{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],c=i[r+1],A=i[r+2],f=i[r+3],p=s[a+0],d=s[a+1],y=s[a+2],x=s[a+3];if(o<=0){e[t+0]=l,e[t+1]=c,e[t+2]=A,e[t+3]=f;return}if(o>=1){e[t+0]=p,e[t+1]=d,e[t+2]=y,e[t+3]=x;return}if(f!==x||l!==p||c!==d||A!==y){let w=l*p+c*d+A*y+f*x;w<0&&(p=-p,d=-d,y=-y,x=-x,w=-w);let b=1-o;if(w<.9995){const _=Math.acos(w),E=Math.sin(_);b=Math.sin(b*_)/E,o=Math.sin(o*_)/E,l=l*b+p*o,c=c*b+d*o,A=A*b+y*o,f=f*b+x*o}else{l=l*b+p*o,c=c*b+d*o,A=A*b+y*o,f=f*b+x*o;const _=1/Math.sqrt(l*l+c*c+A*A+f*f);l*=_,c*=_,A*=_,f*=_}}e[t]=l,e[t+1]=c,e[t+2]=A,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],c=i[r+2],A=i[r+3],f=s[a],p=s[a+1],d=s[a+2],y=s[a+3];return e[t]=o*y+A*f+l*d-c*p,e[t+1]=l*y+A*p+c*f-o*d,e[t+2]=c*y+A*d+o*p-l*f,e[t+3]=A*y-o*f-l*p-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),A=o(r/2),f=o(s/2),p=l(i/2),d=l(r/2),y=l(s/2);switch(a){case"XYZ":this._x=p*A*f+c*d*y,this._y=c*d*f-p*A*y,this._z=c*A*y+p*d*f,this._w=c*A*f-p*d*y;break;case"YXZ":this._x=p*A*f+c*d*y,this._y=c*d*f-p*A*y,this._z=c*A*y-p*d*f,this._w=c*A*f+p*d*y;break;case"ZXY":this._x=p*A*f-c*d*y,this._y=c*d*f+p*A*y,this._z=c*A*y+p*d*f,this._w=c*A*f-p*d*y;break;case"ZYX":this._x=p*A*f-c*d*y,this._y=c*d*f+p*A*y,this._z=c*A*y-p*d*f,this._w=c*A*f+p*d*y;break;case"YZX":this._x=p*A*f+c*d*y,this._y=c*d*f+p*A*y,this._z=c*A*y-p*d*f,this._w=c*A*f-p*d*y;break;case"XZY":this._x=p*A*f-c*d*y,this._y=c*d*f-p*A*y,this._z=c*A*y+p*d*f,this._w=c*A*f+p*d*y;break;default:Sn("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],A=t[6],f=t[10],p=i+o+f;if(p>0){const d=.5/Math.sqrt(p+1);this._w=.25/d,this._x=(A-l)*d,this._y=(s-c)*d,this._z=(a-r)*d}else if(i>o&&i>f){const d=2*Math.sqrt(1+i-o-f);this._w=(A-l)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(s+c)/d}else if(o>f){const d=2*Math.sqrt(1+o-i-f);this._w=(s-c)/d,this._x=(r+a)/d,this._y=.25*d,this._z=(l+A)/d}else{const d=2*Math.sqrt(1+f-i-o);this._w=(a-r)/d,this._x=(s+c)/d,this._y=(l+A)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pi(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,A=t._w;return this._x=i*A+a*o+r*c-s*l,this._y=r*A+a*l+s*o-i*c,this._z=s*A+a*c+i*l-r*o,this._w=a*A-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,r=e._y,s=e._z,a=e._w,o=this.dot(e);o<0&&(i=-i,r=-r,s=-s,a=-a,o=-o);let l=1-t;if(o<.9995){const c=Math.acos(o),A=Math.sin(c);l=Math.sin(l*c)/A,t=Math.sin(t*c)/A,this._x=this._x*l+i*t,this._y=this._y*l+r*t,this._z=this._z*l+s*t,this._w=this._w*l+a*t,this._onChangeCallback()}else this._x=this._x*l+i*t,this._y=this._y*l+r*t,this._z=this._z*l+s*t,this._w=this._w*l+a*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class je{constructor(e=0,t=0,i=0){je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(YI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(YI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*i),A=2*(o*t-s*r),f=2*(s*i-a*t);return this.x=t+l*c+a*f-o*A,this.y=i+l*A+o*c-s*f,this.z=r+l*f+s*A-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=pi(this.x,e.x,t.x),this.y=pi(this.y,e.y,t.y),this.z=pi(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=pi(this.x,e,t),this.y=pi(this.y,e,t),this.z=pi(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(pi(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return FB.copy(this).projectOnVector(e),this.sub(FB)}reflect(e){return this.sub(FB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(pi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const FB=new je,YI=new Fo;class Fi{constructor(e,t,i,r,s,a,o,l,c){Fi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c)}set(e,t,i,r,s,a,o,l,c){const A=this.elements;return A[0]=e,A[1]=r,A[2]=o,A[3]=t,A[4]=s,A[5]=l,A[6]=i,A[7]=a,A[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],A=i[4],f=i[7],p=i[2],d=i[5],y=i[8],x=r[0],w=r[3],b=r[6],_=r[1],E=r[4],C=r[7],T=r[2],M=r[5],F=r[8];return s[0]=a*x+o*_+l*T,s[3]=a*w+o*E+l*M,s[6]=a*b+o*C+l*F,s[1]=c*x+A*_+f*T,s[4]=c*w+A*E+f*M,s[7]=c*b+A*C+f*F,s[2]=p*x+d*_+y*T,s[5]=p*w+d*E+y*M,s[8]=p*b+d*C+y*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8];return t*a*A-t*o*c-i*s*A+i*o*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8],f=A*a-o*c,p=o*l-A*s,d=c*s-a*l,y=t*f+i*p+r*d;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=f*x,e[1]=(r*c-A*i)*x,e[2]=(o*i-r*a)*x,e[3]=p*x,e[4]=(A*t-r*l)*x,e[5]=(r*s-o*t)*x,e[6]=d*x,e[7]=(i*l-c*t)*x,e[8]=(a*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(IB.makeScale(e,t)),this}rotate(e){return this.premultiply(IB.makeRotation(-e)),this}translate(e,t){return this.premultiply(IB.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const IB=new Fi,ZI=new Fi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),JI=new Fi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function zX(){const n={enabled:!0,workingColorSpace:$a,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Zr&&(r.r=od(r.r),r.g=od(r.g),r.b=od(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Zr&&(r.r=ly(r.r),r.g=ly(r.g),r.b=ly(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===rd?ix:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Ty("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Ty("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[$a]:{primaries:e,whitePoint:i,transfer:ix,toXYZ:ZI,fromXYZ:JI,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:wa},outputColorSpaceConfig:{drawingBufferColorSpace:wa}},[wa]:{primaries:e,whitePoint:i,transfer:Zr,toXYZ:ZI,fromXYZ:JI,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:wa}}}),n}const Ji=zX();function od(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ly(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let u0;class ZH{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{u0===void 0&&(u0=sx("canvas")),u0.width=e.width,u0.height=e.height;const r=u0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=u0}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=od(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(od(t[i]/255)*255):t[i]=od(t[i]);return{data:t,width:e.width,height:e.height}}else return Sn("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jX=0;class gp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jX++}),this.uuid=Su(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(LB(r[a].image)):s.push(LB(r[a]))}else s=LB(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function LB(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ZH.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Sn("Texture: Unable to serialize Texture."),{})}let VX=0;const RB=new je;class Kr extends th{constructor(e=Kr.DEFAULT_IMAGE,t=Kr.DEFAULT_MAPPING,i=ia,r=ia,s=ur,a=iA,o=Ha,l=ac,c=Kr.DEFAULT_ANISOTROPY,A=rd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:VX++}),this.uuid=Su(),this.name="",this.source=new gp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Xt(0,0),this.repeat=new Xt(1,1),this.center=new Xt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=A,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(RB).x}get height(){return this.source.getSize(RB).y}get depth(){return this.source.getSize(RB).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){Sn(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){Sn(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Np)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ip:e.x=e.x-Math.floor(e.x);break;case ia:e.x=e.x<0?0:1;break;case by:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ip:e.y=e.y-Math.floor(e.y);break;case ia:e.y=e.y<0?0:1;break;case by:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Kr.DEFAULT_IMAGE=null;Kr.DEFAULT_MAPPING=Np;Kr.DEFAULT_ANISOTROPY=1;class Sr{constructor(e=0,t=0,i=0,r=1){Sr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],A=l[4],f=l[8],p=l[1],d=l[5],y=l[9],x=l[2],w=l[6],b=l[10];if(Math.abs(A-p)<.01&&Math.abs(f-x)<.01&&Math.abs(y-w)<.01){if(Math.abs(A+p)<.1&&Math.abs(f+x)<.1&&Math.abs(y+w)<.1&&Math.abs(c+d+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(c+1)/2,C=(d+1)/2,T=(b+1)/2,M=(A+p)/4,F=(f+x)/4,L=(y+w)/4;return E>C&&E>T?E<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(E),r=M/i,s=F/i):C>T?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=M/r,s=L/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=F/s,r=L/s),this.set(i,r,s,t),this}let _=Math.sqrt((w-y)*(w-y)+(f-x)*(f-x)+(p-A)*(p-A));return Math.abs(_)<.001&&(_=1),this.x=(w-y)/_,this.y=(f-x)/_,this.z=(p-A)/_,this.w=Math.acos((c+d+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=pi(this.x,e.x,t.x),this.y=pi(this.y,e.y,t.y),this.z=pi(this.z,e.z,t.z),this.w=pi(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=pi(this.x,e,t),this.y=pi(this.y,e,t),this.z=pi(this.z,e,t),this.w=pi(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(pi(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Z4 extends th{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ur,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Sr(0,0,e,t),this.scissorTest=!1,this.viewport=new Sr(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new Kr(r);this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:ur,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new gp(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Eu extends Z4{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class XS extends Kr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=fo,this.minFilter=fo,this.wrapR=ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class GX extends Eu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new XS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class YS extends Kr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=fo,this.minFilter=fo,this.wrapR=ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KX extends Eu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new YS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Zo{constructor(e=new je(1/0,1/0,1/0),t=new je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(HA.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(HA.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=HA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,HA):HA.fromBufferAttribute(s,a),HA.applyMatrix4(e.matrixWorld),this.expandByPoint(HA);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Rb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Rb.copy(i.boundingBox)),Rb.applyMatrix4(e.matrixWorld),this.union(Rb)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,HA),HA.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nv),Db.subVectors(this.max,Nv),A0.subVectors(e.a,Nv),f0.subVectors(e.b,Nv),h0.subVectors(e.c,Nv),Zd.subVectors(f0,A0),Jd.subVectors(h0,f0),vm.subVectors(A0,h0);let t=[0,-Zd.z,Zd.y,0,-Jd.z,Jd.y,0,-vm.z,vm.y,Zd.z,0,-Zd.x,Jd.z,0,-Jd.x,vm.z,0,-vm.x,-Zd.y,Zd.x,0,-Jd.y,Jd.x,0,-vm.y,vm.x,0];return!DB(t,A0,f0,h0,Db)||(t=[1,0,0,0,1,0,0,0,1],!DB(t,A0,f0,h0,Db))?!1:(Ob.crossVectors(Zd,Jd),t=[Ob.x,Ob.y,Ob.z],DB(t,A0,f0,h0,Db))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,HA).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(HA).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Oh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Oh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Oh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Oh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Oh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Oh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Oh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Oh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Oh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Oh=[new je,new je,new je,new je,new je,new je,new je,new je],HA=new je,Rb=new Zo,A0=new je,f0=new je,h0=new je,Zd=new je,Jd=new je,vm=new je,Nv=new je,Db=new je,Ob=new je,xm=new je;function DB(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){xm.fromArray(n,s);const o=r.x*Math.abs(xm.x)+r.y*Math.abs(xm.y)+r.z*Math.abs(xm.z),l=e.dot(xm),c=t.dot(xm),A=i.dot(xm);if(Math.max(-Math.max(l,c,A),Math.min(l,c,A))>o)return!1}return!0}const qX=new Zo,Fv=new je,OB=new je;class Io{constructor(e=new je,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):qX.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fv.subVectors(e,this.center);const t=Fv.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Fv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(OB.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fv.copy(e.center).add(OB)),this.expandByPoint(Fv.copy(e.center).sub(OB))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ph=new je,PB=new je,Pb=new je,$d=new je,kB=new je,kb=new je,HB=new je;class Tg{constructor(e=new je,t=new je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ph)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ph.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ph.copy(this.origin).addScaledVector(this.direction,t),Ph.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){PB.copy(e).add(t).multiplyScalar(.5),Pb.copy(t).sub(e).normalize(),$d.copy(this.origin).sub(PB);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Pb),o=$d.dot(this.direction),l=-$d.dot(Pb),c=$d.lengthSq(),A=Math.abs(1-a*a);let f,p,d,y;if(A>0)if(f=a*l-o,p=a*o-l,y=s*A,f>=0)if(p>=-y)if(p<=y){const x=1/A;f*=x,p*=x,d=f*(f+a*p+2*o)+p*(a*f+p+2*l)+c}else p=s,f=Math.max(0,-(a*p+o)),d=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(a*p+o)),d=-f*f+p*(p+2*l)+c;else p<=-y?(f=Math.max(0,-(-a*s+o)),p=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+p*(p+2*l)+c):p<=y?(f=0,p=Math.min(Math.max(-s,-l),s),d=p*(p+2*l)+c):(f=Math.max(0,-(a*s+o)),p=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+p*(p+2*l)+c);else p=a>0?-s:s,f=Math.max(0,-(a*p+o)),d=-f*f+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(PB).addScaledVector(Pb,p),d}intersectSphere(e,t){Ph.subVectors(e.center,this.origin);const i=Ph.dot(this.direction),r=Ph.dot(Ph)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const c=1/this.direction.x,A=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),A>=0?(s=(e.min.y-p.y)*A,a=(e.max.y-p.y)*A):(s=(e.max.y-p.y)*A,a=(e.min.y-p.y)*A),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),f>=0?(o=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(o=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ph)!==null}intersectTriangle(e,t,i,r,s){kB.subVectors(t,e),kb.subVectors(i,e),HB.crossVectors(kB,kb);let a=this.direction.dot(HB),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;$d.subVectors(this.origin,e);const l=o*this.direction.dot(kb.crossVectors($d,kb));if(l<0)return null;const c=o*this.direction.dot(kB.cross($d));if(c<0||l+c>a)return null;const A=-o*$d.dot(HB);return A<0?null:this.at(A/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class oi{constructor(e,t,i,r,s,a,o,l,c,A,f,p,d,y,x,w){oi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c,A,f,p,d,y,x,w)}set(e,t,i,r,s,a,o,l,c,A,f,p,d,y,x,w){const b=this.elements;return b[0]=e,b[4]=t,b[8]=i,b[12]=r,b[1]=s,b[5]=a,b[9]=o,b[13]=l,b[2]=c,b[6]=A,b[10]=f,b[14]=p,b[3]=d,b[7]=y,b[11]=x,b[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new oi().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/d0.setFromMatrixColumn(e,0).length(),s=1/d0.setFromMatrixColumn(e,1).length(),a=1/d0.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),A=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=a*A,d=a*f,y=o*A,x=o*f;t[0]=l*A,t[4]=-l*f,t[8]=c,t[1]=d+y*c,t[5]=p-x*c,t[9]=-o*l,t[2]=x-p*c,t[6]=y+d*c,t[10]=a*l}else if(e.order==="YXZ"){const p=l*A,d=l*f,y=c*A,x=c*f;t[0]=p+x*o,t[4]=y*o-d,t[8]=a*c,t[1]=a*f,t[5]=a*A,t[9]=-o,t[2]=d*o-y,t[6]=x+p*o,t[10]=a*l}else if(e.order==="ZXY"){const p=l*A,d=l*f,y=c*A,x=c*f;t[0]=p-x*o,t[4]=-a*f,t[8]=y+d*o,t[1]=d+y*o,t[5]=a*A,t[9]=x-p*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const p=a*A,d=a*f,y=o*A,x=o*f;t[0]=l*A,t[4]=y*c-d,t[8]=p*c+x,t[1]=l*f,t[5]=x*c+p,t[9]=d*c-y,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const p=a*l,d=a*c,y=o*l,x=o*c;t[0]=l*A,t[4]=x-p*f,t[8]=y*f+d,t[1]=f,t[5]=a*A,t[9]=-o*A,t[2]=-c*A,t[6]=d*f+y,t[10]=p-x*f}else if(e.order==="XZY"){const p=a*l,d=a*c,y=o*l,x=o*c;t[0]=l*A,t[4]=-f,t[8]=c*A,t[1]=p*f+x,t[5]=a*A,t[9]=d*f-y,t[2]=y*f-d,t[6]=o*A,t[10]=x*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(WX,e,XX)}lookAt(e,t,i){const r=this.elements;return mu.subVectors(e,t),mu.lengthSq()===0&&(mu.z=1),mu.normalize(),ep.crossVectors(i,mu),ep.lengthSq()===0&&(Math.abs(i.z)===1?mu.x+=1e-4:mu.z+=1e-4,mu.normalize(),ep.crossVectors(i,mu)),ep.normalize(),Hb.crossVectors(mu,ep),r[0]=ep.x,r[4]=Hb.x,r[8]=mu.x,r[1]=ep.y,r[5]=Hb.y,r[9]=mu.y,r[2]=ep.z,r[6]=Hb.z,r[10]=mu.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],A=i[1],f=i[5],p=i[9],d=i[13],y=i[2],x=i[6],w=i[10],b=i[14],_=i[3],E=i[7],C=i[11],T=i[15],M=r[0],F=r[4],L=r[8],N=r[12],R=r[1],k=r[5],Q=r[9],J=r[13],Y=r[2],ne=r[6],W=r[10],q=r[14],$=r[3],re=r[7],V=r[11],te=r[15];return s[0]=a*M+o*R+l*Y+c*$,s[4]=a*F+o*k+l*ne+c*re,s[8]=a*L+o*Q+l*W+c*V,s[12]=a*N+o*J+l*q+c*te,s[1]=A*M+f*R+p*Y+d*$,s[5]=A*F+f*k+p*ne+d*re,s[9]=A*L+f*Q+p*W+d*V,s[13]=A*N+f*J+p*q+d*te,s[2]=y*M+x*R+w*Y+b*$,s[6]=y*F+x*k+w*ne+b*re,s[10]=y*L+x*Q+w*W+b*V,s[14]=y*N+x*J+w*q+b*te,s[3]=_*M+E*R+C*Y+T*$,s[7]=_*F+E*k+C*ne+T*re,s[11]=_*L+E*Q+C*W+T*V,s[15]=_*N+E*J+C*q+T*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],A=e[2],f=e[6],p=e[10],d=e[14],y=e[3],x=e[7],w=e[11],b=e[15];return y*(+s*l*f-r*c*f-s*o*p+i*c*p+r*o*d-i*l*d)+x*(+t*l*d-t*c*p+s*a*p-r*a*d+r*c*A-s*l*A)+w*(+t*c*f-t*o*d-s*a*f+i*a*d+s*o*A-i*c*A)+b*(-r*o*A-t*l*f+t*o*p+r*a*f-i*a*p+i*l*A)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8],f=e[9],p=e[10],d=e[11],y=e[12],x=e[13],w=e[14],b=e[15],_=f*w*c-x*p*c+x*l*d-o*w*d-f*l*b+o*p*b,E=y*p*c-A*w*c-y*l*d+a*w*d+A*l*b-a*p*b,C=A*x*c-y*f*c+y*o*d-a*x*d-A*o*b+a*f*b,T=y*f*l-A*x*l-y*o*p+a*x*p+A*o*w-a*f*w,M=t*_+i*E+r*C+s*T;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/M;return e[0]=_*F,e[1]=(x*p*s-f*w*s-x*r*d+i*w*d+f*r*b-i*p*b)*F,e[2]=(o*w*s-x*l*s+x*r*c-i*w*c-o*r*b+i*l*b)*F,e[3]=(f*l*s-o*p*s-f*r*c+i*p*c+o*r*d-i*l*d)*F,e[4]=E*F,e[5]=(A*w*s-y*p*s+y*r*d-t*w*d-A*r*b+t*p*b)*F,e[6]=(y*l*s-a*w*s-y*r*c+t*w*c+a*r*b-t*l*b)*F,e[7]=(a*p*s-A*l*s+A*r*c-t*p*c-a*r*d+t*l*d)*F,e[8]=C*F,e[9]=(y*f*s-A*x*s-y*i*d+t*x*d+A*i*b-t*f*b)*F,e[10]=(a*x*s-y*o*s+y*i*c-t*x*c-a*i*b+t*o*b)*F,e[11]=(A*o*s-a*f*s-A*i*c+t*f*c+a*i*d-t*o*d)*F,e[12]=T*F,e[13]=(A*x*r-y*f*r+y*i*p-t*x*p-A*i*w+t*f*w)*F,e[14]=(y*o*r-a*x*r-y*i*l+t*x*l+a*i*w-t*o*w)*F,e[15]=(a*f*r-A*o*r+A*i*l-t*f*l-a*i*p+t*o*p)*F,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,A=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,A*o+i,A*l-r*a,0,c*l-r*o,A*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,A=a+a,f=o+o,p=s*c,d=s*A,y=s*f,x=a*A,w=a*f,b=o*f,_=l*c,E=l*A,C=l*f,T=i.x,M=i.y,F=i.z;return r[0]=(1-(x+b))*T,r[1]=(d+C)*T,r[2]=(y-E)*T,r[3]=0,r[4]=(d-C)*M,r[5]=(1-(p+b))*M,r[6]=(w+_)*M,r[7]=0,r[8]=(y+E)*F,r[9]=(w-_)*F,r[10]=(1-(p+x))*F,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=d0.set(r[0],r[1],r[2]).length();const a=d0.set(r[4],r[5],r[6]).length(),o=d0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],QA.copy(this);const c=1/s,A=1/a,f=1/o;return QA.elements[0]*=c,QA.elements[1]*=c,QA.elements[2]*=c,QA.elements[4]*=A,QA.elements[5]*=A,QA.elements[6]*=A,QA.elements[8]*=f,QA.elements[9]*=f,QA.elements[10]*=f,t.setFromRotationMatrix(QA),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=bu,l=!1){const c=this.elements,A=2*s/(t-e),f=2*s/(i-r),p=(t+e)/(t-e),d=(i+r)/(i-r);let y,x;if(l)y=s/(a-s),x=a*s/(a-s);else if(o===bu)y=-(a+s)/(a-s),x=-2*a*s/(a-s);else if(o===My)y=-a/(a-s),x=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=A,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=f,c[9]=d,c[13]=0,c[2]=0,c[6]=0,c[10]=y,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=bu,l=!1){const c=this.elements,A=2/(t-e),f=2/(i-r),p=-(t+e)/(t-e),d=-(i+r)/(i-r);let y,x;if(l)y=1/(a-s),x=a/(a-s);else if(o===bu)y=-2/(a-s),x=-(a+s)/(a-s);else if(o===My)y=-1/(a-s),x=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=A,c[4]=0,c[8]=0,c[12]=p,c[1]=0,c[5]=f,c[9]=0,c[13]=d,c[2]=0,c[6]=0,c[10]=y,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const d0=new je,QA=new oi,WX=new je(0,0,0),XX=new je(1,1,1),ep=new je,Hb=new je,mu=new je,$I=new oi,eL=new Fo;class Bu{constructor(e=0,t=0,i=0,r=Bu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],A=r[9],f=r[2],p=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(pi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-A,d),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-pi(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(pi(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-pi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(pi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-A,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-pi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-A,d),this._y=0);break;default:Sn("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return $I.makeRotationFromQuaternion(e),this.setFromRotationMatrix($I,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return eL.setFromEuler(this),this.setFromQuaternion(eL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Bu.DEFAULT_ORDER="XYZ";class Ny{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let YX=0;const tL=new je,p0=new Fo,kh=new oi,Qb=new je,Iv=new je,ZX=new je,JX=new Fo,nL=new je(1,0,0),iL=new je(0,1,0),rL=new je(0,0,1),sL={type:"added"},$X={type:"removed"},m0={type:"childadded",child:null},QB={type:"childremoved",child:null};class gr extends th{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YX++}),this.uuid=Su(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gr.DEFAULT_UP.clone();const e=new je,t=new Bu,i=new Fo,r=new je(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new oi},normalMatrix:{value:new Fi}}),this.matrix=new oi,this.matrixWorld=new oi,this.matrixAutoUpdate=gr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ny,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return p0.setFromAxisAngle(e,t),this.quaternion.multiply(p0),this}rotateOnWorldAxis(e,t){return p0.setFromAxisAngle(e,t),this.quaternion.premultiply(p0),this}rotateX(e){return this.rotateOnAxis(nL,e)}rotateY(e){return this.rotateOnAxis(iL,e)}rotateZ(e){return this.rotateOnAxis(rL,e)}translateOnAxis(e,t){return tL.copy(e).applyQuaternion(this.quaternion),this.position.add(tL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(nL,e)}translateY(e){return this.translateOnAxis(iL,e)}translateZ(e){return this.translateOnAxis(rL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(kh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Qb.copy(e):Qb.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Iv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?kh.lookAt(Iv,Qb,this.up):kh.lookAt(Qb,Iv,this.up),this.quaternion.setFromRotationMatrix(kh),r&&(kh.extractRotation(r.matrixWorld),p0.setFromRotationMatrix(kh),this.quaternion.premultiply(p0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(bi("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(sL),m0.child=e,this.dispatchEvent(m0),m0.child=null):bi("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent($X),QB.child=e,this.dispatchEvent(QB),QB.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),kh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),kh.multiply(e.parent.matrixWorld)),e.applyMatrix4(kh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(sL),m0.child=e,this.dispatchEvent(m0),m0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iv,e,ZX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iv,JX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,A=l.length;c<A;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),A=a(e.images),f=a(e.shapes),p=a(e.skeletons),d=a(e.animations),y=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),A.length>0&&(i.images=A),f.length>0&&(i.shapes=f),p.length>0&&(i.skeletons=p),d.length>0&&(i.animations=d),y.length>0&&(i.nodes=y)}return i.object=r,i;function a(o){const l=[];for(const c in o){const A=o[c];delete A.metadata,l.push(A)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}gr.DEFAULT_UP=new je(0,1,0);gr.DEFAULT_MATRIX_AUTO_UPDATE=!0;gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zA=new je,Hh=new je,zB=new je,Qh=new je,g0=new je,y0=new je,aL=new je,jB=new je,VB=new je,GB=new je,KB=new Sr,qB=new Sr,WB=new Sr;class Qc{constructor(e=new je,t=new je,i=new je){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),zA.subVectors(e,t),r.cross(zA);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){zA.subVectors(r,t),Hh.subVectors(i,t),zB.subVectors(e,t);const a=zA.dot(zA),o=zA.dot(Hh),l=zA.dot(zB),c=Hh.dot(Hh),A=Hh.dot(zB),f=a*c-o*o;if(f===0)return s.set(0,0,0),null;const p=1/f,d=(c*l-o*A)*p,y=(a*A-o*l)*p;return s.set(1-d-y,y,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Qh)===null?!1:Qh.x>=0&&Qh.y>=0&&Qh.x+Qh.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,Qh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Qh.x),l.addScaledVector(a,Qh.y),l.addScaledVector(o,Qh.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return KB.setScalar(0),qB.setScalar(0),WB.setScalar(0),KB.fromBufferAttribute(e,t),qB.fromBufferAttribute(e,i),WB.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(KB,s.x),a.addScaledVector(qB,s.y),a.addScaledVector(WB,s.z),a}static isFrontFacing(e,t,i,r){return zA.subVectors(i,t),Hh.subVectors(e,t),zA.cross(Hh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return zA.subVectors(this.c,this.b),Hh.subVectors(this.a,this.b),zA.cross(Hh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Qc.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Qc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;g0.subVectors(r,i),y0.subVectors(s,i),jB.subVectors(e,i);const l=g0.dot(jB),c=y0.dot(jB);if(l<=0&&c<=0)return t.copy(i);VB.subVectors(e,r);const A=g0.dot(VB),f=y0.dot(VB);if(A>=0&&f<=A)return t.copy(r);const p=l*f-A*c;if(p<=0&&l>=0&&A<=0)return a=l/(l-A),t.copy(i).addScaledVector(g0,a);GB.subVectors(e,s);const d=g0.dot(GB),y=y0.dot(GB);if(y>=0&&d<=y)return t.copy(s);const x=d*c-l*y;if(x<=0&&c>=0&&y<=0)return o=c/(c-y),t.copy(i).addScaledVector(y0,o);const w=A*y-d*f;if(w<=0&&f-A>=0&&d-y>=0)return aL.subVectors(s,r),o=(f-A)/(f-A+(d-y)),t.copy(r).addScaledVector(aL,o);const b=1/(w+x+p);return a=x*b,o=p*b,t.copy(i).addScaledVector(g0,a).addScaledVector(y0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const JH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tp={h:0,s:0,l:0},zb={h:0,s:0,l:0};function XB(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let bn=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=wa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ji.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=Ji.workingColorSpace){return this.r=e,this.g=t,this.b=i,Ji.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=Ji.workingColorSpace){if(e=Y4(e,1),t=pi(t,0,1),i=pi(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=XB(a,s,e+1/3),this.g=XB(a,s,e),this.b=XB(a,s,e-1/3)}return Ji.colorSpaceToWorking(this,r),this}setStyle(e,t=wa){function i(s){s!==void 0&&parseFloat(s)<1&&Sn("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:Sn("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);Sn("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=wa){const i=JH[e.toLowerCase()];return i!==void 0?this.setHex(i,t):Sn("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=od(e.r),this.g=od(e.g),this.b=od(e.b),this}copyLinearToSRGB(e){return this.r=ly(e.r),this.g=ly(e.g),this.b=ly(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wa){return Ji.workingToColorSpace(yl.copy(this),e),Math.round(pi(yl.r*255,0,255))*65536+Math.round(pi(yl.g*255,0,255))*256+Math.round(pi(yl.b*255,0,255))}getHexString(e=wa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ji.workingColorSpace){Ji.workingToColorSpace(yl.copy(this),t);const i=yl.r,r=yl.g,s=yl.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,c;const A=(o+a)/2;if(o===a)l=0,c=0;else{const f=a-o;switch(c=A<=.5?f/(a+o):f/(2-a-o),a){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=A,e}getRGB(e,t=Ji.workingColorSpace){return Ji.workingToColorSpace(yl.copy(this),t),e.r=yl.r,e.g=yl.g,e.b=yl.b,e}getStyle(e=wa){Ji.workingToColorSpace(yl.copy(this),e);const t=yl.r,i=yl.g,r=yl.b;return e!==wa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(tp),this.setHSL(tp.h+e,tp.s+t,tp.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(tp),e.getHSL(zb);const i=F1(tp.h,zb.h,t),r=F1(tp.s,zb.s,t),s=F1(tp.l,zb.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const yl=new bn;bn.NAMES=JH;let eY=0;class ho extends th{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eY++}),this.uuid=Su(),this.name="",this.type="Material",this.blending=ag,this.side=Zf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=m_,this.blendDst=g_,this.blendEquation=mp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bn(0,0,0),this.blendAlpha=0,this.depthFunc=pg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=lT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hm,this.stencilZFail=Hm,this.stencilZPass=Hm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){Sn(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){Sn(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ag&&(i.blending=this.blending),this.side!==Zf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==m_&&(i.blendSrc=this.blendSrc),this.blendDst!==g_&&(i.blendDst=this.blendDst),this.blendEquation!==mp&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==pg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==lT&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hm&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Hm&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Hm&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class jc extends ho{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bu,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const sd=tY();function tY(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,A=0;for(;(c&8388608)===0;)c<<=1,A-=8388608;c&=-8388609,A+=947912704,s[l]=c|A}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Pc(n){Math.abs(n)>65504&&Sn("DataUtils.toHalfFloat(): Value out of range."),n=pi(n,-65504,65504),sd.floatView[0]=n;const e=sd.uint32View[0],t=e>>23&511;return sd.baseTable[t]+((e&8388607)>>sd.shiftTable[t])}function f1(n){const e=n>>10;return sd.uint32View[0]=sd.mantissaTable[sd.offsetTable[e]+(n&1023)]+sd.exponentTable[e],sd.floatView[0]}class Jm{static toHalfFloat(e){return Pc(e)}static fromHalfFloat(e){return f1(e)}}const Xa=new je,jb=new Xt;let nY=0;class Pr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:nY++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=rx,this.updateRanges=[],this.gpuType=Ks,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)jb.fromBufferAttribute(this,t),jb.applyMatrix3(e),this.setXY(t,jb.x,jb.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Xa.fromBufferAttribute(this,t),Xa.applyMatrix3(e),this.setXYZ(t,Xa.x,Xa.y,Xa.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Xa.fromBufferAttribute(this,t),Xa.applyMatrix4(e),this.setXYZ(t,Xa.x,Xa.y,Xa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Xa.fromBufferAttribute(this,t),Xa.applyNormalMatrix(e),this.setXYZ(t,Xa.x,Xa.y,Xa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Xa.fromBufferAttribute(this,t),Xa.transformDirection(e),this.setXYZ(t,Xa.x,Xa.y,Xa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ic(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ii(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ic(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ic(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ic(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ic(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==rx&&(e.usage=this.usage),e}}class iY extends Pr{constructor(e,t,i){super(new Int8Array(e),t,i)}}class rY extends Pr{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class sY extends Pr{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class aY extends Pr{constructor(e,t,i){super(new Int16Array(e),t,i)}}class J4 extends Pr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class oY extends Pr{constructor(e,t,i){super(new Int32Array(e),t,i)}}class $4 extends Pr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class lY extends Pr{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=f1(this.array[e*this.itemSize]);return this.normalized&&(t=ic(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize]=Pc(t),this}getY(e){let t=f1(this.array[e*this.itemSize+1]);return this.normalized&&(t=ic(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+1]=Pc(t),this}getZ(e){let t=f1(this.array[e*this.itemSize+2]);return this.normalized&&(t=ic(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+2]=Pc(t),this}getW(e){let t=f1(this.array[e*this.itemSize+3]);return this.normalized&&(t=ic(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+3]=Pc(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.array[e+0]=Pc(t),this.array[e+1]=Pc(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.array[e+0]=Pc(t),this.array[e+1]=Pc(i),this.array[e+2]=Pc(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.array[e+0]=Pc(t),this.array[e+1]=Pc(i),this.array[e+2]=Pc(r),this.array[e+3]=Pc(s),this}}class jn extends Pr{constructor(e,t,i){super(new Float32Array(e),t,i)}}let cY=0;const Xu=new oi,YB=new gr,v0=new je,gu=new Zo,Lv=new Zo,Mo=new je;class Ti extends th{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cY++}),this.uuid=Su(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(WH(e)?$4:J4)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Fi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xu.makeRotationFromQuaternion(e),this.applyMatrix4(Xu),this}rotateX(e){return Xu.makeRotationX(e),this.applyMatrix4(Xu),this}rotateY(e){return Xu.makeRotationY(e),this.applyMatrix4(Xu),this}rotateZ(e){return Xu.makeRotationZ(e),this.applyMatrix4(Xu),this}translate(e,t,i){return Xu.makeTranslation(e,t,i),this.applyMatrix4(Xu),this}scale(e,t,i){return Xu.makeScale(e,t,i),this.applyMatrix4(Xu),this}lookAt(e){return YB.lookAt(e),YB.updateMatrix(),this.applyMatrix4(YB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(v0).negate(),this.translate(v0.x,v0.y,v0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new jn(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&Sn("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){bi("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new je(-1/0,-1/0,-1/0),new je(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];gu.setFromBufferAttribute(s),this.morphTargetsRelative?(Mo.addVectors(this.boundingBox.min,gu.min),this.boundingBox.expandByPoint(Mo),Mo.addVectors(this.boundingBox.max,gu.max),this.boundingBox.expandByPoint(Mo)):(this.boundingBox.expandByPoint(gu.min),this.boundingBox.expandByPoint(gu.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&bi('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Io);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){bi("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new je,1/0);return}if(e){const i=this.boundingSphere.center;if(gu.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];Lv.setFromBufferAttribute(o),this.morphTargetsRelative?(Mo.addVectors(gu.min,Lv.min),gu.expandByPoint(Mo),Mo.addVectors(gu.max,Lv.max),gu.expandByPoint(Mo)):(gu.expandByPoint(Lv.min),gu.expandByPoint(Lv.max))}gu.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Mo.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Mo));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,A=o.count;c<A;c++)Mo.fromBufferAttribute(o,c),l&&(v0.fromBufferAttribute(e,c),Mo.add(v0)),r=Math.max(r,i.distanceToSquared(Mo))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&bi('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){bi("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pr(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let L=0;L<i.count;L++)o[L]=new je,l[L]=new je;const c=new je,A=new je,f=new je,p=new Xt,d=new Xt,y=new Xt,x=new je,w=new je;function b(L,N,R){c.fromBufferAttribute(i,L),A.fromBufferAttribute(i,N),f.fromBufferAttribute(i,R),p.fromBufferAttribute(s,L),d.fromBufferAttribute(s,N),y.fromBufferAttribute(s,R),A.sub(c),f.sub(c),d.sub(p),y.sub(p);const k=1/(d.x*y.y-y.x*d.y);isFinite(k)&&(x.copy(A).multiplyScalar(y.y).addScaledVector(f,-d.y).multiplyScalar(k),w.copy(f).multiplyScalar(d.x).addScaledVector(A,-y.x).multiplyScalar(k),o[L].add(x),o[N].add(x),o[R].add(x),l[L].add(w),l[N].add(w),l[R].add(w))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let L=0,N=_.length;L<N;++L){const R=_[L],k=R.start,Q=R.count;for(let J=k,Y=k+Q;J<Y;J+=3)b(e.getX(J+0),e.getX(J+1),e.getX(J+2))}const E=new je,C=new je,T=new je,M=new je;function F(L){T.fromBufferAttribute(r,L),M.copy(T);const N=o[L];E.copy(N),E.sub(T.multiplyScalar(T.dot(N))).normalize(),C.crossVectors(M,N);const k=C.dot(l[L])<0?-1:1;a.setXYZW(L,E.x,E.y,E.z,k)}for(let L=0,N=_.length;L<N;++L){const R=_[L],k=R.start,Q=R.count;for(let J=k,Y=k+Q;J<Y;J+=3)F(e.getX(J+0)),F(e.getX(J+1)),F(e.getX(J+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Pr(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,d=i.count;p<d;p++)i.setXYZ(p,0,0,0);const r=new je,s=new je,a=new je,o=new je,l=new je,c=new je,A=new je,f=new je;if(e)for(let p=0,d=e.count;p<d;p+=3){const y=e.getX(p+0),x=e.getX(p+1),w=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,x),a.fromBufferAttribute(t,w),A.subVectors(a,s),f.subVectors(r,s),A.cross(f),o.fromBufferAttribute(i,y),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,w),o.add(A),l.add(A),c.add(A),i.setXYZ(y,o.x,o.y,o.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(w,c.x,c.y,c.z)}else for(let p=0,d=t.count;p<d;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),a.fromBufferAttribute(t,p+2),A.subVectors(a,s),f.subVectors(r,s),A.cross(f),i.setXYZ(p+0,A.x,A.y,A.z),i.setXYZ(p+1,A.x,A.y,A.z),i.setXYZ(p+2,A.x,A.y,A.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Mo.fromBufferAttribute(e,t),Mo.normalize(),e.setXYZ(t,Mo.x,Mo.y,Mo.z)}toNonIndexed(){function e(o,l){const c=o.array,A=o.itemSize,f=o.normalized,p=new c.constructor(l.length*A);let d=0,y=0;for(let x=0,w=l.length;x<w;x++){o.isInterleavedBufferAttribute?d=l[x]*o.data.stride+o.offset:d=l[x]*A;for(let b=0;b<A;b++)p[y++]=c[d++]}return new Pr(p,A,f)}if(this.index===null)return Sn("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ti,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let A=0,f=c.length;A<f;A++){const p=c[A],d=e(p,i);l.push(d)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],A=[];for(let f=0,p=c.length;f<p;f++){const d=c[f];A.push(d.toJSON(e.data))}A.length>0&&(r[l]=A,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const A=r[c];this.setAttribute(c,A.clone(t))}const s=e.morphAttributes;for(const c in s){const A=[],f=s[c];for(let p=0,d=f.length;p<d;p++)A.push(f[p].clone(t));this.morphAttributes[c]=A}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,A=a.length;c<A;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const oL=new oi,bm=new Tg,Vb=new Io,lL=new je,Gb=new je,Kb=new je,qb=new je,ZB=new je,Wb=new je,cL=new je,Xb=new je;class sa extends gr{constructor(e=new Ti,t=new jc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){Wb.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const A=o[l],f=s[l];A!==0&&(ZB.fromBufferAttribute(f,e),a?Wb.addScaledVector(ZB,A):Wb.addScaledVector(ZB.sub(t),A))}t.add(Wb)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Vb.copy(i.boundingSphere),Vb.applyMatrix4(s),bm.copy(e.ray).recast(e.near),!(Vb.containsPoint(bm.origin)===!1&&(bm.intersectSphere(Vb,lL)===null||bm.origin.distanceToSquared(lL)>(e.far-e.near)**2))&&(oL.copy(s).invert(),bm.copy(e.ray).applyMatrix4(oL),!(i.boundingBox!==null&&bm.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,bm)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,A=s.attributes.uv1,f=s.attributes.normal,p=s.groups,d=s.drawRange;if(o!==null)if(Array.isArray(a))for(let y=0,x=p.length;y<x;y++){const w=p[y],b=a[w.materialIndex],_=Math.max(w.start,d.start),E=Math.min(o.count,Math.min(w.start+w.count,d.start+d.count));for(let C=_,T=E;C<T;C+=3){const M=o.getX(C),F=o.getX(C+1),L=o.getX(C+2);r=Yb(this,b,e,i,c,A,f,M,F,L),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const y=Math.max(0,d.start),x=Math.min(o.count,d.start+d.count);for(let w=y,b=x;w<b;w+=3){const _=o.getX(w),E=o.getX(w+1),C=o.getX(w+2);r=Yb(this,a,e,i,c,A,f,_,E,C),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let y=0,x=p.length;y<x;y++){const w=p[y],b=a[w.materialIndex],_=Math.max(w.start,d.start),E=Math.min(l.count,Math.min(w.start+w.count,d.start+d.count));for(let C=_,T=E;C<T;C+=3){const M=C,F=C+1,L=C+2;r=Yb(this,b,e,i,c,A,f,M,F,L),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const y=Math.max(0,d.start),x=Math.min(l.count,d.start+d.count);for(let w=y,b=x;w<b;w+=3){const _=w,E=w+1,C=w+2;r=Yb(this,a,e,i,c,A,f,_,E,C),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}}}function uY(n,e,t,i,r,s,a,o){let l;if(e.side===rc?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Zf,o),l===null)return null;Xb.copy(o),Xb.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Xb);return c<t.near||c>t.far?null:{distance:c,point:Xb.clone(),object:n}}function Yb(n,e,t,i,r,s,a,o,l,c){n.getVertexPosition(o,Gb),n.getVertexPosition(l,Kb),n.getVertexPosition(c,qb);const A=uY(n,e,t,i,Gb,Kb,qb,cL);if(A){const f=new je;Qc.getBarycoord(cL,Gb,Kb,qb,f),r&&(A.uv=Qc.getInterpolatedAttribute(r,o,l,c,f,new Xt)),s&&(A.uv1=Qc.getInterpolatedAttribute(s,o,l,c,f,new Xt)),a&&(A.normal=Qc.getInterpolatedAttribute(a,o,l,c,f,new je),A.normal.dot(i.direction)>0&&A.normal.multiplyScalar(-1));const p={a:o,b:l,c,normal:new je,materialIndex:0};Qc.getNormal(Gb,Kb,qb,p.normal),A.face=p,A.barycoord=f}return A}class Ug extends Ti{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],A=[],f=[];let p=0,d=0;y("z","y","x",-1,-1,i,t,e,a,s,0),y("z","y","x",1,-1,i,t,-e,a,s,1),y("x","z","y",1,1,e,i,t,r,a,2),y("x","z","y",1,-1,e,i,-t,r,a,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new jn(c,3)),this.setAttribute("normal",new jn(A,3)),this.setAttribute("uv",new jn(f,2));function y(x,w,b,_,E,C,T,M,F,L,N){const R=C/F,k=T/L,Q=C/2,J=T/2,Y=M/2,ne=F+1,W=L+1;let q=0,$=0;const re=new je;for(let V=0;V<W;V++){const te=V*k-J;for(let z=0;z<ne;z++){const j=z*R-Q;re[x]=j*_,re[w]=te*E,re[b]=Y,c.push(re.x,re.y,re.z),re[x]=0,re[w]=0,re[b]=M>0?1:-1,A.push(re.x,re.y,re.z),f.push(z/F),f.push(1-V/L),q+=1}}for(let V=0;V<L;V++)for(let te=0;te<F;te++){const z=p+te+ne*V,j=p+te+ne*(V+1),oe=p+(te+1)+ne*(V+1),fe=p+(te+1)+ne*V;l.push(z,j,fe),l.push(j,oe,fe),$+=6}o.addGroup(d,$,N),d+=$,p+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ug(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Fy(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Sn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ec(n){const e={};for(let t=0;t<n.length;t++){const i=Fy(n[t]);for(const r in i)e[r]=i[r]}return e}function AY(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function $H(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ji.workingColorSpace}const eQ={clone:Fy,merge:ec};var fY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class oc extends ho{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=fY,this.fragmentShader=hY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fy(e.uniforms),this.uniformsGroups=AY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class ZS extends gr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new oi,this.projectionMatrix=new oi,this.projectionMatrixInverse=new oi,this.coordinateSystem=bu,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const np=new je,uL=new Xt,AL=new Xt;let _a=class extends ZS{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Uy*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(og*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Uy*2*Math.atan(Math.tan(og*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){np.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(np.x,np.y).multiplyScalar(-e/np.z),np.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(np.x,np.y).multiplyScalar(-e/np.z)}getViewSize(e,t){return this.getViewBounds(e,uL,AL),t.subVectors(AL,uL)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(og*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const x0=-90,b0=1;class tQ extends gr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new _a(x0,b0,e,t);r.layers=this.layers,this.add(r);const s=new _a(x0,b0,e,t);s.layers=this.layers,this.add(s);const a=new _a(x0,b0,e,t);a.layers=this.layers,this.add(a);const o=new _a(x0,b0,e,t);o.layers=this.layers,this.add(o);const l=new _a(x0,b0,e,t);l.layers=this.layers,this.add(l);const c=new _a(x0,b0,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===bu)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===My)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,A]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,A),e.setRenderTarget(f,p,d),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class Dx extends Kr{constructor(e=[],t=Jf,i,r,s,a,o,l,c,A){super(e,t,i,r,s,a,o,l,c,A),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class eU extends Eu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Dx(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ug(5,5,5),s=new oc({name:"CubemapFromEquirect",uniforms:Fy(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:rc,blending:YA});s.uniforms.tEquirect.value=t;const a=new sa(r,s),o=t.minFilter;return t.minFilter===iA&&(t.minFilter=ur),new tQ(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class ad extends gr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dY={type:"move"};class Z2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ad,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ad,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new je),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ad,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new je),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const x of e.hand.values()){const w=t.getJointPose(x,i),b=this._getHandJoint(c,x);w!==null&&(b.matrix.fromArray(w.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=w.radius),b.visible=w!==null}const A=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=A.position.distanceTo(f.position),d=.02,y=.005;c.inputState.pinching&&p>d+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=d-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dY)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new ad;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class JS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bn(e),this.density=t}clone(){return new JS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class $S{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new bn(e),this.near=t,this.far=i}clone(){return new $S(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let Ox=class extends gr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Bu,this.environmentIntensity=1,this.environmentRotation=new Bu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class Px{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=rx,this.updateRanges=[],this.version=0,this.uuid=Su()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Su()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Su()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $l=new je;class Rp{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)$l.fromBufferAttribute(this,t),$l.applyMatrix4(e),this.setXYZ(t,$l.x,$l.y,$l.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)$l.fromBufferAttribute(this,t),$l.applyNormalMatrix(e),this.setXYZ(t,$l.x,$l.y,$l.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)$l.fromBufferAttribute(this,t),$l.transformDirection(e),this.setXYZ(t,$l.x,$l.y,$l.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=ic(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ii(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ic(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ic(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ic(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ic(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){ax("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Pr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){ax("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class tU extends ho{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let w0;const Rv=new je,_0=new je,S0=new je,E0=new Xt,Dv=new Xt,nQ=new oi,Zb=new je,Ov=new je,Jb=new je,fL=new Xt,JB=new Xt,hL=new Xt;class iQ extends gr{constructor(e=new tU){if(super(),this.isSprite=!0,this.type="Sprite",w0===void 0){w0=new Ti;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Px(t,5);w0.setIndex([0,1,2,0,2,3]),w0.setAttribute("position",new Rp(i,3,0,!1)),w0.setAttribute("uv",new Rp(i,2,3,!1))}this.geometry=w0,this.material=e,this.center=new Xt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&bi('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_0.setFromMatrixScale(this.matrixWorld),nQ.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),S0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_0.multiplyScalar(-S0.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;$b(Zb.set(-.5,-.5,0),S0,a,_0,r,s),$b(Ov.set(.5,-.5,0),S0,a,_0,r,s),$b(Jb.set(.5,.5,0),S0,a,_0,r,s),fL.set(0,0),JB.set(1,0),hL.set(1,1);let o=e.ray.intersectTriangle(Zb,Ov,Jb,!1,Rv);if(o===null&&($b(Ov.set(-.5,.5,0),S0,a,_0,r,s),JB.set(0,1),o=e.ray.intersectTriangle(Zb,Jb,Ov,!1,Rv),o===null))return;const l=e.ray.origin.distanceTo(Rv);l<e.near||l>e.far||t.push({distance:l,point:Rv.clone(),uv:Qc.getInterpolation(Rv,Zb,Ov,Jb,fL,JB,hL,new Xt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $b(n,e,t,i,r,s){E0.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Dv.x=s*E0.x-r*E0.y,Dv.y=r*E0.x+s*E0.y):Dv.copy(E0),n.copy(e),n.x+=Dv.x,n.y+=Dv.y,n.applyMatrix4(nQ)}const ew=new je,dL=new je;class rQ extends gr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ew.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(ew);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ew.setFromMatrixPosition(e.matrixWorld),dL.setFromMatrixPosition(this.matrixWorld);const i=ew.distanceTo(dL)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const pL=new je,mL=new Sr,gL=new Sr,pY=new je,yL=new oi,tw=new je,$B=new Io,vL=new oi,eC=new Tg;class nU extends sa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=aT,this.bindMatrix=new oi,this.bindMatrixInverse=new oi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Zo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,tw),this.boundingBox.expandByPoint(tw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Io),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,tw),this.boundingSphere.expandByPoint(tw)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$B.copy(this.boundingSphere),$B.applyMatrix4(r),e.ray.intersectsSphere($B)!==!1&&(vL.copy(r).invert(),eC.copy(e.ray).applyMatrix4(vL),!(this.boundingBox!==null&&eC.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,eC)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sr,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===aT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===IH?this.bindMatrixInverse.copy(this.bindMatrix).invert():Sn("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;mL.fromBufferAttribute(r.attributes.skinIndex,e),gL.fromBufferAttribute(r.attributes.skinWeight,e),pL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=gL.getComponent(s);if(a!==0){const o=mL.getComponent(s);yL.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(pY.copy(pL).applyMatrix4(yL),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class eE extends gr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class lA extends Kr{constructor(e=null,t=1,i=1,r,s,a,o,l,c=fo,A=fo,f,p){super(null,a,o,l,c,A,r,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xL=new oi,mY=new oi;class kx{constructor(e=[],t=[]){this.uuid=Su(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Sn("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new oi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new oi;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:mY;xL.multiplyMatrices(o,t[s]),xL.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new kx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new lA(t,e,e,Ha,Ks);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(Sn("Skeleton: No bone found with UUID:",s),a=new eE),this.bones.push(a),this.boneInverses.push(new oi().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class mg extends Pr{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const B0=new oi,bL=new oi,nw=[],wL=new Zo,gY=new oi,Pv=new sa,kv=new Io;class iU extends sa{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new mg(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,gY)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Zo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,B0),wL.copy(e.boundingBox).applyMatrix4(B0),this.boundingBox.union(wL)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Io),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,B0),kv.copy(e.boundingSphere).applyMatrix4(B0),this.boundingSphere.union(kv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Pv.geometry=this.geometry,Pv.material=this.material,Pv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),kv.copy(this.boundingSphere),kv.applyMatrix4(i),e.ray.intersectsSphere(kv)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,B0),bL.multiplyMatrices(i,B0),Pv.matrixWorld=bL,Pv.raycast(e,nw);for(let a=0,o=nw.length;a<o;a++){const l=nw[a];l.instanceId=s,l.object=this,t.push(l)}nw.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new mg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new lA(new Float32Array(r*this.count),r,this.count,Lx,Ks));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const tC=new je,yY=new je,vY=new Fi;class td{constructor(e=new je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=tC.subVectors(i,t).cross(yY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(tC),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||vY.getNormalMatrix(e),r=this.coplanarPoint(tC).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wm=new Io,xY=new Xt(.5,.5),iw=new je;class Ky{constructor(e=new td,t=new td,i=new td,r=new td,s=new td,a=new td){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=bu,i=!1){const r=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],c=s[3],A=s[4],f=s[5],p=s[6],d=s[7],y=s[8],x=s[9],w=s[10],b=s[11],_=s[12],E=s[13],C=s[14],T=s[15];if(r[0].setComponents(c-a,d-A,b-y,T-_).normalize(),r[1].setComponents(c+a,d+A,b+y,T+_).normalize(),r[2].setComponents(c+o,d+f,b+x,T+E).normalize(),r[3].setComponents(c-o,d-f,b-x,T-E).normalize(),i)r[4].setComponents(l,p,w,C).normalize(),r[5].setComponents(c-l,d-p,b-w,T-C).normalize();else if(r[4].setComponents(c-l,d-p,b-w,T-C).normalize(),t===bu)r[5].setComponents(c+l,d+p,b+w,T+C).normalize();else if(t===My)r[5].setComponents(l,p,w,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),wm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wm)}intersectsSprite(e){wm.center.set(0,0,0);const t=xY.distanceTo(e.center);return wm.radius=.7071067811865476+t,wm.applyMatrix4(e.matrixWorld),this.intersectsSphere(wm)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(iw.x=r.normal.x>0?e.max.x:e.min.x,iw.y=r.normal.y>0?e.max.y:e.min.y,iw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(iw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Nf=new oi,Ff=new Ky;class tE{constructor(){this.coordinateSystem=bu}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Nf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ff.setFromProjectionMatrix(Nf,r.coordinateSystem,r.reversedDepth),Ff.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Nf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ff.setFromProjectionMatrix(Nf,r.coordinateSystem,r.reversedDepth),Ff.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Nf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ff.setFromProjectionMatrix(Nf,r.coordinateSystem,r.reversedDepth),Ff.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Nf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ff.setFromProjectionMatrix(Nf,r.coordinateSystem,r.reversedDepth),Ff.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Nf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ff.setFromProjectionMatrix(Nf,r.coordinateSystem,r.reversedDepth),Ff.containsPoint(e))return!0}return!1}clone(){return new tE}}function nC(n,e){return n-e}function bY(n,e){return n.z-e.z}function wY(n,e){return e.z-n.z}class _Y{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Dc=new oi,SY=new bn(1,1,1),_L=new Ky,EY=new tE,rw=new Zo,_m=new Io,Hv=new je,SL=new je,BY=new je,iC=new _Y,vl=new sa,sw=[];function CY(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Sm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class sQ extends sa{constructor(e,t,i=t*2,r){super(new Ti,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new lA(t,e,e,Ha,Ks);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new lA(t,e,e,Rx,$f);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new lA(t,e,e,Ha,Ks);i.colorSpace=Ji.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,A=new o.constructor(i*l),f=new Pr(A,l,c);t.setAttribute(s,f)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Pr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Dc),this.getBoundingBoxAt(s,rw).applyMatrix4(Dc),e.union(rw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Io);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Dc),this.getBoundingSphereAt(s,_m).applyMatrix4(Dc),e.union(_m)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(nC),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Dc.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(SY.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(nC),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const A in i.attributes){const f=t.getAttribute(A),p=i.getAttribute(A);CY(f,p,l);const d=f.itemSize;for(let y=f.count,x=c;y<x;y++){const w=l+y;for(let b=0;b<d;b++)p.setComponent(w,b,0)}p.needsUpdate=!0,p.addUpdateRange(l*d,c*d)}if(r){const A=o.indexStart,f=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let p=0;p<a.count;p++)s.setX(A+p,l+a.getX(p));for(let p=a.count,d=f;p<d;p++)s.setX(A+p,l);s.needsUpdate=!0,s.addUpdateRange(A,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],c=i[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:A,vertexStart:f,reservedIndexCount:p}=c,d=s.index,y=d.array,x=e-f;for(let w=A;w<A+p;w++)y[w]=y[w]+x;d.array.copyWithin(t,A,A+p),d.addUpdateRange(t,p),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:A,reservedVertexCount:f}=c,p=s.attributes;for(const d in p){const y=p[d],{array:x,itemSize:w}=y;x.copyWithin(e*w,A*w,(A+f)*w),y.addUpdateRange(e*w,f*w)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Zo,a=i.index,o=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let A=l;a&&(A=a.getX(A)),s.expandByPoint(Hv.fromBufferAttribute(o,A))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Io;this.getBoundingBoxAt(e,rw),rw.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let c=r.start,A=r.start+r.count;c<A;c++){let f=c;a&&(f=a.getX(f)),Hv.fromBufferAttribute(o,f),l=Math.max(l,s.center.distanceToSquared(Hv))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(nC);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Sm(this._multiDrawCounts,r),Sm(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Sm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Sm(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Sm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ti,this._initializeGeometry(s));const a=this.geometry;s.index&&Sm(s.index.array,a.index.array);for(const o in s.attributes)Sm(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;vl.material=this.material,vl.geometry.index=a.index,vl.geometry.attributes=a.attributes,vl.geometry.boundingBox===null&&(vl.geometry.boundingBox=new Zo),vl.geometry.boundingSphere===null&&(vl.geometry.boundingSphere=new Io);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,A=r[c];vl.geometry.setDrawRange(A.start,A.count),this.getMatrixAt(o,vl.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,vl.geometry.boundingBox),this.getBoundingSphereAt(c,vl.geometry.boundingSphere),vl.raycast(e,sw);for(let f=0,p=sw.length;f<p;f++){const d=sw[f];d.object=this,d.batchId=o,t.push(d)}sw.length=0}vl.material=null,vl.geometry.index=null,vl.geometry.attributes={},vl.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,A=this._multiDrawCounts,f=this._geometryInfo,p=this.perObjectFrustumCulled,d=this._indirectTexture,y=d.image.data,x=i.isArrayCamera?EY:_L;p&&!i.isArrayCamera&&(Dc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),_L.setFromProjectionMatrix(Dc,i.coordinateSystem,i.reversedDepth));let w=0;if(this.sortObjects){Dc.copy(this.matrixWorld).invert(),Hv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Dc),SL.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Dc);for(let E=0,C=l.length;E<C;E++)if(l[E].visible&&l[E].active){const T=l[E].geometryIndex;this.getMatrixAt(E,Dc),this.getBoundingSphereAt(T,_m).applyMatrix4(Dc);let M=!1;if(p&&(M=!x.intersectsSphere(_m,i)),!M){const F=f[T],L=BY.subVectors(_m.center,Hv).dot(SL);iC.push(F.start,F.count,L,E)}}const b=iC.list,_=this.customSort;_===null?b.sort(s.transparent?wY:bY):_.call(this,b,i);for(let E=0,C=b.length;E<C;E++){const T=b[E];c[w]=T.start*o,A[w]=T.count,y[w]=T.index,w++}iC.reset()}else for(let b=0,_=l.length;b<_;b++)if(l[b].visible&&l[b].active){const E=l[b].geometryIndex;let C=!1;if(p&&(this.getMatrixAt(b,Dc),this.getBoundingSphereAt(E,_m).applyMatrix4(Dc),C=!x.intersectsSphere(_m,i)),!C){const T=f[E];c[w]=T.start*o,A[w]=T.count,y[w]=b,w++}}d.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class Ul extends ho{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eS=new je,tS=new je,EL=new oi,Qv=new Tg,aw=new Io,rC=new je,BL=new je;let fd=class extends gr{constructor(e=new Ti,t=new Ul){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)eS.fromBufferAttribute(t,r-1),tS.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=eS.distanceTo(tS);e.setAttribute("lineDistance",new jn(i,1))}else Sn("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),aw.copy(i.boundingSphere),aw.applyMatrix4(r),aw.radius+=s,e.ray.intersectsSphere(aw)===!1)return;EL.copy(r).invert(),Qv.copy(e.ray).applyMatrix4(EL);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,A=i.index,p=i.attributes.position;if(A!==null){const d=Math.max(0,a.start),y=Math.min(A.count,a.start+a.count);for(let x=d,w=y-1;x<w;x+=c){const b=A.getX(x),_=A.getX(x+1),E=ow(this,e,Qv,l,b,_,x);E&&t.push(E)}if(this.isLineLoop){const x=A.getX(y-1),w=A.getX(d),b=ow(this,e,Qv,l,x,w,y-1);b&&t.push(b)}}else{const d=Math.max(0,a.start),y=Math.min(p.count,a.start+a.count);for(let x=d,w=y-1;x<w;x+=c){const b=ow(this,e,Qv,l,x,x+1,x);b&&t.push(b)}if(this.isLineLoop){const x=ow(this,e,Qv,l,y-1,d,y-1);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function ow(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(eS.fromBufferAttribute(o,r),tS.fromBufferAttribute(o,s),t.distanceSqToSegment(eS,tS,rC,BL)>i)return;rC.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(rC);if(!(c<e.near||c>e.far))return{distance:c,point:BL.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const CL=new je,ML=new je;class ef extends fd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)CL.fromBufferAttribute(t,r),ML.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+CL.distanceTo(ML);e.setAttribute("lineDistance",new jn(i,1))}else Sn("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class rU extends fd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class nE extends ho{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const TL=new oi,uT=new Tg,lw=new Io,cw=new je;class sU extends gr{constructor(e=new Ti,t=new nE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),lw.copy(i.boundingSphere),lw.applyMatrix4(r),lw.radius+=s,e.ray.intersectsSphere(lw)===!1)return;TL.copy(r).invert(),uT.copy(e.ray).applyMatrix4(TL);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,f=i.attributes.position;if(c!==null){const p=Math.max(0,a.start),d=Math.min(c.count,a.start+a.count);for(let y=p,x=d;y<x;y++){const w=c.getX(y);cw.fromBufferAttribute(f,w),UL(cw,w,l,r,e,t,this)}}else{const p=Math.max(0,a.start),d=Math.min(f.count,a.start+a.count);for(let y=p,x=d;y<x;y++)cw.fromBufferAttribute(f,y),UL(cw,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function UL(n,e,t,i,r,s,a){const o=uT.distanceSqToPoint(n);if(o<t){const l=new je;uT.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class aQ extends Kr{constructor(e,t,i,r,s=ur,a=ur,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const A=this;function f(){A.needsUpdate=!0,A._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class MY extends aQ{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class TY extends Kr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=fo,this.minFilter=fo,this.generateMipmaps=!1,this.needsUpdate=!0}}class iE extends Kr{constructor(e,t,i,r,s,a,o,l,c,A,f,p){super(null,a,o,l,c,A,r,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class UY extends iE{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ia,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class NY extends iE{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Jf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class FY extends Kr{constructor(e,t,i,r,s,a,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rE extends Kr{constructor(e,t,i=$f,r,s,a,o=fo,l=fo,c,A=Sy,f=1){if(A!==Sy&&A!==Ey)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:t,depth:f};super(p,r,s,a,o,l,A,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new gp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class aU extends Kr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class sE extends Ti{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],A=t/2,f=Math.PI/2*e,p=t,d=2*f+p,y=i*2+s,x=r+1,w=new je,b=new je;for(let _=0;_<=y;_++){let E=0,C=0,T=0,M=0;if(_<=i){const N=_/i,R=N*Math.PI/2;C=-A-e*Math.cos(R),T=e*Math.sin(R),M=-e*Math.cos(R),E=N*f}else if(_<=i+s){const N=(_-i)/s;C=-A+N*t,T=e,M=0,E=f+N*p}else{const N=(_-i-s)/i,R=N*Math.PI/2;C=A+e*Math.sin(R),T=e*Math.cos(R),M=e*Math.sin(R),E=f+p+N*f}const F=Math.max(0,Math.min(1,E/d));let L=0;_===0?L=.5/r:_===y&&(L=-.5/r);for(let N=0;N<=r;N++){const R=N/r,k=R*Math.PI*2,Q=Math.sin(k),J=Math.cos(k);b.x=-T*J,b.y=C,b.z=T*Q,o.push(b.x,b.y,b.z),w.set(-T*J,M,T*Q),w.normalize(),l.push(w.x,w.y,w.z),c.push(R+L,F)}if(_>0){const N=(_-1)*x;for(let R=0;R<r;R++){const k=N+R,Q=N+R+1,J=_*x+R,Y=_*x+R+1;a.push(k,Q,J),a.push(Q,Y,J)}}}this.setIndex(a),this.setAttribute("position",new jn(o,3)),this.setAttribute("normal",new jn(l,3)),this.setAttribute("uv",new jn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class aE extends Ti{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new je,A=new Xt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const d=i+f/t*r;c.x=e*Math.cos(d),c.y=e*Math.sin(d),a.push(c.x,c.y,c.z),o.push(0,0,1),A.x=(a[p]/e+1)/2,A.y=(a[p+1]/e+1)/2,l.push(A.x,A.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new jn(a,3)),this.setAttribute("normal",new jn(o,3)),this.setAttribute("uv",new jn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hx extends Ti{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const A=[],f=[],p=[],d=[];let y=0;const x=[],w=i/2;let b=0;_(),a===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(A),this.setAttribute("position",new jn(f,3)),this.setAttribute("normal",new jn(p,3)),this.setAttribute("uv",new jn(d,2));function _(){const C=new je,T=new je;let M=0;const F=(t-e)/i;for(let L=0;L<=s;L++){const N=[],R=L/s,k=R*(t-e)+e;for(let Q=0;Q<=r;Q++){const J=Q/r,Y=J*l+o,ne=Math.sin(Y),W=Math.cos(Y);T.x=k*ne,T.y=-R*i+w,T.z=k*W,f.push(T.x,T.y,T.z),C.set(ne,F,W).normalize(),p.push(C.x,C.y,C.z),d.push(J,1-R),N.push(y++)}x.push(N)}for(let L=0;L<r;L++)for(let N=0;N<s;N++){const R=x[N][L],k=x[N+1][L],Q=x[N+1][L+1],J=x[N][L+1];(e>0||N!==0)&&(A.push(R,k,J),M+=3),(t>0||N!==s-1)&&(A.push(k,Q,J),M+=3)}c.addGroup(b,M,0),b+=M}function E(C){const T=y,M=new Xt,F=new je;let L=0;const N=C===!0?e:t,R=C===!0?1:-1;for(let Q=1;Q<=r;Q++)f.push(0,w*R,0),p.push(0,R,0),d.push(.5,.5),y++;const k=y;for(let Q=0;Q<=r;Q++){const Y=Q/r*l+o,ne=Math.cos(Y),W=Math.sin(Y);F.x=N*W,F.y=w*R,F.z=N*ne,f.push(F.x,F.y,F.z),p.push(0,R,0),M.x=ne*.5+.5,M.y=W*.5*R+.5,d.push(M.x,M.y),y++}for(let Q=0;Q<r;Q++){const J=T+Q,Y=k+Q;C===!0?A.push(Y,Y+1,J):A.push(Y+1,Y,J),L+=3}c.addGroup(b,L,C===!0?1:2),b+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qx extends Hx{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Qx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zp extends Ti{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),c(i),A(),this.setAttribute("position",new jn(s,3)),this.setAttribute("normal",new jn(s.slice(),3)),this.setAttribute("uv",new jn(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const E=new je,C=new je,T=new je;for(let M=0;M<t.length;M+=3)d(t[M+0],E),d(t[M+1],C),d(t[M+2],T),l(E,C,T,_)}function l(_,E,C,T){const M=T+1,F=[];for(let L=0;L<=M;L++){F[L]=[];const N=_.clone().lerp(C,L/M),R=E.clone().lerp(C,L/M),k=M-L;for(let Q=0;Q<=k;Q++)Q===0&&L===M?F[L][Q]=N:F[L][Q]=N.clone().lerp(R,Q/k)}for(let L=0;L<M;L++)for(let N=0;N<2*(M-L)-1;N++){const R=Math.floor(N/2);N%2===0?(p(F[L][R+1]),p(F[L+1][R]),p(F[L][R])):(p(F[L][R+1]),p(F[L+1][R+1]),p(F[L+1][R]))}}function c(_){const E=new je;for(let C=0;C<s.length;C+=3)E.x=s[C+0],E.y=s[C+1],E.z=s[C+2],E.normalize().multiplyScalar(_),s[C+0]=E.x,s[C+1]=E.y,s[C+2]=E.z}function A(){const _=new je;for(let E=0;E<s.length;E+=3){_.x=s[E+0],_.y=s[E+1],_.z=s[E+2];const C=w(_)/2/Math.PI+.5,T=b(_)/Math.PI+.5;a.push(C,1-T)}y(),f()}function f(){for(let _=0;_<a.length;_+=6){const E=a[_+0],C=a[_+2],T=a[_+4],M=Math.max(E,C,T),F=Math.min(E,C,T);M>.9&&F<.1&&(E<.2&&(a[_+0]+=1),C<.2&&(a[_+2]+=1),T<.2&&(a[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function d(_,E){const C=_*3;E.x=e[C+0],E.y=e[C+1],E.z=e[C+2]}function y(){const _=new je,E=new je,C=new je,T=new je,M=new Xt,F=new Xt,L=new Xt;for(let N=0,R=0;N<s.length;N+=9,R+=6){_.set(s[N+0],s[N+1],s[N+2]),E.set(s[N+3],s[N+4],s[N+5]),C.set(s[N+6],s[N+7],s[N+8]),M.set(a[R+0],a[R+1]),F.set(a[R+2],a[R+3]),L.set(a[R+4],a[R+5]),T.copy(_).add(E).add(C).divideScalar(3);const k=w(T);x(M,R+0,_,k),x(F,R+2,E,k),x(L,R+4,C,k)}}function x(_,E,C,T){T<0&&_.x===1&&(a[E]=_.x-1),C.x===0&&C.z===0&&(a[E]=T/2/Math.PI+.5)}function w(_){return Math.atan2(_.z,-_.x)}function b(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zp(e.vertices,e.indices,e.radius,e.details)}}class oE extends zp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new oE(e.radius,e.detail)}}const uw=new je,Aw=new je,sC=new je,fw=new Qc;class oQ extends Ti{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(og*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],A=["a","b","c"],f=new Array(3),p={},d=[];for(let y=0;y<l;y+=3){a?(c[0]=a.getX(y),c[1]=a.getX(y+1),c[2]=a.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:x,b:w,c:b}=fw;if(x.fromBufferAttribute(o,c[0]),w.fromBufferAttribute(o,c[1]),b.fromBufferAttribute(o,c[2]),fw.getNormal(sC),f[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,f[1]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,f[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const E=(_+1)%3,C=f[_],T=f[E],M=fw[A[_]],F=fw[A[E]],L=`${C}_${T}`,N=`${T}_${C}`;N in p&&p[N]?(sC.dot(p[N].normal)<=s&&(d.push(M.x,M.y,M.z),d.push(F.x,F.y,F.z)),p[N]=null):L in p||(p[L]={index0:c[_],index1:c[E],normal:sC.clone()})}}for(const y in p)if(p[y]){const{index0:x,index1:w}=p[y];uw.fromBufferAttribute(o,x),Aw.fromBufferAttribute(o,w),d.push(uw.x,uw.y,uw.z),d.push(Aw.x,Aw.y,Aw.z)}this.setAttribute("position",new jn(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class tf{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Sn("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-a,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const A=i[r],p=i[r+1]-A,d=(a-A)/p;return(r+d)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new Xt:new je);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new je,r=[],s=[],a=[],o=new je,l=new oi;for(let d=0;d<=e;d++){const y=d/e;r[d]=this.getTangentAt(y,new je)}s[0]=new je,a[0]=new je;let c=Number.MAX_VALUE;const A=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);A<=c&&(c=A,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),p<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();const y=Math.acos(pi(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(o,y))}a[d].crossVectors(r[d],s[d])}if(t===!0){let d=Math.acos(pi(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(d=-d);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],d*y)),a[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class lE extends tf{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new Xt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const A=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,d=c-this.aY;l=p*A-d*f+this.aX,c=p*f+d*A+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lQ extends lE{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function oU(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){r(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,A,f){let p=(a-s)/c-(o-s)/(c+A)+(o-a)/A,d=(o-a)/A-(l-a)/(A+f)+(l-o)/f;p*=A,d*=A,r(a,o,p,d)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const hw=new je,aC=new oU,oC=new oU,lC=new oU;class cQ extends tf{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new je){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,A;this.closed||o>0?c=r[(o-1)%s]:(hw.subVectors(r[0],r[1]).add(r[0]),c=hw);const f=r[o%s],p=r[(o+1)%s];if(this.closed||o+2<s?A=r[(o+2)%s]:(hw.subVectors(r[s-1],r[s-2]).add(r[s-1]),A=hw),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(f),d),x=Math.pow(f.distanceToSquared(p),d),w=Math.pow(p.distanceToSquared(A),d);x<1e-4&&(x=1),y<1e-4&&(y=x),w<1e-4&&(w=x),aC.initNonuniformCatmullRom(c.x,f.x,p.x,A.x,y,x,w),oC.initNonuniformCatmullRom(c.y,f.y,p.y,A.y,y,x,w),lC.initNonuniformCatmullRom(c.z,f.z,p.z,A.z,y,x,w)}else this.curveType==="catmullrom"&&(aC.initCatmullRom(c.x,f.x,p.x,A.x,this.tension),oC.initCatmullRom(c.y,f.y,p.y,A.y,this.tension),lC.initCatmullRom(c.z,f.z,p.z,A.z,this.tension));return i.set(aC.calc(l),oC.calc(l),lC.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new je().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function NL(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function IY(n,e){const t=1-n;return t*t*e}function LY(n,e){return 2*(1-n)*n*e}function RY(n,e){return n*n*e}function I1(n,e,t,i){return IY(n,e)+LY(n,t)+RY(n,i)}function DY(n,e){const t=1-n;return t*t*t*e}function OY(n,e){const t=1-n;return 3*t*t*n*e}function PY(n,e){return 3*(1-n)*n*n*e}function kY(n,e){return n*n*n*e}function L1(n,e,t,i,r){return DY(n,e)+OY(n,t)+PY(n,i)+kY(n,r)}class lU extends tf{constructor(e=new Xt,t=new Xt,i=new Xt,r=new Xt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Xt){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(L1(e,r.x,s.x,a.x,o.x),L1(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uQ extends tf{constructor(e=new je,t=new je,i=new je,r=new je){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new je){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(L1(e,r.x,s.x,a.x,o.x),L1(e,r.y,s.y,a.y,o.y),L1(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cU extends tf{constructor(e=new Xt,t=new Xt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Xt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Xt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AQ extends tf{constructor(e=new je,t=new je){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new je){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uU extends tf{constructor(e=new Xt,t=new Xt,i=new Xt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Xt){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(I1(e,r.x,s.x,a.x),I1(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AU extends tf{constructor(e=new je,t=new je,i=new je){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new je){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(I1(e,r.x,s.x,a.x),I1(e,r.y,s.y,a.y),I1(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fU extends tf{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Xt){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],c=r[a],A=r[a>r.length-2?r.length-1:a+1],f=r[a>r.length-3?r.length-1:a+2];return i.set(NL(o,l.x,c.x,A.x,f.x),NL(o,l.y,c.y,A.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Xt().fromArray(r))}return this}}var nS=Object.freeze({__proto__:null,ArcCurve:lQ,CatmullRomCurve3:cQ,CubicBezierCurve:lU,CubicBezierCurve3:uQ,EllipseCurve:lE,LineCurve:cU,LineCurve3:AQ,QuadraticBezierCurve:uU,QuadraticBezierCurve3:AU,SplineCurve:fU});class fQ extends tf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new nS[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const A=l[c];i&&i.equals(A)||(t.push(A),i=A)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new nS[r.type]().fromJSON(r))}return this}}class iS extends fQ{constructor(e){super(),this.type="Path",this.currentPoint=new Xt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new cU(this.currentPoint.clone(),new Xt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new uU(this.currentPoint.clone(),new Xt(e,t),new Xt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new lU(this.currentPoint.clone(),new Xt(e,t),new Xt(i,r),new Xt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new fU(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const c=this.currentPoint.x,A=this.currentPoint.y;return this.absellipse(e+c,t+A,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const c=new lE(e,t,i,r,s,a,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const A=c.getPoint(1);return this.currentPoint.copy(A),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class lg extends iS{constructor(e){super(e),this.uuid=Su(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new iS().fromJSON(r))}return this}}function HY(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=hQ(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(i&&(s=GY(n,e,s,t)),n.length>80*t){o=n[0],l=n[1];let A=o,f=l;for(let p=t;p<r;p+=t){const d=n[p],y=n[p+1];d<o&&(o=d),y<l&&(l=y),d>A&&(A=d),y>f&&(f=y)}c=Math.max(A-o,f-l),c=c!==0?32767/c:0}return ox(s,a,t,o,l,c,0),a}function hQ(n,e,t,i,r){let s;if(r===nZ(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=FL(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=FL(a/i|0,n[a],n[a+1],s);return s&&Iy(s,s.next)&&(cx(s),s=s.next),s}function gg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Iy(t,t.next)||na(t.prev,t,t.next)===0)){if(cx(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ox(n,e,t,i,r,s,a){if(!n)return;!a&&s&&YY(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(s?zY(n,i,r,s):QY(n)){e.push(l.i,n.i,c.i),cx(n),n=c.next,o=c.next;continue}if(n=c,n===o){a?a===1?(n=jY(gg(n),e),ox(n,e,t,i,r,s,2)):a===2&&VY(n,e,t,i,r,s):ox(gg(n),e,t,i,r,s,1);break}}}function QY(n){const e=n.prev,t=n,i=n.next;if(na(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,c=i.y,A=Math.min(r,s,a),f=Math.min(o,l,c),p=Math.max(r,s,a),d=Math.max(o,l,c);let y=i.next;for(;y!==e;){if(y.x>=A&&y.x<=p&&y.y>=f&&y.y<=d&&h1(r,o,s,l,a,c,y.x,y.y)&&na(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function zY(n,e,t,i){const r=n.prev,s=n,a=n.next;if(na(r,s,a)>=0)return!1;const o=r.x,l=s.x,c=a.x,A=r.y,f=s.y,p=a.y,d=Math.min(o,l,c),y=Math.min(A,f,p),x=Math.max(o,l,c),w=Math.max(A,f,p),b=AT(d,y,e,t,i),_=AT(x,w,e,t,i);let E=n.prevZ,C=n.nextZ;for(;E&&E.z>=b&&C&&C.z<=_;){if(E.x>=d&&E.x<=x&&E.y>=y&&E.y<=w&&E!==r&&E!==a&&h1(o,A,l,f,c,p,E.x,E.y)&&na(E.prev,E,E.next)>=0||(E=E.prevZ,C.x>=d&&C.x<=x&&C.y>=y&&C.y<=w&&C!==r&&C!==a&&h1(o,A,l,f,c,p,C.x,C.y)&&na(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;E&&E.z>=b;){if(E.x>=d&&E.x<=x&&E.y>=y&&E.y<=w&&E!==r&&E!==a&&h1(o,A,l,f,c,p,E.x,E.y)&&na(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;C&&C.z<=_;){if(C.x>=d&&C.x<=x&&C.y>=y&&C.y<=w&&C!==r&&C!==a&&h1(o,A,l,f,c,p,C.x,C.y)&&na(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function jY(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Iy(i,r)&&pQ(i,t,t.next,r)&&lx(i,r)&&lx(r,i)&&(e.push(i.i,t.i,r.i),cx(t),cx(t.next),t=n=r),t=t.next}while(t!==n);return gg(t)}function VY(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&$Y(a,o)){let l=mQ(a,o);a=gg(a,a.next),l=gg(l,l.next),ox(a,e,t,i,r,s,0),ox(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function GY(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,c=hQ(n,o,l,i,!1);c===c.next&&(c.steiner=!0),r.push(JY(c))}r.sort(KY);for(let s=0;s<r.length;s++)t=qY(r[s],t);return t}function KY(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function qY(n,e){const t=WY(n,e);if(!t)return e;const i=mQ(t,n);return gg(i,i.next),gg(t,t.next)}function WY(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(Iy(n,t))return t;do{if(Iy(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=i&&f>s&&(s=f,a=t.x<t.next.x?t:t.next,f===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let A=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&dQ(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)){const f=Math.abs(r-t.y)/(i-t.x);lx(t,n)&&(f<A||f===A&&(t.x>a.x||t.x===a.x&&XY(a,t)))&&(a=t,A=f)}t=t.next}while(t!==o);return a}function XY(n,e){return na(n.prev,n,e.prev)<0&&na(e.next,n,n.next)<0}function YY(n,e,t,i){let r=n;do r.z===0&&(r.z=AT(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,ZY(r)}function ZY(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let c=0;c<t&&(o++,a=a.nextZ,!!a);c++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function AT(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function JY(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function dQ(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function h1(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&dQ(n,e,t,i,r,s,a,o)}function $Y(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!eZ(n,e)&&(lx(n,e)&&lx(e,n)&&tZ(n,e)&&(na(n.prev,n,e.prev)||na(n,e.prev,e))||Iy(n,e)&&na(n.prev,n,n.next)>0&&na(e.prev,e,e.next)>0)}function na(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Iy(n,e){return n.x===e.x&&n.y===e.y}function pQ(n,e,t,i){const r=pw(na(n,e,t)),s=pw(na(n,e,i)),a=pw(na(t,i,n)),o=pw(na(t,i,e));return!!(r!==s&&a!==o||r===0&&dw(n,t,e)||s===0&&dw(n,i,e)||a===0&&dw(t,n,i)||o===0&&dw(t,e,i))}function dw(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function pw(n){return n>0?1:n<0?-1:0}function eZ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&pQ(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function lx(n,e){return na(n.prev,n,n.next)<0?na(n,e,n.next)>=0&&na(n,n.prev,e)>=0:na(n,e,n.prev)<0||na(n,n.next,e)<0}function tZ(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function mQ(n,e){const t=fT(n.i,n.x,n.y),i=fT(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function FL(n,e,t,i){const r=fT(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function cx(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function fT(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function nZ(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class iZ{static triangulate(e,t,i=2){return HY(e,t,i)}}class WA{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return WA.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];IL(e),LL(i,e);let a=e.length;t.forEach(IL);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,LL(i,t[l]);const o=iZ.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function IL(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function LL(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class cE extends Ti{constructor(e=new lg([new Xt(.5,.5),new Xt(-.5,.5),new Xt(-.5,-.5),new Xt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new jn(r,3)),this.setAttribute("uv",new jn(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,A=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:d-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:rZ;let E,C=!1,T,M,F,L;b&&(E=b.getSpacedPoints(A),C=!0,p=!1,T=b.computeFrenetFrames(A,!1),M=new je,F=new je,L=new je),p||(w=0,d=0,y=0,x=0);const N=o.extractPoints(c);let R=N.shape;const k=N.holes;if(!WA.isClockWise(R)){R=R.reverse();for(let He=0,K=k.length;He<K;He++){const xe=k[He];WA.isClockWise(xe)&&(k[He]=xe.reverse())}}function J(He){const xe=10000000000000001e-36;let Pe=He[0];for(let We=1;We<=He.length;We++){const Le=We%He.length,tt=He[Le],Ee=tt.x-Pe.x,et=tt.y-Pe.y,me=Ee*Ee+et*et,le=Math.max(Math.abs(tt.x),Math.abs(tt.y),Math.abs(Pe.x),Math.abs(Pe.y)),Je=xe*le*le;if(me<=Je){He.splice(Le,1),We--;continue}Pe=tt}}J(R),k.forEach(J);const Y=k.length,ne=R;for(let He=0;He<Y;He++){const K=k[He];R=R.concat(K)}function W(He,K,xe){return K||bi("ExtrudeGeometry: vec does not exist"),He.clone().addScaledVector(K,xe)}const q=R.length;function $(He,K,xe){let Pe,We,Le;const tt=He.x-K.x,Ee=He.y-K.y,et=xe.x-He.x,me=xe.y-He.y,le=tt*tt+Ee*Ee,Je=tt*me-Ee*et;if(Math.abs(Je)>Number.EPSILON){const P=Math.sqrt(le),Z=Math.sqrt(et*et+me*me),se=K.x-Ee/P,we=K.y+tt/P,Re=xe.x-me/Z,Ze=xe.y+et/Z,dt=((Re-se)*me-(Ze-we)*et)/(tt*me-Ee*et);Pe=se+tt*dt-He.x,We=we+Ee*dt-He.y;const Me=Pe*Pe+We*We;if(Me<=2)return new Xt(Pe,We);Le=Math.sqrt(Me/2)}else{let P=!1;tt>Number.EPSILON?et>Number.EPSILON&&(P=!0):tt<-Number.EPSILON?et<-Number.EPSILON&&(P=!0):Math.sign(Ee)===Math.sign(me)&&(P=!0),P?(Pe=-Ee,We=tt,Le=Math.sqrt(le)):(Pe=tt,We=Ee,Le=Math.sqrt(le/2))}return new Xt(Pe/Le,We/Le)}const re=[];for(let He=0,K=ne.length,xe=K-1,Pe=He+1;He<K;He++,xe++,Pe++)xe===K&&(xe=0),Pe===K&&(Pe=0),re[He]=$(ne[He],ne[xe],ne[Pe]);const V=[];let te,z=re.concat();for(let He=0,K=Y;He<K;He++){const xe=k[He];te=[];for(let Pe=0,We=xe.length,Le=We-1,tt=Pe+1;Pe<We;Pe++,Le++,tt++)Le===We&&(Le=0),tt===We&&(tt=0),te[Pe]=$(xe[Pe],xe[Le],xe[tt]);V.push(te),z=z.concat(te)}let j;if(w===0)j=WA.triangulateShape(ne,k);else{const He=[],K=[];for(let xe=0;xe<w;xe++){const Pe=xe/w,We=d*Math.cos(Pe*Math.PI/2),Le=y*Math.sin(Pe*Math.PI/2)+x;for(let tt=0,Ee=ne.length;tt<Ee;tt++){const et=W(ne[tt],re[tt],Le);_e(et.x,et.y,-We),Pe===0&&He.push(et)}for(let tt=0,Ee=Y;tt<Ee;tt++){const et=k[tt];te=V[tt];const me=[];for(let le=0,Je=et.length;le<Je;le++){const P=W(et[le],te[le],Le);_e(P.x,P.y,-We),Pe===0&&me.push(P)}Pe===0&&K.push(me)}}j=WA.triangulateShape(He,K)}const oe=j.length,fe=y+x;for(let He=0;He<q;He++){const K=p?W(R[He],z[He],fe):R[He];C?(F.copy(T.normals[0]).multiplyScalar(K.x),M.copy(T.binormals[0]).multiplyScalar(K.y),L.copy(E[0]).add(F).add(M),_e(L.x,L.y,L.z)):_e(K.x,K.y,0)}for(let He=1;He<=A;He++)for(let K=0;K<q;K++){const xe=p?W(R[K],z[K],fe):R[K];C?(F.copy(T.normals[He]).multiplyScalar(xe.x),M.copy(T.binormals[He]).multiplyScalar(xe.y),L.copy(E[He]).add(F).add(M),_e(L.x,L.y,L.z)):_e(xe.x,xe.y,f/A*He)}for(let He=w-1;He>=0;He--){const K=He/w,xe=d*Math.cos(K*Math.PI/2),Pe=y*Math.sin(K*Math.PI/2)+x;for(let We=0,Le=ne.length;We<Le;We++){const tt=W(ne[We],re[We],Pe);_e(tt.x,tt.y,f+xe)}for(let We=0,Le=k.length;We<Le;We++){const tt=k[We];te=V[We];for(let Ee=0,et=tt.length;Ee<et;Ee++){const me=W(tt[Ee],te[Ee],Pe);C?_e(me.x,me.y+E[A-1].y,E[A-1].x+xe):_e(me.x,me.y,f+xe)}}}ue(),Ae();function ue(){const He=r.length/3;if(p){let K=0,xe=q*K;for(let Pe=0;Pe<oe;Pe++){const We=j[Pe];be(We[2]+xe,We[1]+xe,We[0]+xe)}K=A+w*2,xe=q*K;for(let Pe=0;Pe<oe;Pe++){const We=j[Pe];be(We[0]+xe,We[1]+xe,We[2]+xe)}}else{for(let K=0;K<oe;K++){const xe=j[K];be(xe[2],xe[1],xe[0])}for(let K=0;K<oe;K++){const xe=j[K];be(xe[0]+q*A,xe[1]+q*A,xe[2]+q*A)}}i.addGroup(He,r.length/3-He,0)}function Ae(){const He=r.length/3;let K=0;he(ne,K),K+=ne.length;for(let xe=0,Pe=k.length;xe<Pe;xe++){const We=k[xe];he(We,K),K+=We.length}i.addGroup(He,r.length/3-He,1)}function he(He,K){let xe=He.length;for(;--xe>=0;){const Pe=xe;let We=xe-1;We<0&&(We=He.length-1);for(let Le=0,tt=A+w*2;Le<tt;Le++){const Ee=q*Le,et=q*(Le+1),me=K+Pe+Ee,le=K+We+Ee,Je=K+We+et,P=K+Pe+et;Ne(me,le,Je,P)}}}function _e(He,K,xe){l.push(He),l.push(K),l.push(xe)}function be(He,K,xe){ze(He),ze(K),ze(xe);const Pe=r.length/3,We=_.generateTopUV(i,r,Pe-3,Pe-2,Pe-1);$e(We[0]),$e(We[1]),$e(We[2])}function Ne(He,K,xe,Pe){ze(He),ze(K),ze(Pe),ze(K),ze(xe),ze(Pe);const We=r.length/3,Le=_.generateSideWallUV(i,r,We-6,We-3,We-2,We-1);$e(Le[0]),$e(Le[1]),$e(Le[3]),$e(Le[1]),$e(Le[2]),$e(Le[3])}function ze(He){r.push(l[He*3+0]),r.push(l[He*3+1]),r.push(l[He*3+2])}function $e(He){s.push(He.x),s.push(He.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return sZ(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new nS[r.type]().fromJSON(r)),new cE(i,e.options)}}const rZ={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],A=e[r*3+1];return[new Xt(s,a),new Xt(o,l),new Xt(c,A)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[i*3],A=e[i*3+1],f=e[i*3+2],p=e[r*3],d=e[r*3+1],y=e[r*3+2],x=e[s*3],w=e[s*3+1],b=e[s*3+2];return Math.abs(o-A)<Math.abs(a-c)?[new Xt(a,1-l),new Xt(c,1-f),new Xt(p,1-y),new Xt(x,1-b)]:[new Xt(o,1-l),new Xt(A,1-f),new Xt(d,1-y),new Xt(w,1-b)]}};function sZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class zx extends zp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zx(e.radius,e.detail)}}class uE extends Ti{constructor(e=[new Xt(0,-.5),new Xt(.5,0),new Xt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=pi(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],A=1/t,f=new je,p=new Xt,d=new je,y=new je,x=new je;let w=0,b=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:w=e[_+1].x-e[_].x,b=e[_+1].y-e[_].y,d.x=b*1,d.y=-w,d.z=b*0,x.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:w=e[_+1].x-e[_].x,b=e[_+1].y-e[_].y,d.x=b*1,d.y=-w,d.z=b*0,y.copy(d),d.x+=x.x,d.y+=x.y,d.z+=x.z,d.normalize(),l.push(d.x,d.y,d.z),x.copy(y)}for(let _=0;_<=t;_++){const E=i+_*A*r,C=Math.sin(E),T=Math.cos(E);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*C,f.y=e[M].y,f.z=e[M].x*T,a.push(f.x,f.y,f.z),p.x=_/t,p.y=M/(e.length-1),o.push(p.x,p.y);const F=l[3*M+0]*C,L=l[3*M+1],N=l[3*M+0]*T;c.push(F,L,N)}}for(let _=0;_<t;_++)for(let E=0;E<e.length-1;E++){const C=E+_*e.length,T=C,M=C+e.length,F=C+e.length+1,L=C+1;s.push(T,M,L),s.push(F,L,M)}this.setIndex(s),this.setAttribute("position",new jn(a,3)),this.setAttribute("uv",new jn(o,2)),this.setAttribute("normal",new jn(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uE(e.points,e.segments,e.phiStart,e.phiLength)}}class jx extends zp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jx(e.radius,e.detail)}}class jp extends Ti{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),c=o+1,A=l+1,f=e/o,p=t/l,d=[],y=[],x=[],w=[];for(let b=0;b<A;b++){const _=b*p-a;for(let E=0;E<c;E++){const C=E*f-s;y.push(C,-_,0),x.push(0,0,1),w.push(E/o),w.push(1-b/l)}}for(let b=0;b<l;b++)for(let _=0;_<o;_++){const E=_+c*b,C=_+c*(b+1),T=_+1+c*(b+1),M=_+1+c*b;d.push(E,C,M),d.push(C,T,M)}this.setIndex(d),this.setAttribute("position",new jn(y,3)),this.setAttribute("normal",new jn(x,3)),this.setAttribute("uv",new jn(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jp(e.width,e.height,e.widthSegments,e.heightSegments)}}class AE extends Ti{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],A=[];let f=e;const p=(t-e)/r,d=new je,y=new Xt;for(let x=0;x<=r;x++){for(let w=0;w<=i;w++){const b=s+w/i*a;d.x=f*Math.cos(b),d.y=f*Math.sin(b),l.push(d.x,d.y,d.z),c.push(0,0,1),y.x=(d.x/t+1)/2,y.y=(d.y/t+1)/2,A.push(y.x,y.y)}f+=p}for(let x=0;x<r;x++){const w=x*(i+1);for(let b=0;b<i;b++){const _=b+w,E=_,C=_+i+1,T=_+i+2,M=_+1;o.push(E,C,M),o.push(C,T,M)}}this.setIndex(o),this.setAttribute("position",new jn(l,3)),this.setAttribute("normal",new jn(c,3)),this.setAttribute("uv",new jn(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fE extends Ti{constructor(e=new lg([new Xt(0,.5),new Xt(-.5,-.5),new Xt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let A=0;A<e.length;A++)c(e[A]),this.addGroup(o,l,A),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new jn(r,3)),this.setAttribute("normal",new jn(s,3)),this.setAttribute("uv",new jn(a,2));function c(A){const f=r.length/3,p=A.extractPoints(t);let d=p.shape;const y=p.holes;WA.isClockWise(d)===!1&&(d=d.reverse());for(let w=0,b=y.length;w<b;w++){const _=y[w];WA.isClockWise(_)===!0&&(y[w]=_.reverse())}const x=WA.triangulateShape(d,y);for(let w=0,b=y.length;w<b;w++){const _=y[w];d=d.concat(_)}for(let w=0,b=d.length;w<b;w++){const _=d[w];r.push(_.x,_.y,0),s.push(0,0,1),a.push(_.x,_.y)}for(let w=0,b=x.length;w<b;w++){const _=x[w],E=_[0]+f,C=_[1]+f,T=_[2]+f;i.push(E,C,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return aZ(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new fE(i,e.curveSegments)}}function aZ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Vx extends Ti{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const A=[],f=new je,p=new je,d=[],y=[],x=[],w=[];for(let b=0;b<=i;b++){const _=[],E=b/i;let C=0;b===0&&a===0?C=.5/t:b===i&&l===Math.PI&&(C=-.5/t);for(let T=0;T<=t;T++){const M=T/t;f.x=-e*Math.cos(r+M*s)*Math.sin(a+E*o),f.y=e*Math.cos(a+E*o),f.z=e*Math.sin(r+M*s)*Math.sin(a+E*o),y.push(f.x,f.y,f.z),p.copy(f).normalize(),x.push(p.x,p.y,p.z),w.push(M+C,1-E),_.push(c++)}A.push(_)}for(let b=0;b<i;b++)for(let _=0;_<t;_++){const E=A[b][_+1],C=A[b][_],T=A[b+1][_],M=A[b+1][_+1];(b!==0||a>0)&&d.push(E,C,M),(b!==i-1||l<Math.PI)&&d.push(C,T,M)}this.setIndex(d),this.setAttribute("position",new jn(y,3)),this.setAttribute("normal",new jn(x,3)),this.setAttribute("uv",new jn(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hE extends zp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hE(e.radius,e.detail)}}class dE extends Ti{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],c=[],A=new je,f=new je,p=new je;for(let d=0;d<=i;d++)for(let y=0;y<=r;y++){const x=y/r*s,w=d/i*Math.PI*2;f.x=(e+t*Math.cos(w))*Math.cos(x),f.y=(e+t*Math.cos(w))*Math.sin(x),f.z=t*Math.sin(w),o.push(f.x,f.y,f.z),A.x=e*Math.cos(x),A.y=e*Math.sin(x),p.subVectors(f,A).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(d/i)}for(let d=1;d<=i;d++)for(let y=1;y<=r;y++){const x=(r+1)*d+y-1,w=(r+1)*(d-1)+y-1,b=(r+1)*(d-1)+y,_=(r+1)*d+y;a.push(x,w,_),a.push(w,b,_)}this.setIndex(a),this.setAttribute("position",new jn(o,3)),this.setAttribute("normal",new jn(l,3)),this.setAttribute("uv",new jn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class pE extends Ti{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],A=[],f=new je,p=new je,d=new je,y=new je,x=new je,w=new je,b=new je;for(let E=0;E<=i;++E){const C=E/i*s*Math.PI*2;_(C,s,a,e,d),_(C+.01,s,a,e,y),w.subVectors(y,d),b.addVectors(y,d),x.crossVectors(w,b),b.crossVectors(x,w),x.normalize(),b.normalize();for(let T=0;T<=r;++T){const M=T/r*Math.PI*2,F=-t*Math.cos(M),L=t*Math.sin(M);f.x=d.x+(F*b.x+L*x.x),f.y=d.y+(F*b.y+L*x.y),f.z=d.z+(F*b.z+L*x.z),l.push(f.x,f.y,f.z),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),A.push(E/i),A.push(T/r)}}for(let E=1;E<=i;E++)for(let C=1;C<=r;C++){const T=(r+1)*(E-1)+(C-1),M=(r+1)*E+(C-1),F=(r+1)*E+C,L=(r+1)*(E-1)+C;o.push(T,M,L),o.push(M,F,L)}this.setIndex(o),this.setAttribute("position",new jn(l,3)),this.setAttribute("normal",new jn(c,3)),this.setAttribute("uv",new jn(A,2));function _(E,C,T,M,F){const L=Math.cos(E),N=Math.sin(E),R=T/C*E,k=Math.cos(R);F.x=M*(2+k)*.5*L,F.y=M*(2+k)*N*.5,F.z=M*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mE extends Ti{constructor(e=new AU(new je(-1,-1,0),new je(-1,1,0),new je(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new je,l=new je,c=new Xt;let A=new je;const f=[],p=[],d=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new jn(f,3)),this.setAttribute("normal",new jn(p,3)),this.setAttribute("uv",new jn(d,2));function x(){for(let E=0;E<t;E++)w(E);w(s===!1?t:0),_(),b()}function w(E){A=e.getPointAt(E/t,A);const C=a.normals[E],T=a.binormals[E];for(let M=0;M<=r;M++){const F=M/r*Math.PI*2,L=Math.sin(F),N=-Math.cos(F);l.x=N*C.x+L*T.x,l.y=N*C.y+L*T.y,l.z=N*C.z+L*T.z,l.normalize(),p.push(l.x,l.y,l.z),o.x=A.x+i*l.x,o.y=A.y+i*l.y,o.z=A.z+i*l.z,f.push(o.x,o.y,o.z)}}function b(){for(let E=1;E<=t;E++)for(let C=1;C<=r;C++){const T=(r+1)*(E-1)+(C-1),M=(r+1)*E+(C-1),F=(r+1)*E+C,L=(r+1)*(E-1)+C;y.push(T,M,L),y.push(M,F,L)}}function _(){for(let E=0;E<=t;E++)for(let C=0;C<=r;C++)c.x=E/t,c.y=C/r,d.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mE(new nS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class gQ extends Ti{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new je,s=new je;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,A=l.length;c<A;++c){const f=l[c],p=f.start,d=f.count;for(let y=p,x=p+d;y<x;y+=3)for(let w=0;w<3;w++){const b=o.getX(y+w),_=o.getX(y+(w+1)%3);r.fromBufferAttribute(a,b),s.fromBufferAttribute(a,_),RL(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const A=3*o+c,f=3*o+(c+1)%3;r.fromBufferAttribute(a,A),s.fromBufferAttribute(a,f),RL(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new jn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function RL(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var DL=Object.freeze({__proto__:null,BoxGeometry:Ug,CapsuleGeometry:sE,CircleGeometry:aE,ConeGeometry:Qx,CylinderGeometry:Hx,DodecahedronGeometry:oE,EdgesGeometry:oQ,ExtrudeGeometry:cE,IcosahedronGeometry:zx,LatheGeometry:uE,OctahedronGeometry:jx,PlaneGeometry:jp,PolyhedronGeometry:zp,RingGeometry:AE,ShapeGeometry:fE,SphereGeometry:Vx,TetrahedronGeometry:hE,TorusGeometry:dE,TorusKnotGeometry:pE,TubeGeometry:mE,WireframeGeometry:gQ});class yQ extends ho{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class vQ extends oc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Gx extends ho{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new bn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bu,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AA extends Gx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class xQ extends ho{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bn(16777215),this.specular=new bn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bu,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bQ extends ho{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wQ extends ho{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class _Q extends ho{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bu,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hU extends ho{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=PH,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class dU extends ho{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class SQ extends ho{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new Xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class EQ extends Ul{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $m(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function BQ(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function CQ(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function hT(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function pU(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function oZ(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],A=c.getValueSize(),f=[],p=[];for(let d=0;d<c.times.length;++d){const y=c.times[d]*r;if(!(y<t||y>=i)){f.push(c.times[d]);for(let x=0;x<A;++x)p.push(c.values[d*A+x])}}f.length!==0&&(c.times=$m(f,c.times.constructor),c.values=$m(p,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function lZ(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===l});if(c===void 0)continue;let A=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=f/3);let p=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=d/3);const y=o.times.length-1;let x;if(s<=o.times[0]){const b=A,_=f-A;x=o.values.slice(b,_)}else if(s>=o.times[y]){const b=y*f+A,_=b+f-A;x=o.values.slice(b,_)}else{const b=o.createInterpolant(),_=A,E=f-A;b.evaluate(s),x=b.resultBuffer.slice(_,E)}l==="quaternion"&&new Fo().fromArray(x).normalize().conjugate().toArray(x);const w=c.times.length;for(let b=0;b<w;++b){const _=b*d+p;if(l==="quaternion")Fo.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const E=d-p*2;for(let C=0;C<E;++C)c.values[_+C]-=x[C]}}}return n.blendMode=q4,n}class cZ{static convertArray(e,t){return $m(e,t)}static isTypedArray(e){return BQ(e)}static getKeyframeOrder(e){return CQ(e)}static sortedArray(e,t,i){return hT(e,t,i)}static flattenJSON(e,t,i,r){pU(e,t,i,r)}static subclip(e,t,i,r,s=30){return oZ(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return lZ(e,t,i,r)}}class qy{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{r:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break r;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class MQ extends qy{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ym,endingEnd:Ym}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Zm:s=e,o=2*t-i;break;case nx:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Zm:a=e,l=2*i-t;break;case nx:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const c=(i-t)*.5,A=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=s*A,this._offsetNext=a*A}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,A=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,d=this._weightNext,y=(i-t)/(r-t),x=y*y,w=x*y,b=-p*w+2*p*x-p*y,_=(1+p)*w+(-1.5-2*p)*x+(-.5+p)*y+1,E=(-1-d)*w+(1.5+d)*x+.5*y,C=d*w-d*x;for(let T=0;T!==o;++T)s[T]=b*a[A+T]+_*a[c+T]+E*a[l+T]+C*a[f+T];return s}}class mU extends qy{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,A=(i-t)/(r-t),f=1-A;for(let p=0;p!==o;++p)s[p]=a[c+p]*f+a[l+p]*A;return s}}class TQ extends qy{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class fA{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$m(t,this.TimeBufferType),this.values=$m(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:$m(e.times,Array),values:$m(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new TQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new MQ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case By:t=this.InterpolantFactoryMethodDiscrete;break;case Cy:t=this.InterpolantFactoryMethodLinear;break;case Y2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Sn("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return By;case this.InterpolantFactoryMethodLinear:return Cy;case this.InterpolantFactoryMethodSmooth:return Y2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(bi("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(bi("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){bi("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){bi("KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&BQ(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){bi("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Y2,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],A=e[o+1];if(c!==A&&(o!==1||c!==e[0]))if(r)l=!0;else{const f=o*i,p=f-i,d=f+i;for(let y=0;y!==i;++y){const x=t[f+y];if(x!==t[p+y]||x!==t[d+y]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const f=o*i,p=a*i;for(let d=0;d!==i;++d)t[p+d]=t[f+d]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}fA.prototype.ValueTypeName="";fA.prototype.TimeBufferType=Float32Array;fA.prototype.ValueBufferType=Float32Array;fA.prototype.DefaultInterpolation=Cy;class Ng extends fA{constructor(e,t,i){super(e,t,i)}}Ng.prototype.ValueTypeName="bool";Ng.prototype.ValueBufferType=Array;Ng.prototype.DefaultInterpolation=By;Ng.prototype.InterpolantFactoryMethodLinear=void 0;Ng.prototype.InterpolantFactoryMethodSmooth=void 0;class gU extends fA{constructor(e,t,i,r){super(e,t,i,r)}}gU.prototype.ValueTypeName="color";class yg extends fA{constructor(e,t,i,r){super(e,t,i,r)}}yg.prototype.ValueTypeName="number";class UQ extends qy{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let c=e*o;for(let A=c+o;c!==A;c+=4)Fo.slerpFlat(s,0,a,c-o,a,c,l);return s}}class vg extends fA{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new UQ(this.times,this.values,this.getValueSize(),e)}}vg.prototype.ValueTypeName="quaternion";vg.prototype.InterpolantFactoryMethodSmooth=void 0;class Fg extends fA{constructor(e,t,i){super(e,t,i)}}Fg.prototype.ValueTypeName="string";Fg.prototype.ValueBufferType=Array;Fg.prototype.DefaultInterpolation=By;Fg.prototype.InterpolantFactoryMethodLinear=void 0;Fg.prototype.InterpolantFactoryMethodSmooth=void 0;class xg extends fA{constructor(e,t,i,r){super(e,t,i,r)}}xg.prototype.ValueTypeName="vector";class Ly{constructor(e="",t=-1,i=[],r=WS){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Su(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(AZ(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=i.length;s!==a;++s)t.push(fA.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const A=CQ(l);l=hT(l,1,A),c=hT(c,1,A),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new yg(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],A=c.name.match(s);if(A&&A.length>1){const f=A[1];let p=r[f];p||(r[f]=p=[]),p.push(c)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(Sn("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return bi("AnimationClip: No animation in JSONLoader data."),null;const i=function(f,p,d,y,x){if(d.length!==0){const w=[],b=[];pU(d,w,b,y),w.length!==0&&x.push(new f(p,w,b))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const d={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)d[p[y].morphTargets[x]]=-1;for(const x in d){const w=[],b=[];for(let _=0;_!==p[y].morphTargets.length;++_){const E=p[y];w.push(E.time),b.push(E.morphTarget===x?1:0)}r.push(new yg(".morphTargetInfluence["+x+"]",w,b))}l=d.length*a}else{const d=".bones["+t[f].name+"]";i(xg,d+".position",p,"pos",r),i(vg,d+".quaternion",p,"rot",r),i(xg,d+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function uZ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yg;case"vector":case"vector2":case"vector3":case"vector4":return xg;case"color":return gU;case"quaternion":return vg;case"bool":case"boolean":return Ng;case"string":return Fg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function AZ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=uZ(n.type);if(n.times===void 0){const t=[],i=[];pU(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const qf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class gE{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(A){o++,s===!1&&r.onStart!==void 0&&r.onStart(A,a,o),s=!0},this.itemEnd=function(A){a++,r.onProgress!==void 0&&r.onProgress(A,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(A){r.onError!==void 0&&r.onError(A)},this.resolveURL=function(A){return l?l(A):A},this.setURLModifier=function(A){return l=A,this},this.addHandler=function(A,f){return c.push(A,f),this},this.removeHandler=function(A){const f=c.indexOf(A);return f!==-1&&c.splice(f,2),this},this.getHandler=function(A){for(let f=0,p=c.length;f<p;f+=2){const d=c[f],y=c[f+1];if(d.global&&(d.lastIndex=0),d.test(A))return y}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const NQ=new gE;class Nl{constructor(e){this.manager=e!==void 0?e:NQ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Nl.DEFAULT_MATERIAL_NAME="__DEFAULT";const zh={};class fZ extends Error{constructor(e,t){super(e),this.response=t}}class sc extends Nl{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=qf.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(zh[e]!==void 0){zh[e].push({onLoad:t,onProgress:i,onError:r});return}zh[e]=[],zh[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&Sn("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const A=zh[e],f=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),d=p?parseInt(p):0,y=d!==0;let x=0;const w=new ReadableStream({start(b){_();function _(){f.read().then(({done:E,value:C})=>{if(E)b.close();else{x+=C.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:d});for(let M=0,F=A.length;M<F;M++){const L=A[M];L.onProgress&&L.onProgress(T)}b.enqueue(C),_()}},E=>{b.error(E)})}}});return new Response(w)}else throw new fZ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(A=>new DOMParser().parseFromString(A,o));case"json":return c.json();default:if(o==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),p=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(p);return c.arrayBuffer().then(y=>d.decode(y))}}}).then(c=>{qf.add(`file:${e}`,c);const A=zh[e];delete zh[e];for(let f=0,p=A.length;f<p;f++){const d=A[f];d.onLoad&&d.onLoad(c)}}).catch(c=>{const A=zh[e];if(A===void 0)throw this.manager.itemError(e),c;delete zh[e];for(let f=0,p=A.length;f<p;f++){const d=A[f];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class hZ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new sc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):bi(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Ly.parse(e[i]);t.push(r)}return t}}class dZ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new iE,l=new sc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function A(f){l.load(e[f],function(p){const d=s.parse(p,!0);a[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(o.minFilter=ur),o.image=a,o.format=d.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)A(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const d=p.mipmaps.length/p.mipmapCount;for(let y=0;y<d;y++){a[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)a[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),a[y].format=p.format,a[y].width=p.width,a[y].height=p.height}o.image=a}else o.image.width=p.width,o.image.height=p.height,o.mipmaps=p.mipmaps;p.mipmapCount===1&&(o.minFilter=ur),o.format=p.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}const C0=new WeakMap;class ux extends Nl{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=qf.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let f=C0.get(a);f===void 0&&(f=[],C0.set(a,f)),f.push({onLoad:t,onError:r})}return a}const o=sx("img");function l(){A(),t&&t(this);const f=C0.get(this)||[];for(let p=0;p<f.length;p++){const d=f[p];d.onLoad&&d.onLoad(this)}C0.delete(this),s.manager.itemEnd(e)}function c(f){A(),r&&r(f),qf.remove(`image:${e}`);const p=C0.get(this)||[];for(let d=0;d<p.length;d++){const y=p[d];y.onError&&y.onError(f)}C0.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function A(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),qf.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class FQ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=new Dx;s.colorSpace=wa;const a=new ux(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(A){s.images[c]=A,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class yU extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new lA,o=new sc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(A){if(r!==void 0)r(A);else{A(A);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:ia,a.wrapT=c.wrapT!==void 0?c.wrapT:ia,a.magFilter=c.magFilter!==void 0?c.magFilter:ur,a.minFilter=c.minFilter!==void 0?c.minFilter:ur,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=iA),c.mipmapCount===1&&(a.minFilter=ur),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},i,r),a}}class IQ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=new Kr,a=new ux(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Vp extends gr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class LQ extends Vp{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const cC=new oi,OL=new je,PL=new je;class vU{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xt(512,512),this.mapType=ac,this.map=null,this.mapPass=null,this.matrix=new oi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ky,this._frameExtents=new Xt(1,1),this._viewportCount=1,this._viewports=[new Sr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;OL.setFromMatrixPosition(e.matrixWorld),t.position.copy(OL),PL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(PL),t.updateMatrixWorld(),cC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cC,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(cC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pZ extends vU{constructor(){super(new _a(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Uy*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xU extends Vp{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.target=new gr,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new pZ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kL=new oi,zv=new je,uC=new je;class mZ extends vU{constructor(){super(new _a(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Xt(4,2),this._viewportCount=6,this._viewports=[new Sr(2,1,1,1),new Sr(0,1,1,1),new Sr(3,1,1,1),new Sr(1,1,1,1),new Sr(3,0,1,1),new Sr(1,0,1,1)],this._cubeDirections=[new je(1,0,0),new je(-1,0,0),new je(0,0,1),new je(0,0,-1),new je(0,1,0),new je(0,-1,0)],this._cubeUps=[new je(0,1,0),new je(0,1,0),new je(0,1,0),new je(0,1,0),new je(0,0,1),new je(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),zv.setFromMatrixPosition(e.matrixWorld),i.position.copy(zv),uC.copy(i.position),uC.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(uC),i.updateMatrixWorld(),r.makeTranslation(-zv.x,-zv.y,-zv.z),kL.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kL,i.coordinateSystem,i.reversedDepth)}}class bU extends Vp{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new mZ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Yf extends ZS{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,A=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=A*this.view.offsetY,l=o-A*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class gZ extends vU{constructor(){super(new Yf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class wU extends Vp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.target=new gr,this.shadow=new gZ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class RQ extends Vp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class DQ extends Vp{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class OQ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new je)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class PQ extends Vp{constructor(e=new OQ,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yE extends Nl{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new sc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):bi(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&Sn("MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new bn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new bn().setHex(a.value);break;case"v2":r.uniforms[s].value=new Xt().fromArray(a.value);break;case"v3":r.uniforms[s].value=new je().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Sr().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Fi().fromArray(a.value);break;case"m4":r.uniforms[s].value=new oi().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Xt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Xt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return yE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:yQ,SpriteMaterial:tU,RawShaderMaterial:vQ,ShaderMaterial:oc,PointsMaterial:nE,MeshPhysicalMaterial:AA,MeshStandardMaterial:Gx,MeshPhongMaterial:xQ,MeshToonMaterial:bQ,MeshNormalMaterial:wQ,MeshLambertMaterial:_Q,MeshDepthMaterial:hU,MeshDistanceMaterial:dU,MeshBasicMaterial:jc,MeshMatcapMaterial:SQ,LineDashedMaterial:EQ,LineBasicMaterial:Ul,Material:ho};return new t[e]}}class Cp{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class kQ extends Ti{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class HQ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new sc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):bi(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(d,y){if(t[y]!==void 0)return t[y];const w=d.interleavedBuffers[y],b=s(d,w.buffer),_=iy(w.type,b),E=new Px(_,w.stride);return E.uuid=w.uuid,t[y]=E,E}function s(d,y){if(i[y]!==void 0)return i[y];const w=d.arrayBuffers[y],b=new Uint32Array(w).buffer;return i[y]=b,b}const a=e.isInstancedBufferGeometry?new kQ:new Ti,o=e.data.index;if(o!==void 0){const d=iy(o.type,o.array);a.setIndex(new Pr(d,1))}const l=e.data.attributes;for(const d in l){const y=l[d];let x;if(y.isInterleavedBufferAttribute){const w=r(e.data,y.data);x=new Rp(w,y.itemSize,y.offset,y.normalized)}else{const w=iy(y.type,y.array),b=y.isInstancedBufferAttribute?mg:Pr;x=new b(w,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),a.setAttribute(d,x)}const c=e.data.morphAttributes;if(c)for(const d in c){const y=c[d],x=[];for(let w=0,b=y.length;w<b;w++){const _=y[w];let E;if(_.isInterleavedBufferAttribute){const C=r(e.data,_.data);E=new Rp(C,_.itemSize,_.offset,_.normalized)}else{const C=iy(_.type,_.array);E=new Pr(C,_.itemSize,_.normalized)}_.name!==void 0&&(E.name=_.name),x.push(E)}a.morphAttributes[d]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,y=f.length;d!==y;++d){const x=f[d];a.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(a.boundingSphere=new Io().fromJSON(p)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class yZ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?Cp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new sc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const A=c.metadata;if(A===void 0||A.type===void 0||A.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),bi("ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Cp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new sc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,i),A=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,A),this.bindLightTargets(c),t!==void 0){let f=!1;for(const p in a)if(a[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new lg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new kx().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new HQ;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in DL?o=DL[l.type].fromJSON(l,t):Sn(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new yE;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Ly.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,A=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(A)}else return l.data?{data:iy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new gE(t);s=new ux(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,A=e.length;c<A;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const d=[];for(let y=0,x=p.length;y<x;y++){const w=p[y],b=o(w);b!==null&&(b instanceof HTMLImageElement?d.push(b):d.push(new lA(b.data,b.width,b.height)))}r[f.uuid]=new gp(d)}else{const d=o(f.url);r[f.uuid]=new gp(d)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:iy(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new ux(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const A=[];for(let f=0,p=c.length;f<p;f++){const d=c[f],y=await s(d);y!==null&&(y instanceof HTMLImageElement?A.push(y):A.push(new lA(y.data,y.width,y.height)))}i[l.uuid]=new gp(A)}else{const A=await s(l.url);i[l.uuid]=new gp(A)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(Sn("ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&Sn('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Sn("ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let A;Array.isArray(c)?(A=new Dx,c.length===6&&(A.needsUpdate=!0)):(c&&c.data?A=new lA:A=new Kr,c&&(A.needsUpdate=!0)),A.source=l,A.uuid=o.uuid,o.name!==void 0&&(A.name=o.name),o.mapping!==void 0&&(A.mapping=i(o.mapping,vZ)),o.channel!==void 0&&(A.channel=o.channel),o.offset!==void 0&&A.offset.fromArray(o.offset),o.repeat!==void 0&&A.repeat.fromArray(o.repeat),o.center!==void 0&&A.center.fromArray(o.center),o.rotation!==void 0&&(A.rotation=o.rotation),o.wrap!==void 0&&(A.wrapS=i(o.wrap[0],HL),A.wrapT=i(o.wrap[1],HL)),o.format!==void 0&&(A.format=o.format),o.internalFormat!==void 0&&(A.internalFormat=o.internalFormat),o.type!==void 0&&(A.type=o.type),o.colorSpace!==void 0&&(A.colorSpace=o.colorSpace),o.minFilter!==void 0&&(A.minFilter=i(o.minFilter,QL)),o.magFilter!==void 0&&(A.magFilter=i(o.magFilter,QL)),o.anisotropy!==void 0&&(A.anisotropy=o.anisotropy),o.flipY!==void 0&&(A.flipY=o.flipY),o.generateMipmaps!==void 0&&(A.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(A.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(A.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(A.compareFunction=o.compareFunction),o.userData!==void 0&&(A.userData=o.userData),r[o.uuid]=A}return r}parseObject(e,t,i,r,s){let a;function o(p){return t[p]===void 0&&Sn("ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const d=[];for(let y=0,x=p.length;y<x;y++){const w=p[y];i[w]===void 0&&Sn("ObjectLoader: Undefined material",w),d.push(i[w])}return d}return i[p]===void 0&&Sn("ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&Sn("ObjectLoader: Undefined texture",p),r[p]}let A,f;switch(e.type){case"Scene":a=new Ox,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new bn(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new $S(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new JS(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new _a(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Yf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new RQ(e.color,e.intensity);break;case"DirectionalLight":a=new wU(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new bU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new DQ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new xU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new LQ(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new PQ().fromJSON(e);break;case"SkinnedMesh":A=o(e.geometry),f=l(e.material),a=new nU(A,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":A=o(e.geometry),f=l(e.material),a=new sa(A,f);break;case"InstancedMesh":A=o(e.geometry),f=l(e.material);const p=e.count,d=e.instanceMatrix,y=e.instanceColor;a=new iU(A,f,p),a.instanceMatrix=new mg(new Float32Array(d.array),16),y!==void 0&&(a.instanceColor=new mg(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":A=o(e.geometry),f=l(e.material),a=new sQ(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=A,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(x=>{let w=null,b=null;return x.boundingBox!==void 0&&(w=new Zo().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(b=new Io().fromJSON(x.boundingSphere)),{...x,boundingBox:w,boundingSphere:b}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Io().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Zo().fromJSON(e.boundingBox));break;case"LOD":a=new rQ;break;case"Line":a=new fd(o(e.geometry),l(e.material));break;case"LineLoop":a=new rU(o(e.geometry),l(e.material));break;case"LineSegments":a=new ef(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new sU(o(e.geometry),l(e.material));break;case"Sprite":a=new iQ(l(e.material));break;case"Group":a=new ad;break;case"Bone":a=new eE;break;default:a=new gr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let d=0;d<p.length;d++)a.add(this.parseObject(p[d],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let d=0;d<p.length;d++){const y=p[d];a.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const p=e.levels;for(let d=0;d<p.length;d++){const y=p[d],x=a.getObjectByProperty("uuid",y.object);x!==void 0&&a.addLevel(x,y.distance,y.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?Sn("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new gr}})}}const vZ={UVMapping:Np,CubeReflectionMapping:Jf,CubeRefractionMapping:Fp,EquirectangularReflectionMapping:xy,EquirectangularRefractionMapping:tx,CubeUVReflectionMapping:Gy},HL={RepeatWrapping:Ip,ClampToEdgeWrapping:ia,MirroredRepeatWrapping:by},QL={NearestFilter:fo,NearestMipmapNearestFilter:HS,NearestMipmapLinearFilter:Xm,LinearFilter:ur,LinearMipmapNearestFilter:oy,LinearMipmapLinearFilter:iA},AC=new WeakMap;class QQ extends Nl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Sn("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Sn("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=qf.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(AC.has(a)===!0)r&&r(AC.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return qf.add(`image-bitmap:${e}`,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),AC.set(l,c),qf.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});qf.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let mw;class _U{static getContext(){return mw===void 0&&(mw=new(window.AudioContext||window.webkitAudioContext)),mw}static setContext(e){mw=e}}class xZ extends Nl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new sc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);_U.getContext().decodeAudioData(c,function(f){t(f)}).catch(o)}catch(c){o(c)}},i,r);function o(l){r?r(l):bi(l),s.manager.itemError(e)}}}const zL=new oi,jL=new oi,Em=new oi;class bZ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _a,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _a,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Em.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(og*t.fov*.5)/t.zoom;let o,l;jL.elements[12]=-r,zL.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,Em.elements[0]=2*t.near/(l-o),Em.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Em),o=-a*t.aspect-s,l=a*t.aspect-s,Em.elements[0]=2*t.near/(l-o),Em.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Em)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(jL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zL)}}class zQ extends _a{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class SU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Bm=new je,fC=new Fo,wZ=new je,Cm=new je,Mm=new je;class _Z extends gr{constructor(){super(),this.type="AudioListener",this.context=_U.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new SU}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bm,fC,wZ),Cm.set(0,0,-1).applyQuaternion(fC),Mm.set(0,1,0).applyQuaternion(fC),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Bm.x,i),t.positionY.linearRampToValueAtTime(Bm.y,i),t.positionZ.linearRampToValueAtTime(Bm.z,i),t.forwardX.linearRampToValueAtTime(Cm.x,i),t.forwardY.linearRampToValueAtTime(Cm.y,i),t.forwardZ.linearRampToValueAtTime(Cm.z,i),t.upX.linearRampToValueAtTime(Mm.x,i),t.upY.linearRampToValueAtTime(Mm.y,i),t.upZ.linearRampToValueAtTime(Mm.z,i)}else t.setPosition(Bm.x,Bm.y,Bm.z),t.setOrientation(Cm.x,Cm.y,Cm.z,Mm.x,Mm.y,Mm.z)}}class jQ extends gr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Sn("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Sn("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Sn("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Sn("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Sn("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Sn("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Sn("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Sn("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Tm=new je,VL=new Fo,SZ=new je,Um=new je;class EZ extends jQ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tm,VL,SZ),Um.set(0,0,1).applyQuaternion(VL);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Tm.x,i),t.positionY.linearRampToValueAtTime(Tm.y,i),t.positionZ.linearRampToValueAtTime(Tm.z,i),t.orientationX.linearRampToValueAtTime(Um.x,i),t.orientationY.linearRampToValueAtTime(Um.y,i),t.orientationZ.linearRampToValueAtTime(Um.z,i)}else t.setPosition(Tm.x,Tm.y,Tm.z),t.setOrientation(Um.x,Um.y,Um.z)}}class BZ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class VQ{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Fo.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Fo.multiplyQuaternionsFlat(e,a,e,t,e,i),Fo.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const EU="\\[\\]\\.:\\/",CZ=new RegExp("["+EU+"]","g"),BU="[^"+EU+"]",MZ="[^"+EU.replace("\\.","")+"]",TZ=/((?:WC+[\/:])*)/.source.replace("WC",BU),UZ=/(WCOD+)?/.source.replace("WCOD",MZ),NZ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",BU),FZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",BU),IZ=new RegExp("^"+TZ+UZ+NZ+FZ+"$"),LZ=["material","materials","bones","map"];class RZ{constructor(e,t,i){const r=i||yr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class yr{constructor(e,t,i){this.path=t,this.parsedPath=i||yr.parseTrackName(t),this.node=yr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new yr.Composite(e,t,i):new yr(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(CZ,"")}static parseTrackName(e){const t=IZ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);LZ.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=yr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Sn("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){bi("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){bi("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){bi("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let A=0;A<e.length;A++)if(e[A].name===c){c=A;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){bi("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){bi("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){bi("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){bi("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=t.nodeName;bi("PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){bi("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){bi("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yr.Composite=RZ;yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yr.prototype.GetterByBindingType=[yr.prototype._getValue_direct,yr.prototype._getValue_array,yr.prototype._getValue_arrayElement,yr.prototype._getValue_toArray];yr.prototype.SetterByBindingTypeAndVersioning=[[yr.prototype._setValue_direct,yr.prototype._setValue_direct_setNeedsUpdate,yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_array,yr.prototype._setValue_array_setNeedsUpdate,yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_arrayElement,yr.prototype._setValue_arrayElement_setNeedsUpdate,yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_fromArray,yr.prototype._setValue_fromArray_setNeedsUpdate,yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class DZ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Su(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let A=0,f=arguments.length;A!==f;++A){const p=arguments[A],d=p.uuid;let y=t[d];if(y===void 0){y=l++,t[d]=y,e.push(p);for(let x=0,w=a;x!==w;++x)s[x].push(new yr(p,i[x],r[x]))}else if(y<c){o=e[y];const x=--c,w=e[x];t[w.uuid]=y,e[y]=w,t[d]=x,e[x]=p;for(let b=0,_=a;b!==_;++b){const E=s[b],C=E[x];let T=E[y];E[y]=C,T===void 0&&(T=new yr(p,i[b],r[b])),E[x]=T}}else e[y]!==o&&bi("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,A=t[c];if(A!==void 0&&A>=s){const f=s++,p=e[f];t[p.uuid]=A,e[A]=p,t[c]=f,e[f]=l;for(let d=0,y=r;d!==y;++d){const x=i[d],w=x[f],b=x[A];x[A]=w,x[f]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],A=c.uuid,f=t[A];if(f!==void 0)if(delete t[A],f<s){const p=--s,d=e[p],y=--a,x=e[y];t[d.uuid]=f,e[f]=d,t[x.uuid]=p,e[p]=x,e.pop();for(let w=0,b=r;w!==b;++w){const _=i[w],E=_[p],C=_[y];_[f]=E,_[p]=C,_.pop()}}else{const p=--a,d=e[p];p>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let y=0,x=r;y!==x;++y){const w=i[y];w[f]=w[p],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,A=this.nCachedObjects_,f=new Array(c);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(f);for(let p=A,d=l.length;p!==d;++p){const y=l[p];f[p]=new yr(y,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class GQ{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Ym,endingEnd:Ym};for(let c=0;c!==a;++c){const A=s[c].createInterpolant(null);o[c]=A,A.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=RH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case q4:for(let A=0,f=l.length;A!==f;++A)l[A].evaluate(a),c[A].accumulateAdditive(o);break;case WS:default:for(let A=0,f=l.length;A!==f;++A)l[A].evaluate(a),c[A].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===DH;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===LH){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Zm,r.endingEnd=Zm):(e?r.endingStart=this.zeroSlopeAtStart?Zm:Ym:r.endingStart=nx,t?r.endingEnd=this.zeroSlopeAtEnd?Zm:Ym:r.endingEnd=nx)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const OZ=new Float32Array(1);class PZ extends th{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let A=c[l];A===void 0&&(A={},c[l]=A);for(let f=0;f!==s;++f){const p=r[f],d=p.name;let y=A[d];if(y!==void 0)++y.referenceCount,a[f]=y;else{if(y=a[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,d));continue}const x=t&&t._propertyBindings[f].binding.parsedPath;y=new VQ(yr.create(i,d,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,d),a[f]=y}o[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],A=e._byClipCacheIndex;c._byClipCacheIndex=A,l[A]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new mU(new Float32Array(2),new Float32Array(2),1,OZ),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?Ly.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=WS),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const A=new GQ(this,a,t,i);return this._bindAction(A,c),this._addInactiveAction(A,o,s),A}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Ly.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const A=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=A,t[A]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class kZ extends Z4{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new YS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class CU{constructor(e){this.value=e}clone(){return new CU(this.value.clone===void 0?this.value:this.value.clone())}}let HZ=0;class QZ extends th{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:HZ++}),this.name="",this.usage=rx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class zZ extends Px{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class jZ{constructor(e,t,i,r,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const GL=new oi;class MU{constructor(e,t,i=0,r=1/0){this.ray=new Tg(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ny,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):bi("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return GL.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(GL),this}intersectObject(e,t=!0,i=[]){return dT(e,this,i,t),i.sort(KL),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)dT(e[r],this,i,t);return i.sort(KL),i}}function KL(n,e){return n.distance-e.distance}function dT(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)dT(s[a],e,t,!0)}}class VZ{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=GZ.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function GZ(){this._document.hidden===!1&&this.reset()}class pT{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=pi(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(pi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class KZ{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class TU{constructor(e,t,i,r){TU.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const qL=new Xt;class qZ{constructor(e=new Xt(1/0,1/0),t=new Xt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=qL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const WL=new je,gw=new je,M0=new je,T0=new je,hC=new je,WZ=new je,XZ=new je;class YZ{constructor(e=new je,t=new je){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){WL.subVectors(e,this.start),gw.subVectors(this.end,this.start);const i=gw.dot(gw);let s=gw.dot(WL)/i;return t&&(s=pi(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=WZ,i=XZ){const r=10000000000000001e-32;let s,a;const o=this.start,l=e.start,c=this.end,A=e.end;M0.subVectors(c,o),T0.subVectors(A,l),hC.subVectors(o,l);const f=M0.dot(M0),p=T0.dot(T0),d=T0.dot(hC);if(f<=r&&p<=r)return t.copy(o),i.copy(l),t.sub(i),t.dot(t);if(f<=r)s=0,a=d/p,a=pi(a,0,1);else{const y=M0.dot(hC);if(p<=r)a=0,s=pi(-y/f,0,1);else{const x=M0.dot(T0),w=f*p-x*x;w!==0?s=pi((x*d-y*p)/w,0,1):s=0,a=(x*s+d)/p,a<0?(a=0,s=pi(-y/f,0,1)):a>1&&(a=1,s=pi((x-y)/f,0,1))}}return t.copy(o).add(M0.multiplyScalar(s)),i.copy(l).add(T0.multiplyScalar(a)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const XL=new je;class ZZ extends gr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Ti,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,A=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(A),Math.sin(A),1)}i.setAttribute("position",new jn(r,3));const s=new Ul({fog:!1,toneMapped:!1});this.cone=new ef(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),XL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(XL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ip=new je,yw=new oi,dC=new oi;class JZ extends ef{constructor(e){const t=KQ(e),i=new Ti,r=[],s=[];for(let c=0;c<t.length;c++){const A=t[c];A.parent&&A.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}i.setAttribute("position",new jn(r,3)),i.setAttribute("color",new jn(s,3));const a=new Ul({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new bn(255),l=new bn(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");dC.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(yw.multiplyMatrices(dC,o.matrixWorld),ip.setFromMatrixPosition(yw),r.setXYZ(a,ip.x,ip.y,ip.z),yw.multiplyMatrices(dC,o.parent.matrixWorld),ip.setFromMatrixPosition(yw),r.setXYZ(a+1,ip.x,ip.y,ip.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function KQ(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...KQ(n.children[t]));return e}class $Z extends sa{constructor(e,t,i){const r=new Vx(t,4,2),s=new jc({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const eJ=new je,YL=new bn,ZL=new bn;class tJ extends gr{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new jx(t);r.rotateY(Math.PI*.5),this.material=new jc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Pr(a,3)),this.add(new sa(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");YL.copy(this.light.color),ZL.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?YL:ZL;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(eJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nJ extends ef{constructor(e=10,t=10,i=4473924,r=8947848){i=new bn(i),r=new bn(r);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let p=0,d=0,y=-o;p<=t;p++,y+=a){l.push(-o,0,y,o,0,y),l.push(y,0,-o,y,0,o);const x=p===s?i:r;x.toArray(c,d),d+=3,x.toArray(c,d),d+=3,x.toArray(c,d),d+=3,x.toArray(c,d),d+=3}const A=new Ti;A.setAttribute("position",new jn(l,3)),A.setAttribute("color",new jn(c,3));const f=new Ul({vertexColors:!0,toneMapped:!1});super(A,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class iJ extends ef{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new bn(s),a=new bn(a);const o=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),d=Math.sin(p)*e,y=Math.cos(p)*e;o.push(0,0,0),o.push(d,0,y);const x=f&1?s:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<i;f++){const p=f&1?s:a,d=e-e/i*f;for(let y=0;y<r;y++){let x=y/r*(Math.PI*2),w=Math.sin(x)*d,b=Math.cos(x)*d;o.push(w,0,b),l.push(p.r,p.g,p.b),x=(y+1)/r*(Math.PI*2),w=Math.sin(x)*d,b=Math.cos(x)*d,o.push(w,0,b),l.push(p.r,p.g,p.b)}}const c=new Ti;c.setAttribute("position",new jn(o,3)),c.setAttribute("color",new jn(l,3));const A=new Ul({vertexColors:!0,toneMapped:!1});super(c,A),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const JL=new je,vw=new je,$L=new je;class rJ extends gr{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Ti;r.setAttribute("position",new jn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ul({fog:!1,toneMapped:!1});this.lightPlane=new fd(r,s),this.add(this.lightPlane),r=new Ti,r.setAttribute("position",new jn([0,0,0,0,0,1],3)),this.targetLine=new fd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),JL.setFromMatrixPosition(this.light.matrixWorld),vw.setFromMatrixPosition(this.light.target.matrixWorld),$L.subVectors(vw,JL),this.lightPlane.lookAt(vw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vw),this.targetLine.scale.z=$L.length()}}const xw=new je,va=new ZS;class sJ extends ef{constructor(e){const t=new Ti,i=new Ul({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(y,x){l(y),l(x)}function l(y){r.push(0,0,0),s.push(0,0,0),a[y]===void 0&&(a[y]=[]),a[y].push(r.length/3-1)}t.setAttribute("position",new jn(r,3)),t.setAttribute("color",new jn(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new bn(16755200),A=new bn(16711680),f=new bn(43775),p=new bn(16777215),d=new bn(3355443);this.setColors(c,A,f,p,d)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;let s,a;if(va.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===bu)s=-1,a=1;else if(this.camera.coordinateSystem===My)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);La("c",t,e,va,0,0,s),La("t",t,e,va,0,0,a),La("n1",t,e,va,-i,-r,s),La("n2",t,e,va,i,-r,s),La("n3",t,e,va,-i,r,s),La("n4",t,e,va,i,r,s),La("f1",t,e,va,-i,-r,a),La("f2",t,e,va,i,-r,a),La("f3",t,e,va,-i,r,a),La("f4",t,e,va,i,r,a),La("u1",t,e,va,i*.7,r*1.1,s),La("u2",t,e,va,-i*.7,r*1.1,s),La("u3",t,e,va,0,r*2,s),La("cf1",t,e,va,-i,0,a),La("cf2",t,e,va,i,0,a),La("cf3",t,e,va,0,-r,a),La("cf4",t,e,va,0,r,a),La("cn1",t,e,va,-i,0,s),La("cn2",t,e,va,i,0,s),La("cn3",t,e,va,0,-r,s),La("cn4",t,e,va,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function La(n,e,t,i,r,s,a){xw.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,A=o.length;c<A;c++)l.setXYZ(o[c],xw.x,xw.y,xw.z)}}const bw=new Zo;class aJ extends ef{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Ti;s.setIndex(new Pr(i,1)),s.setAttribute("position",new Pr(r,3)),super(s,new Ul({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&bw.setFromObject(this.object),bw.isEmpty())return;const e=bw.min,t=bw.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oJ extends ef{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ti;s.setIndex(new Pr(i,1)),s.setAttribute("position",new jn(r,3)),super(s,new Ul({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lJ extends fd{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Ti;a.setAttribute("position",new jn(s,3)),a.computeBoundingSphere(),super(a,new Ul({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ti;l.setAttribute("position",new jn(o,3)),l.computeBoundingSphere(),this.add(new sa(l,new jc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const eR=new je;let ww,pC;class cJ extends gr{constructor(e=new je(0,0,1),t=new je(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",ww===void 0&&(ww=new Ti,ww.setAttribute("position",new jn([0,0,0,0,1,0],3)),pC=new Qx(.5,1,5,1),pC.translate(0,-.5,0)),this.position.copy(t),this.line=new fd(ww,new Ul({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new sa(pC,new jc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(eR,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class uJ extends ef{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ti;r.setAttribute("position",new jn(t,3)),r.setAttribute("color",new jn(i,3));const s=new Ul({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new bn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class AJ{constructor(){this.type="ShapePath",this.color=new bn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new iS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const _=[];for(let E=0,C=b.length;E<C;E++){const T=b[E],M=new lg;M.curves=T.curves,_.push(M)}return _}function i(b,_){const E=_.length;let C=!1;for(let T=E-1,M=0;M<E;T=M++){let F=_[T],L=_[M],N=L.x-F.x,R=L.y-F.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(F=_[M],N=-N,L=_[T],R=-R),b.y<F.y||b.y>L.y)continue;if(b.y===F.y){if(b.x===F.x)return!0}else{const k=R*(b.x-F.x)-N*(b.y-F.y);if(k===0)return!0;if(k<0)continue;C=!C}}else{if(b.y!==F.y)continue;if(L.x<=b.x&&b.x<=F.x||F.x<=b.x&&b.x<=L.x)return!0}}return C}const r=WA.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new lg,l.curves=o.curves,c.push(l),c;let A=!r(s[0].getPoints());A=e?!A:A;const f=[],p=[];let d=[],y=0,x;p[y]=void 0,d[y]=[];for(let b=0,_=s.length;b<_;b++)o=s[b],x=o.getPoints(),a=r(x),a=e?!a:a,a?(!A&&p[y]&&y++,p[y]={s:new lg,p:x},p[y].s.curves=o.curves,A&&y++,d[y]=[]):d[y].push({h:o,p:x[0]});if(!p[0])return t(s);if(p.length>1){let b=!1,_=0;for(let E=0,C=p.length;E<C;E++)f[E]=[];for(let E=0,C=p.length;E<C;E++){const T=d[E];for(let M=0;M<T.length;M++){const F=T[M];let L=!0;for(let N=0;N<p.length;N++)i(F.p,p[N].p)&&(E!==N&&_++,L?(L=!1,f[N].push(F)):b=!0);L&&f[E].push(F)}}_>0&&b===!1&&(d=f)}let w;for(let b=0,_=p.length;b<_;b++){l=p[b].s,c.push(l),w=d[b];for(let E=0,C=w.length;E<C;E++)l.holes.push(w[E].h)}return c}}class fJ extends th{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Sn("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function hJ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function dJ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function pJ(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function mT(n,e,t,i){const r=mJ(i);switch(t){case G4:return n*e;case Lx:return n*e/r.components*r.byteLength;case Rx:return n*e/r.components*r.byteLength;case GS:return n*e*2/r.components*r.byteLength;case KS:return n*e*2/r.components*r.byteLength;case K4:return n*e*3/r.components*r.byteLength;case Ha:return n*e*4/r.components*r.byteLength;case qS:return n*e*4/r.components*r.byteLength;case M1:case T1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case U1:case N1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case B_:case M_:return Math.max(n,16)*Math.max(e,8)/4;case E_:case C_:return Math.max(n,8)*Math.max(e,8)/2;case T_:case U_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case N_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case F_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case I_:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case L_:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case R_:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case D_:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case O_:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case P_:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case k_:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case H_:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Q_:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case z_:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case j_:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case V_:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case G_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case K_:case q_:case W_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case X_:case Y_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Z_:case J_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function mJ(n){switch(n){case ac:case QS:return{byteLength:1,components:1};case wy:case zS:case Ja:return{byteLength:2,components:1};case jS:case VS:return{byteLength:2,components:4};case $f:case Ix:case Ks:return{byteLength:4,components:1};case j4:case V4:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class gJ{static contain(e,t){return hJ(e,t)}static cover(e,t){return dJ(e,t)}static fill(e){return pJ(e)}static getByteLength(e,t,i,r){return mT(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nx}}));typeof window<"u"&&(window.__THREE__?Sn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nx);function qQ(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function yJ(n){const e=new WeakMap;function t(o,l){const c=o.array,A=o.usage,f=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,A),o.onUploadCallback();let d;if(c instanceof Float32Array)d=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)d=n.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?d=n.HALF_FLOAT:d=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)d=n.SHORT;else if(c instanceof Uint32Array)d=n.UNSIGNED_INT;else if(c instanceof Int32Array)d=n.INT;else if(c instanceof Int8Array)d=n.BYTE;else if(c instanceof Uint8Array)d=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)d=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:d,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function i(o,l,c){const A=l.array,f=l.updateRanges;if(n.bindBuffer(c,o),f.length===0)n.bufferSubData(c,0,A);else{f.sort((d,y)=>d.start-y.start);let p=0;for(let d=1;d<f.length;d++){const y=f[p],x=f[d];x.start<=y.start+y.count+1?y.count=Math.max(y.count,x.start+x.count-y.start):(++p,f[p]=x)}f.length=p+1;for(let d=0,y=f.length;d<y;d++){const x=f[d];n.bufferSubData(c,x.start*A.BYTES_PER_ELEMENT,A,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const A=e.get(o);(!A||A.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:s,update:a}}var vJ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,xJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bJ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,wJ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_J=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,SJ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,EJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,BJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CJ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,MJ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,TJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,UJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,NJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,FJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,IJ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,LJ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,RJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,DJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,OJ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,PJ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,HJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,QJ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,zJ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,jJ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,VJ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,GJ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KJ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qJ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,WJ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,XJ="gl_FragColor = linearToOutputTexel( gl_FragColor );",YJ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZJ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,JJ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,$J=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,e$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,t$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,n$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,i$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,r$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,s$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,a$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,o$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,l$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,c$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,u$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,A$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,f$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,h$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,d$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,p$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,m$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,g$=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,y$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,v$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,x$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,b$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,w$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,S$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,E$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,B$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,C$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,M$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,T$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,U$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,N$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,F$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,I$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,L$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,R$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,D$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,O$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,P$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,k$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,H$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Q$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,z$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,j$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,V$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,G$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,K$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,q$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,W$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,X$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Y$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Z$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,J$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,eee=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,tee=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nee=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,iee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ree=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,see=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,aee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,oee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cee=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,uee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Aee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,hee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,dee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,pee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,gee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,vee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_ee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,See=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Eee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Bee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Cee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Mee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Tee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Nee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Iee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ree=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Oee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Hee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jee=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gee=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Wee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Yee=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Hi={alphahash_fragment:vJ,alphahash_pars_fragment:xJ,alphamap_fragment:bJ,alphamap_pars_fragment:wJ,alphatest_fragment:_J,alphatest_pars_fragment:SJ,aomap_fragment:EJ,aomap_pars_fragment:BJ,batching_pars_vertex:CJ,batching_vertex:MJ,begin_vertex:TJ,beginnormal_vertex:UJ,bsdfs:NJ,iridescence_fragment:FJ,bumpmap_pars_fragment:IJ,clipping_planes_fragment:LJ,clipping_planes_pars_fragment:RJ,clipping_planes_pars_vertex:DJ,clipping_planes_vertex:OJ,color_fragment:PJ,color_pars_fragment:kJ,color_pars_vertex:HJ,color_vertex:QJ,common:zJ,cube_uv_reflection_fragment:jJ,defaultnormal_vertex:VJ,displacementmap_pars_vertex:GJ,displacementmap_vertex:KJ,emissivemap_fragment:qJ,emissivemap_pars_fragment:WJ,colorspace_fragment:XJ,colorspace_pars_fragment:YJ,envmap_fragment:ZJ,envmap_common_pars_fragment:JJ,envmap_pars_fragment:$J,envmap_pars_vertex:e$,envmap_physical_pars_fragment:A$,envmap_vertex:t$,fog_vertex:n$,fog_pars_vertex:i$,fog_fragment:r$,fog_pars_fragment:s$,gradientmap_pars_fragment:a$,lightmap_pars_fragment:o$,lights_lambert_fragment:l$,lights_lambert_pars_fragment:c$,lights_pars_begin:u$,lights_toon_fragment:f$,lights_toon_pars_fragment:h$,lights_phong_fragment:d$,lights_phong_pars_fragment:p$,lights_physical_fragment:m$,lights_physical_pars_fragment:g$,lights_fragment_begin:y$,lights_fragment_maps:v$,lights_fragment_end:x$,logdepthbuf_fragment:b$,logdepthbuf_pars_fragment:w$,logdepthbuf_pars_vertex:_$,logdepthbuf_vertex:S$,map_fragment:E$,map_pars_fragment:B$,map_particle_fragment:C$,map_particle_pars_fragment:M$,metalnessmap_fragment:T$,metalnessmap_pars_fragment:U$,morphinstance_vertex:N$,morphcolor_vertex:F$,morphnormal_vertex:I$,morphtarget_pars_vertex:L$,morphtarget_vertex:R$,normal_fragment_begin:D$,normal_fragment_maps:O$,normal_pars_fragment:P$,normal_pars_vertex:k$,normal_vertex:H$,normalmap_pars_fragment:Q$,clearcoat_normal_fragment_begin:z$,clearcoat_normal_fragment_maps:j$,clearcoat_pars_fragment:V$,iridescence_pars_fragment:G$,opaque_fragment:K$,packing:q$,premultiplied_alpha_fragment:W$,project_vertex:X$,dithering_fragment:Y$,dithering_pars_fragment:Z$,roughnessmap_fragment:J$,roughnessmap_pars_fragment:$$,shadowmap_pars_fragment:eee,shadowmap_pars_vertex:tee,shadowmap_vertex:nee,shadowmask_pars_fragment:iee,skinbase_vertex:ree,skinning_pars_vertex:see,skinning_vertex:aee,skinnormal_vertex:oee,specularmap_fragment:lee,specularmap_pars_fragment:cee,tonemapping_fragment:uee,tonemapping_pars_fragment:Aee,transmission_fragment:fee,transmission_pars_fragment:hee,uv_pars_fragment:dee,uv_pars_vertex:pee,uv_vertex:mee,worldpos_vertex:gee,background_vert:yee,background_frag:vee,backgroundCube_vert:xee,backgroundCube_frag:bee,cube_vert:wee,cube_frag:_ee,depth_vert:See,depth_frag:Eee,distanceRGBA_vert:Bee,distanceRGBA_frag:Cee,equirect_vert:Mee,equirect_frag:Tee,linedashed_vert:Uee,linedashed_frag:Nee,meshbasic_vert:Fee,meshbasic_frag:Iee,meshlambert_vert:Lee,meshlambert_frag:Ree,meshmatcap_vert:Dee,meshmatcap_frag:Oee,meshnormal_vert:Pee,meshnormal_frag:kee,meshphong_vert:Hee,meshphong_frag:Qee,meshphysical_vert:zee,meshphysical_frag:jee,meshtoon_vert:Vee,meshtoon_frag:Gee,points_vert:Kee,points_frag:qee,shadow_vert:Wee,shadow_frag:Xee,sprite_vert:Yee,sprite_frag:Zee},_n={common:{diffuse:{value:new bn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Fi},alphaMap:{value:null},alphaMapTransform:{value:new Fi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Fi}},envmap:{envMap:{value:null},envMapRotation:{value:new Fi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Fi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Fi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Fi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Fi},normalScale:{value:new Xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Fi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Fi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Fi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Fi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Fi},alphaTest:{value:0},uvTransform:{value:new Fi}},sprite:{diffuse:{value:new bn(16777215)},opacity:{value:1},center:{value:new Xt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Fi},alphaMap:{value:null},alphaMapTransform:{value:new Fi},alphaTest:{value:0}}},qA={basic:{uniforms:ec([_n.common,_n.specularmap,_n.envmap,_n.aomap,_n.lightmap,_n.fog]),vertexShader:Hi.meshbasic_vert,fragmentShader:Hi.meshbasic_frag},lambert:{uniforms:ec([_n.common,_n.specularmap,_n.envmap,_n.aomap,_n.lightmap,_n.emissivemap,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.fog,_n.lights,{emissive:{value:new bn(0)}}]),vertexShader:Hi.meshlambert_vert,fragmentShader:Hi.meshlambert_frag},phong:{uniforms:ec([_n.common,_n.specularmap,_n.envmap,_n.aomap,_n.lightmap,_n.emissivemap,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.fog,_n.lights,{emissive:{value:new bn(0)},specular:{value:new bn(1118481)},shininess:{value:30}}]),vertexShader:Hi.meshphong_vert,fragmentShader:Hi.meshphong_frag},standard:{uniforms:ec([_n.common,_n.envmap,_n.aomap,_n.lightmap,_n.emissivemap,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.roughnessmap,_n.metalnessmap,_n.fog,_n.lights,{emissive:{value:new bn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Hi.meshphysical_vert,fragmentShader:Hi.meshphysical_frag},toon:{uniforms:ec([_n.common,_n.aomap,_n.lightmap,_n.emissivemap,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.gradientmap,_n.fog,_n.lights,{emissive:{value:new bn(0)}}]),vertexShader:Hi.meshtoon_vert,fragmentShader:Hi.meshtoon_frag},matcap:{uniforms:ec([_n.common,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.fog,{matcap:{value:null}}]),vertexShader:Hi.meshmatcap_vert,fragmentShader:Hi.meshmatcap_frag},points:{uniforms:ec([_n.points,_n.fog]),vertexShader:Hi.points_vert,fragmentShader:Hi.points_frag},dashed:{uniforms:ec([_n.common,_n.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hi.linedashed_vert,fragmentShader:Hi.linedashed_frag},depth:{uniforms:ec([_n.common,_n.displacementmap]),vertexShader:Hi.depth_vert,fragmentShader:Hi.depth_frag},normal:{uniforms:ec([_n.common,_n.bumpmap,_n.normalmap,_n.displacementmap,{opacity:{value:1}}]),vertexShader:Hi.meshnormal_vert,fragmentShader:Hi.meshnormal_frag},sprite:{uniforms:ec([_n.sprite,_n.fog]),vertexShader:Hi.sprite_vert,fragmentShader:Hi.sprite_frag},background:{uniforms:{uvTransform:{value:new Fi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Hi.background_vert,fragmentShader:Hi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Fi}},vertexShader:Hi.backgroundCube_vert,fragmentShader:Hi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hi.cube_vert,fragmentShader:Hi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hi.equirect_vert,fragmentShader:Hi.equirect_frag},distanceRGBA:{uniforms:ec([_n.common,_n.displacementmap,{referencePosition:{value:new je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hi.distanceRGBA_vert,fragmentShader:Hi.distanceRGBA_frag},shadow:{uniforms:ec([_n.lights,_n.fog,{color:{value:new bn(0)},opacity:{value:1}}]),vertexShader:Hi.shadow_vert,fragmentShader:Hi.shadow_frag}};qA.physical={uniforms:ec([qA.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Fi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Fi},clearcoatNormalScale:{value:new Xt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Fi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Fi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Fi},sheen:{value:0},sheenColor:{value:new bn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Fi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Fi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Fi},transmissionSamplerSize:{value:new Xt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Fi},attenuationDistance:{value:0},attenuationColor:{value:new bn(0)},specularColor:{value:new bn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Fi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Fi},anisotropyVector:{value:new Xt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Fi}}]),vertexShader:Hi.meshphysical_vert,fragmentShader:Hi.meshphysical_frag};const _w={r:0,b:0,g:0},Nm=new Bu,Jee=new oi;function $ee(n,e,t,i,r,s,a){const o=new bn(0);let l=s===!0?0:1,c,A,f=null,p=0,d=null;function y(E){let C=E.isScene===!0?E.background:null;return C&&C.isTexture&&(C=(E.backgroundBlurriness>0?t:e).get(C)),C}function x(E){let C=!1;const T=y(E);T===null?b(o,l):T&&T.isColor&&(b(T,1),C=!0);const M=n.xr.getEnvironmentBlendMode();M==="additive"?i.buffers.color.setClear(0,0,0,1,a):M==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(E,C){const T=y(C);T&&(T.isCubeTexture||T.mapping===Gy)?(A===void 0&&(A=new sa(new Ug(1,1,1),new oc({name:"BackgroundCubeMaterial",uniforms:Fy(qA.backgroundCube.uniforms),vertexShader:qA.backgroundCube.vertexShader,fragmentShader:qA.backgroundCube.fragmentShader,side:rc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),A.geometry.deleteAttribute("normal"),A.geometry.deleteAttribute("uv"),A.onBeforeRender=function(M,F,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(A.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(A)),Nm.copy(C.backgroundRotation),Nm.x*=-1,Nm.y*=-1,Nm.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Nm.y*=-1,Nm.z*=-1),A.material.uniforms.envMap.value=T,A.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,A.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,A.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,A.material.uniforms.backgroundRotation.value.setFromMatrix4(Jee.makeRotationFromEuler(Nm)),A.material.toneMapped=Ji.getTransfer(T.colorSpace)!==Zr,(f!==T||p!==T.version||d!==n.toneMapping)&&(A.material.needsUpdate=!0,f=T,p=T.version,d=n.toneMapping),A.layers.enableAll(),E.unshift(A,A.geometry,A.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new sa(new jp(2,2),new oc({name:"BackgroundMaterial",uniforms:Fy(qA.background.uniforms),vertexShader:qA.background.vertexShader,fragmentShader:qA.background.fragmentShader,side:Zf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.toneMapped=Ji.getTransfer(T.colorSpace)!==Zr,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||p!==T.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,f=T,p=T.version,d=n.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null))}function b(E,C){E.getRGB(_w,$H(n)),i.buffers.color.setClear(_w.r,_w.g,_w.b,C,a)}function _(){A!==void 0&&(A.geometry.dispose(),A.material.dispose(),A=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(E,C=1){o.set(E),l=C,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,b(o,l)},render:x,addToRenderList:w,dispose:_}}function ete(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,a=!1;function o(R,k,Q,J,Y){let ne=!1;const W=f(J,Q,k);s!==W&&(s=W,c(s.object)),ne=d(R,J,Q,Y),ne&&y(R,J,Q,Y),Y!==null&&e.update(Y,n.ELEMENT_ARRAY_BUFFER),(ne||a)&&(a=!1,C(R,k,Q,J),Y!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))}function l(){return n.createVertexArray()}function c(R){return n.bindVertexArray(R)}function A(R){return n.deleteVertexArray(R)}function f(R,k,Q){const J=Q.wireframe===!0;let Y=i[R.id];Y===void 0&&(Y={},i[R.id]=Y);let ne=Y[k.id];ne===void 0&&(ne={},Y[k.id]=ne);let W=ne[J];return W===void 0&&(W=p(l()),ne[J]=W),W}function p(R){const k=[],Q=[],J=[];for(let Y=0;Y<t;Y++)k[Y]=0,Q[Y]=0,J[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:Q,attributeDivisors:J,object:R,attributes:{},index:null}}function d(R,k,Q,J){const Y=s.attributes,ne=k.attributes;let W=0;const q=Q.getAttributes();for(const $ in q)if(q[$].location>=0){const V=Y[$];let te=ne[$];if(te===void 0&&($==="instanceMatrix"&&R.instanceMatrix&&(te=R.instanceMatrix),$==="instanceColor"&&R.instanceColor&&(te=R.instanceColor)),V===void 0||V.attribute!==te||te&&V.data!==te.data)return!0;W++}return s.attributesNum!==W||s.index!==J}function y(R,k,Q,J){const Y={},ne=k.attributes;let W=0;const q=Q.getAttributes();for(const $ in q)if(q[$].location>=0){let V=ne[$];V===void 0&&($==="instanceMatrix"&&R.instanceMatrix&&(V=R.instanceMatrix),$==="instanceColor"&&R.instanceColor&&(V=R.instanceColor));const te={};te.attribute=V,V&&V.data&&(te.data=V.data),Y[$]=te,W++}s.attributes=Y,s.attributesNum=W,s.index=J}function x(){const R=s.newAttributes;for(let k=0,Q=R.length;k<Q;k++)R[k]=0}function w(R){b(R,0)}function b(R,k){const Q=s.newAttributes,J=s.enabledAttributes,Y=s.attributeDivisors;Q[R]=1,J[R]===0&&(n.enableVertexAttribArray(R),J[R]=1),Y[R]!==k&&(n.vertexAttribDivisor(R,k),Y[R]=k)}function _(){const R=s.newAttributes,k=s.enabledAttributes;for(let Q=0,J=k.length;Q<J;Q++)k[Q]!==R[Q]&&(n.disableVertexAttribArray(Q),k[Q]=0)}function E(R,k,Q,J,Y,ne,W){W===!0?n.vertexAttribIPointer(R,k,Q,Y,ne):n.vertexAttribPointer(R,k,Q,J,Y,ne)}function C(R,k,Q,J){x();const Y=J.attributes,ne=Q.getAttributes(),W=k.defaultAttributeValues;for(const q in ne){const $=ne[q];if($.location>=0){let re=Y[q];if(re===void 0&&(q==="instanceMatrix"&&R.instanceMatrix&&(re=R.instanceMatrix),q==="instanceColor"&&R.instanceColor&&(re=R.instanceColor)),re!==void 0){const V=re.normalized,te=re.itemSize,z=e.get(re);if(z===void 0)continue;const j=z.buffer,oe=z.type,fe=z.bytesPerElement,ue=oe===n.INT||oe===n.UNSIGNED_INT||re.gpuType===Ix;if(re.isInterleavedBufferAttribute){const Ae=re.data,he=Ae.stride,_e=re.offset;if(Ae.isInstancedInterleavedBuffer){for(let be=0;be<$.locationSize;be++)b($.location+be,Ae.meshPerAttribute);R.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let be=0;be<$.locationSize;be++)w($.location+be);n.bindBuffer(n.ARRAY_BUFFER,j);for(let be=0;be<$.locationSize;be++)E($.location+be,te/$.locationSize,oe,V,he*fe,(_e+te/$.locationSize*be)*fe,ue)}else{if(re.isInstancedBufferAttribute){for(let Ae=0;Ae<$.locationSize;Ae++)b($.location+Ae,re.meshPerAttribute);R.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Ae=0;Ae<$.locationSize;Ae++)w($.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,j);for(let Ae=0;Ae<$.locationSize;Ae++)E($.location+Ae,te/$.locationSize,oe,V,te*fe,te/$.locationSize*Ae*fe,ue)}}else if(W!==void 0){const V=W[q];if(V!==void 0)switch(V.length){case 2:n.vertexAttrib2fv($.location,V);break;case 3:n.vertexAttrib3fv($.location,V);break;case 4:n.vertexAttrib4fv($.location,V);break;default:n.vertexAttrib1fv($.location,V)}}}}_()}function T(){L();for(const R in i){const k=i[R];for(const Q in k){const J=k[Q];for(const Y in J)A(J[Y].object),delete J[Y];delete k[Q]}delete i[R]}}function M(R){if(i[R.id]===void 0)return;const k=i[R.id];for(const Q in k){const J=k[Q];for(const Y in J)A(J[Y].object),delete J[Y];delete k[Q]}delete i[R.id]}function F(R){for(const k in i){const Q=i[k];if(Q[R.id]===void 0)continue;const J=Q[R.id];for(const Y in J)A(J[Y].object),delete J[Y];delete Q[R.id]}}function L(){N(),a=!0,s!==r&&(s=r,c(s.object))}function N(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:L,resetDefaultState:N,dispose:T,releaseStatesOfGeometry:M,releaseStatesOfProgram:F,initAttributes:x,enableAttribute:w,disableUnusedAttributes:_}}function tte(n,e,t){let i;function r(c){i=c}function s(c,A){n.drawArrays(i,c,A),t.update(A,i,1)}function a(c,A,f){f!==0&&(n.drawArraysInstanced(i,c,A,f),t.update(A,i,f))}function o(c,A,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,A,0,f);let d=0;for(let y=0;y<f;y++)d+=A[y];t.update(d,i,1)}function l(c,A,f,p){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let y=0;y<c.length;y++)a(c[y],A[y],p[y]);else{d.multiDrawArraysInstancedWEBGL(i,c,0,A,0,p,0,f);let y=0;for(let x=0;x<f;x++)y+=A[x]*p[x];t.update(y,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function nte(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(F){return!(F!==Ha&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(F){const L=F===Ja&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==ac&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==Ks&&!L)}function l(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const A=l(c);A!==c&&(Sn("WebGLRenderer:",c,"not supported, using",A,"instead."),c=A);const f=t.logarithmicDepthBuffer===!0,p=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),E=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),T=y>0,M=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:p,maxTextures:d,maxVertexTextures:y,maxTextureSize:x,maxCubemapSize:w,maxAttributes:b,maxVertexUniforms:_,maxVaryings:E,maxFragmentUniforms:C,vertexTextures:T,maxSamples:M}}function ite(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new td,o=new Fi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const d=f.length!==0||p||i!==0||r;return r=p,i=f.length,d},this.beginShadows=function(){s=!0,A(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=A(f,p,0)},this.setState=function(f,p,d){const y=f.clippingPlanes,x=f.clipIntersection,w=f.clipShadows,b=n.get(f);if(!r||y===null||y.length===0||s&&!w)s?A(null):c();else{const _=s?0:i,E=_*4;let C=b.clippingState||null;l.value=C,C=A(y,p,E,d);for(let T=0;T!==E;++T)C[T]=t[T];b.clippingState=C,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function A(f,p,d,y){const x=f!==null?f.length:0;let w=null;if(x!==0){if(w=l.value,y!==!0||w===null){const b=d+x*4,_=p.matrixWorldInverse;o.getNormalMatrix(_),(w===null||w.length<b)&&(w=new Float32Array(b));for(let E=0,C=d;E!==x;++E,C+=4)a.copy(f[E]).applyMatrix4(_,o),a.normal.toArray(w,C),w[C+3]=a.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,w}}function rte(n){let e=new WeakMap;function t(a,o){return o===xy?a.mapping=Jf:o===tx&&(a.mapping=Fp),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===xy||o===tx)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new eU(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const yp=4,tR=[.125,.215,.35,.446,.526,.582],Vm=20,ste=256,jv=new Yf,nR=new bn;let mC=null,gC=0,yC=0,vC=!1;const ate=new je;class gT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=ate}=s;mC=this._renderer.getRenderTarget(),gC=this._renderer.getActiveCubeFace(),yC=this._renderer.getActiveMipmapLevel(),vC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(mC,gC,yC),this._renderer.xr.enabled=vC,e.scissorTest=!1,U0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Jf||e.mapping===Fp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mC=this._renderer.getRenderTarget(),gC=this._renderer.getActiveCubeFace(),yC=this._renderer.getActiveMipmapLevel(),vC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ur,minFilter:ur,generateMipmaps:!1,type:Ja,format:Ha,colorSpace:$a,depthBuffer:!1},r=iR(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=iR(e,t,i);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=ote(s)),this._blurMaterial=cte(s,e,t)}return r}_compileMaterial(e){const t=new sa(new Ti,e);this._renderer.compile(t,jv)}_sceneToCubeUV(e,t,i,r,s){const l=new _a(90,1,t,i),c=[1,-1,1,1,1,1],A=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,d=f.toneMapping;f.getClearColor(nR),f.toneMapping=Xf,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(r),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new sa(new Ug,new jc({name:"PMREM.Background",side:rc,depthWrite:!1,depthTest:!1})));const x=this._backgroundBox,w=x.material;let b=!1;const _=e.background;_?_.isColor&&(w.color.copy(_),e.background=null,b=!0):(w.color.copy(nR),b=!0);for(let E=0;E<6;E++){const C=E%3;C===0?(l.up.set(0,c[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+A[E],s.y,s.z)):C===1?(l.up.set(0,0,c[E]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+A[E],s.z)):(l.up.set(0,c[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+A[E]));const T=this._cubeSize;U0(r,C*T,E>2?T:0,T,T),f.setRenderTarget(r),b&&f.render(x,l),f.render(e,l)}f.toneMapping=d,f.autoClear=p,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Jf||e.mapping===Fp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rR());const s=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;U0(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,jv)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let s=1;s<r;s++)this._applyGGXFilter(e,s-1,s);t.autoClear=i}_applyGGXFilter(e,t,i){const r=this._renderer,s=this._pingPongRenderTarget;if(this._ggxMaterial===null){const _=3*Math.max(this._cubeSize,16),E=4*this._cubeSize;this._ggxMaterial=lte(this._lodMax,_,E)}const a=this._ggxMaterial,o=this._lodMeshes[i];o.material=a;const l=a.uniforms,c=i/(this._lodMeshes.length-1),A=t/(this._lodMeshes.length-1),f=Math.sqrt(c*c-A*A),p=.05+c*.95,d=f*p,{_lodMax:y}=this,x=this._sizeLods[i],w=3*x*(i>y-yp?i-y+yp:0),b=4*(this._cubeSize-x);l.envMap.value=e.texture,l.roughness.value=d,l.mipInt.value=y-t,U0(s,w,b,3*x,2*x),r.setRenderTarget(s),r.render(o,jv),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=y-i,U0(e,w,b,3*x,2*x),r.setRenderTarget(e),r.render(o,jv)}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&bi("blur direction must be either latitudinal or longitudinal!");const A=3,f=this._lodMeshes[r];f.material=c;const p=c.uniforms,d=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Vm-1),x=s/y,w=isFinite(s)?1+Math.floor(A*x):Vm;w>Vm&&Sn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Vm}`);const b=[];let _=0;for(let F=0;F<Vm;++F){const L=F/x,N=Math.exp(-L*L/2);b.push(N),F===0?_+=N:F<w&&(_+=2*N)}for(let F=0;F<b.length;F++)b[F]=b[F]/_;p.envMap.value=e.texture,p.samples.value=w,p.weights.value=b,p.latitudinal.value=a==="latitudinal",o&&(p.poleAxis.value=o);const{_lodMax:E}=this;p.dTheta.value=y,p.mipInt.value=E-i;const C=this._sizeLods[r],T=3*C*(r>E-yp?r-E+yp:0),M=4*(this._cubeSize-C);U0(t,T,M,3*C,2*C),l.setRenderTarget(t),l.render(f,jv)}}function ote(n){const e=[],t=[],i=[];let r=n;const s=n-yp+1+tR.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);e.push(o);let l=1/o;a>n-yp?l=tR[a-n+yp-1]:a===0&&(l=0),t.push(l);const c=1/(o-2),A=-c,f=1+c,p=[A,A,f,A,f,f,A,A,f,f,A,f],d=6,y=6,x=3,w=2,b=1,_=new Float32Array(x*y*d),E=new Float32Array(w*y*d),C=new Float32Array(b*y*d);for(let M=0;M<d;M++){const F=M%3*2/3-1,L=M>2?0:-1,N=[F,L,0,F+2/3,L,0,F+2/3,L+1,0,F,L,0,F+2/3,L+1,0,F,L+1,0];_.set(N,x*y*M),E.set(p,w*y*M);const R=[M,M,M,M,M,M];C.set(R,b*y*M)}const T=new Ti;T.setAttribute("position",new Pr(_,x)),T.setAttribute("uv",new Pr(E,w)),T.setAttribute("faceIndex",new Pr(C,b)),i.push(new sa(T,null)),r>yp&&r--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function iR(n,e,t){const i=new Eu(n,e,t);return i.texture.mapping=Gy,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function U0(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function lte(n,e,t){return new oc({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:ste,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:vE(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:YA,depthTest:!1,depthWrite:!1})}function cte(n,e,t){const i=new Float32Array(Vm),r=new je(0,1,0);return new oc({name:"SphericalGaussianBlur",defines:{n:Vm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:YA,depthTest:!1,depthWrite:!1})}function rR(){return new oc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:YA,depthTest:!1,depthWrite:!1})}function sR(){return new oc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:YA,depthTest:!1,depthWrite:!1})}function vE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ute(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===xy||l===tx,A=l===Jf||l===Fp;if(c||A){let f=e.get(o);const p=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==p)return t===null&&(t=new gT(n)),f=c?t.fromEquirectangular(o,f):t.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const d=o.image;return c&&d&&d.height>0||A&&d&&r(d)?(t===null&&(t=new gT(n)),f=c?t.fromEquirectangular(o):t.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",s),f.texture):null}}}return o}function r(o){let l=0;const c=6;for(let A=0;A<c;A++)o[A]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function Ate(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const r=n.getExtension(i);return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Ty("WebGLRenderer: "+i+" extension not supported."),r}}}function fte(n,e,t,i){const r={},s=new WeakMap;function a(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",a),delete r[p.id];const d=s.get(p);d&&(e.remove(d),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function o(f,p){return r[p.id]===!0||(p.addEventListener("dispose",a),r[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const d in p)e.update(p[d],n.ARRAY_BUFFER)}function c(f){const p=[],d=f.index,y=f.attributes.position;let x=0;if(d!==null){const _=d.array;x=d.version;for(let E=0,C=_.length;E<C;E+=3){const T=_[E+0],M=_[E+1],F=_[E+2];p.push(T,M,M,F,F,T)}}else if(y!==void 0){const _=y.array;x=y.version;for(let E=0,C=_.length/3-1;E<C;E+=3){const T=E+0,M=E+1,F=E+2;p.push(T,M,M,F,F,T)}}else return;const w=new(WH(p)?$4:J4)(p,1);w.version=x;const b=s.get(f);b&&e.remove(b),s.set(f,w)}function A(f){const p=s.get(f);if(p){const d=f.index;d!==null&&p.version<d.version&&c(f)}else c(f);return s.get(f)}return{get:o,update:l,getWireframeAttribute:A}}function hte(n,e,t){let i;function r(p){i=p}let s,a;function o(p){s=p.type,a=p.bytesPerElement}function l(p,d){n.drawElements(i,d,s,p*a),t.update(d,i,1)}function c(p,d,y){y!==0&&(n.drawElementsInstanced(i,d,s,p*a,y),t.update(d,i,y))}function A(p,d,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,d,0,s,p,0,y);let w=0;for(let b=0;b<y;b++)w+=d[b];t.update(w,i,1)}function f(p,d,y,x){if(y===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let b=0;b<p.length;b++)c(p[b]/a,d[b],x[b]);else{w.multiDrawElementsInstancedWEBGL(i,d,0,s,p,0,x,0,y);let b=0;for(let _=0;_<y;_++)b+=d[_]*x[_];t.update(b,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=A,this.renderMultiDrawInstances=f}function dte(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:bi("WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function pte(n,e,t){const i=new WeakMap,r=new Sr;function s(a,o,l){const c=a.morphTargetInfluences,A=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=A!==void 0?A.length:0;let p=i.get(o);if(p===void 0||p.count!==f){let N=function(){F.dispose(),i.delete(o),o.removeEventListener("dispose",N)};p!==void 0&&p.texture.dispose();const d=o.morphAttributes.position!==void 0,y=o.morphAttributes.normal!==void 0,x=o.morphAttributes.color!==void 0,w=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],_=o.morphAttributes.color||[];let E=0;d===!0&&(E=1),y===!0&&(E=2),x===!0&&(E=3);let C=o.attributes.position.count*E,T=1;C>e.maxTextureSize&&(T=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const M=new Float32Array(C*T*4*f),F=new XS(M,C,T,f);F.type=Ks,F.needsUpdate=!0;const L=E*4;for(let R=0;R<f;R++){const k=w[R],Q=b[R],J=_[R],Y=C*T*4*R;for(let ne=0;ne<k.count;ne++){const W=ne*L;d===!0&&(r.fromBufferAttribute(k,ne),M[Y+W+0]=r.x,M[Y+W+1]=r.y,M[Y+W+2]=r.z,M[Y+W+3]=0),y===!0&&(r.fromBufferAttribute(Q,ne),M[Y+W+4]=r.x,M[Y+W+5]=r.y,M[Y+W+6]=r.z,M[Y+W+7]=0),x===!0&&(r.fromBufferAttribute(J,ne),M[Y+W+8]=r.x,M[Y+W+9]=r.y,M[Y+W+10]=r.z,M[Y+W+11]=J.itemSize===4?r.w:1)}}p={count:f,texture:F,size:new Xt(C,T)},i.set(o,p),o.addEventListener("dispose",N)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let d=0;for(let x=0;x<c.length;x++)d+=c[x];const y=o.morphTargetsRelative?1:1-d;l.getUniforms().setValue(n,"morphTargetBaseInfluence",y),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function mte(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,A=l.geometry,f=e.get(l,A);if(r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return f}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const WQ=new Kr,aR=new rE(1,1),XQ=new XS,YQ=new YS,ZQ=new Dx,oR=[],lR=[],cR=new Float32Array(16),uR=new Float32Array(9),AR=new Float32Array(4);function Wy(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=oR[r];if(s===void 0&&(s=new Float32Array(r),oR[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function po(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function mo(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function xE(n,e){let t=lR[e];t===void 0&&(t=new Int32Array(e),lR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function gte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function yte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(po(t,e))return;n.uniform2fv(this.addr,e),mo(t,e)}}function vte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(po(t,e))return;n.uniform3fv(this.addr,e),mo(t,e)}}function xte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(po(t,e))return;n.uniform4fv(this.addr,e),mo(t,e)}}function bte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(po(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),mo(t,e)}else{if(po(t,i))return;AR.set(i),n.uniformMatrix2fv(this.addr,!1,AR),mo(t,i)}}function wte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(po(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),mo(t,e)}else{if(po(t,i))return;uR.set(i),n.uniformMatrix3fv(this.addr,!1,uR),mo(t,i)}}function _te(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(po(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),mo(t,e)}else{if(po(t,i))return;cR.set(i),n.uniformMatrix4fv(this.addr,!1,cR),mo(t,i)}}function Ste(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ete(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(po(t,e))return;n.uniform2iv(this.addr,e),mo(t,e)}}function Bte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(po(t,e))return;n.uniform3iv(this.addr,e),mo(t,e)}}function Cte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(po(t,e))return;n.uniform4iv(this.addr,e),mo(t,e)}}function Mte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Tte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(po(t,e))return;n.uniform2uiv(this.addr,e),mo(t,e)}}function Ute(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(po(t,e))return;n.uniform3uiv(this.addr,e),mo(t,e)}}function Nte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(po(t,e))return;n.uniform4uiv(this.addr,e),mo(t,e)}}function Fte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(aR.compareFunction=X4,s=aR):s=WQ,t.setTexture2D(e||s,r)}function Ite(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||YQ,r)}function Lte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||ZQ,r)}function Rte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||XQ,r)}function Dte(n){switch(n){case 5126:return gte;case 35664:return yte;case 35665:return vte;case 35666:return xte;case 35674:return bte;case 35675:return wte;case 35676:return _te;case 5124:case 35670:return Ste;case 35667:case 35671:return Ete;case 35668:case 35672:return Bte;case 35669:case 35673:return Cte;case 5125:return Mte;case 36294:return Tte;case 36295:return Ute;case 36296:return Nte;case 35678:case 36198:case 36298:case 36306:case 35682:return Fte;case 35679:case 36299:case 36307:return Ite;case 35680:case 36300:case 36308:case 36293:return Lte;case 36289:case 36303:case 36311:case 36292:return Rte}}function Ote(n,e){n.uniform1fv(this.addr,e)}function Pte(n,e){const t=Wy(e,this.size,2);n.uniform2fv(this.addr,t)}function kte(n,e){const t=Wy(e,this.size,3);n.uniform3fv(this.addr,t)}function Hte(n,e){const t=Wy(e,this.size,4);n.uniform4fv(this.addr,t)}function Qte(n,e){const t=Wy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function zte(n,e){const t=Wy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function jte(n,e){const t=Wy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Vte(n,e){n.uniform1iv(this.addr,e)}function Gte(n,e){n.uniform2iv(this.addr,e)}function Kte(n,e){n.uniform3iv(this.addr,e)}function qte(n,e){n.uniform4iv(this.addr,e)}function Wte(n,e){n.uniform1uiv(this.addr,e)}function Xte(n,e){n.uniform2uiv(this.addr,e)}function Yte(n,e){n.uniform3uiv(this.addr,e)}function Zte(n,e){n.uniform4uiv(this.addr,e)}function Jte(n,e,t){const i=this.cache,r=e.length,s=xE(t,r);po(i,s)||(n.uniform1iv(this.addr,s),mo(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||WQ,s[a])}function $te(n,e,t){const i=this.cache,r=e.length,s=xE(t,r);po(i,s)||(n.uniform1iv(this.addr,s),mo(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||YQ,s[a])}function ene(n,e,t){const i=this.cache,r=e.length,s=xE(t,r);po(i,s)||(n.uniform1iv(this.addr,s),mo(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||ZQ,s[a])}function tne(n,e,t){const i=this.cache,r=e.length,s=xE(t,r);po(i,s)||(n.uniform1iv(this.addr,s),mo(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||XQ,s[a])}function nne(n){switch(n){case 5126:return Ote;case 35664:return Pte;case 35665:return kte;case 35666:return Hte;case 35674:return Qte;case 35675:return zte;case 35676:return jte;case 5124:case 35670:return Vte;case 35667:case 35671:return Gte;case 35668:case 35672:return Kte;case 35669:case 35673:return qte;case 5125:return Wte;case 36294:return Xte;case 36295:return Yte;case 36296:return Zte;case 35678:case 36198:case 36298:case 36306:case 35682:return Jte;case 35679:case 36299:case 36307:return $te;case 35680:case 36300:case 36308:case 36293:return ene;case 36289:case 36303:case 36311:case 36292:return tne}}class ine{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Dte(t.type)}}class rne{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=nne(t.type)}}class sne{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const xC=/(\w+)(\])?(\[|\.)?/g;function fR(n,e){n.seq.push(e),n.map[e.id]=e}function ane(n,e,t){const i=n.name,r=i.length;for(xC.lastIndex=0;;){const s=xC.exec(i),a=xC.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){fR(t,c===void 0?new ine(o,n,e):new rne(o,n,e));break}else{let f=t.map[o];f===void 0&&(f=new sne(o),fR(t,f)),t=f}}}class J2{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);ane(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function hR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const one=37297;let lne=0;function cne(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const dR=new Fi;function une(n){Ji._getMatrix(dR,Ji.workingColorSpace,n);const e=`mat3( ${dR.elements.map(t=>t.toFixed(4))} )`;switch(Ji.getTransfer(n)){case ix:return[e,"LinearTransferOETF"];case Zr:return[e,"sRGBTransferOETF"];default:return Sn("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function pR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),s=(n.getShaderInfoLog(e)||"").trim();if(i&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+s+`

`+cne(n.getShaderSource(e),o)}else return s}function Ane(n,e){const t=une(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function fne(n,e){let t;switch(e){case CH:t="Linear";break;case MH:t="Reinhard";break;case TH:t="Cineon";break;case z4:t="ACESFilmic";break;case NH:t="AgX";break;case FH:t="Neutral";break;case UH:t="Custom";break;default:Sn("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Sw=new je;function hne(){Ji.getLuminanceCoefficients(Sw);const n=Sw.x.toFixed(4),e=Sw.y.toFixed(4),t=Sw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function dne(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(d1).join(`
`)}function pne(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function mne(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function d1(n){return n!==""}function mR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gne=/^[ \t]*#include +<([\w\d./]+)>/gm;function yT(n){return n.replace(gne,vne)}const yne=new Map;function vne(n,e){let t=Hi[e];if(t===void 0){const i=yne.get(e);if(i!==void 0)t=Hi[i],Sn('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return yT(t)}const xne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yR(n){return n.replace(xne,bne)}function bne(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function vR(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function wne(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===kS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===C1?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===KA&&(e="SHADOWMAP_TYPE_VSM"),e}function _ne(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Jf:case Fp:e="ENVMAP_TYPE_CUBE";break;case Gy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Sne(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Fp:e="ENVMAP_MODE_REFRACTION";break}return e}function Ene(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Fx:e="ENVMAP_BLENDING_MULTIPLY";break;case EH:e="ENVMAP_BLENDING_MIX";break;case BH:e="ENVMAP_BLENDING_ADD";break}return e}function Bne(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function Cne(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=wne(t),c=_ne(t),A=Sne(t),f=Ene(t),p=Bne(t),d=dne(t),y=pne(s),x=r.createProgram();let w,b,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(d1).join(`
`),w.length>0&&(w+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(d1).join(`
`),b.length>0&&(b+=`
`)):(w=[vR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+A:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(d1).join(`
`),b=[vR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+A:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xf?"#define TONE_MAPPING":"",t.toneMapping!==Xf?Hi.tonemapping_pars_fragment:"",t.toneMapping!==Xf?fne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Hi.colorspace_pars_fragment,Ane("linearToOutputTexel",t.outputColorSpace),hne(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(d1).join(`
`)),a=yT(a),a=mR(a,t),a=gR(a,t),o=yT(o),o=mR(o,t),o=gR(o,t),a=yR(a),o=yR(o),t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,w=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,b=["#define varying in",t.glslVersion===cT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const E=_+w+a,C=_+b+o,T=hR(r,r.VERTEX_SHADER,E),M=hR(r,r.FRAGMENT_SHADER,C);r.attachShader(x,T),r.attachShader(x,M),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function F(k){if(n.debug.checkShaderErrors){const Q=r.getProgramInfoLog(x)||"",J=r.getShaderInfoLog(T)||"",Y=r.getShaderInfoLog(M)||"",ne=Q.trim(),W=J.trim(),q=Y.trim();let $=!0,re=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,T,M);else{const V=pR(r,T,"vertex"),te=pR(r,M,"fragment");bi("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+ne+`
`+V+`
`+te)}else ne!==""?Sn("WebGLProgram: Program Info Log:",ne):(W===""||q==="")&&(re=!1);re&&(k.diagnostics={runnable:$,programLog:ne,vertexShader:{log:W,prefix:w},fragmentShader:{log:q,prefix:b}})}r.deleteShader(T),r.deleteShader(M),L=new J2(r,x),N=mne(r,x)}let L;this.getUniforms=function(){return L===void 0&&F(this),L};let N;this.getAttributes=function(){return N===void 0&&F(this),N};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=r.getProgramParameter(x,one)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=lne++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=M,this}let Mne=0;class Tne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Une(e),t.set(e,i)),i}}class Une{constructor(e){this.id=Mne++,this.code=e,this.usedTimes=0}}function Nne(n,e,t,i,r,s,a){const o=new Ny,l=new Tne,c=new Set,A=[],f=r.logarithmicDepthBuffer,p=r.vertexTextures;let d=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(N){return c.add(N),N===0?"uv":`uv${N}`}function w(N,R,k,Q,J){const Y=Q.fog,ne=J.geometry,W=N.isMeshStandardMaterial?Q.environment:null,q=(N.isMeshStandardMaterial?t:e).get(N.envMap||W),$=q&&q.mapping===Gy?q.image.height:null,re=y[N.type];N.precision!==null&&(d=r.getMaxPrecision(N.precision),d!==N.precision&&Sn("WebGLProgram.getParameters:",N.precision,"not supported, using",d,"instead."));const V=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,te=V!==void 0?V.length:0;let z=0;ne.morphAttributes.position!==void 0&&(z=1),ne.morphAttributes.normal!==void 0&&(z=2),ne.morphAttributes.color!==void 0&&(z=3);let j,oe,fe,ue;if(re){const Vn=qA[re];j=Vn.vertexShader,oe=Vn.fragmentShader}else j=N.vertexShader,oe=N.fragmentShader,l.update(N),fe=l.getVertexShaderID(N),ue=l.getFragmentShaderID(N);const Ae=n.getRenderTarget(),he=n.state.buffers.depth.getReversed(),_e=J.isInstancedMesh===!0,be=J.isBatchedMesh===!0,Ne=!!N.map,ze=!!N.matcap,$e=!!q,He=!!N.aoMap,K=!!N.lightMap,xe=!!N.bumpMap,Pe=!!N.normalMap,We=!!N.displacementMap,Le=!!N.emissiveMap,tt=!!N.metalnessMap,Ee=!!N.roughnessMap,et=N.anisotropy>0,me=N.clearcoat>0,le=N.dispersion>0,Je=N.iridescence>0,P=N.sheen>0,Z=N.transmission>0,se=et&&!!N.anisotropyMap,we=me&&!!N.clearcoatMap,Re=me&&!!N.clearcoatNormalMap,Ze=me&&!!N.clearcoatRoughnessMap,dt=Je&&!!N.iridescenceMap,Me=Je&&!!N.iridescenceThicknessMap,Oe=P&&!!N.sheenColorMap,bt=P&&!!N.sheenRoughnessMap,Fe=!!N.specularMap,Xe=!!N.specularColorMap,ht=!!N.specularIntensityMap,Qe=Z&&!!N.transmissionMap,ot=Z&&!!N.thicknessMap,Dt=!!N.gradientMap,Rt=!!N.alphaMap,Et=N.alphaTest>0,Ct=!!N.alphaHash,an=!!N.extensions;let pn=Xf;N.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(pn=n.toneMapping);const Xn={shaderID:re,shaderType:N.type,shaderName:N.name,vertexShader:j,fragmentShader:oe,defines:N.defines,customVertexShaderID:fe,customFragmentShaderID:ue,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:d,batching:be,batchingColor:be&&J._colorsTexture!==null,instancing:_e,instancingColor:_e&&J.instanceColor!==null,instancingMorph:_e&&J.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Ae===null?n.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:$a,alphaToCoverage:!!N.alphaToCoverage,map:Ne,matcap:ze,envMap:$e,envMapMode:$e&&q.mapping,envMapCubeUVHeight:$,aoMap:He,lightMap:K,bumpMap:xe,normalMap:Pe,displacementMap:p&&We,emissiveMap:Le,normalMapObjectSpace:Pe&&N.normalMapType===HH,normalMapTangentSpace:Pe&&N.normalMapType===Qp,metalnessMap:tt,roughnessMap:Ee,anisotropy:et,anisotropyMap:se,clearcoat:me,clearcoatMap:we,clearcoatNormalMap:Re,clearcoatRoughnessMap:Ze,dispersion:le,iridescence:Je,iridescenceMap:dt,iridescenceThicknessMap:Me,sheen:P,sheenColorMap:Oe,sheenRoughnessMap:bt,specularMap:Fe,specularColorMap:Xe,specularIntensityMap:ht,transmission:Z,transmissionMap:Qe,thicknessMap:ot,gradientMap:Dt,opaque:N.transparent===!1&&N.blending===ag&&N.alphaToCoverage===!1,alphaMap:Rt,alphaTest:Et,alphaHash:Ct,combine:N.combine,mapUv:Ne&&x(N.map.channel),aoMapUv:He&&x(N.aoMap.channel),lightMapUv:K&&x(N.lightMap.channel),bumpMapUv:xe&&x(N.bumpMap.channel),normalMapUv:Pe&&x(N.normalMap.channel),displacementMapUv:We&&x(N.displacementMap.channel),emissiveMapUv:Le&&x(N.emissiveMap.channel),metalnessMapUv:tt&&x(N.metalnessMap.channel),roughnessMapUv:Ee&&x(N.roughnessMap.channel),anisotropyMapUv:se&&x(N.anisotropyMap.channel),clearcoatMapUv:we&&x(N.clearcoatMap.channel),clearcoatNormalMapUv:Re&&x(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ze&&x(N.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&x(N.iridescenceMap.channel),iridescenceThicknessMapUv:Me&&x(N.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&x(N.sheenColorMap.channel),sheenRoughnessMapUv:bt&&x(N.sheenRoughnessMap.channel),specularMapUv:Fe&&x(N.specularMap.channel),specularColorMapUv:Xe&&x(N.specularColorMap.channel),specularIntensityMapUv:ht&&x(N.specularIntensityMap.channel),transmissionMapUv:Qe&&x(N.transmissionMap.channel),thicknessMapUv:ot&&x(N.thicknessMap.channel),alphaMapUv:Rt&&x(N.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(Pe||et),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:J.isPoints===!0&&!!ne.attributes.uv&&(Ne||Rt),fog:!!Y,useFog:N.fog===!0,fogExp2:!!Y&&Y.isFogExp2,flatShading:N.flatShading===!0&&N.wireframe===!1,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:he,skinning:J.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:z,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:N.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:pn,decodeVideoTexture:Ne&&N.map.isVideoTexture===!0&&Ji.getTransfer(N.map.colorSpace)===Zr,decodeVideoTextureEmissive:Le&&N.emissiveMap.isVideoTexture===!0&&Ji.getTransfer(N.emissiveMap.colorSpace)===Zr,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===tA,flipSided:N.side===rc,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:an&&N.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(an&&N.extensions.multiDraw===!0||be)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Xn.vertexUv1s=c.has(1),Xn.vertexUv2s=c.has(2),Xn.vertexUv3s=c.has(3),c.clear(),Xn}function b(N){const R=[];if(N.shaderID?R.push(N.shaderID):(R.push(N.customVertexShaderID),R.push(N.customFragmentShaderID)),N.defines!==void 0)for(const k in N.defines)R.push(k),R.push(N.defines[k]);return N.isRawShaderMaterial===!1&&(_(R,N),E(R,N),R.push(n.outputColorSpace)),R.push(N.customProgramCacheKey),R.join()}function _(N,R){N.push(R.precision),N.push(R.outputColorSpace),N.push(R.envMapMode),N.push(R.envMapCubeUVHeight),N.push(R.mapUv),N.push(R.alphaMapUv),N.push(R.lightMapUv),N.push(R.aoMapUv),N.push(R.bumpMapUv),N.push(R.normalMapUv),N.push(R.displacementMapUv),N.push(R.emissiveMapUv),N.push(R.metalnessMapUv),N.push(R.roughnessMapUv),N.push(R.anisotropyMapUv),N.push(R.clearcoatMapUv),N.push(R.clearcoatNormalMapUv),N.push(R.clearcoatRoughnessMapUv),N.push(R.iridescenceMapUv),N.push(R.iridescenceThicknessMapUv),N.push(R.sheenColorMapUv),N.push(R.sheenRoughnessMapUv),N.push(R.specularMapUv),N.push(R.specularColorMapUv),N.push(R.specularIntensityMapUv),N.push(R.transmissionMapUv),N.push(R.thicknessMapUv),N.push(R.combine),N.push(R.fogExp2),N.push(R.sizeAttenuation),N.push(R.morphTargetsCount),N.push(R.morphAttributeCount),N.push(R.numDirLights),N.push(R.numPointLights),N.push(R.numSpotLights),N.push(R.numSpotLightMaps),N.push(R.numHemiLights),N.push(R.numRectAreaLights),N.push(R.numDirLightShadows),N.push(R.numPointLightShadows),N.push(R.numSpotLightShadows),N.push(R.numSpotLightShadowsWithMaps),N.push(R.numLightProbes),N.push(R.shadowMapType),N.push(R.toneMapping),N.push(R.numClippingPlanes),N.push(R.numClipIntersection),N.push(R.depthPacking)}function E(N,R){o.disableAll(),R.supportsVertexTextures&&o.enable(0),R.instancing&&o.enable(1),R.instancingColor&&o.enable(2),R.instancingMorph&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),R.alphaHash&&o.enable(18),R.batching&&o.enable(19),R.dispersion&&o.enable(20),R.batchingColor&&o.enable(21),R.gradientMap&&o.enable(22),N.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.reversedDepthBuffer&&o.enable(4),R.skinning&&o.enable(5),R.morphTargets&&o.enable(6),R.morphNormals&&o.enable(7),R.morphColors&&o.enable(8),R.premultipliedAlpha&&o.enable(9),R.shadowMapEnabled&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),R.decodeVideoTextureEmissive&&o.enable(20),R.alphaToCoverage&&o.enable(21),N.push(o.mask)}function C(N){const R=y[N.type];let k;if(R){const Q=qA[R];k=eQ.clone(Q.uniforms)}else k=N.uniforms;return k}function T(N,R){let k;for(let Q=0,J=A.length;Q<J;Q++){const Y=A[Q];if(Y.cacheKey===R){k=Y,++k.usedTimes;break}}return k===void 0&&(k=new Cne(n,R,N,s),A.push(k)),k}function M(N){if(--N.usedTimes===0){const R=A.indexOf(N);A[R]=A[A.length-1],A.pop(),N.destroy()}}function F(N){l.remove(N)}function L(){l.dispose()}return{getParameters:w,getProgramCacheKey:b,getUniforms:C,acquireProgram:T,releaseProgram:M,releaseShaderCache:F,programs:A,dispose:L}}function Fne(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Ine(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function xR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bR(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(f,p,d,y,x,w){let b=n[e];return b===void 0?(b={id:f.id,object:f,geometry:p,material:d,groupOrder:y,renderOrder:f.renderOrder,z:x,group:w},n[e]=b):(b.id=f.id,b.object=f,b.geometry=p,b.material=d,b.groupOrder=y,b.renderOrder=f.renderOrder,b.z=x,b.group=w),e++,b}function o(f,p,d,y,x,w){const b=a(f,p,d,y,x,w);d.transmission>0?i.push(b):d.transparent===!0?r.push(b):t.push(b)}function l(f,p,d,y,x,w){const b=a(f,p,d,y,x,w);d.transmission>0?i.unshift(b):d.transparent===!0?r.unshift(b):t.unshift(b)}function c(f,p){t.length>1&&t.sort(f||Ine),i.length>1&&i.sort(p||xR),r.length>1&&r.sort(p||xR)}function A(){for(let f=e,p=n.length;f<p;f++){const d=n[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:A,sort:c}}function Lne(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new bR,n.set(i,[a])):r>=s.length?(a=new bR,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Rne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new je,color:new bn};break;case"SpotLight":t={position:new je,direction:new je,color:new bn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new je,color:new bn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new je,skyColor:new bn,groundColor:new bn};break;case"RectAreaLight":t={color:new bn,position:new je,halfWidth:new je,halfHeight:new je};break}return n[e.id]=t,t}}}function Dne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let One=0;function Pne(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function kne(n){const e=new Rne,t=Dne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new je);const r=new je,s=new oi,a=new oi;function o(c){let A=0,f=0,p=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let d=0,y=0,x=0,w=0,b=0,_=0,E=0,C=0,T=0,M=0,F=0;c.sort(Pne);for(let N=0,R=c.length;N<R;N++){const k=c[N],Q=k.color,J=k.intensity,Y=k.distance,ne=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)A+=Q.r*J,f+=Q.g*J,p+=Q.b*J;else if(k.isLightProbe){for(let W=0;W<9;W++)i.probe[W].addScaledVector(k.sh.coefficients[W],J);F++}else if(k.isDirectionalLight){const W=e.get(k);if(W.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const q=k.shadow,$=t.get(k);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,i.directionalShadow[d]=$,i.directionalShadowMap[d]=ne,i.directionalShadowMatrix[d]=k.shadow.matrix,_++}i.directional[d]=W,d++}else if(k.isSpotLight){const W=e.get(k);W.position.setFromMatrixPosition(k.matrixWorld),W.color.copy(Q).multiplyScalar(J),W.distance=Y,W.coneCos=Math.cos(k.angle),W.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),W.decay=k.decay,i.spot[x]=W;const q=k.shadow;if(k.map&&(i.spotLightMap[T]=k.map,T++,q.updateMatrices(k),k.castShadow&&M++),i.spotLightMatrix[x]=q.matrix,k.castShadow){const $=t.get(k);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,i.spotShadow[x]=$,i.spotShadowMap[x]=ne,C++}x++}else if(k.isRectAreaLight){const W=e.get(k);W.color.copy(Q).multiplyScalar(J),W.halfWidth.set(k.width*.5,0,0),W.halfHeight.set(0,k.height*.5,0),i.rectArea[w]=W,w++}else if(k.isPointLight){const W=e.get(k);if(W.color.copy(k.color).multiplyScalar(k.intensity),W.distance=k.distance,W.decay=k.decay,k.castShadow){const q=k.shadow,$=t.get(k);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,$.shadowCameraNear=q.camera.near,$.shadowCameraFar=q.camera.far,i.pointShadow[y]=$,i.pointShadowMap[y]=ne,i.pointShadowMatrix[y]=k.shadow.matrix,E++}i.point[y]=W,y++}else if(k.isHemisphereLight){const W=e.get(k);W.skyColor.copy(k.color).multiplyScalar(J),W.groundColor.copy(k.groundColor).multiplyScalar(J),i.hemi[b]=W,b++}}w>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=_n.LTC_FLOAT_1,i.rectAreaLTC2=_n.LTC_FLOAT_2):(i.rectAreaLTC1=_n.LTC_HALF_1,i.rectAreaLTC2=_n.LTC_HALF_2)),i.ambient[0]=A,i.ambient[1]=f,i.ambient[2]=p;const L=i.hash;(L.directionalLength!==d||L.pointLength!==y||L.spotLength!==x||L.rectAreaLength!==w||L.hemiLength!==b||L.numDirectionalShadows!==_||L.numPointShadows!==E||L.numSpotShadows!==C||L.numSpotMaps!==T||L.numLightProbes!==F)&&(i.directional.length=d,i.spot.length=x,i.rectArea.length=w,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=C+T-M,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=M,i.numLightProbes=F,L.directionalLength=d,L.pointLength=y,L.spotLength=x,L.rectAreaLength=w,L.hemiLength=b,L.numDirectionalShadows=_,L.numPointShadows=E,L.numSpotShadows=C,L.numSpotMaps=T,L.numLightProbes=F,i.version=One++)}function l(c,A){let f=0,p=0,d=0,y=0,x=0;const w=A.matrixWorldInverse;for(let b=0,_=c.length;b<_;b++){const E=c[b];if(E.isDirectionalLight){const C=i.directional[f];C.direction.setFromMatrixPosition(E.matrixWorld),r.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(w),f++}else if(E.isSpotLight){const C=i.spot[d];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),C.direction.setFromMatrixPosition(E.matrixWorld),r.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(w),d++}else if(E.isRectAreaLight){const C=i.rectArea[y];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),a.identity(),s.copy(E.matrixWorld),s.premultiply(w),a.extractRotation(s),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(E.isPointLight){const C=i.point[p];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),p++}else if(E.isHemisphereLight){const C=i.hemi[x];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(w),x++}}}return{setup:o,setupView:l,state:i}}function wR(n){const e=new kne(n),t=[],i=[];function r(A){c.camera=A,t.length=0,i.length=0}function s(A){t.push(A)}function a(A){i.push(A)}function o(){e.setup(t)}function l(A){e.setupView(t,A)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function Hne(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new wR(n),e.set(r,[o])):s>=a.length?(o=new wR(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const Qne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function jne(n,e,t){let i=new Ky;const r=new Xt,s=new Xt,a=new Sr,o=new hU({depthPacking:kH}),l=new dU,c={},A=t.maxTextureSize,f={[Zf]:rc,[rc]:Zf,[tA]:tA},p=new oc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xt},radius:{value:4}},vertexShader:Qne,fragmentShader:zne}),d=p.clone();d.defines.HORIZONTAL_PASS=1;const y=new Ti;y.setAttribute("position",new Pr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new sa(y,p),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kS;let b=this.type;this.render=function(M,F,L){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||M.length===0)return;const N=n.getRenderTarget(),R=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),Q=n.state;Q.setBlending(YA),Q.buffers.depth.getReversed()===!0?Q.buffers.color.setClear(0,0,0,0):Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const J=b!==KA&&this.type===KA,Y=b===KA&&this.type!==KA;for(let ne=0,W=M.length;ne<W;ne++){const q=M[ne],$=q.shadow;if($===void 0){Sn("WebGLShadowMap:",q,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;r.copy($.mapSize);const re=$.getFrameExtents();if(r.multiply(re),s.copy($.mapSize),(r.x>A||r.y>A)&&(r.x>A&&(s.x=Math.floor(A/re.x),r.x=s.x*re.x,$.mapSize.x=s.x),r.y>A&&(s.y=Math.floor(A/re.y),r.y=s.y*re.y,$.mapSize.y=s.y)),$.map===null||J===!0||Y===!0){const te=this.type!==KA?{minFilter:fo,magFilter:fo}:{};$.map!==null&&$.map.dispose(),$.map=new Eu(r.x,r.y,te),$.map.texture.name=q.name+".shadowMap",$.camera.updateProjectionMatrix()}n.setRenderTarget($.map),n.clear();const V=$.getViewportCount();for(let te=0;te<V;te++){const z=$.getViewport(te);a.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),Q.viewport(a),$.updateMatrices(q,te),i=$.getFrustum(),C(F,L,$.camera,q,this.type)}$.isPointLightShadow!==!0&&this.type===KA&&_($,L),$.needsUpdate=!1}b=this.type,w.needsUpdate=!1,n.setRenderTarget(N,R,k)};function _(M,F){const L=e.update(x);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,d.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,d.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Eu(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(F,null,L,p,x,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(F,null,L,d,x,null)}function E(M,F,L,N){let R=null;const k=L.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(k!==void 0)R=k;else if(R=L.isPointLight===!0?l:o,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const Q=R.uuid,J=F.uuid;let Y=c[Q];Y===void 0&&(Y={},c[Q]=Y);let ne=Y[J];ne===void 0&&(ne=R.clone(),Y[J]=ne,F.addEventListener("dispose",T)),R=ne}if(R.visible=F.visible,R.wireframe=F.wireframe,N===KA?R.side=F.shadowSide!==null?F.shadowSide:F.side:R.side=F.shadowSide!==null?F.shadowSide:f[F.side],R.alphaMap=F.alphaMap,R.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,R.map=F.map,R.clipShadows=F.clipShadows,R.clippingPlanes=F.clippingPlanes,R.clipIntersection=F.clipIntersection,R.displacementMap=F.displacementMap,R.displacementScale=F.displacementScale,R.displacementBias=F.displacementBias,R.wireframeLinewidth=F.wireframeLinewidth,R.linewidth=F.linewidth,L.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const Q=n.properties.get(R);Q.light=L}return R}function C(M,F,L,N,R){if(M.visible===!1)return;if(M.layers.test(F.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&R===KA)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,M.matrixWorld);const J=e.update(M),Y=M.material;if(Array.isArray(Y)){const ne=J.groups;for(let W=0,q=ne.length;W<q;W++){const $=ne[W],re=Y[$.materialIndex];if(re&&re.visible){const V=E(M,re,N,R);M.onBeforeShadow(n,M,F,L,J,V,$),n.renderBufferDirect(L,null,J,V,M,$),M.onAfterShadow(n,M,F,L,J,V,$)}}}else if(Y.visible){const ne=E(M,Y,N,R);M.onBeforeShadow(n,M,F,L,J,ne,null),n.renderBufferDirect(L,null,J,ne,M,null),M.onAfterShadow(n,M,F,L,J,ne,null)}}const Q=M.children;for(let J=0,Y=Q.length;J<Y;J++)C(Q[J],F,L,N,R)}function T(M){M.target.removeEventListener("dispose",T);for(const L in c){const N=c[L],R=M.target.uuid;R in N&&(N[R].dispose(),delete N[R])}}}const Vne={[y_]:v_,[x_]:__,[b_]:S_,[pg]:w_,[v_]:y_,[__]:x_,[S_]:b_,[w_]:pg};function Gne(n,e){function t(){let Qe=!1;const ot=new Sr;let Dt=null;const Rt=new Sr(0,0,0,0);return{setMask:function(Et){Dt!==Et&&!Qe&&(n.colorMask(Et,Et,Et,Et),Dt=Et)},setLocked:function(Et){Qe=Et},setClear:function(Et,Ct,an,pn,Xn){Xn===!0&&(Et*=pn,Ct*=pn,an*=pn),ot.set(Et,Ct,an,pn),Rt.equals(ot)===!1&&(n.clearColor(Et,Ct,an,pn),Rt.copy(ot))},reset:function(){Qe=!1,Dt=null,Rt.set(-1,0,0,0)}}}function i(){let Qe=!1,ot=!1,Dt=null,Rt=null,Et=null;return{setReversed:function(Ct){if(ot!==Ct){const an=e.get("EXT_clip_control");Ct?an.clipControlEXT(an.LOWER_LEFT_EXT,an.ZERO_TO_ONE_EXT):an.clipControlEXT(an.LOWER_LEFT_EXT,an.NEGATIVE_ONE_TO_ONE_EXT),ot=Ct;const pn=Et;Et=null,this.setClear(pn)}},getReversed:function(){return ot},setTest:function(Ct){Ct?Ae(n.DEPTH_TEST):he(n.DEPTH_TEST)},setMask:function(Ct){Dt!==Ct&&!Qe&&(n.depthMask(Ct),Dt=Ct)},setFunc:function(Ct){if(ot&&(Ct=Vne[Ct]),Rt!==Ct){switch(Ct){case y_:n.depthFunc(n.NEVER);break;case v_:n.depthFunc(n.ALWAYS);break;case x_:n.depthFunc(n.LESS);break;case pg:n.depthFunc(n.LEQUAL);break;case b_:n.depthFunc(n.EQUAL);break;case w_:n.depthFunc(n.GEQUAL);break;case __:n.depthFunc(n.GREATER);break;case S_:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Rt=Ct}},setLocked:function(Ct){Qe=Ct},setClear:function(Ct){Et!==Ct&&(ot&&(Ct=1-Ct),n.clearDepth(Ct),Et=Ct)},reset:function(){Qe=!1,Dt=null,Rt=null,Et=null,ot=!1}}}function r(){let Qe=!1,ot=null,Dt=null,Rt=null,Et=null,Ct=null,an=null,pn=null,Xn=null;return{setTest:function(Vn){Qe||(Vn?Ae(n.STENCIL_TEST):he(n.STENCIL_TEST))},setMask:function(Vn){ot!==Vn&&!Qe&&(n.stencilMask(Vn),ot=Vn)},setFunc:function(Vn,Be,Ke){(Dt!==Vn||Rt!==Be||Et!==Ke)&&(n.stencilFunc(Vn,Be,Ke),Dt=Vn,Rt=Be,Et=Ke)},setOp:function(Vn,Be,Ke){(Ct!==Vn||an!==Be||pn!==Ke)&&(n.stencilOp(Vn,Be,Ke),Ct=Vn,an=Be,pn=Ke)},setLocked:function(Vn){Qe=Vn},setClear:function(Vn){Xn!==Vn&&(n.clearStencil(Vn),Xn=Vn)},reset:function(){Qe=!1,ot=null,Dt=null,Rt=null,Et=null,Ct=null,an=null,pn=null,Xn=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,c=new WeakMap;let A={},f={},p=new WeakMap,d=[],y=null,x=!1,w=null,b=null,_=null,E=null,C=null,T=null,M=null,F=new bn(0,0,0),L=0,N=!1,R=null,k=null,Q=null,J=null,Y=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,q=0;const $=n.getParameter(n.VERSION);$.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec($)[1]),W=q>=1):$.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),W=q>=2);let re=null,V={};const te=n.getParameter(n.SCISSOR_BOX),z=n.getParameter(n.VIEWPORT),j=new Sr().fromArray(te),oe=new Sr().fromArray(z);function fe(Qe,ot,Dt,Rt){const Et=new Uint8Array(4),Ct=n.createTexture();n.bindTexture(Qe,Ct),n.texParameteri(Qe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Qe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let an=0;an<Dt;an++)Qe===n.TEXTURE_3D||Qe===n.TEXTURE_2D_ARRAY?n.texImage3D(ot,0,n.RGBA,1,1,Rt,0,n.RGBA,n.UNSIGNED_BYTE,Et):n.texImage2D(ot+an,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Et);return Ct}const ue={};ue[n.TEXTURE_2D]=fe(n.TEXTURE_2D,n.TEXTURE_2D,1),ue[n.TEXTURE_CUBE_MAP]=fe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ue[n.TEXTURE_2D_ARRAY]=fe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ue[n.TEXTURE_3D]=fe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),Ae(n.DEPTH_TEST),a.setFunc(pg),xe(!1),Pe(nT),Ae(n.CULL_FACE),He(YA);function Ae(Qe){A[Qe]!==!0&&(n.enable(Qe),A[Qe]=!0)}function he(Qe){A[Qe]!==!1&&(n.disable(Qe),A[Qe]=!1)}function _e(Qe,ot){return f[Qe]!==ot?(n.bindFramebuffer(Qe,ot),f[Qe]=ot,Qe===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ot),Qe===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ot),!0):!1}function be(Qe,ot){let Dt=d,Rt=!1;if(Qe){Dt=p.get(ot),Dt===void 0&&(Dt=[],p.set(ot,Dt));const Et=Qe.textures;if(Dt.length!==Et.length||Dt[0]!==n.COLOR_ATTACHMENT0){for(let Ct=0,an=Et.length;Ct<an;Ct++)Dt[Ct]=n.COLOR_ATTACHMENT0+Ct;Dt.length=Et.length,Rt=!0}}else Dt[0]!==n.BACK&&(Dt[0]=n.BACK,Rt=!0);Rt&&n.drawBuffers(Dt)}function Ne(Qe){return y!==Qe?(n.useProgram(Qe),y=Qe,!0):!1}const ze={[mp]:n.FUNC_ADD,[lH]:n.FUNC_SUBTRACT,[cH]:n.FUNC_REVERSE_SUBTRACT};ze[uH]=n.MIN,ze[AH]=n.MAX;const $e={[fH]:n.ZERO,[hH]:n.ONE,[dH]:n.SRC_COLOR,[m_]:n.SRC_ALPHA,[xH]:n.SRC_ALPHA_SATURATE,[yH]:n.DST_COLOR,[mH]:n.DST_ALPHA,[pH]:n.ONE_MINUS_SRC_COLOR,[g_]:n.ONE_MINUS_SRC_ALPHA,[vH]:n.ONE_MINUS_DST_COLOR,[gH]:n.ONE_MINUS_DST_ALPHA,[bH]:n.CONSTANT_COLOR,[wH]:n.ONE_MINUS_CONSTANT_COLOR,[_H]:n.CONSTANT_ALPHA,[SH]:n.ONE_MINUS_CONSTANT_ALPHA};function He(Qe,ot,Dt,Rt,Et,Ct,an,pn,Xn,Vn){if(Qe===YA){x===!0&&(he(n.BLEND),x=!1);return}if(x===!1&&(Ae(n.BLEND),x=!0),Qe!==oH){if(Qe!==w||Vn!==N){if((b!==mp||C!==mp)&&(n.blendEquation(n.FUNC_ADD),b=mp,C=mp),Vn)switch(Qe){case ag:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case iT:n.blendFunc(n.ONE,n.ONE);break;case rT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case sT:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:bi("WebGLState: Invalid blending: ",Qe);break}else switch(Qe){case ag:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case iT:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case rT:bi("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case sT:bi("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:bi("WebGLState: Invalid blending: ",Qe);break}_=null,E=null,T=null,M=null,F.set(0,0,0),L=0,w=Qe,N=Vn}return}Et=Et||ot,Ct=Ct||Dt,an=an||Rt,(ot!==b||Et!==C)&&(n.blendEquationSeparate(ze[ot],ze[Et]),b=ot,C=Et),(Dt!==_||Rt!==E||Ct!==T||an!==M)&&(n.blendFuncSeparate($e[Dt],$e[Rt],$e[Ct],$e[an]),_=Dt,E=Rt,T=Ct,M=an),(pn.equals(F)===!1||Xn!==L)&&(n.blendColor(pn.r,pn.g,pn.b,Xn),F.copy(pn),L=Xn),w=Qe,N=!1}function K(Qe,ot){Qe.side===tA?he(n.CULL_FACE):Ae(n.CULL_FACE);let Dt=Qe.side===rc;ot&&(Dt=!Dt),xe(Dt),Qe.blending===ag&&Qe.transparent===!1?He(YA):He(Qe.blending,Qe.blendEquation,Qe.blendSrc,Qe.blendDst,Qe.blendEquationAlpha,Qe.blendSrcAlpha,Qe.blendDstAlpha,Qe.blendColor,Qe.blendAlpha,Qe.premultipliedAlpha),a.setFunc(Qe.depthFunc),a.setTest(Qe.depthTest),a.setMask(Qe.depthWrite),s.setMask(Qe.colorWrite);const Rt=Qe.stencilWrite;o.setTest(Rt),Rt&&(o.setMask(Qe.stencilWriteMask),o.setFunc(Qe.stencilFunc,Qe.stencilRef,Qe.stencilFuncMask),o.setOp(Qe.stencilFail,Qe.stencilZFail,Qe.stencilZPass)),Le(Qe.polygonOffset,Qe.polygonOffsetFactor,Qe.polygonOffsetUnits),Qe.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):he(n.SAMPLE_ALPHA_TO_COVERAGE)}function xe(Qe){R!==Qe&&(Qe?n.frontFace(n.CW):n.frontFace(n.CCW),R=Qe)}function Pe(Qe){Qe!==rH?(Ae(n.CULL_FACE),Qe!==k&&(Qe===nT?n.cullFace(n.BACK):Qe===sH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):he(n.CULL_FACE),k=Qe}function We(Qe){Qe!==Q&&(W&&n.lineWidth(Qe),Q=Qe)}function Le(Qe,ot,Dt){Qe?(Ae(n.POLYGON_OFFSET_FILL),(J!==ot||Y!==Dt)&&(n.polygonOffset(ot,Dt),J=ot,Y=Dt)):he(n.POLYGON_OFFSET_FILL)}function tt(Qe){Qe?Ae(n.SCISSOR_TEST):he(n.SCISSOR_TEST)}function Ee(Qe){Qe===void 0&&(Qe=n.TEXTURE0+ne-1),re!==Qe&&(n.activeTexture(Qe),re=Qe)}function et(Qe,ot,Dt){Dt===void 0&&(re===null?Dt=n.TEXTURE0+ne-1:Dt=re);let Rt=V[Dt];Rt===void 0&&(Rt={type:void 0,texture:void 0},V[Dt]=Rt),(Rt.type!==Qe||Rt.texture!==ot)&&(re!==Dt&&(n.activeTexture(Dt),re=Dt),n.bindTexture(Qe,ot||ue[Qe]),Rt.type=Qe,Rt.texture=ot)}function me(){const Qe=V[re];Qe!==void 0&&Qe.type!==void 0&&(n.bindTexture(Qe.type,null),Qe.type=void 0,Qe.texture=void 0)}function le(){try{n.compressedTexImage2D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function Je(){try{n.compressedTexImage3D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function P(){try{n.texSubImage2D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function Z(){try{n.texSubImage3D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function se(){try{n.compressedTexSubImage2D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function we(){try{n.compressedTexSubImage3D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function Re(){try{n.texStorage2D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function Ze(){try{n.texStorage3D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function dt(){try{n.texImage2D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function Me(){try{n.texImage3D(...arguments)}catch(Qe){Qe("WebGLState:",Qe)}}function Oe(Qe){j.equals(Qe)===!1&&(n.scissor(Qe.x,Qe.y,Qe.z,Qe.w),j.copy(Qe))}function bt(Qe){oe.equals(Qe)===!1&&(n.viewport(Qe.x,Qe.y,Qe.z,Qe.w),oe.copy(Qe))}function Fe(Qe,ot){let Dt=c.get(ot);Dt===void 0&&(Dt=new WeakMap,c.set(ot,Dt));let Rt=Dt.get(Qe);Rt===void 0&&(Rt=n.getUniformBlockIndex(ot,Qe.name),Dt.set(Qe,Rt))}function Xe(Qe,ot){const Rt=c.get(ot).get(Qe);l.get(ot)!==Rt&&(n.uniformBlockBinding(ot,Rt,Qe.__bindingPointIndex),l.set(ot,Rt))}function ht(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),A={},re=null,V={},f={},p=new WeakMap,d=[],y=null,x=!1,w=null,b=null,_=null,E=null,C=null,T=null,M=null,F=new bn(0,0,0),L=0,N=!1,R=null,k=null,Q=null,J=null,Y=null,j.set(0,0,n.canvas.width,n.canvas.height),oe.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:Ae,disable:he,bindFramebuffer:_e,drawBuffers:be,useProgram:Ne,setBlending:He,setMaterial:K,setFlipSided:xe,setCullFace:Pe,setLineWidth:We,setPolygonOffset:Le,setScissorTest:tt,activeTexture:Ee,bindTexture:et,unbindTexture:me,compressedTexImage2D:le,compressedTexImage3D:Je,texImage2D:dt,texImage3D:Me,updateUBOMapping:Fe,uniformBlockBinding:Xe,texStorage2D:Re,texStorage3D:Ze,texSubImage2D:P,texSubImage3D:Z,compressedTexSubImage2D:se,compressedTexSubImage3D:we,scissor:Oe,viewport:bt,reset:ht}}function Kne(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Xt,A=new WeakMap;let f;const p=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(me,le){return d?new OffscreenCanvas(me,le):sx("canvas")}function x(me,le,Je){let P=1;const Z=et(me);if((Z.width>Je||Z.height>Je)&&(P=Je/Math.max(Z.width,Z.height)),P<1)if(typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&me instanceof ImageBitmap||typeof VideoFrame<"u"&&me instanceof VideoFrame){const se=Math.floor(P*Z.width),we=Math.floor(P*Z.height);f===void 0&&(f=y(se,we));const Re=le?y(se,we):f;return Re.width=se,Re.height=we,Re.getContext("2d").drawImage(me,0,0,se,we),Sn("WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+se+"x"+we+")."),Re}else return"data"in me&&Sn("WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),me;return me}function w(me){return me.generateMipmaps}function b(me){n.generateMipmap(me)}function _(me){return me.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:me.isWebGL3DRenderTarget?n.TEXTURE_3D:me.isWebGLArrayRenderTarget||me.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(me,le,Je,P,Z=!1){if(me!==null){if(n[me]!==void 0)return n[me];Sn("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+me+"'")}let se=le;if(le===n.RED&&(Je===n.FLOAT&&(se=n.R32F),Je===n.HALF_FLOAT&&(se=n.R16F),Je===n.UNSIGNED_BYTE&&(se=n.R8)),le===n.RED_INTEGER&&(Je===n.UNSIGNED_BYTE&&(se=n.R8UI),Je===n.UNSIGNED_SHORT&&(se=n.R16UI),Je===n.UNSIGNED_INT&&(se=n.R32UI),Je===n.BYTE&&(se=n.R8I),Je===n.SHORT&&(se=n.R16I),Je===n.INT&&(se=n.R32I)),le===n.RG&&(Je===n.FLOAT&&(se=n.RG32F),Je===n.HALF_FLOAT&&(se=n.RG16F),Je===n.UNSIGNED_BYTE&&(se=n.RG8)),le===n.RG_INTEGER&&(Je===n.UNSIGNED_BYTE&&(se=n.RG8UI),Je===n.UNSIGNED_SHORT&&(se=n.RG16UI),Je===n.UNSIGNED_INT&&(se=n.RG32UI),Je===n.BYTE&&(se=n.RG8I),Je===n.SHORT&&(se=n.RG16I),Je===n.INT&&(se=n.RG32I)),le===n.RGB_INTEGER&&(Je===n.UNSIGNED_BYTE&&(se=n.RGB8UI),Je===n.UNSIGNED_SHORT&&(se=n.RGB16UI),Je===n.UNSIGNED_INT&&(se=n.RGB32UI),Je===n.BYTE&&(se=n.RGB8I),Je===n.SHORT&&(se=n.RGB16I),Je===n.INT&&(se=n.RGB32I)),le===n.RGBA_INTEGER&&(Je===n.UNSIGNED_BYTE&&(se=n.RGBA8UI),Je===n.UNSIGNED_SHORT&&(se=n.RGBA16UI),Je===n.UNSIGNED_INT&&(se=n.RGBA32UI),Je===n.BYTE&&(se=n.RGBA8I),Je===n.SHORT&&(se=n.RGBA16I),Je===n.INT&&(se=n.RGBA32I)),le===n.RGB&&(Je===n.UNSIGNED_INT_5_9_9_9_REV&&(se=n.RGB9_E5),Je===n.UNSIGNED_INT_10F_11F_11F_REV&&(se=n.R11F_G11F_B10F)),le===n.RGBA){const we=Z?ix:Ji.getTransfer(P);Je===n.FLOAT&&(se=n.RGBA32F),Je===n.HALF_FLOAT&&(se=n.RGBA16F),Je===n.UNSIGNED_BYTE&&(se=we===Zr?n.SRGB8_ALPHA8:n.RGBA8),Je===n.UNSIGNED_SHORT_4_4_4_4&&(se=n.RGBA4),Je===n.UNSIGNED_SHORT_5_5_5_1&&(se=n.RGB5_A1)}return(se===n.R16F||se===n.R32F||se===n.RG16F||se===n.RG32F||se===n.RGBA16F||se===n.RGBA32F)&&e.get("EXT_color_buffer_float"),se}function C(me,le){let Je;return me?le===null||le===$f||le===_y?Je=n.DEPTH24_STENCIL8:le===Ks?Je=n.DEPTH32F_STENCIL8:le===wy&&(Je=n.DEPTH24_STENCIL8,Sn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):le===null||le===$f||le===_y?Je=n.DEPTH_COMPONENT24:le===Ks?Je=n.DEPTH_COMPONENT32F:le===wy&&(Je=n.DEPTH_COMPONENT16),Je}function T(me,le){return w(me)===!0||me.isFramebufferTexture&&me.minFilter!==fo&&me.minFilter!==ur?Math.log2(Math.max(le.width,le.height))+1:me.mipmaps!==void 0&&me.mipmaps.length>0?me.mipmaps.length:me.isCompressedTexture&&Array.isArray(me.image)?le.mipmaps.length:1}function M(me){const le=me.target;le.removeEventListener("dispose",M),L(le),le.isVideoTexture&&A.delete(le)}function F(me){const le=me.target;le.removeEventListener("dispose",F),R(le)}function L(me){const le=i.get(me);if(le.__webglInit===void 0)return;const Je=me.source,P=p.get(Je);if(P){const Z=P[le.__cacheKey];Z.usedTimes--,Z.usedTimes===0&&N(me),Object.keys(P).length===0&&p.delete(Je)}i.remove(me)}function N(me){const le=i.get(me);n.deleteTexture(le.__webglTexture);const Je=me.source,P=p.get(Je);delete P[le.__cacheKey],a.memory.textures--}function R(me){const le=i.get(me);if(me.depthTexture&&(me.depthTexture.dispose(),i.remove(me.depthTexture)),me.isWebGLCubeRenderTarget)for(let P=0;P<6;P++){if(Array.isArray(le.__webglFramebuffer[P]))for(let Z=0;Z<le.__webglFramebuffer[P].length;Z++)n.deleteFramebuffer(le.__webglFramebuffer[P][Z]);else n.deleteFramebuffer(le.__webglFramebuffer[P]);le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer[P])}else{if(Array.isArray(le.__webglFramebuffer))for(let P=0;P<le.__webglFramebuffer.length;P++)n.deleteFramebuffer(le.__webglFramebuffer[P]);else n.deleteFramebuffer(le.__webglFramebuffer);if(le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&n.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let P=0;P<le.__webglColorRenderbuffer.length;P++)le.__webglColorRenderbuffer[P]&&n.deleteRenderbuffer(le.__webglColorRenderbuffer[P]);le.__webglDepthRenderbuffer&&n.deleteRenderbuffer(le.__webglDepthRenderbuffer)}const Je=me.textures;for(let P=0,Z=Je.length;P<Z;P++){const se=i.get(Je[P]);se.__webglTexture&&(n.deleteTexture(se.__webglTexture),a.memory.textures--),i.remove(Je[P])}i.remove(me)}let k=0;function Q(){k=0}function J(){const me=k;return me>=r.maxTextures&&Sn("WebGLTextures: Trying to use "+me+" texture units while this GPU supports only "+r.maxTextures),k+=1,me}function Y(me){const le=[];return le.push(me.wrapS),le.push(me.wrapT),le.push(me.wrapR||0),le.push(me.magFilter),le.push(me.minFilter),le.push(me.anisotropy),le.push(me.internalFormat),le.push(me.format),le.push(me.type),le.push(me.generateMipmaps),le.push(me.premultiplyAlpha),le.push(me.flipY),le.push(me.unpackAlignment),le.push(me.colorSpace),le.join()}function ne(me,le){const Je=i.get(me);if(me.isVideoTexture&&tt(me),me.isRenderTargetTexture===!1&&me.isExternalTexture!==!0&&me.version>0&&Je.__version!==me.version){const P=me.image;if(P===null)Sn("WebGLRenderer: Texture marked for update but no image data found.");else if(P.complete===!1)Sn("WebGLRenderer: Texture marked for update but image is incomplete");else{ue(Je,me,le);return}}else me.isExternalTexture&&(Je.__webglTexture=me.sourceTexture?me.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Je.__webglTexture,n.TEXTURE0+le)}function W(me,le){const Je=i.get(me);if(me.isRenderTargetTexture===!1&&me.version>0&&Je.__version!==me.version){ue(Je,me,le);return}else me.isExternalTexture&&(Je.__webglTexture=me.sourceTexture?me.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Je.__webglTexture,n.TEXTURE0+le)}function q(me,le){const Je=i.get(me);if(me.isRenderTargetTexture===!1&&me.version>0&&Je.__version!==me.version){ue(Je,me,le);return}t.bindTexture(n.TEXTURE_3D,Je.__webglTexture,n.TEXTURE0+le)}function $(me,le){const Je=i.get(me);if(me.version>0&&Je.__version!==me.version){Ae(Je,me,le);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Je.__webglTexture,n.TEXTURE0+le)}const re={[Ip]:n.REPEAT,[ia]:n.CLAMP_TO_EDGE,[by]:n.MIRRORED_REPEAT},V={[fo]:n.NEAREST,[HS]:n.NEAREST_MIPMAP_NEAREST,[Xm]:n.NEAREST_MIPMAP_LINEAR,[ur]:n.LINEAR,[oy]:n.LINEAR_MIPMAP_NEAREST,[iA]:n.LINEAR_MIPMAP_LINEAR},te={[QH]:n.NEVER,[qH]:n.ALWAYS,[zH]:n.LESS,[X4]:n.LEQUAL,[jH]:n.EQUAL,[KH]:n.GEQUAL,[VH]:n.GREATER,[GH]:n.NOTEQUAL};function z(me,le){if(le.type===Ks&&e.has("OES_texture_float_linear")===!1&&(le.magFilter===ur||le.magFilter===oy||le.magFilter===Xm||le.magFilter===iA||le.minFilter===ur||le.minFilter===oy||le.minFilter===Xm||le.minFilter===iA)&&Sn("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(me,n.TEXTURE_WRAP_S,re[le.wrapS]),n.texParameteri(me,n.TEXTURE_WRAP_T,re[le.wrapT]),(me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY)&&n.texParameteri(me,n.TEXTURE_WRAP_R,re[le.wrapR]),n.texParameteri(me,n.TEXTURE_MAG_FILTER,V[le.magFilter]),n.texParameteri(me,n.TEXTURE_MIN_FILTER,V[le.minFilter]),le.compareFunction&&(n.texParameteri(me,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(me,n.TEXTURE_COMPARE_FUNC,te[le.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(le.magFilter===fo||le.minFilter!==Xm&&le.minFilter!==iA||le.type===Ks&&e.has("OES_texture_float_linear")===!1)return;if(le.anisotropy>1||i.get(le).__currentAnisotropy){const Je=e.get("EXT_texture_filter_anisotropic");n.texParameterf(me,Je.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(le.anisotropy,r.getMaxAnisotropy())),i.get(le).__currentAnisotropy=le.anisotropy}}}function j(me,le){let Je=!1;me.__webglInit===void 0&&(me.__webglInit=!0,le.addEventListener("dispose",M));const P=le.source;let Z=p.get(P);Z===void 0&&(Z={},p.set(P,Z));const se=Y(le);if(se!==me.__cacheKey){Z[se]===void 0&&(Z[se]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Je=!0),Z[se].usedTimes++;const we=Z[me.__cacheKey];we!==void 0&&(Z[me.__cacheKey].usedTimes--,we.usedTimes===0&&N(le)),me.__cacheKey=se,me.__webglTexture=Z[se].texture}return Je}function oe(me,le,Je){return Math.floor(Math.floor(me/Je)/le)}function fe(me,le,Je,P){const se=me.updateRanges;if(se.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,le.width,le.height,Je,P,le.data);else{se.sort((Me,Oe)=>Me.start-Oe.start);let we=0;for(let Me=1;Me<se.length;Me++){const Oe=se[we],bt=se[Me],Fe=Oe.start+Oe.count,Xe=oe(bt.start,le.width,4),ht=oe(Oe.start,le.width,4);bt.start<=Fe+1&&Xe===ht&&oe(bt.start+bt.count-1,le.width,4)===Xe?Oe.count=Math.max(Oe.count,bt.start+bt.count-Oe.start):(++we,se[we]=bt)}se.length=we+1;const Re=n.getParameter(n.UNPACK_ROW_LENGTH),Ze=n.getParameter(n.UNPACK_SKIP_PIXELS),dt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,le.width);for(let Me=0,Oe=se.length;Me<Oe;Me++){const bt=se[Me],Fe=Math.floor(bt.start/4),Xe=Math.ceil(bt.count/4),ht=Fe%le.width,Qe=Math.floor(Fe/le.width),ot=Xe,Dt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ht),n.pixelStorei(n.UNPACK_SKIP_ROWS,Qe),t.texSubImage2D(n.TEXTURE_2D,0,ht,Qe,ot,Dt,Je,P,le.data)}me.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Re),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ze),n.pixelStorei(n.UNPACK_SKIP_ROWS,dt)}}function ue(me,le,Je){let P=n.TEXTURE_2D;(le.isDataArrayTexture||le.isCompressedArrayTexture)&&(P=n.TEXTURE_2D_ARRAY),le.isData3DTexture&&(P=n.TEXTURE_3D);const Z=j(me,le),se=le.source;t.bindTexture(P,me.__webglTexture,n.TEXTURE0+Je);const we=i.get(se);if(se.version!==we.__version||Z===!0){t.activeTexture(n.TEXTURE0+Je);const Re=Ji.getPrimaries(Ji.workingColorSpace),Ze=le.colorSpace===rd?null:Ji.getPrimaries(le.colorSpace),dt=le.colorSpace===rd||Re===Ze?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,le.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,le.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);let Me=x(le.image,!1,r.maxTextureSize);Me=Ee(le,Me);const Oe=s.convert(le.format,le.colorSpace),bt=s.convert(le.type);let Fe=E(le.internalFormat,Oe,bt,le.colorSpace,le.isVideoTexture);z(P,le);let Xe;const ht=le.mipmaps,Qe=le.isVideoTexture!==!0,ot=we.__version===void 0||Z===!0,Dt=se.dataReady,Rt=T(le,Me);if(le.isDepthTexture)Fe=C(le.format===Ey,le.type),ot&&(Qe?t.texStorage2D(n.TEXTURE_2D,1,Fe,Me.width,Me.height):t.texImage2D(n.TEXTURE_2D,0,Fe,Me.width,Me.height,0,Oe,bt,null));else if(le.isDataTexture)if(ht.length>0){Qe&&ot&&t.texStorage2D(n.TEXTURE_2D,Rt,Fe,ht[0].width,ht[0].height);for(let Et=0,Ct=ht.length;Et<Ct;Et++)Xe=ht[Et],Qe?Dt&&t.texSubImage2D(n.TEXTURE_2D,Et,0,0,Xe.width,Xe.height,Oe,bt,Xe.data):t.texImage2D(n.TEXTURE_2D,Et,Fe,Xe.width,Xe.height,0,Oe,bt,Xe.data);le.generateMipmaps=!1}else Qe?(ot&&t.texStorage2D(n.TEXTURE_2D,Rt,Fe,Me.width,Me.height),Dt&&fe(le,Me,Oe,bt)):t.texImage2D(n.TEXTURE_2D,0,Fe,Me.width,Me.height,0,Oe,bt,Me.data);else if(le.isCompressedTexture)if(le.isCompressedArrayTexture){Qe&&ot&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Rt,Fe,ht[0].width,ht[0].height,Me.depth);for(let Et=0,Ct=ht.length;Et<Ct;Et++)if(Xe=ht[Et],le.format!==Ha)if(Oe!==null)if(Qe){if(Dt)if(le.layerUpdates.size>0){const an=mT(Xe.width,Xe.height,le.format,le.type);for(const pn of le.layerUpdates){const Xn=Xe.data.subarray(pn*an/Xe.data.BYTES_PER_ELEMENT,(pn+1)*an/Xe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Et,0,0,pn,Xe.width,Xe.height,1,Oe,Xn)}le.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Et,0,0,0,Xe.width,Xe.height,Me.depth,Oe,Xe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Et,Fe,Xe.width,Xe.height,Me.depth,0,Xe.data,0,0);else Sn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Qe?Dt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Et,0,0,0,Xe.width,Xe.height,Me.depth,Oe,bt,Xe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Et,Fe,Xe.width,Xe.height,Me.depth,0,Oe,bt,Xe.data)}else{Qe&&ot&&t.texStorage2D(n.TEXTURE_2D,Rt,Fe,ht[0].width,ht[0].height);for(let Et=0,Ct=ht.length;Et<Ct;Et++)Xe=ht[Et],le.format!==Ha?Oe!==null?Qe?Dt&&t.compressedTexSubImage2D(n.TEXTURE_2D,Et,0,0,Xe.width,Xe.height,Oe,Xe.data):t.compressedTexImage2D(n.TEXTURE_2D,Et,Fe,Xe.width,Xe.height,0,Xe.data):Sn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qe?Dt&&t.texSubImage2D(n.TEXTURE_2D,Et,0,0,Xe.width,Xe.height,Oe,bt,Xe.data):t.texImage2D(n.TEXTURE_2D,Et,Fe,Xe.width,Xe.height,0,Oe,bt,Xe.data)}else if(le.isDataArrayTexture)if(Qe){if(ot&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Rt,Fe,Me.width,Me.height,Me.depth),Dt)if(le.layerUpdates.size>0){const Et=mT(Me.width,Me.height,le.format,le.type);for(const Ct of le.layerUpdates){const an=Me.data.subarray(Ct*Et/Me.data.BYTES_PER_ELEMENT,(Ct+1)*Et/Me.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ct,Me.width,Me.height,1,Oe,bt,an)}le.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,Oe,bt,Me.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Fe,Me.width,Me.height,Me.depth,0,Oe,bt,Me.data);else if(le.isData3DTexture)Qe?(ot&&t.texStorage3D(n.TEXTURE_3D,Rt,Fe,Me.width,Me.height,Me.depth),Dt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,Oe,bt,Me.data)):t.texImage3D(n.TEXTURE_3D,0,Fe,Me.width,Me.height,Me.depth,0,Oe,bt,Me.data);else if(le.isFramebufferTexture){if(ot)if(Qe)t.texStorage2D(n.TEXTURE_2D,Rt,Fe,Me.width,Me.height);else{let Et=Me.width,Ct=Me.height;for(let an=0;an<Rt;an++)t.texImage2D(n.TEXTURE_2D,an,Fe,Et,Ct,0,Oe,bt,null),Et>>=1,Ct>>=1}}else if(ht.length>0){if(Qe&&ot){const Et=et(ht[0]);t.texStorage2D(n.TEXTURE_2D,Rt,Fe,Et.width,Et.height)}for(let Et=0,Ct=ht.length;Et<Ct;Et++)Xe=ht[Et],Qe?Dt&&t.texSubImage2D(n.TEXTURE_2D,Et,0,0,Oe,bt,Xe):t.texImage2D(n.TEXTURE_2D,Et,Fe,Oe,bt,Xe);le.generateMipmaps=!1}else if(Qe){if(ot){const Et=et(Me);t.texStorage2D(n.TEXTURE_2D,Rt,Fe,Et.width,Et.height)}Dt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Oe,bt,Me)}else t.texImage2D(n.TEXTURE_2D,0,Fe,Oe,bt,Me);w(le)&&b(P),we.__version=se.version,le.onUpdate&&le.onUpdate(le)}me.__version=le.version}function Ae(me,le,Je){if(le.image.length!==6)return;const P=j(me,le),Z=le.source;t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture,n.TEXTURE0+Je);const se=i.get(Z);if(Z.version!==se.__version||P===!0){t.activeTexture(n.TEXTURE0+Je);const we=Ji.getPrimaries(Ji.workingColorSpace),Re=le.colorSpace===rd?null:Ji.getPrimaries(le.colorSpace),Ze=le.colorSpace===rd||we===Re?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,le.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,le.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);const dt=le.isCompressedTexture||le.image[0].isCompressedTexture,Me=le.image[0]&&le.image[0].isDataTexture,Oe=[];for(let Ct=0;Ct<6;Ct++)!dt&&!Me?Oe[Ct]=x(le.image[Ct],!0,r.maxCubemapSize):Oe[Ct]=Me?le.image[Ct].image:le.image[Ct],Oe[Ct]=Ee(le,Oe[Ct]);const bt=Oe[0],Fe=s.convert(le.format,le.colorSpace),Xe=s.convert(le.type),ht=E(le.internalFormat,Fe,Xe,le.colorSpace),Qe=le.isVideoTexture!==!0,ot=se.__version===void 0||P===!0,Dt=Z.dataReady;let Rt=T(le,bt);z(n.TEXTURE_CUBE_MAP,le);let Et;if(dt){Qe&&ot&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Rt,ht,bt.width,bt.height);for(let Ct=0;Ct<6;Ct++){Et=Oe[Ct].mipmaps;for(let an=0;an<Et.length;an++){const pn=Et[an];le.format!==Ha?Fe!==null?Qe?Dt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an,0,0,pn.width,pn.height,Fe,pn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an,ht,pn.width,pn.height,0,pn.data):Sn("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qe?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an,0,0,pn.width,pn.height,Fe,Xe,pn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an,ht,pn.width,pn.height,0,Fe,Xe,pn.data)}}}else{if(Et=le.mipmaps,Qe&&ot){Et.length>0&&Rt++;const Ct=et(Oe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Rt,ht,Ct.width,Ct.height)}for(let Ct=0;Ct<6;Ct++)if(Me){Qe?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,0,0,Oe[Ct].width,Oe[Ct].height,Fe,Xe,Oe[Ct].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,ht,Oe[Ct].width,Oe[Ct].height,0,Fe,Xe,Oe[Ct].data);for(let an=0;an<Et.length;an++){const Xn=Et[an].image[Ct].image;Qe?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an+1,0,0,Xn.width,Xn.height,Fe,Xe,Xn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an+1,ht,Xn.width,Xn.height,0,Fe,Xe,Xn.data)}}else{Qe?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,0,0,Fe,Xe,Oe[Ct]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,ht,Fe,Xe,Oe[Ct]);for(let an=0;an<Et.length;an++){const pn=Et[an];Qe?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an+1,0,0,Fe,Xe,pn.image[Ct]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,an+1,ht,Fe,Xe,pn.image[Ct])}}}w(le)&&b(n.TEXTURE_CUBE_MAP),se.__version=Z.version,le.onUpdate&&le.onUpdate(le)}me.__version=le.version}function he(me,le,Je,P,Z,se){const we=s.convert(Je.format,Je.colorSpace),Re=s.convert(Je.type),Ze=E(Je.internalFormat,we,Re,Je.colorSpace),dt=i.get(le),Me=i.get(Je);if(Me.__renderTarget=le,!dt.__hasExternalTextures){const Oe=Math.max(1,le.width>>se),bt=Math.max(1,le.height>>se);Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY?t.texImage3D(Z,se,Ze,Oe,bt,le.depth,0,we,Re,null):t.texImage2D(Z,se,Ze,Oe,bt,0,we,Re,null)}t.bindFramebuffer(n.FRAMEBUFFER,me),Le(le)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,P,Z,Me.__webglTexture,0,We(le)):(Z===n.TEXTURE_2D||Z>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Z<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,P,Z,Me.__webglTexture,se),t.bindFramebuffer(n.FRAMEBUFFER,null)}function _e(me,le,Je){if(n.bindRenderbuffer(n.RENDERBUFFER,me),le.depthBuffer){const P=le.depthTexture,Z=P&&P.isDepthTexture?P.type:null,se=C(le.stencilBuffer,Z),we=le.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=We(le);Le(le)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,se,le.width,le.height):Je?n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,se,le.width,le.height):n.renderbufferStorage(n.RENDERBUFFER,se,le.width,le.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,we,n.RENDERBUFFER,me)}else{const P=le.textures;for(let Z=0;Z<P.length;Z++){const se=P[Z],we=s.convert(se.format,se.colorSpace),Re=s.convert(se.type),Ze=E(se.internalFormat,we,Re,se.colorSpace),dt=We(le);Je&&Le(le)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,dt,Ze,le.width,le.height):Le(le)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,dt,Ze,le.width,le.height):n.renderbufferStorage(n.RENDERBUFFER,Ze,le.width,le.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function be(me,le){if(le&&le.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,me),!(le.depthTexture&&le.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const P=i.get(le.depthTexture);P.__renderTarget=le,(!P.__webglTexture||le.depthTexture.image.width!==le.width||le.depthTexture.image.height!==le.height)&&(le.depthTexture.image.width=le.width,le.depthTexture.image.height=le.height,le.depthTexture.needsUpdate=!0),ne(le.depthTexture,0);const Z=P.__webglTexture,se=We(le);if(le.depthTexture.format===Sy)Le(le)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Z,0,se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Z,0);else if(le.depthTexture.format===Ey)Le(le)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Z,0,se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Z,0);else throw new Error("Unknown depthTexture format")}function Ne(me){const le=i.get(me),Je=me.isWebGLCubeRenderTarget===!0;if(le.__boundDepthTexture!==me.depthTexture){const P=me.depthTexture;if(le.__depthDisposeCallback&&le.__depthDisposeCallback(),P){const Z=()=>{delete le.__boundDepthTexture,delete le.__depthDisposeCallback,P.removeEventListener("dispose",Z)};P.addEventListener("dispose",Z),le.__depthDisposeCallback=Z}le.__boundDepthTexture=P}if(me.depthTexture&&!le.__autoAllocateDepthBuffer){if(Je)throw new Error("target.depthTexture not supported in Cube render targets");const P=me.texture.mipmaps;P&&P.length>0?be(le.__webglFramebuffer[0],me):be(le.__webglFramebuffer,me)}else if(Je){le.__webglDepthbuffer=[];for(let P=0;P<6;P++)if(t.bindFramebuffer(n.FRAMEBUFFER,le.__webglFramebuffer[P]),le.__webglDepthbuffer[P]===void 0)le.__webglDepthbuffer[P]=n.createRenderbuffer(),_e(le.__webglDepthbuffer[P],me,!1);else{const Z=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,se=le.__webglDepthbuffer[P];n.bindRenderbuffer(n.RENDERBUFFER,se),n.framebufferRenderbuffer(n.FRAMEBUFFER,Z,n.RENDERBUFFER,se)}}else{const P=me.texture.mipmaps;if(P&&P.length>0?t.bindFramebuffer(n.FRAMEBUFFER,le.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,le.__webglFramebuffer),le.__webglDepthbuffer===void 0)le.__webglDepthbuffer=n.createRenderbuffer(),_e(le.__webglDepthbuffer,me,!1);else{const Z=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,se=le.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,se),n.framebufferRenderbuffer(n.FRAMEBUFFER,Z,n.RENDERBUFFER,se)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(me,le,Je){const P=i.get(me);le!==void 0&&he(P.__webglFramebuffer,me,me.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Je!==void 0&&Ne(me)}function $e(me){const le=me.texture,Je=i.get(me),P=i.get(le);me.addEventListener("dispose",F);const Z=me.textures,se=me.isWebGLCubeRenderTarget===!0,we=Z.length>1;if(we||(P.__webglTexture===void 0&&(P.__webglTexture=n.createTexture()),P.__version=le.version,a.memory.textures++),se){Je.__webglFramebuffer=[];for(let Re=0;Re<6;Re++)if(le.mipmaps&&le.mipmaps.length>0){Je.__webglFramebuffer[Re]=[];for(let Ze=0;Ze<le.mipmaps.length;Ze++)Je.__webglFramebuffer[Re][Ze]=n.createFramebuffer()}else Je.__webglFramebuffer[Re]=n.createFramebuffer()}else{if(le.mipmaps&&le.mipmaps.length>0){Je.__webglFramebuffer=[];for(let Re=0;Re<le.mipmaps.length;Re++)Je.__webglFramebuffer[Re]=n.createFramebuffer()}else Je.__webglFramebuffer=n.createFramebuffer();if(we)for(let Re=0,Ze=Z.length;Re<Ze;Re++){const dt=i.get(Z[Re]);dt.__webglTexture===void 0&&(dt.__webglTexture=n.createTexture(),a.memory.textures++)}if(me.samples>0&&Le(me)===!1){Je.__webglMultisampledFramebuffer=n.createFramebuffer(),Je.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglMultisampledFramebuffer);for(let Re=0;Re<Z.length;Re++){const Ze=Z[Re];Je.__webglColorRenderbuffer[Re]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Je.__webglColorRenderbuffer[Re]);const dt=s.convert(Ze.format,Ze.colorSpace),Me=s.convert(Ze.type),Oe=E(Ze.internalFormat,dt,Me,Ze.colorSpace,me.isXRRenderTarget===!0),bt=We(me);n.renderbufferStorageMultisample(n.RENDERBUFFER,bt,Oe,me.width,me.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Re,n.RENDERBUFFER,Je.__webglColorRenderbuffer[Re])}n.bindRenderbuffer(n.RENDERBUFFER,null),me.depthBuffer&&(Je.__webglDepthRenderbuffer=n.createRenderbuffer(),_e(Je.__webglDepthRenderbuffer,me,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(se){t.bindTexture(n.TEXTURE_CUBE_MAP,P.__webglTexture),z(n.TEXTURE_CUBE_MAP,le);for(let Re=0;Re<6;Re++)if(le.mipmaps&&le.mipmaps.length>0)for(let Ze=0;Ze<le.mipmaps.length;Ze++)he(Je.__webglFramebuffer[Re][Ze],me,le,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ze);else he(Je.__webglFramebuffer[Re],me,le,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0);w(le)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(we){for(let Re=0,Ze=Z.length;Re<Ze;Re++){const dt=Z[Re],Me=i.get(dt);let Oe=n.TEXTURE_2D;(me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(Oe=me.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Oe,Me.__webglTexture),z(Oe,dt),he(Je.__webglFramebuffer,me,dt,n.COLOR_ATTACHMENT0+Re,Oe,0),w(dt)&&b(Oe)}t.unbindTexture()}else{let Re=n.TEXTURE_2D;if((me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(Re=me.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Re,P.__webglTexture),z(Re,le),le.mipmaps&&le.mipmaps.length>0)for(let Ze=0;Ze<le.mipmaps.length;Ze++)he(Je.__webglFramebuffer[Ze],me,le,n.COLOR_ATTACHMENT0,Re,Ze);else he(Je.__webglFramebuffer,me,le,n.COLOR_ATTACHMENT0,Re,0);w(le)&&b(Re),t.unbindTexture()}me.depthBuffer&&Ne(me)}function He(me){const le=me.textures;for(let Je=0,P=le.length;Je<P;Je++){const Z=le[Je];if(w(Z)){const se=_(me),we=i.get(Z).__webglTexture;t.bindTexture(se,we),b(se),t.unbindTexture()}}}const K=[],xe=[];function Pe(me){if(me.samples>0){if(Le(me)===!1){const le=me.textures,Je=me.width,P=me.height;let Z=n.COLOR_BUFFER_BIT;const se=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=i.get(me),Re=le.length>1;if(Re)for(let dt=0;dt<le.length;dt++)t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+dt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+dt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer);const Ze=me.texture.mipmaps;Ze&&Ze.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let dt=0;dt<le.length;dt++){if(me.resolveDepthBuffer&&(me.depthBuffer&&(Z|=n.DEPTH_BUFFER_BIT),me.stencilBuffer&&me.resolveStencilBuffer&&(Z|=n.STENCIL_BUFFER_BIT)),Re){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,we.__webglColorRenderbuffer[dt]);const Me=i.get(le[dt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,Je,P,0,0,Je,P,Z,n.NEAREST),l===!0&&(K.length=0,xe.length=0,K.push(n.COLOR_ATTACHMENT0+dt),me.depthBuffer&&me.resolveDepthBuffer===!1&&(K.push(se),xe.push(se),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,xe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,K))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Re)for(let dt=0;dt<le.length;dt++){t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+dt,n.RENDERBUFFER,we.__webglColorRenderbuffer[dt]);const Me=i.get(le[dt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+dt,n.TEXTURE_2D,Me,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}else if(me.depthBuffer&&me.resolveDepthBuffer===!1&&l){const le=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[le])}}}function We(me){return Math.min(r.maxSamples,me.samples)}function Le(me){const le=i.get(me);return me.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&le.__useRenderToTexture!==!1}function tt(me){const le=a.render.frame;A.get(me)!==le&&(A.set(me,le),me.update())}function Ee(me,le){const Je=me.colorSpace,P=me.format,Z=me.type;return me.isCompressedTexture===!0||me.isVideoTexture===!0||Je!==$a&&Je!==rd&&(Ji.getTransfer(Je)===Zr?(P!==Ha||Z!==ac)&&Sn("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):bi("WebGLTextures: Unsupported texture color space:",Je)),le}function et(me){return typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement?(c.width=me.naturalWidth||me.width,c.height=me.naturalHeight||me.height):typeof VideoFrame<"u"&&me instanceof VideoFrame?(c.width=me.displayWidth,c.height=me.displayHeight):(c.width=me.width,c.height=me.height),c}this.allocateTextureUnit=J,this.resetTextureUnits=Q,this.setTexture2D=ne,this.setTexture2DArray=W,this.setTexture3D=q,this.setTextureCube=$,this.rebindTextures=ze,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Pe,this.setupDepthRenderbuffer=Ne,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Le}function JQ(n,e){function t(i,r=rd){let s;const a=Ji.getTransfer(r);if(i===ac)return n.UNSIGNED_BYTE;if(i===jS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===VS)return n.UNSIGNED_SHORT_5_5_5_1;if(i===j4)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===V4)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===QS)return n.BYTE;if(i===zS)return n.SHORT;if(i===wy)return n.UNSIGNED_SHORT;if(i===Ix)return n.INT;if(i===$f)return n.UNSIGNED_INT;if(i===Ks)return n.FLOAT;if(i===Ja)return n.HALF_FLOAT;if(i===G4)return n.ALPHA;if(i===K4)return n.RGB;if(i===Ha)return n.RGBA;if(i===Sy)return n.DEPTH_COMPONENT;if(i===Ey)return n.DEPTH_STENCIL;if(i===Lx)return n.RED;if(i===Rx)return n.RED_INTEGER;if(i===GS)return n.RG;if(i===KS)return n.RG_INTEGER;if(i===qS)return n.RGBA_INTEGER;if(i===M1||i===T1||i===U1||i===N1)if(a===Zr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===M1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===T1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===U1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===N1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===M1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===T1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===U1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===N1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===E_||i===B_||i===C_||i===M_)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===E_)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===B_)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===C_)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===M_)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===T_||i===U_||i===N_)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===T_||i===U_)return a===Zr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===N_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===F_||i===I_||i===L_||i===R_||i===D_||i===O_||i===P_||i===k_||i===H_||i===Q_||i===z_||i===j_||i===V_||i===G_)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===F_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===I_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===L_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===R_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===D_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===O_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===P_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===k_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===H_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Q_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===z_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===j_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===V_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===G_)return a===Zr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===K_||i===q_||i===W_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===K_)return a===Zr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===q_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===W_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===X_||i===Y_||i===Z_||i===J_)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===X_)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Y_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Z_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===J_)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===_y?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const qne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Wne=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Xne{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new aU(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new oc({vertexShader:qne,fragmentShader:Wne,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new sa(new jp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Yne extends th{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,A=null,f=null,p=null,d=null,y=null;const x=typeof XRWebGLBinding<"u",w=new Xne,b={},_=t.getContextAttributes();let E=null,C=null;const T=[],M=[],F=new Xt;let L=null;const N=new _a;N.viewport=new Sr;const R=new _a;R.viewport=new Sr;const k=[N,R],Q=new zQ;let J=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let Ae=T[ue];return Ae===void 0&&(Ae=new Z2,T[ue]=Ae),Ae.getTargetRaySpace()},this.getControllerGrip=function(ue){let Ae=T[ue];return Ae===void 0&&(Ae=new Z2,T[ue]=Ae),Ae.getGripSpace()},this.getHand=function(ue){let Ae=T[ue];return Ae===void 0&&(Ae=new Z2,T[ue]=Ae),Ae.getHandSpace()};function ne(ue){const Ae=M.indexOf(ue.inputSource);if(Ae===-1)return;const he=T[Ae];he!==void 0&&(he.update(ue.inputSource,ue.frame,c||a),he.dispatchEvent({type:ue.type,data:ue.inputSource}))}function W(){r.removeEventListener("select",ne),r.removeEventListener("selectstart",ne),r.removeEventListener("selectend",ne),r.removeEventListener("squeeze",ne),r.removeEventListener("squeezestart",ne),r.removeEventListener("squeezeend",ne),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",q);for(let ue=0;ue<T.length;ue++){const Ae=M[ue];Ae!==null&&(M[ue]=null,T[ue].disconnect(Ae))}J=null,Y=null,w.reset();for(const ue in b)delete b[ue];e.setRenderTarget(E),d=null,p=null,f=null,r=null,C=null,fe.stop(),i.isPresenting=!1,e.setPixelRatio(L),e.setSize(F.width,F.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,i.isPresenting===!0&&Sn("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){o=ue,i.isPresenting===!0&&Sn("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ue){c=ue},this.getBaseLayer=function(){return p!==null?p:d},this.getBinding=function(){return f===null&&x&&(f=new XRWebGLBinding(r,t)),f},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(ue){if(r=ue,r!==null){if(E=e.getRenderTarget(),r.addEventListener("select",ne),r.addEventListener("selectstart",ne),r.addEventListener("selectend",ne),r.addEventListener("squeeze",ne),r.addEventListener("squeezestart",ne),r.addEventListener("squeezeend",ne),r.addEventListener("end",W),r.addEventListener("inputsourceschange",q),_.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(F),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let he=null,_e=null,be=null;_.depth&&(be=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,he=_.stencil?Ey:Sy,_e=_.stencil?_y:$f);const Ne={colorFormat:t.RGBA8,depthFormat:be,scaleFactor:s};f=this.getBinding(),p=f.createProjectionLayer(Ne),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),C=new Eu(p.textureWidth,p.textureHeight,{format:Ha,type:ac,depthTexture:new rE(p.textureWidth,p.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const he={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(r,t,he),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),C=new Eu(d.framebufferWidth,d.framebufferHeight,{format:Ha,type:ac,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),fe.setContext(r),fe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function q(ue){for(let Ae=0;Ae<ue.removed.length;Ae++){const he=ue.removed[Ae],_e=M.indexOf(he);_e>=0&&(M[_e]=null,T[_e].disconnect(he))}for(let Ae=0;Ae<ue.added.length;Ae++){const he=ue.added[Ae];let _e=M.indexOf(he);if(_e===-1){for(let Ne=0;Ne<T.length;Ne++)if(Ne>=M.length){M.push(he),_e=Ne;break}else if(M[Ne]===null){M[Ne]=he,_e=Ne;break}if(_e===-1)break}const be=T[_e];be&&be.connect(he)}}const $=new je,re=new je;function V(ue,Ae,he){$.setFromMatrixPosition(Ae.matrixWorld),re.setFromMatrixPosition(he.matrixWorld);const _e=$.distanceTo(re),be=Ae.projectionMatrix.elements,Ne=he.projectionMatrix.elements,ze=be[14]/(be[10]-1),$e=be[14]/(be[10]+1),He=(be[9]+1)/be[5],K=(be[9]-1)/be[5],xe=(be[8]-1)/be[0],Pe=(Ne[8]+1)/Ne[0],We=ze*xe,Le=ze*Pe,tt=_e/(-xe+Pe),Ee=tt*-xe;if(Ae.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(Ee),ue.translateZ(tt),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),be[10]===-1)ue.projectionMatrix.copy(Ae.projectionMatrix),ue.projectionMatrixInverse.copy(Ae.projectionMatrixInverse);else{const et=ze+tt,me=$e+tt,le=We-Ee,Je=Le+(_e-Ee),P=He*$e/me*et,Z=K*$e/me*et;ue.projectionMatrix.makePerspective(le,Je,P,Z,et,me),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function te(ue,Ae){Ae===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(Ae.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(r===null)return;let Ae=ue.near,he=ue.far;w.texture!==null&&(w.depthNear>0&&(Ae=w.depthNear),w.depthFar>0&&(he=w.depthFar)),Q.near=R.near=N.near=Ae,Q.far=R.far=N.far=he,(J!==Q.near||Y!==Q.far)&&(r.updateRenderState({depthNear:Q.near,depthFar:Q.far}),J=Q.near,Y=Q.far),Q.layers.mask=ue.layers.mask|6,N.layers.mask=Q.layers.mask&3,R.layers.mask=Q.layers.mask&5;const _e=ue.parent,be=Q.cameras;te(Q,_e);for(let Ne=0;Ne<be.length;Ne++)te(be[Ne],_e);be.length===2?V(Q,N,R):Q.projectionMatrix.copy(N.projectionMatrix),z(ue,Q,_e)};function z(ue,Ae,he){he===null?ue.matrix.copy(Ae.matrixWorld):(ue.matrix.copy(he.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(Ae.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(Ae.projectionMatrix),ue.projectionMatrixInverse.copy(Ae.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=Uy*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return Q},this.getFoveation=function(){if(!(p===null&&d===null))return l},this.setFoveation=function(ue){l=ue,p!==null&&(p.fixedFoveation=ue),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ue)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(Q)},this.getCameraTexture=function(ue){return b[ue]};let j=null;function oe(ue,Ae){if(A=Ae.getViewerPose(c||a),y=Ae,A!==null){const he=A.views;d!==null&&(e.setRenderTargetFramebuffer(C,d.framebuffer),e.setRenderTarget(C));let _e=!1;he.length!==Q.cameras.length&&(Q.cameras.length=0,_e=!0);for(let $e=0;$e<he.length;$e++){const He=he[$e];let K=null;if(d!==null)K=d.getViewport(He);else{const Pe=f.getViewSubImage(p,He);K=Pe.viewport,$e===0&&(e.setRenderTargetTextures(C,Pe.colorTexture,Pe.depthStencilTexture),e.setRenderTarget(C))}let xe=k[$e];xe===void 0&&(xe=new _a,xe.layers.enable($e),xe.viewport=new Sr,k[$e]=xe),xe.matrix.fromArray(He.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(He.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(K.x,K.y,K.width,K.height),$e===0&&(Q.matrix.copy(xe.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale)),_e===!0&&Q.cameras.push(xe)}const be=r.enabledFeatures;if(be&&be.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&x){f=i.getBinding();const $e=f.getDepthInformation(he[0]);$e&&$e.isValid&&$e.texture&&w.init($e,r.renderState)}if(be&&be.includes("camera-access")&&x){e.state.unbindTexture(),f=i.getBinding();for(let $e=0;$e<he.length;$e++){const He=he[$e].camera;if(He){let K=b[He];K||(K=new aU,b[He]=K);const xe=f.getCameraImage(He);K.sourceTexture=xe}}}}for(let he=0;he<T.length;he++){const _e=M[he],be=T[he];_e!==null&&be!==void 0&&be.update(_e,Ae,c||a)}j&&j(ue,Ae),Ae.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ae}),y=null}const fe=new qQ;fe.setAnimationLoop(oe),this.setAnimationLoop=function(ue){j=ue},this.dispose=function(){}}}const Fm=new Bu,Zne=new oi;function Jne(n,e){function t(w,b){w.matrixAutoUpdate===!0&&w.updateMatrix(),b.value.copy(w.matrix)}function i(w,b){b.color.getRGB(w.fogColor.value,$H(n)),b.isFog?(w.fogNear.value=b.near,w.fogFar.value=b.far):b.isFogExp2&&(w.fogDensity.value=b.density)}function r(w,b,_,E,C){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(w,b):b.isMeshToonMaterial?(s(w,b),f(w,b)):b.isMeshPhongMaterial?(s(w,b),A(w,b)):b.isMeshStandardMaterial?(s(w,b),p(w,b),b.isMeshPhysicalMaterial&&d(w,b,C)):b.isMeshMatcapMaterial?(s(w,b),y(w,b)):b.isMeshDepthMaterial?s(w,b):b.isMeshDistanceMaterial?(s(w,b),x(w,b)):b.isMeshNormalMaterial?s(w,b):b.isLineBasicMaterial?(a(w,b),b.isLineDashedMaterial&&o(w,b)):b.isPointsMaterial?l(w,b,_,E):b.isSpriteMaterial?c(w,b):b.isShadowMaterial?(w.color.value.copy(b.color),w.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(w,b){w.opacity.value=b.opacity,b.color&&w.diffuse.value.copy(b.color),b.emissive&&w.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(w.map.value=b.map,t(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,t(b.alphaMap,w.alphaMapTransform)),b.bumpMap&&(w.bumpMap.value=b.bumpMap,t(b.bumpMap,w.bumpMapTransform),w.bumpScale.value=b.bumpScale,b.side===rc&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,t(b.normalMap,w.normalMapTransform),w.normalScale.value.copy(b.normalScale),b.side===rc&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,t(b.displacementMap,w.displacementMapTransform),w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,w.emissiveMapTransform)),b.specularMap&&(w.specularMap.value=b.specularMap,t(b.specularMap,w.specularMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest);const _=e.get(b),E=_.envMap,C=_.envMapRotation;E&&(w.envMap.value=E,Fm.copy(C),Fm.x*=-1,Fm.y*=-1,Fm.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Fm.y*=-1,Fm.z*=-1),w.envMapRotation.value.setFromMatrix4(Zne.makeRotationFromEuler(Fm)),w.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=b.reflectivity,w.ior.value=b.ior,w.refractionRatio.value=b.refractionRatio),b.lightMap&&(w.lightMap.value=b.lightMap,w.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,w.lightMapTransform)),b.aoMap&&(w.aoMap.value=b.aoMap,w.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,w.aoMapTransform))}function a(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,b.map&&(w.map.value=b.map,t(b.map,w.mapTransform))}function o(w,b){w.dashSize.value=b.dashSize,w.totalSize.value=b.dashSize+b.gapSize,w.scale.value=b.scale}function l(w,b,_,E){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.size.value=b.size*_,w.scale.value=E*.5,b.map&&(w.map.value=b.map,t(b.map,w.uvTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,t(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function c(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.rotation.value=b.rotation,b.map&&(w.map.value=b.map,t(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,t(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function A(w,b){w.specular.value.copy(b.specular),w.shininess.value=Math.max(b.shininess,1e-4)}function f(w,b){b.gradientMap&&(w.gradientMap.value=b.gradientMap)}function p(w,b){w.metalness.value=b.metalness,b.metalnessMap&&(w.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,w.metalnessMapTransform)),w.roughness.value=b.roughness,b.roughnessMap&&(w.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,w.roughnessMapTransform)),b.envMap&&(w.envMapIntensity.value=b.envMapIntensity)}function d(w,b,_){w.ior.value=b.ior,b.sheen>0&&(w.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),w.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(w.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,w.sheenColorMapTransform)),b.sheenRoughnessMap&&(w.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,w.sheenRoughnessMapTransform))),b.clearcoat>0&&(w.clearcoat.value=b.clearcoat,w.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(w.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,w.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(w.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===rc&&w.clearcoatNormalScale.value.negate())),b.dispersion>0&&(w.dispersion.value=b.dispersion),b.iridescence>0&&(w.iridescence.value=b.iridescence,w.iridescenceIOR.value=b.iridescenceIOR,w.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(w.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,w.iridescenceMapTransform)),b.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),b.transmission>0&&(w.transmission.value=b.transmission,w.transmissionSamplerMap.value=_.texture,w.transmissionSamplerSize.value.set(_.width,_.height),b.transmissionMap&&(w.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,w.transmissionMapTransform)),w.thickness.value=b.thickness,b.thicknessMap&&(w.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=b.attenuationDistance,w.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(w.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(w.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=b.specularIntensity,w.specularColor.value.copy(b.specularColor),b.specularColorMap&&(w.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,w.specularColorMapTransform)),b.specularIntensityMap&&(w.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,w.specularIntensityMapTransform))}function y(w,b){b.matcap&&(w.matcap.value=b.matcap)}function x(w,b){const _=e.get(b).light;w.referencePosition.value.setFromMatrixPosition(_.matrixWorld),w.nearDistance.value=_.shadow.camera.near,w.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function $ne(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,E){const C=E.program;i.uniformBlockBinding(_,C)}function c(_,E){let C=r[_.id];C===void 0&&(y(_),C=A(_),r[_.id]=C,_.addEventListener("dispose",w));const T=E.program;i.updateUBOMapping(_,T);const M=e.render.frame;s[_.id]!==M&&(p(_),s[_.id]=M)}function A(_){const E=f();_.__bindingPointIndex=E;const C=n.createBuffer(),T=_.__size,M=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,T,M),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,C),C}function f(){for(let _=0;_<o;_++)if(a.indexOf(_)===-1)return a.push(_),_;return bi("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const E=r[_.id],C=_.uniforms,T=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let M=0,F=C.length;M<F;M++){const L=Array.isArray(C[M])?C[M]:[C[M]];for(let N=0,R=L.length;N<R;N++){const k=L[N];if(d(k,M,N,T)===!0){const Q=k.__offset,J=Array.isArray(k.value)?k.value:[k.value];let Y=0;for(let ne=0;ne<J.length;ne++){const W=J[ne],q=x(W);typeof W=="number"||typeof W=="boolean"?(k.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,Q+Y,k.__data)):W.isMatrix3?(k.__data[0]=W.elements[0],k.__data[1]=W.elements[1],k.__data[2]=W.elements[2],k.__data[3]=0,k.__data[4]=W.elements[3],k.__data[5]=W.elements[4],k.__data[6]=W.elements[5],k.__data[7]=0,k.__data[8]=W.elements[6],k.__data[9]=W.elements[7],k.__data[10]=W.elements[8],k.__data[11]=0):(W.toArray(k.__data,Y),Y+=q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Q,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function d(_,E,C,T){const M=_.value,F=E+"_"+C;if(T[F]===void 0)return typeof M=="number"||typeof M=="boolean"?T[F]=M:T[F]=M.clone(),!0;{const L=T[F];if(typeof M=="number"||typeof M=="boolean"){if(L!==M)return T[F]=M,!0}else if(L.equals(M)===!1)return L.copy(M),!0}return!1}function y(_){const E=_.uniforms;let C=0;const T=16;for(let F=0,L=E.length;F<L;F++){const N=Array.isArray(E[F])?E[F]:[E[F]];for(let R=0,k=N.length;R<k;R++){const Q=N[R],J=Array.isArray(Q.value)?Q.value:[Q.value];for(let Y=0,ne=J.length;Y<ne;Y++){const W=J[Y],q=x(W),$=C%T,re=$%q.boundary,V=$+re;C+=re,V!==0&&T-V<q.storage&&(C+=T-V),Q.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=C,C+=q.storage}}}const M=C%T;return M>0&&(C+=T-M),_.__size=C,_.__cache={},this}function x(_){const E={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(E.boundary=4,E.storage=4):_.isVector2?(E.boundary=8,E.storage=8):_.isVector3||_.isColor?(E.boundary=16,E.storage=12):_.isVector4?(E.boundary=16,E.storage=16):_.isMatrix3?(E.boundary=48,E.storage=48):_.isMatrix4?(E.boundary=64,E.storage=64):_.isTexture?Sn("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Sn("WebGLRenderer: Unsupported uniform value type.",_),E}function w(_){const E=_.target;E.removeEventListener("dispose",w);const C=a.indexOf(E.__bindingPointIndex);a.splice(C,1),n.deleteBuffer(r[E.id]),delete r[E.id],delete s[E.id]}function b(){for(const _ in r)n.deleteBuffer(r[_]);a=[],r={},s={}}return{bind:l,update:c,dispose:b}}const eie=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let jh=null;function tie(){return jh===null&&(jh=new lA(eie,32,32,GS,Ja),jh.minFilter=ur,jh.magFilter=ur,jh.wrapS=ia,jh.wrapT=ia,jh.generateMipmaps=!1,jh.needsUpdate=!0),jh}class UU{constructor(e={}){const{canvas:t=XH(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:A="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let d;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=i.getContextAttributes().alpha}else d=a;const y=new Set([qS,KS,Rx]),x=new Set([ac,$f,wy,_y,jS,VS]),w=new Uint32Array(4),b=new Int32Array(4);let _=null,E=null;const C=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Xf,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let F=!1;this._outputColorSpace=wa;let L=0,N=0,R=null,k=-1,Q=null;const J=new Sr,Y=new Sr;let ne=null;const W=new bn(0);let q=0,$=t.width,re=t.height,V=1,te=null,z=null;const j=new Sr(0,0,$,re),oe=new Sr(0,0,$,re);let fe=!1;const ue=new Ky;let Ae=!1,he=!1;const _e=new oi,be=new je,Ne=new Sr,ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let $e=!1;function He(){return R===null?V:1}let K=i;function xe(ge,Ye){return t.getContext(ge,Ye)}try{const ge={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:A,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Nx}`),t.addEventListener("webglcontextlost",Et,!1),t.addEventListener("webglcontextrestored",Ct,!1),t.addEventListener("webglcontextcreationerror",an,!1),K===null){const Ye="webgl2";if(K=xe(Ye,ge),K===null)throw xe(Ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ge){throw ge("WebGLRenderer: "+ge.message),ge}let Pe,We,Le,tt,Ee,et,me,le,Je,P,Z,se,we,Re,Ze,dt,Me,Oe,bt,Fe,Xe,ht,Qe,ot;function Dt(){Pe=new Ate(K),Pe.init(),ht=new JQ(K,Pe),We=new nte(K,Pe,e,ht),Le=new Gne(K,Pe),We.reversedDepthBuffer&&p&&Le.buffers.depth.setReversed(!0),tt=new dte(K),Ee=new Fne,et=new Kne(K,Pe,Le,Ee,We,ht,tt),me=new rte(M),le=new ute(M),Je=new yJ(K),Qe=new ete(K,Je),P=new fte(K,Je,tt,Qe),Z=new mte(K,P,Je,tt),bt=new pte(K,We,et),dt=new ite(Ee),se=new Nne(M,me,le,Pe,We,Qe,dt),we=new Jne(M,Ee),Re=new Lne,Ze=new Hne(Pe),Oe=new $ee(M,me,le,Le,Z,d,l),Me=new jne(M,Z,We),ot=new $ne(K,tt,We,Le),Fe=new tte(K,Pe,tt),Xe=new hte(K,Pe,tt),tt.programs=se.programs,M.capabilities=We,M.extensions=Pe,M.properties=Ee,M.renderLists=Re,M.shadowMap=Me,M.state=Le,M.info=tt}Dt();const Rt=new Yne(M,K);this.xr=Rt,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const ge=Pe.get("WEBGL_lose_context");ge&&ge.loseContext()},this.forceContextRestore=function(){const ge=Pe.get("WEBGL_lose_context");ge&&ge.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(ge){ge!==void 0&&(V=ge,this.setSize($,re,!1))},this.getSize=function(ge){return ge.set($,re)},this.setSize=function(ge,Ye,rt=!0){if(Rt.isPresenting){Sn("WebGLRenderer: Can't change size while VR device is presenting.");return}$=ge,re=Ye,t.width=Math.floor(ge*V),t.height=Math.floor(Ye*V),rt===!0&&(t.style.width=ge+"px",t.style.height=Ye+"px"),this.setViewport(0,0,ge,Ye)},this.getDrawingBufferSize=function(ge){return ge.set($*V,re*V).floor()},this.setDrawingBufferSize=function(ge,Ye,rt){$=ge,re=Ye,V=rt,t.width=Math.floor(ge*rt),t.height=Math.floor(Ye*rt),this.setViewport(0,0,ge,Ye)},this.getCurrentViewport=function(ge){return ge.copy(J)},this.getViewport=function(ge){return ge.copy(j)},this.setViewport=function(ge,Ye,rt,pt){ge.isVector4?j.set(ge.x,ge.y,ge.z,ge.w):j.set(ge,Ye,rt,pt),Le.viewport(J.copy(j).multiplyScalar(V).round())},this.getScissor=function(ge){return ge.copy(oe)},this.setScissor=function(ge,Ye,rt,pt){ge.isVector4?oe.set(ge.x,ge.y,ge.z,ge.w):oe.set(ge,Ye,rt,pt),Le.scissor(Y.copy(oe).multiplyScalar(V).round())},this.getScissorTest=function(){return fe},this.setScissorTest=function(ge){Le.setScissorTest(fe=ge)},this.setOpaqueSort=function(ge){te=ge},this.setTransparentSort=function(ge){z=ge},this.getClearColor=function(ge){return ge.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor(...arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha(...arguments)},this.clear=function(ge=!0,Ye=!0,rt=!0){let pt=0;if(ge){let nt=!1;if(R!==null){const Ut=R.texture.format;nt=y.has(Ut)}if(nt){const Ut=R.texture.type,jt=x.has(Ut),$t=Oe.getClearColor(),on=Oe.getClearAlpha(),dn=$t.r,vn=$t.g,yn=$t.b;jt?(w[0]=dn,w[1]=vn,w[2]=yn,w[3]=on,K.clearBufferuiv(K.COLOR,0,w)):(b[0]=dn,b[1]=vn,b[2]=yn,b[3]=on,K.clearBufferiv(K.COLOR,0,b))}else pt|=K.COLOR_BUFFER_BIT}Ye&&(pt|=K.DEPTH_BUFFER_BIT),rt&&(pt|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(pt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Et,!1),t.removeEventListener("webglcontextrestored",Ct,!1),t.removeEventListener("webglcontextcreationerror",an,!1),Oe.dispose(),Re.dispose(),Ze.dispose(),Ee.dispose(),me.dispose(),le.dispose(),Z.dispose(),Qe.dispose(),ot.dispose(),se.dispose(),Rt.dispose(),Rt.removeEventListener("sessionstart",cn),Rt.removeEventListener("sessionend",An),On.stop()};function Et(ge){ge.preventDefault(),ax("WebGLRenderer: Context Lost."),F=!0}function Ct(){ax("WebGLRenderer: Context Restored."),F=!1;const ge=tt.autoReset,Ye=Me.enabled,rt=Me.autoUpdate,pt=Me.needsUpdate,nt=Me.type;Dt(),tt.autoReset=ge,Me.enabled=Ye,Me.autoUpdate=rt,Me.needsUpdate=pt,Me.type=nt}function an(ge){bi("WebGLRenderer: A WebGL context could not be created. Reason: ",ge.statusMessage)}function pn(ge){const Ye=ge.target;Ye.removeEventListener("dispose",pn),Xn(Ye)}function Xn(ge){Vn(ge),Ee.remove(ge)}function Vn(ge){const Ye=Ee.get(ge).programs;Ye!==void 0&&(Ye.forEach(function(rt){se.releaseProgram(rt)}),ge.isShaderMaterial&&se.releaseShaderCache(ge))}this.renderBufferDirect=function(ge,Ye,rt,pt,nt,Ut){Ye===null&&(Ye=ze);const jt=nt.isMesh&&nt.matrixWorld.determinant()<0,$t=wt(ge,Ye,rt,pt,nt);Le.setMaterial(pt,jt);let on=rt.index,dn=1;if(pt.wireframe===!0){if(on=P.getWireframeAttribute(rt),on===void 0)return;dn=2}const vn=rt.drawRange,yn=rt.attributes.position;let gn=vn.start*dn,ii=(vn.start+vn.count)*dn;Ut!==null&&(gn=Math.max(gn,Ut.start*dn),ii=Math.min(ii,(Ut.start+Ut.count)*dn)),on!==null?(gn=Math.max(gn,0),ii=Math.min(ii,on.count)):yn!=null&&(gn=Math.max(gn,0),ii=Math.min(ii,yn.count));const Dn=ii-gn;if(Dn<0||Dn===1/0)return;Qe.setup(nt,pt,$t,rt,on);let xn,gi=Fe;if(on!==null&&(xn=Je.get(on),gi=Xe,gi.setIndex(xn)),nt.isMesh)pt.wireframe===!0?(Le.setLineWidth(pt.wireframeLinewidth*He()),gi.setMode(K.LINES)):gi.setMode(K.TRIANGLES);else if(nt.isLine){let En=pt.linewidth;En===void 0&&(En=1),Le.setLineWidth(En*He()),nt.isLineSegments?gi.setMode(K.LINES):nt.isLineLoop?gi.setMode(K.LINE_LOOP):gi.setMode(K.LINE_STRIP)}else nt.isPoints?gi.setMode(K.POINTS):nt.isSprite&&gi.setMode(K.TRIANGLES);if(nt.isBatchedMesh)if(nt._multiDrawInstances!==null)Ty("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),gi.renderMultiDrawInstances(nt._multiDrawStarts,nt._multiDrawCounts,nt._multiDrawCount,nt._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))gi.renderMultiDraw(nt._multiDrawStarts,nt._multiDrawCounts,nt._multiDrawCount);else{const En=nt._multiDrawStarts,Ai=nt._multiDrawCounts,Un=nt._multiDrawCount,si=on?Je.get(on).bytesPerElement:1,$n=Ee.get(pt).currentProgram.getUniforms();for(let Nn=0;Nn<Un;Nn++)$n.setValue(K,"_gl_DrawID",Nn),gi.render(En[Nn]/si,Ai[Nn])}else if(nt.isInstancedMesh)gi.renderInstances(gn,Dn,nt.count);else if(rt.isInstancedBufferGeometry){const En=rt._maxInstanceCount!==void 0?rt._maxInstanceCount:1/0,Ai=Math.min(rt.instanceCount,En);gi.renderInstances(gn,Dn,Ai)}else gi.render(gn,Dn)};function Be(ge,Ye,rt){ge.transparent===!0&&ge.side===tA&&ge.forceSinglePass===!1?(ge.side=rc,ge.needsUpdate=!0,pe(ge,Ye,rt),ge.side=Zf,ge.needsUpdate=!0,pe(ge,Ye,rt),ge.side=tA):pe(ge,Ye,rt)}this.compile=function(ge,Ye,rt=null){rt===null&&(rt=ge),E=Ze.get(rt),E.init(Ye),T.push(E),rt.traverseVisible(function(nt){nt.isLight&&nt.layers.test(Ye.layers)&&(E.pushLight(nt),nt.castShadow&&E.pushShadow(nt))}),ge!==rt&&ge.traverseVisible(function(nt){nt.isLight&&nt.layers.test(Ye.layers)&&(E.pushLight(nt),nt.castShadow&&E.pushShadow(nt))}),E.setupLights();const pt=new Set;return ge.traverse(function(nt){if(!(nt.isMesh||nt.isPoints||nt.isLine||nt.isSprite))return;const Ut=nt.material;if(Ut)if(Array.isArray(Ut))for(let jt=0;jt<Ut.length;jt++){const $t=Ut[jt];Be($t,rt,nt),pt.add($t)}else Be(Ut,rt,nt),pt.add(Ut)}),E=T.pop(),pt},this.compileAsync=function(ge,Ye,rt=null){const pt=this.compile(ge,Ye,rt);return new Promise(nt=>{function Ut(){if(pt.forEach(function(jt){Ee.get(jt).currentProgram.isReady()&&pt.delete(jt)}),pt.size===0){nt(ge);return}setTimeout(Ut,10)}Pe.get("KHR_parallel_shader_compile")!==null?Ut():setTimeout(Ut,10)})};let Ke=null;function tn(ge){Ke&&Ke(ge)}function cn(){On.stop()}function An(){On.start()}const On=new qQ;On.setAnimationLoop(tn),typeof self<"u"&&On.setContext(self),this.setAnimationLoop=function(ge){Ke=ge,Rt.setAnimationLoop(ge),ge===null?On.stop():On.start()},Rt.addEventListener("sessionstart",cn),Rt.addEventListener("sessionend",An),this.render=function(ge,Ye){if(Ye!==void 0&&Ye.isCamera!==!0){bi("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;if(ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),Ye.parent===null&&Ye.matrixWorldAutoUpdate===!0&&Ye.updateMatrixWorld(),Rt.enabled===!0&&Rt.isPresenting===!0&&(Rt.cameraAutoUpdate===!0&&Rt.updateCamera(Ye),Ye=Rt.getCamera()),ge.isScene===!0&&ge.onBeforeRender(M,ge,Ye,R),E=Ze.get(ge,T.length),E.init(Ye),T.push(E),_e.multiplyMatrices(Ye.projectionMatrix,Ye.matrixWorldInverse),ue.setFromProjectionMatrix(_e,bu,Ye.reversedDepth),he=this.localClippingEnabled,Ae=dt.init(this.clippingPlanes,he),_=Re.get(ge,C.length),_.init(),C.push(_),Rt.enabled===!0&&Rt.isPresenting===!0){const Ut=M.xr.getDepthSensingMesh();Ut!==null&&li(Ut,Ye,-1/0,M.sortObjects)}li(ge,Ye,0,M.sortObjects),_.finish(),M.sortObjects===!0&&_.sort(te,z),$e=Rt.enabled===!1||Rt.isPresenting===!1||Rt.hasDepthSensing()===!1,$e&&Oe.addToRenderList(_,ge),this.info.render.frame++,Ae===!0&&dt.beginShadows();const rt=E.state.shadowsArray;Me.render(rt,ge,Ye),Ae===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset();const pt=_.opaque,nt=_.transmissive;if(E.setupLights(),Ye.isArrayCamera){const Ut=Ye.cameras;if(nt.length>0)for(let jt=0,$t=Ut.length;jt<$t;jt++){const on=Ut[jt];Pn(pt,nt,ge,on)}$e&&Oe.render(ge);for(let jt=0,$t=Ut.length;jt<$t;jt++){const on=Ut[jt];ui(_,ge,on,on.viewport)}}else nt.length>0&&Pn(pt,nt,ge,Ye),$e&&Oe.render(ge),ui(_,ge,Ye);R!==null&&N===0&&(et.updateMultisampleRenderTarget(R),et.updateRenderTargetMipmap(R)),ge.isScene===!0&&ge.onAfterRender(M,ge,Ye),Qe.resetDefaultState(),k=-1,Q=null,T.pop(),T.length>0?(E=T[T.length-1],Ae===!0&&dt.setGlobalState(M.clippingPlanes,E.state.camera)):E=null,C.pop(),C.length>0?_=C[C.length-1]:_=null};function li(ge,Ye,rt,pt){if(ge.visible===!1)return;if(ge.layers.test(Ye.layers)){if(ge.isGroup)rt=ge.renderOrder;else if(ge.isLOD)ge.autoUpdate===!0&&ge.update(Ye);else if(ge.isLight)E.pushLight(ge),ge.castShadow&&E.pushShadow(ge);else if(ge.isSprite){if(!ge.frustumCulled||ue.intersectsSprite(ge)){pt&&Ne.setFromMatrixPosition(ge.matrixWorld).applyMatrix4(_e);const jt=Z.update(ge),$t=ge.material;$t.visible&&_.push(ge,jt,$t,rt,Ne.z,null)}}else if((ge.isMesh||ge.isLine||ge.isPoints)&&(!ge.frustumCulled||ue.intersectsObject(ge))){const jt=Z.update(ge),$t=ge.material;if(pt&&(ge.boundingSphere!==void 0?(ge.boundingSphere===null&&ge.computeBoundingSphere(),Ne.copy(ge.boundingSphere.center)):(jt.boundingSphere===null&&jt.computeBoundingSphere(),Ne.copy(jt.boundingSphere.center)),Ne.applyMatrix4(ge.matrixWorld).applyMatrix4(_e)),Array.isArray($t)){const on=jt.groups;for(let dn=0,vn=on.length;dn<vn;dn++){const yn=on[dn],gn=$t[yn.materialIndex];gn&&gn.visible&&_.push(ge,jt,gn,rt,Ne.z,yn)}}else $t.visible&&_.push(ge,jt,$t,rt,Ne.z,null)}}const Ut=ge.children;for(let jt=0,$t=Ut.length;jt<$t;jt++)li(Ut[jt],Ye,rt,pt)}function ui(ge,Ye,rt,pt){const{opaque:nt,transmissive:Ut,transparent:jt}=ge;E.setupLightsView(rt),Ae===!0&&dt.setGlobalState(M.clippingPlanes,rt),pt&&Le.viewport(J.copy(pt)),nt.length>0&&er(nt,Ye,rt),Ut.length>0&&er(Ut,Ye,rt),jt.length>0&&er(jt,Ye,rt),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function Pn(ge,Ye,rt,pt){if((rt.isScene===!0?rt.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[pt.id]===void 0&&(E.state.transmissionRenderTarget[pt.id]=new Eu(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?Ja:ac,minFilter:iA,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ji.workingColorSpace}));const Ut=E.state.transmissionRenderTarget[pt.id],jt=pt.viewport||J;Ut.setSize(jt.z*M.transmissionResolutionScale,jt.w*M.transmissionResolutionScale);const $t=M.getRenderTarget(),on=M.getActiveCubeFace(),dn=M.getActiveMipmapLevel();M.setRenderTarget(Ut),M.getClearColor(W),q=M.getClearAlpha(),q<1&&M.setClearColor(16777215,.5),M.clear(),$e&&Oe.render(rt);const vn=M.toneMapping;M.toneMapping=Xf;const yn=pt.viewport;if(pt.viewport!==void 0&&(pt.viewport=void 0),E.setupLightsView(pt),Ae===!0&&dt.setGlobalState(M.clippingPlanes,pt),er(ge,rt,pt),et.updateMultisampleRenderTarget(Ut),et.updateRenderTargetMipmap(Ut),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let gn=!1;for(let ii=0,Dn=Ye.length;ii<Dn;ii++){const xn=Ye[ii],{object:gi,geometry:En,material:Ai,group:Un}=xn;if(Ai.side===tA&&gi.layers.test(pt.layers)){const si=Ai.side;Ai.side=rc,Ai.needsUpdate=!0,Gn(gi,rt,pt,En,Ai,Un),Ai.side=si,Ai.needsUpdate=!0,gn=!0}}gn===!0&&(et.updateMultisampleRenderTarget(Ut),et.updateRenderTargetMipmap(Ut))}M.setRenderTarget($t,on,dn),M.setClearColor(W,q),yn!==void 0&&(pt.viewport=yn),M.toneMapping=vn}function er(ge,Ye,rt){const pt=Ye.isScene===!0?Ye.overrideMaterial:null;for(let nt=0,Ut=ge.length;nt<Ut;nt++){const jt=ge[nt],{object:$t,geometry:on,group:dn}=jt;let vn=jt.material;vn.allowOverride===!0&&pt!==null&&(vn=pt),$t.layers.test(rt.layers)&&Gn($t,Ye,rt,on,vn,dn)}}function Gn(ge,Ye,rt,pt,nt,Ut){ge.onBeforeRender(M,Ye,rt,pt,nt,Ut),ge.modelViewMatrix.multiplyMatrices(rt.matrixWorldInverse,ge.matrixWorld),ge.normalMatrix.getNormalMatrix(ge.modelViewMatrix),nt.onBeforeRender(M,Ye,rt,pt,ge,Ut),nt.transparent===!0&&nt.side===tA&&nt.forceSinglePass===!1?(nt.side=rc,nt.needsUpdate=!0,M.renderBufferDirect(rt,Ye,pt,nt,ge,Ut),nt.side=Zf,nt.needsUpdate=!0,M.renderBufferDirect(rt,Ye,pt,nt,ge,Ut),nt.side=tA):M.renderBufferDirect(rt,Ye,pt,nt,ge,Ut),ge.onAfterRender(M,Ye,rt,pt,nt,Ut)}function pe(ge,Ye,rt){Ye.isScene!==!0&&(Ye=ze);const pt=Ee.get(ge),nt=E.state.lights,Ut=E.state.shadowsArray,jt=nt.state.version,$t=se.getParameters(ge,nt.state,Ut,Ye,rt),on=se.getProgramCacheKey($t);let dn=pt.programs;pt.environment=ge.isMeshStandardMaterial?Ye.environment:null,pt.fog=Ye.fog,pt.envMap=(ge.isMeshStandardMaterial?le:me).get(ge.envMap||pt.environment),pt.envMapRotation=pt.environment!==null&&ge.envMap===null?Ye.environmentRotation:ge.envMapRotation,dn===void 0&&(ge.addEventListener("dispose",pn),dn=new Map,pt.programs=dn);let vn=dn.get(on);if(vn!==void 0){if(pt.currentProgram===vn&&pt.lightsStateVersion===jt)return it(ge,$t),vn}else $t.uniforms=se.getUniforms(ge),ge.onBeforeCompile($t,M),vn=se.acquireProgram($t,on),dn.set(on,vn),pt.uniforms=$t.uniforms;const yn=pt.uniforms;return(!ge.isShaderMaterial&&!ge.isRawShaderMaterial||ge.clipping===!0)&&(yn.clippingPlanes=dt.uniform),it(ge,$t),pt.needsLights=Mt(ge),pt.lightsStateVersion=jt,pt.needsLights&&(yn.ambientLightColor.value=nt.state.ambient,yn.lightProbe.value=nt.state.probe,yn.directionalLights.value=nt.state.directional,yn.directionalLightShadows.value=nt.state.directionalShadow,yn.spotLights.value=nt.state.spot,yn.spotLightShadows.value=nt.state.spotShadow,yn.rectAreaLights.value=nt.state.rectArea,yn.ltc_1.value=nt.state.rectAreaLTC1,yn.ltc_2.value=nt.state.rectAreaLTC2,yn.pointLights.value=nt.state.point,yn.pointLightShadows.value=nt.state.pointShadow,yn.hemisphereLights.value=nt.state.hemi,yn.directionalShadowMap.value=nt.state.directionalShadowMap,yn.directionalShadowMatrix.value=nt.state.directionalShadowMatrix,yn.spotShadowMap.value=nt.state.spotShadowMap,yn.spotLightMatrix.value=nt.state.spotLightMatrix,yn.spotLightMap.value=nt.state.spotLightMap,yn.pointShadowMap.value=nt.state.pointShadowMap,yn.pointShadowMatrix.value=nt.state.pointShadowMatrix),pt.currentProgram=vn,pt.uniformsList=null,vn}function Ue(ge){if(ge.uniformsList===null){const Ye=ge.currentProgram.getUniforms();ge.uniformsList=J2.seqWithValue(Ye.seq,ge.uniforms)}return ge.uniformsList}function it(ge,Ye){const rt=Ee.get(ge);rt.outputColorSpace=Ye.outputColorSpace,rt.batching=Ye.batching,rt.batchingColor=Ye.batchingColor,rt.instancing=Ye.instancing,rt.instancingColor=Ye.instancingColor,rt.instancingMorph=Ye.instancingMorph,rt.skinning=Ye.skinning,rt.morphTargets=Ye.morphTargets,rt.morphNormals=Ye.morphNormals,rt.morphColors=Ye.morphColors,rt.morphTargetsCount=Ye.morphTargetsCount,rt.numClippingPlanes=Ye.numClippingPlanes,rt.numIntersection=Ye.numClipIntersection,rt.vertexAlphas=Ye.vertexAlphas,rt.vertexTangents=Ye.vertexTangents,rt.toneMapping=Ye.toneMapping}function wt(ge,Ye,rt,pt,nt){Ye.isScene!==!0&&(Ye=ze),et.resetTextureUnits();const Ut=Ye.fog,jt=pt.isMeshStandardMaterial?Ye.environment:null,$t=R===null?M.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:$a,on=(pt.isMeshStandardMaterial?le:me).get(pt.envMap||jt),dn=pt.vertexColors===!0&&!!rt.attributes.color&&rt.attributes.color.itemSize===4,vn=!!rt.attributes.tangent&&(!!pt.normalMap||pt.anisotropy>0),yn=!!rt.morphAttributes.position,gn=!!rt.morphAttributes.normal,ii=!!rt.morphAttributes.color;let Dn=Xf;pt.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Dn=M.toneMapping);const xn=rt.morphAttributes.position||rt.morphAttributes.normal||rt.morphAttributes.color,gi=xn!==void 0?xn.length:0,En=Ee.get(pt),Ai=E.state.lights;if(Ae===!0&&(he===!0||ge!==Q)){const ms=ge===Q&&pt.id===k;dt.setState(pt,ge,ms)}let Un=!1;pt.version===En.__version?(En.needsLights&&En.lightsStateVersion!==Ai.state.version||En.outputColorSpace!==$t||nt.isBatchedMesh&&En.batching===!1||!nt.isBatchedMesh&&En.batching===!0||nt.isBatchedMesh&&En.batchingColor===!0&&nt.colorTexture===null||nt.isBatchedMesh&&En.batchingColor===!1&&nt.colorTexture!==null||nt.isInstancedMesh&&En.instancing===!1||!nt.isInstancedMesh&&En.instancing===!0||nt.isSkinnedMesh&&En.skinning===!1||!nt.isSkinnedMesh&&En.skinning===!0||nt.isInstancedMesh&&En.instancingColor===!0&&nt.instanceColor===null||nt.isInstancedMesh&&En.instancingColor===!1&&nt.instanceColor!==null||nt.isInstancedMesh&&En.instancingMorph===!0&&nt.morphTexture===null||nt.isInstancedMesh&&En.instancingMorph===!1&&nt.morphTexture!==null||En.envMap!==on||pt.fog===!0&&En.fog!==Ut||En.numClippingPlanes!==void 0&&(En.numClippingPlanes!==dt.numPlanes||En.numIntersection!==dt.numIntersection)||En.vertexAlphas!==dn||En.vertexTangents!==vn||En.morphTargets!==yn||En.morphNormals!==gn||En.morphColors!==ii||En.toneMapping!==Dn||En.morphTargetsCount!==gi)&&(Un=!0):(Un=!0,En.__version=pt.version);let si=En.currentProgram;Un===!0&&(si=pe(pt,Ye,nt));let $n=!1,Nn=!1,kr=!1;const Ri=si.getUniforms(),ji=En.uniforms;if(Le.useProgram(si.program)&&($n=!0,Nn=!0,kr=!0),pt.id!==k&&(k=pt.id,Nn=!0),$n||Q!==ge){Le.buffers.depth.getReversed()&&ge.reversedDepth!==!0&&(ge._reversedDepth=!0,ge.updateProjectionMatrix()),Ri.setValue(K,"projectionMatrix",ge.projectionMatrix),Ri.setValue(K,"viewMatrix",ge.matrixWorldInverse);const qr=Ri.map.cameraPosition;qr!==void 0&&qr.setValue(K,be.setFromMatrixPosition(ge.matrixWorld)),We.logarithmicDepthBuffer&&Ri.setValue(K,"logDepthBufFC",2/(Math.log(ge.far+1)/Math.LN2)),(pt.isMeshPhongMaterial||pt.isMeshToonMaterial||pt.isMeshLambertMaterial||pt.isMeshBasicMaterial||pt.isMeshStandardMaterial||pt.isShaderMaterial)&&Ri.setValue(K,"isOrthographic",ge.isOrthographicCamera===!0),Q!==ge&&(Q=ge,Nn=!0,kr=!0)}if(nt.isSkinnedMesh){Ri.setOptional(K,nt,"bindMatrix"),Ri.setOptional(K,nt,"bindMatrixInverse");const ms=nt.skeleton;ms&&(ms.boneTexture===null&&ms.computeBoneTexture(),Ri.setValue(K,"boneTexture",ms.boneTexture,et))}nt.isBatchedMesh&&(Ri.setOptional(K,nt,"batchingTexture"),Ri.setValue(K,"batchingTexture",nt._matricesTexture,et),Ri.setOptional(K,nt,"batchingIdTexture"),Ri.setValue(K,"batchingIdTexture",nt._indirectTexture,et),Ri.setOptional(K,nt,"batchingColorTexture"),nt._colorsTexture!==null&&Ri.setValue(K,"batchingColorTexture",nt._colorsTexture,et));const Di=rt.morphAttributes;if((Di.position!==void 0||Di.normal!==void 0||Di.color!==void 0)&&bt.update(nt,rt,si),(Nn||En.receiveShadow!==nt.receiveShadow)&&(En.receiveShadow=nt.receiveShadow,Ri.setValue(K,"receiveShadow",nt.receiveShadow)),pt.isMeshGouraudMaterial&&pt.envMap!==null&&(ji.envMap.value=on,ji.flipEnvMap.value=on.isCubeTexture&&on.isRenderTargetTexture===!1?-1:1),pt.isMeshStandardMaterial&&pt.envMap===null&&Ye.environment!==null&&(ji.envMapIntensity.value=Ye.environmentIntensity),ji.dfgLUT!==void 0&&(ji.dfgLUT.value=tie()),Nn&&(Ri.setValue(K,"toneMappingExposure",M.toneMappingExposure),En.needsLights&&Lt(ji,kr),Ut&&pt.fog===!0&&we.refreshFogUniforms(ji,Ut),we.refreshMaterialUniforms(ji,pt,V,re,E.state.transmissionRenderTarget[ge.id]),J2.upload(K,Ue(En),ji,et)),pt.isShaderMaterial&&pt.uniformsNeedUpdate===!0&&(J2.upload(K,Ue(En),ji,et),pt.uniformsNeedUpdate=!1),pt.isSpriteMaterial&&Ri.setValue(K,"center",nt.center),Ri.setValue(K,"modelViewMatrix",nt.modelViewMatrix),Ri.setValue(K,"normalMatrix",nt.normalMatrix),Ri.setValue(K,"modelMatrix",nt.matrixWorld),pt.isShaderMaterial||pt.isRawShaderMaterial){const ms=pt.uniformsGroups;for(let qr=0,za=ms.length;qr<za;qr++){const aa=ms[qr];ot.update(aa,si),ot.bind(aa,si)}}return si}function Lt(ge,Ye){ge.ambientLightColor.needsUpdate=Ye,ge.lightProbe.needsUpdate=Ye,ge.directionalLights.needsUpdate=Ye,ge.directionalLightShadows.needsUpdate=Ye,ge.pointLights.needsUpdate=Ye,ge.pointLightShadows.needsUpdate=Ye,ge.spotLights.needsUpdate=Ye,ge.spotLightShadows.needsUpdate=Ye,ge.rectAreaLights.needsUpdate=Ye,ge.hemisphereLights.needsUpdate=Ye}function Mt(ge){return ge.isMeshLambertMaterial||ge.isMeshToonMaterial||ge.isMeshPhongMaterial||ge.isMeshStandardMaterial||ge.isShadowMaterial||ge.isShaderMaterial&&ge.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(ge,Ye,rt){const pt=Ee.get(ge);pt.__autoAllocateDepthBuffer=ge.resolveDepthBuffer===!1,pt.__autoAllocateDepthBuffer===!1&&(pt.__useRenderToTexture=!1),Ee.get(ge.texture).__webglTexture=Ye,Ee.get(ge.depthTexture).__webglTexture=pt.__autoAllocateDepthBuffer?void 0:rt,pt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ge,Ye){const rt=Ee.get(ge);rt.__webglFramebuffer=Ye,rt.__useDefaultFramebuffer=Ye===void 0};const Zt=K.createFramebuffer();this.setRenderTarget=function(ge,Ye=0,rt=0){R=ge,L=Ye,N=rt;let pt=!0,nt=null,Ut=!1,jt=!1;if(ge){const on=Ee.get(ge);if(on.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(K.FRAMEBUFFER,null),pt=!1;else if(on.__webglFramebuffer===void 0)et.setupRenderTarget(ge);else if(on.__hasExternalTextures)et.rebindTextures(ge,Ee.get(ge.texture).__webglTexture,Ee.get(ge.depthTexture).__webglTexture);else if(ge.depthBuffer){const yn=ge.depthTexture;if(on.__boundDepthTexture!==yn){if(yn!==null&&Ee.has(yn)&&(ge.width!==yn.image.width||ge.height!==yn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");et.setupDepthRenderbuffer(ge)}}const dn=ge.texture;(dn.isData3DTexture||dn.isDataArrayTexture||dn.isCompressedArrayTexture)&&(jt=!0);const vn=Ee.get(ge).__webglFramebuffer;ge.isWebGLCubeRenderTarget?(Array.isArray(vn[Ye])?nt=vn[Ye][rt]:nt=vn[Ye],Ut=!0):ge.samples>0&&et.useMultisampledRTT(ge)===!1?nt=Ee.get(ge).__webglMultisampledFramebuffer:Array.isArray(vn)?nt=vn[rt]:nt=vn,J.copy(ge.viewport),Y.copy(ge.scissor),ne=ge.scissorTest}else J.copy(j).multiplyScalar(V).floor(),Y.copy(oe).multiplyScalar(V).floor(),ne=fe;if(rt!==0&&(nt=Zt),Le.bindFramebuffer(K.FRAMEBUFFER,nt)&&pt&&Le.drawBuffers(ge,nt),Le.viewport(J),Le.scissor(Y),Le.setScissorTest(ne),Ut){const on=Ee.get(ge.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,on.__webglTexture,rt)}else if(jt){const on=Ye;for(let dn=0;dn<ge.textures.length;dn++){const vn=Ee.get(ge.textures[dn]);K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+dn,vn.__webglTexture,rt,on)}}else if(ge!==null&&rt!==0){const on=Ee.get(ge.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,on.__webglTexture,rt)}k=-1},this.readRenderTargetPixels=function(ge,Ye,rt,pt,nt,Ut,jt,$t=0){if(!(ge&&ge.isWebGLRenderTarget)){bi("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let on=Ee.get(ge).__webglFramebuffer;if(ge.isWebGLCubeRenderTarget&&jt!==void 0&&(on=on[jt]),on){Le.bindFramebuffer(K.FRAMEBUFFER,on);try{const dn=ge.textures[$t],vn=dn.format,yn=dn.type;if(!We.textureFormatReadable(vn)){bi("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!We.textureTypeReadable(yn)){bi("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ye>=0&&Ye<=ge.width-pt&&rt>=0&&rt<=ge.height-nt&&(ge.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+$t),K.readPixels(Ye,rt,pt,nt,ht.convert(vn),ht.convert(yn),Ut))}finally{const dn=R!==null?Ee.get(R).__webglFramebuffer:null;Le.bindFramebuffer(K.FRAMEBUFFER,dn)}}},this.readRenderTargetPixelsAsync=async function(ge,Ye,rt,pt,nt,Ut,jt,$t=0){if(!(ge&&ge.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let on=Ee.get(ge).__webglFramebuffer;if(ge.isWebGLCubeRenderTarget&&jt!==void 0&&(on=on[jt]),on)if(Ye>=0&&Ye<=ge.width-pt&&rt>=0&&rt<=ge.height-nt){Le.bindFramebuffer(K.FRAMEBUFFER,on);const dn=ge.textures[$t],vn=dn.format,yn=dn.type;if(!We.textureFormatReadable(vn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!We.textureTypeReadable(yn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const gn=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,gn),K.bufferData(K.PIXEL_PACK_BUFFER,Ut.byteLength,K.STREAM_READ),ge.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+$t),K.readPixels(Ye,rt,pt,nt,ht.convert(vn),ht.convert(yn),0);const ii=R!==null?Ee.get(R).__webglFramebuffer:null;Le.bindFramebuffer(K.FRAMEBUFFER,ii);const Dn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await EX(K,Dn,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,gn),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,Ut),K.deleteBuffer(gn),K.deleteSync(Dn),Ut}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ge,Ye=null,rt=0){const pt=Math.pow(2,-rt),nt=Math.floor(ge.image.width*pt),Ut=Math.floor(ge.image.height*pt),jt=Ye!==null?Ye.x:0,$t=Ye!==null?Ye.y:0;et.setTexture2D(ge,0),K.copyTexSubImage2D(K.TEXTURE_2D,rt,0,0,jt,$t,nt,Ut),Le.unbindTexture()};const nn=K.createFramebuffer(),sn=K.createFramebuffer();this.copyTextureToTexture=function(ge,Ye,rt=null,pt=null,nt=0,Ut=null){Ut===null&&(nt!==0?(Ty("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ut=nt,nt=0):Ut=0);let jt,$t,on,dn,vn,yn,gn,ii,Dn;const xn=ge.isCompressedTexture?ge.mipmaps[Ut]:ge.image;if(rt!==null)jt=rt.max.x-rt.min.x,$t=rt.max.y-rt.min.y,on=rt.isBox3?rt.max.z-rt.min.z:1,dn=rt.min.x,vn=rt.min.y,yn=rt.isBox3?rt.min.z:0;else{const Di=Math.pow(2,-nt);jt=Math.floor(xn.width*Di),$t=Math.floor(xn.height*Di),ge.isDataArrayTexture?on=xn.depth:ge.isData3DTexture?on=Math.floor(xn.depth*Di):on=1,dn=0,vn=0,yn=0}pt!==null?(gn=pt.x,ii=pt.y,Dn=pt.z):(gn=0,ii=0,Dn=0);const gi=ht.convert(Ye.format),En=ht.convert(Ye.type);let Ai;Ye.isData3DTexture?(et.setTexture3D(Ye,0),Ai=K.TEXTURE_3D):Ye.isDataArrayTexture||Ye.isCompressedArrayTexture?(et.setTexture2DArray(Ye,0),Ai=K.TEXTURE_2D_ARRAY):(et.setTexture2D(Ye,0),Ai=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,Ye.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ye.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,Ye.unpackAlignment);const Un=K.getParameter(K.UNPACK_ROW_LENGTH),si=K.getParameter(K.UNPACK_IMAGE_HEIGHT),$n=K.getParameter(K.UNPACK_SKIP_PIXELS),Nn=K.getParameter(K.UNPACK_SKIP_ROWS),kr=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,xn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,xn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,dn),K.pixelStorei(K.UNPACK_SKIP_ROWS,vn),K.pixelStorei(K.UNPACK_SKIP_IMAGES,yn);const Ri=ge.isDataArrayTexture||ge.isData3DTexture,ji=Ye.isDataArrayTexture||Ye.isData3DTexture;if(ge.isDepthTexture){const Di=Ee.get(ge),ms=Ee.get(Ye),qr=Ee.get(Di.__renderTarget),za=Ee.get(ms.__renderTarget);Le.bindFramebuffer(K.READ_FRAMEBUFFER,qr.__webglFramebuffer),Le.bindFramebuffer(K.DRAW_FRAMEBUFFER,za.__webglFramebuffer);for(let aa=0;aa<on;aa++)Ri&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ee.get(ge).__webglTexture,nt,yn+aa),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ee.get(Ye).__webglTexture,Ut,Dn+aa)),K.blitFramebuffer(dn,vn,jt,$t,gn,ii,jt,$t,K.DEPTH_BUFFER_BIT,K.NEAREST);Le.bindFramebuffer(K.READ_FRAMEBUFFER,null),Le.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(nt!==0||ge.isRenderTargetTexture||Ee.has(ge)){const Di=Ee.get(ge),ms=Ee.get(Ye);Le.bindFramebuffer(K.READ_FRAMEBUFFER,nn),Le.bindFramebuffer(K.DRAW_FRAMEBUFFER,sn);for(let qr=0;qr<on;qr++)Ri?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Di.__webglTexture,nt,yn+qr):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Di.__webglTexture,nt),ji?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,ms.__webglTexture,Ut,Dn+qr):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,ms.__webglTexture,Ut),nt!==0?K.blitFramebuffer(dn,vn,jt,$t,gn,ii,jt,$t,K.COLOR_BUFFER_BIT,K.NEAREST):ji?K.copyTexSubImage3D(Ai,Ut,gn,ii,Dn+qr,dn,vn,jt,$t):K.copyTexSubImage2D(Ai,Ut,gn,ii,dn,vn,jt,$t);Le.bindFramebuffer(K.READ_FRAMEBUFFER,null),Le.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else ji?ge.isDataTexture||ge.isData3DTexture?K.texSubImage3D(Ai,Ut,gn,ii,Dn,jt,$t,on,gi,En,xn.data):Ye.isCompressedArrayTexture?K.compressedTexSubImage3D(Ai,Ut,gn,ii,Dn,jt,$t,on,gi,xn.data):K.texSubImage3D(Ai,Ut,gn,ii,Dn,jt,$t,on,gi,En,xn):ge.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,Ut,gn,ii,jt,$t,gi,En,xn.data):ge.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,Ut,gn,ii,xn.width,xn.height,gi,xn.data):K.texSubImage2D(K.TEXTURE_2D,Ut,gn,ii,jt,$t,gi,En,xn);K.pixelStorei(K.UNPACK_ROW_LENGTH,Un),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,si),K.pixelStorei(K.UNPACK_SKIP_PIXELS,$n),K.pixelStorei(K.UNPACK_SKIP_ROWS,Nn),K.pixelStorei(K.UNPACK_SKIP_IMAGES,kr),Ut===0&&Ye.generateMipmaps&&K.generateMipmap(Ai),Le.unbindTexture()},this.initRenderTarget=function(ge){Ee.get(ge).__webglFramebuffer===void 0&&et.setupRenderTarget(ge)},this.initTexture=function(ge){ge.isCubeTexture?et.setTextureCube(ge,0):ge.isData3DTexture?et.setTexture3D(ge,0):ge.isDataArrayTexture||ge.isCompressedArrayTexture?et.setTexture2DArray(ge,0):et.setTexture2D(ge,0),Le.unbindTexture()},this.resetState=function(){L=0,N=0,R=null,Le.reset(),Qe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Ji._getDrawingBufferColorSpace(e),t.unpackColorSpace=Ji._getUnpackColorSpace()}}const nie=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:z4,AddEquation:mp,AddOperation:BH,AdditiveAnimationBlendMode:q4,AdditiveBlending:iT,AgXToneMapping:NH,AlphaFormat:G4,AlwaysCompare:qH,AlwaysDepth:v_,AlwaysStencilFunc:lT,AmbientLight:RQ,AnimationAction:GQ,AnimationClip:Ly,AnimationLoader:hZ,AnimationMixer:PZ,AnimationObjectGroup:DZ,AnimationUtils:cZ,ArcCurve:lQ,ArrayCamera:zQ,ArrowHelper:cJ,AttachedBindMode:aT,Audio:jQ,AudioAnalyser:BZ,AudioContext:_U,AudioListener:_Z,AudioLoader:xZ,AxesHelper:uJ,BackSide:rc,BasicDepthPacking:PH,BasicShadowMap:aH,BatchedMesh:sQ,Bone:eE,BooleanKeyframeTrack:Ng,Box2:qZ,Box3:Zo,Box3Helper:oJ,BoxGeometry:Ug,BoxHelper:aJ,BufferAttribute:Pr,BufferGeometry:Ti,BufferGeometryLoader:HQ,ByteType:QS,Cache:qf,Camera:ZS,CameraHelper:sJ,CanvasTexture:FY,CapsuleGeometry:sE,CatmullRomCurve3:cQ,CineonToneMapping:TH,CircleGeometry:aE,ClampToEdgeWrapping:ia,Clock:SU,Color:bn,ColorKeyframeTrack:gU,ColorManagement:Ji,CompressedArrayTexture:UY,CompressedCubeTexture:NY,CompressedTexture:iE,CompressedTextureLoader:dZ,ConeGeometry:Qx,ConstantAlphaFactor:_H,ConstantColorFactor:bH,Controls:fJ,CubeCamera:tQ,CubeReflectionMapping:Jf,CubeRefractionMapping:Fp,CubeTexture:Dx,CubeTextureLoader:FQ,CubeUVReflectionMapping:Gy,CubicBezierCurve:lU,CubicBezierCurve3:uQ,CubicInterpolant:MQ,CullFaceBack:nT,CullFaceFront:sH,CullFaceFrontBack:jW,CullFaceNone:rH,Curve:tf,CurvePath:fQ,CustomBlending:oH,CustomToneMapping:UH,CylinderGeometry:Hx,Cylindrical:KZ,Data3DTexture:YS,DataArrayTexture:XS,DataTexture:lA,DataTextureLoader:yU,DataUtils:Jm,DecrementStencilOp:$W,DecrementWrapStencilOp:tX,DefaultLoadingManager:NQ,DepthFormat:Sy,DepthStencilFormat:Ey,DepthTexture:rE,DetachedBindMode:IH,DirectionalLight:wU,DirectionalLightHelper:rJ,DiscreteInterpolant:TQ,DodecahedronGeometry:oE,DoubleSide:tA,DstAlphaFactor:mH,DstColorFactor:yH,DynamicCopyUsage:mX,DynamicDrawUsage:uX,DynamicReadUsage:hX,EdgesGeometry:oQ,EllipseCurve:lE,EqualCompare:jH,EqualDepth:b_,EqualStencilFunc:sX,EquirectangularReflectionMapping:xy,EquirectangularRefractionMapping:tx,Euler:Bu,EventDispatcher:th,ExternalTexture:aU,ExtrudeGeometry:cE,FileLoader:sc,Float16BufferAttribute:lY,Float32BufferAttribute:jn,FloatType:Ks,Fog:$S,FogExp2:JS,FramebufferTexture:TY,FrontSide:Zf,Frustum:Ky,FrustumArray:tE,GLBufferAttribute:jZ,GLSL1:yX,GLSL3:cT,GreaterCompare:VH,GreaterDepth:__,GreaterEqualCompare:KH,GreaterEqualDepth:w_,GreaterEqualStencilFunc:cX,GreaterStencilFunc:oX,GridHelper:nJ,Group:ad,HalfFloatType:Ja,HemisphereLight:LQ,HemisphereLightHelper:tJ,IcosahedronGeometry:zx,ImageBitmapLoader:QQ,ImageLoader:ux,ImageUtils:ZH,IncrementStencilOp:JW,IncrementWrapStencilOp:eX,InstancedBufferAttribute:mg,InstancedBufferGeometry:kQ,InstancedInterleavedBuffer:zZ,InstancedMesh:iU,Int16BufferAttribute:aY,Int32BufferAttribute:oY,Int8BufferAttribute:iY,IntType:Ix,InterleavedBuffer:Px,InterleavedBufferAttribute:Rp,Interpolant:qy,InterpolateDiscrete:By,InterpolateLinear:Cy,InterpolateSmooth:Y2,InterpolationSamplingMode:bX,InterpolationSamplingType:xX,InvertStencilOp:nX,KeepStencilOp:Hm,KeyframeTrack:fA,LOD:rQ,LatheGeometry:uE,Layers:Ny,LessCompare:zH,LessDepth:x_,LessEqualCompare:X4,LessEqualDepth:pg,LessEqualStencilFunc:aX,LessStencilFunc:rX,Light:Vp,LightProbe:PQ,Line:fd,Line3:YZ,LineBasicMaterial:Ul,LineCurve:cU,LineCurve3:AQ,LineDashedMaterial:EQ,LineLoop:rU,LineSegments:ef,LinearFilter:ur,LinearInterpolant:mU,LinearMipMapLinearFilter:oT,LinearMipMapNearestFilter:KW,LinearMipmapLinearFilter:iA,LinearMipmapNearestFilter:oy,LinearSRGBColorSpace:$a,LinearToneMapping:CH,LinearTransfer:ix,Loader:Nl,LoaderUtils:Cp,LoadingManager:gE,LoopOnce:LH,LoopPingPong:DH,LoopRepeat:RH,MOUSE:Pm,Material:ho,MaterialLoader:yE,MathUtils:YH,Matrix2:TU,Matrix3:Fi,Matrix4:oi,MaxEquation:AH,Mesh:sa,MeshBasicMaterial:jc,MeshDepthMaterial:hU,MeshDistanceMaterial:dU,MeshLambertMaterial:_Q,MeshMatcapMaterial:SQ,MeshNormalMaterial:wQ,MeshPhongMaterial:xQ,MeshPhysicalMaterial:AA,MeshStandardMaterial:Gx,MeshToonMaterial:bQ,MinEquation:uH,MirroredRepeatWrapping:by,MixOperation:EH,MultiplyBlending:sT,MultiplyOperation:Fx,NearestFilter:fo,NearestMipMapLinearFilter:GW,NearestMipMapNearestFilter:VW,NearestMipmapLinearFilter:Xm,NearestMipmapNearestFilter:HS,NeutralToneMapping:FH,NeverCompare:QH,NeverDepth:y_,NeverStencilFunc:iX,NoBlending:YA,NoColorSpace:rd,NoToneMapping:Xf,NormalAnimationBlendMode:WS,NormalBlending:ag,NotEqualCompare:GH,NotEqualDepth:S_,NotEqualStencilFunc:lX,NumberKeyframeTrack:yg,Object3D:gr,ObjectLoader:yZ,ObjectSpaceNormalMap:HH,OctahedronGeometry:jx,OneFactor:hH,OneMinusConstantAlphaFactor:SH,OneMinusConstantColorFactor:wH,OneMinusDstAlphaFactor:gH,OneMinusDstColorFactor:vH,OneMinusSrcAlphaFactor:g_,OneMinusSrcColorFactor:pH,OrthographicCamera:Yf,PCFShadowMap:kS,PCFSoftShadowMap:C1,PMREMGenerator:gT,Path:iS,PerspectiveCamera:_a,Plane:td,PlaneGeometry:jp,PlaneHelper:lJ,PointLight:bU,PointLightHelper:$Z,Points:sU,PointsMaterial:nE,PolarGridHelper:iJ,PolyhedronGeometry:zp,PositionalAudio:EZ,PropertyBinding:yr,PropertyMixer:VQ,QuadraticBezierCurve:uU,QuadraticBezierCurve3:AU,Quaternion:Fo,QuaternionKeyframeTrack:vg,QuaternionLinearInterpolant:UQ,RED_GREEN_RGTC2_Format:Z_,RED_RGTC1_Format:X_,REVISION:Nx,RGBADepthPacking:kH,RGBAFormat:Ha,RGBAIntegerFormat:qS,RGBA_ASTC_10x10_Format:j_,RGBA_ASTC_10x5_Format:H_,RGBA_ASTC_10x6_Format:Q_,RGBA_ASTC_10x8_Format:z_,RGBA_ASTC_12x10_Format:V_,RGBA_ASTC_12x12_Format:G_,RGBA_ASTC_4x4_Format:F_,RGBA_ASTC_5x4_Format:I_,RGBA_ASTC_5x5_Format:L_,RGBA_ASTC_6x5_Format:R_,RGBA_ASTC_6x6_Format:D_,RGBA_ASTC_8x5_Format:O_,RGBA_ASTC_8x6_Format:P_,RGBA_ASTC_8x8_Format:k_,RGBA_BPTC_Format:K_,RGBA_ETC2_EAC_Format:N_,RGBA_PVRTC_2BPPV1_Format:M_,RGBA_PVRTC_4BPPV1_Format:C_,RGBA_S3TC_DXT1_Format:T1,RGBA_S3TC_DXT3_Format:U1,RGBA_S3TC_DXT5_Format:N1,RGBDepthPacking:WW,RGBFormat:K4,RGBIntegerFormat:qW,RGB_BPTC_SIGNED_Format:q_,RGB_BPTC_UNSIGNED_Format:W_,RGB_ETC1_Format:T_,RGB_ETC2_Format:U_,RGB_PVRTC_2BPPV1_Format:B_,RGB_PVRTC_4BPPV1_Format:E_,RGB_S3TC_DXT1_Format:M1,RGDepthPacking:XW,RGFormat:GS,RGIntegerFormat:KS,RawShaderMaterial:vQ,Ray:Tg,Raycaster:MU,RectAreaLight:DQ,RedFormat:Lx,RedIntegerFormat:Rx,ReinhardToneMapping:MH,RenderTarget:Z4,RenderTarget3D:kZ,RepeatWrapping:Ip,ReplaceStencilOp:ZW,ReverseSubtractEquation:cH,RingGeometry:AE,SIGNED_RED_GREEN_RGTC2_Format:J_,SIGNED_RED_RGTC1_Format:Y_,SRGBColorSpace:wa,SRGBTransfer:Zr,Scene:Ox,ShaderChunk:Hi,ShaderLib:qA,ShaderMaterial:oc,ShadowMaterial:yQ,Shape:lg,ShapeGeometry:fE,ShapePath:AJ,ShapeUtils:WA,ShortType:zS,Skeleton:kx,SkeletonHelper:JZ,SkinnedMesh:nU,Source:gp,Sphere:Io,SphereGeometry:Vx,Spherical:pT,SphericalHarmonics3:OQ,SplineCurve:fU,SpotLight:xU,SpotLightHelper:ZZ,Sprite:iQ,SpriteMaterial:tU,SrcAlphaFactor:m_,SrcAlphaSaturateFactor:xH,SrcColorFactor:dH,StaticCopyUsage:pX,StaticDrawUsage:rx,StaticReadUsage:fX,StereoCamera:bZ,StreamCopyUsage:gX,StreamDrawUsage:AX,StreamReadUsage:dX,StringKeyframeTrack:Fg,SubtractEquation:lH,SubtractiveBlending:rT,TOUCH:km,TangentSpaceNormalMap:Qp,TetrahedronGeometry:hE,Texture:Kr,TextureLoader:IQ,TextureUtils:gJ,Timer:VZ,TimestampQuery:vX,TorusGeometry:dE,TorusKnotGeometry:pE,Triangle:Qc,TriangleFanDrawMode:$_,TriangleStripDrawMode:W4,TrianglesDrawMode:OH,TubeGeometry:mE,UVMapping:Np,Uint16BufferAttribute:J4,Uint32BufferAttribute:$4,Uint8BufferAttribute:rY,Uint8ClampedBufferAttribute:sY,Uniform:CU,UniformsGroup:QZ,UniformsLib:_n,UniformsUtils:eQ,UnsignedByteType:ac,UnsignedInt101111Type:V4,UnsignedInt248Type:_y,UnsignedInt5999Type:j4,UnsignedIntType:$f,UnsignedShort4444Type:jS,UnsignedShort5551Type:VS,UnsignedShortType:wy,VSMShadowMap:KA,Vector2:Xt,Vector3:je,Vector4:Sr,VectorKeyframeTrack:xg,VideoFrameTexture:MY,VideoTexture:aQ,WebGL3DRenderTarget:KX,WebGLArrayRenderTarget:GX,WebGLCoordinateSystem:bu,WebGLCubeRenderTarget:eU,WebGLRenderTarget:Eu,WebGLRenderer:UU,WebGLUtils:JQ,WebGPUCoordinateSystem:My,WebXRController:Z2,WireframeGeometry:gQ,WrapAroundEnding:nx,ZeroCurvatureEnding:Ym,ZeroFactor:fH,ZeroSlopeEnding:Zm,ZeroStencilOp:YW,createCanvasElement:XH,error:bi,getConsoleFunction:SX,log:ax,setConsoleFunction:_X,warn:Sn,warnOnce:Ty},Symbol.toStringTag,{value:"Module"}));var bC={exports:{}},wC={},_C={exports:{}},SC={};var _R;function iie(){if(_R)return SC;_R=1;var n=Hy();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(f,p){var d=p(),y=i({inst:{value:d,getSnapshot:p}}),x=y[0].inst,w=y[1];return s(function(){x.value=d,x.getSnapshot=p,l(x)&&w({inst:x})},[f,d,p]),r(function(){return l(x)&&w({inst:x}),f(function(){l(x)&&w({inst:x})})},[f]),a(d),d}function l(f){var p=f.getSnapshot;f=f.value;try{var d=p();return!t(f,d)}catch{return!0}}function c(f,p){return p()}var A=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return SC.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:A,SC}var SR;function rie(){return SR||(SR=1,_C.exports=iie()),_C.exports}var ER;function sie(){if(ER)return wC;ER=1;var n=Hy(),e=rie();function t(c,A){return c===A&&(c!==0||1/c===1/A)||c!==c&&A!==A}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return wC.useSyncExternalStoreWithSelector=function(c,A,f,p,d){var y=s(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=o(function(){function b(M){if(!_){if(_=!0,E=M,M=p(M),d!==void 0&&x.hasValue){var F=x.value;if(d(F,M))return C=F}return C=M}if(F=C,i(E,M))return F;var L=p(M);return d!==void 0&&d(F,L)?(E=M,F):(E=M,C=L)}var _=!1,E,C,T=f===void 0?null:f;return[function(){return b(A())},T===null?void 0:function(){return b(T())}]},[A,f,p,d]);var w=r(c,y[0],y[1]);return a(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},wC}var BR;function aie(){return BR||(BR=1,bC.exports=sie()),bC.exports}var oie=aie();const lie=Cx(oie),CR=n=>{let e;const t=new Set,i=(c,A)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=A??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(d=>d(e,p))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,o);return o},cie=(n=>n?CR(n):CR),{useSyncExternalStoreWithSelector:uie}=lie,Aie=n=>n;function fie(n,e=Aie,t){const i=uie(n.subscribe,n.getState,n.getInitialState,e,t);return sG.useDebugValue(i),i}const MR=(n,e)=>{const t=cie(n),i=(r,s=e)=>fie(t,r,s);return Object.assign(i,t),i},$Q=((n,e)=>n?MR(n,e):MR),hie=n=>typeof n=="object"&&typeof n.then=="function",eg=[];function e7(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function t7(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of eg)if(e7(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=eg.indexOf(r);s!==-1&&eg.splice(s,1)},promise:(hie(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(eg.push(r),!t)throw r.promise}const die=(n,e,t)=>t7(n,e,!1,t),pie=(n,e,t)=>void t7(n,e,!0,t),mie=n=>{if(n===void 0||n.length===0)eg.splice(0,eg.length);else{const e=eg.find(t=>e7(n,t.keys,t.equal));e&&e.remove()}};var EC={exports:{}},BC={exports:{}},CC={exports:{}},MC={};var TR;function gie(){return TR||(TR=1,(function(n){function e(W,q){var $=W.length;W.push(q);e:for(;0<$;){var re=$-1>>>1,V=W[re];if(0<r(V,q))W[re]=q,W[$]=V,$=re;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var q=W[0],$=W.pop();if($!==q){W[0]=$;e:for(var re=0,V=W.length,te=V>>>1;re<te;){var z=2*(re+1)-1,j=W[z],oe=z+1,fe=W[oe];if(0>r(j,$))oe<V&&0>r(fe,j)?(W[re]=fe,W[oe]=$,re=oe):(W[re]=j,W[z]=$,re=z);else if(oe<V&&0>r(fe,$))W[re]=fe,W[oe]=$,re=oe;else break e}}return q}function r(W,q){var $=W.sortIndex-q.sortIndex;return $!==0?$:W.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],A=1,f=null,p=3,d=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function E(W){for(var q=t(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=W)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function C(W){if(x=!1,E(W),!y)if(t(l)!==null)y=!0,Y();else{var q=t(c);q!==null&&ne(C,q.startTime-W)}}var T=!1,M=-1,F=5,L=-1;function N(){return!(n.unstable_now()-L<F)}function R(){if(T){var W=n.unstable_now();L=W;var q=!0;try{e:{y=!1,x&&(x=!1,b(M),M=-1),d=!0;var $=p;try{t:{for(E(W),f=t(l);f!==null&&!(f.expirationTime>W&&N());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var V=re(f.expirationTime<=W);if(W=n.unstable_now(),typeof V=="function"){f.callback=V,E(W),q=!0;break t}f===t(l)&&i(l),E(W)}else i(l);f=t(l)}if(f!==null)q=!0;else{var te=t(c);te!==null&&ne(C,te.startTime-W),q=!1}}break e}finally{f=null,p=$,d=!1}q=void 0}}finally{q?k():T=!1}}}var k;if(typeof _=="function")k=function(){_(R)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=R,k=function(){J.postMessage(null)}}else k=function(){w(R,0)};function Y(){T||(T=!0,k())}function ne(W,q){M=w(function(){W(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){y||d||(y=!0,Y())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(W){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var $=p;p=q;try{return W()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=p;p=W;try{return q()}finally{p=$}},n.unstable_scheduleCallback=function(W,q,$){var re=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,W={id:A++,callback:q,priorityLevel:W,startTime:$,expirationTime:V,sortIndex:-1},$>re?(W.sortIndex=$,e(c,W),t(l)===null&&W===t(c)&&(x?(b(M),M=-1):x=!0,ne(C,$-re))):(W.sortIndex=V,e(l,W),y||d||(y=!0,Y())),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var q=p;return function(){var $=p;p=q;try{return W.apply(this,arguments)}finally{p=$}}}})(MC)),MC}var UR;function yie(){return UR||(UR=1,CC.exports=gie()),CC.exports}var NR;function vie(){return NR||(NR=1,(function(n){n.exports=function(e){function t(m,g,B,O){return new xd(m,g,B,O)}function i(){}function r(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)g+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(m){return m===null||typeof m!="object"?null:(m=kt&&m[kt]||m["@@iterator"],typeof m=="function"?m:null)}function a(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===St?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case ie:return"Fragment";case H:return"Portal";case ve:return"Profiler";case ce:return"StrictMode";case Ge:return"Suspense";case ut:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case Ie:return(m.displayName||"Context")+".Provider";case Ce:return(m._context.displayName||"Context")+".Consumer";case ke:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case Bt:return g=m.displayName||null,g!==null?g:a(m.type)||"Memo";case Ve:g=m._payload,m=m._init;try{return a(m(g))}catch{}}return null}function o(m){if(Vt===void 0)try{throw Error()}catch(B){var g=B.stack.trim().match(/\n( *(at )?)/);Vt=g&&g[1]||"",ln=-1<B.stack.indexOf(`
    at`)?" (<anonymous>)":-1<B.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+m+ln}function l(m,g){if(!m||Jt)return"";Jt=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(g){var wn=function(){throw Error()};if(Object.defineProperty(wn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wn,[])}catch(vi){var Bn=vi}Reflect.construct(m,[],wn)}else{try{wn.call()}catch(vi){Bn=vi}m.call(wn.prototype)}}else{try{throw Error()}catch(vi){Bn=vi}(wn=m())&&typeof wn.catch=="function"&&wn.catch(function(){})}}catch(vi){if(vi&&Bn&&typeof vi.stack=="string")return[vi.stack,Bn.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ae=O.DetermineComponentFrameRoot(),De=ae[0],st=ae[1];if(De&&st){var xt=De.split(`
`),Wt=st.split(`
`);for(X=O=0;O<xt.length&&!xt[O].includes("DetermineComponentFrameRoot");)O++;for(;X<Wt.length&&!Wt[X].includes("DetermineComponentFrameRoot");)X++;if(O===xt.length||X===Wt.length)for(O=xt.length-1,X=Wt.length-1;1<=O&&0<=X&&xt[O]!==Wt[X];)X--;for(;1<=O&&0<=X;O--,X--)if(xt[O]!==Wt[X]){if(O!==1||X!==1)do if(O--,X--,0>X||xt[O]!==Wt[X]){var fn=`
`+xt[O].replace(" at new "," at ");return m.displayName&&fn.includes("<anonymous>")&&(fn=fn.replace("<anonymous>",m.displayName)),fn}while(1<=O&&0<=X);break}}}finally{Jt=!1,Error.prepareStackTrace=B}return(B=m?m.displayName||m.name:"")?o(B):""}function c(m){switch(m.tag){case 26:case 27:case 5:return o(m.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return m=l(m.type,!1),m;case 11:return m=l(m.type.render,!1),m;case 1:return m=l(m.type,!0),m;default:return""}}function A(m){try{var g="";do g+=c(m),m=m.return;while(m);return g}catch(B){return`
Error generating stack: `+B.message+`
`+B.stack}}function f(m){var g=m,B=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(B=g.return),m=g.return;while(m)}return g.tag===3?B:null}function p(m){if(f(m)!==m)throw Error(r(188))}function d(m){var g=m.alternate;if(!g){if(g=f(m),g===null)throw Error(r(188));return g!==m?null:m}for(var B=m,O=g;;){var X=B.return;if(X===null)break;var ae=X.alternate;if(ae===null){if(O=X.return,O!==null){B=O;continue}break}if(X.child===ae.child){for(ae=X.child;ae;){if(ae===B)return p(X),m;if(ae===O)return p(X),g;ae=ae.sibling}throw Error(r(188))}if(B.return!==O.return)B=X,O=ae;else{for(var De=!1,st=X.child;st;){if(st===B){De=!0,B=X,O=ae;break}if(st===O){De=!0,O=X,B=ae;break}st=st.sibling}if(!De){for(st=ae.child;st;){if(st===B){De=!0,B=ae,O=X;break}if(st===O){De=!0,O=ae,B=X;break}st=st.sibling}if(!De)throw Error(r(189))}}if(B.alternate!==O)throw Error(r(190))}if(B.tag!==3)throw Error(r(188));return B.stateNode.current===B?m:g}function y(m){var g=m.tag;if(g===5||g===26||g===27||g===6)return m;for(m=m.child;m!==null;){if(g=y(m),g!==null)return g;m=m.sibling}return null}function x(m){var g=m.tag;if(g===5||g===26||g===27||g===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(g=x(m),g!==null))return g;m=m.sibling}return null}function w(m){return{current:m}}function b(m){0>NA||(m.current=im[NA],im[NA]=null,NA--)}function _(m,g){NA++,im[NA]=m.current,m.current=g}function E(m){return m>>>=0,m===0?32:31-(rm(m)/ob|0)|0}function C(m){var g=m&42;if(g!==0)return g;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function T(m,g){var B=m.pendingLanes;if(B===0)return 0;var O=0,X=m.suspendedLanes,ae=m.pingedLanes,De=m.warmLanes;m=m.finishedLanes!==0;var st=B&134217727;return st!==0?(B=st&~X,B!==0?O=C(B):(ae&=st,ae!==0?O=C(ae):m||(De=st&~De,De!==0&&(O=C(De))))):(st=B&~X,st!==0?O=C(st):ae!==0?O=C(ae):m||(De=B&~De,De!==0&&(O=C(De)))),O===0?0:g!==0&&g!==O&&(g&X)===0&&(X=O&-O,De=g&-g,X>=De||X===32&&(De&4194176)!==0)?g:O}function M(m,g){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&g)===0}function F(m,g){switch(m){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var m=Fd;return Fd<<=1,(Fd&4194176)===0&&(Fd=128),m}function N(){var m=sm;return sm<<=1,(sm&62914560)===0&&(sm=4194304),m}function R(m){for(var g=[],B=0;31>B;B++)g.push(m);return g}function k(m,g){m.pendingLanes|=g,g!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function Q(m,g,B,O,X,ae){var De=m.pendingLanes;m.pendingLanes=B,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=B,m.entangledLanes&=B,m.errorRecoveryDisabledLanes&=B,m.shellSuspendCounter=0;var st=m.entanglements,xt=m.expirationTimes,Wt=m.hiddenUpdates;for(B=De&~B;0<B;){var fn=31-ol(B),wn=1<<fn;st[fn]=0,xt[fn]=-1;var Bn=Wt[fn];if(Bn!==null)for(Wt[fn]=null,fn=0;fn<Bn.length;fn++){var vi=Bn[fn];vi!==null&&(vi.lane&=-536870913)}B&=~wn}O!==0&&J(m,O,0),ae!==0&&X===0&&m.tag!==0&&(m.suspendedLanes|=ae&~(De&~g))}function J(m,g,B){m.pendingLanes|=g,m.suspendedLanes&=~g;var O=31-ol(g);m.entangledLanes|=g,m.entanglements[O]=m.entanglements[O]|1073741824|B&4194218}function Y(m,g){var B=m.entangledLanes|=g;for(m=m.entanglements;B;){var O=31-ol(B),X=1<<O;X&g|m[O]&g&&(m[O]|=g),B&=~X}}function ne(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function W(m){if(ll&&typeof ll.onCommitFiberRoot=="function")try{ll.onCommitFiberRoot(Ld,m,void 0,(m.current.flags&128)===128)}catch{}}function q(m){if(typeof Ab=="function"&&pv(m),ll&&typeof ll.setStrictMode=="function")try{ll.setStrictMode(Ld,m)}catch{}}function $(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}function re(m,g){if(typeof m=="object"&&m!==null){var B=Wg.get(m);return B!==void 0?B:(g={value:m,source:g,stack:A(g)},Wg.set(m,g),g)}return{value:m,source:g,stack:A(g)}}function V(m,g){hs[Ps++]=lm,hs[Ps++]=om,om=m,lm=g}function te(m,g,B){jl[Vl++]=zu,jl[Vl++]=Uc,jl[Vl++]=uu,uu=m;var O=zu;m=Uc;var X=32-ol(O)-1;O&=~(1<<X),B+=1;var ae=32-ol(g)+X;if(30<ae){var De=X-X%5;ae=(O&(1<<De)-1).toString(32),O>>=De,X-=De,zu=1<<32-ol(g)+X|B<<X|O,Uc=ae+m}else zu=1<<ae|B<<X|O,Uc=m}function z(m){m.return!==null&&(V(m,1),te(m,1,0))}function j(m){for(;m===om;)om=hs[--Ps],hs[Ps]=null,lm=hs[--Ps],hs[Ps]=null;for(;m===uu;)uu=jl[--Vl],jl[Vl]=null,Uc=jl[--Vl],jl[Vl]=null,zu=jl[--Vl],jl[Vl]=null}function oe(m,g){_(Au,g),_(cm,m),_(Wa,null),m=Xr(g),b(Wa),_(Wa,m)}function fe(){b(Wa),b(cm),b(Au)}function ue(m){m.memoizedState!==null&&_(Rd,m);var g=Wa.current,B=_i(g,m.type);g!==B&&(_(cm,m),_(Wa,B))}function Ae(m){cm.current===m&&(b(Wa),b(cm)),Rd.current===m&&(b(Rd),ns?Qn._currentValue=Rr:Qn._currentValue2=Rr)}function he(m){var g=Error(r(418,""));throw $e(re(g,m)),um}function _e(m,g){if(!yi)throw Error(r(175));Td(m.stateNode,m.type,m.memoizedProps,g,m)||he(m)}function be(m){for(So=m.return;So;)switch(So.tag){case 3:case 27:Nc=!0;return;case 5:case 13:Nc=!1;return;default:So=So.return}}function Ne(m){if(!yi||m!==So)return!1;if(!fr)return be(m),fr=!0,!1;var g=!1;if(oo?m.tag!==3&&m.tag!==27&&(m.tag!==5||nb(m.type)&&!nr(m.type,m.memoizedProps))&&(g=!0):m.tag!==3&&(m.tag!==5||nb(m.type)&&!nr(m.type,m.memoizedProps))&&(g=!0),g&&co&&he(m),be(m),m.tag===13){if(!yi)throw Error(r(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));co=jg(m)}else co=So?nm(m.stateNode):null;return!0}function ze(){yi&&(co=So=null,fr=!1)}function $e(m){Gl===null?Gl=[m]:Gl.push(m)}function He(){for(var m=_f,g=Dd=_f=0;g<m;){var B=Kl[g];Kl[g++]=null;var O=Kl[g];Kl[g++]=null;var X=Kl[g];Kl[g++]=null;var ae=Kl[g];if(Kl[g++]=null,O!==null&&X!==null){var De=O.pending;De===null?X.next=X:(X.next=De.next,De.next=X),O.pending=X}ae!==0&&We(B,X,ae)}}function K(m,g,B,O){Kl[_f++]=m,Kl[_f++]=g,Kl[_f++]=B,Kl[_f++]=O,Dd|=O,m.lanes|=O,m=m.alternate,m!==null&&(m.lanes|=O)}function xe(m,g,B,O){return K(m,g,B,O),Le(m)}function Pe(m,g){return K(m,null,null,g),Le(m)}function We(m,g,B){m.lanes|=B;var O=m.alternate;O!==null&&(O.lanes|=B);for(var X=!1,ae=m.return;ae!==null;)ae.childLanes|=B,O=ae.alternate,O!==null&&(O.childLanes|=B),ae.tag===22&&(m=ae.stateNode,m===null||m._visibility&1||(X=!0)),m=ae,ae=ae.return;X&&g!==null&&m.tag===3&&(ae=m.stateNode,X=31-ol(B),ae=ae.hiddenUpdates,m=ae[X],m===null?ae[X]=[g]:m.push(g),g.lane=B|536870912)}function Le(m){if(50<Ih)throw Ih=0,qo=null,Error(r(185));for(var g=m.return;g!==null;)m=g,g=m.return;return m.tag===3?m.stateNode:null}function tt(m){m!==Bh&&m.next===null&&(Bh===null?Od=Bh=m:Bh=Bh.next=m),fm=!0,Am||(Am=!0,P(et))}function Ee(m,g){if(!fu&&fm){fu=!0;do for(var B=!1,O=Od;O!==null;){if(m!==0){var X=O.pendingLanes;if(X===0)var ae=0;else{var De=O.suspendedLanes,st=O.pingedLanes;ae=(1<<31-ol(42|m)+1)-1,ae&=X&~(De&~st),ae=ae&201326677?ae&201326677|1:ae?ae|2:0}ae!==0&&(B=!0,Je(O,ae))}else ae=Oi,ae=T(O,O===zi?ae:0),(ae&3)===0||M(O,ae)||(B=!0,Je(O,ae));O=O.next}while(B);fu=!1}}function et(){fm=Am=!1;var m=0;Sf!==0&&(Cs()&&(m=Sf),Sf=0);for(var g=lo(),B=null,O=Od;O!==null;){var X=O.next,ae=me(O,g);ae===0?(O.next=null,B===null?Od=X:B.next=X,X===null&&(Bh=B)):(B=O,(m!==0||(ae&3)!==0)&&(fm=!0)),O=X}Ee(m)}function me(m,g){for(var B=m.suspendedLanes,O=m.pingedLanes,X=m.expirationTimes,ae=m.pendingLanes&-62914561;0<ae;){var De=31-ol(ae),st=1<<De,xt=X[De];xt===-1?((st&B)===0||(st&O)!==0)&&(X[De]=F(st,g)):xt<=g&&(m.expiredLanes|=st),ae&=~st}if(g=zi,B=Oi,B=T(m,m===g?B:0),O=m.callbackNode,B===0||m===g&&Vr===2||m.cancelPendingCommit!==null)return O!==null&&O!==null&&am(O),m.callbackNode=null,m.callbackPriority=0;if((B&3)===0||M(m,B)){if(g=B&-B,g===m.callbackPriority)return g;switch(O!==null&&am(O),ne(B)){case 2:case 8:B=ub;break;case 32:B=Kg;break;case 268435456:B=qg;break;default:B=Kg}return O=le.bind(null,m),B=Id(B,O),m.callbackPriority=g,m.callbackNode=B,g}return O!==null&&O!==null&&am(O),m.callbackPriority=2,m.callbackNode=null,2}function le(m,g){var B=m.callbackNode;if(Br()&&m.callbackNode!==B)return null;var O=Oi;return O=T(m,m===zi?O:0),O===0?null:(BA(m,O,g),me(m,lo()),m.callbackNode!=null&&m.callbackNode===B?le.bind(null,m):null)}function Je(m,g){if(Br())return null;BA(m,g,!0)}function P(m){sr?_o(function(){(Yn&6)!==0?Id(dv,m):m()}):Id(dv,m)}function Z(){return Sf===0&&(Sf=L()),Sf}function se(m,g){if(hm===null){var B=hm=[];Xg=0,cl=Z(),Ef={status:"pending",value:void 0,then:function(O){B.push(O)}}}return Xg++,g.then(we,we),g}function we(){if(--Xg===0&&hm!==null){Ef!==null&&(Ef.status="fulfilled");var m=hm;hm=null,cl=0,Ef=null;for(var g=0;g<m.length;g++)(0,m[g])()}}function Re(m,g){var B=[],O={status:"pending",value:null,reason:null,then:function(X){B.push(X)}};return m.then(function(){O.status="fulfilled",O.value=g;for(var X=0;X<B.length;X++)(0,B[X])(g)},function(X){for(O.status="rejected",O.reason=X,X=0;X<B.length;X++)(0,B[X])(void 0)}),O}function Ze(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dt(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function Me(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Oe(m,g,B){var O=m.updateQueue;if(O===null)return null;if(O=O.shared,(Yn&2)!==0){var X=O.pending;return X===null?g.next=g:(g.next=X.next,X.next=g),O.pending=g,g=Le(m),We(m,null,B),g}return K(m,O,g,B),Le(m)}function bt(m,g,B){if(g=g.updateQueue,g!==null&&(g=g.shared,(B&4194176)!==0)){var O=g.lanes;O&=m.pendingLanes,B|=O,g.lanes=B,Y(m,B)}}function Fe(m,g){var B=m.updateQueue,O=m.alternate;if(O!==null&&(O=O.updateQueue,B===O)){var X=null,ae=null;if(B=B.firstBaseUpdate,B!==null){do{var De={lane:B.lane,tag:B.tag,payload:B.payload,callback:null,next:null};ae===null?X=ae=De:ae=ae.next=De,B=B.next}while(B!==null);ae===null?X=ae=g:ae=ae.next=g}else X=ae=g;B={baseState:O.baseState,firstBaseUpdate:X,lastBaseUpdate:ae,shared:O.shared,callbacks:O.callbacks},m.updateQueue=B;return}m=B.lastBaseUpdate,m===null?B.firstBaseUpdate=g:m.next=g,B.lastBaseUpdate=g}function Xe(){if(Pd){var m=Ef;if(m!==null)throw m}}function ht(m,g,B,O){Pd=!1;var X=m.updateQueue;FA=!1;var ae=X.firstBaseUpdate,De=X.lastBaseUpdate,st=X.shared.pending;if(st!==null){X.shared.pending=null;var xt=st,Wt=xt.next;xt.next=null,De===null?ae=Wt:De.next=Wt,De=xt;var fn=m.alternate;fn!==null&&(fn=fn.updateQueue,st=fn.lastBaseUpdate,st!==De&&(st===null?fn.firstBaseUpdate=Wt:st.next=Wt,fn.lastBaseUpdate=xt))}if(ae!==null){var wn=X.baseState;De=0,fn=Wt=xt=null,st=ae;do{var Bn=st.lane&-536870913,vi=Bn!==st.lane;if(vi?(Oi&Bn)===Bn:(O&Bn)===Bn){Bn!==0&&Bn===cl&&(Pd=!0),fn!==null&&(fn=fn.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});e:{var hl=m,gm=st;Bn=g;var Lh=B;switch(gm.tag){case 1:if(hl=gm.payload,typeof hl=="function"){wn=hl.call(Lh,wn,Bn);break e}wn=hl;break e;case 3:hl.flags=hl.flags&-65537|128;case 0:if(hl=gm.payload,Bn=typeof hl=="function"?hl.call(Lh,wn,Bn):hl,Bn==null)break e;wn=MA({},wn,Bn);break e;case 2:FA=!0}}Bn=st.callback,Bn!==null&&(m.flags|=64,vi&&(m.flags|=8192),vi=X.callbacks,vi===null?X.callbacks=[Bn]:vi.push(Bn))}else vi={lane:Bn,tag:st.tag,payload:st.payload,callback:st.callback,next:null},fn===null?(Wt=fn=vi,xt=wn):fn=fn.next=vi,De|=Bn;if(st=st.next,st===null){if(st=X.shared.pending,st===null)break;vi=st,st=vi.next,vi.next=null,X.lastBaseUpdate=vi,X.shared.pending=null}}while(!0);fn===null&&(xt=wn),X.baseState=xt,X.firstBaseUpdate=Wt,X.lastBaseUpdate=fn,ae===null&&(X.shared.lanes=0),Yl|=De,m.lanes=De,m.memoizedState=wn}}function Qe(m,g){if(typeof m!="function")throw Error(r(191,m));m.call(g)}function ot(m,g){var B=m.callbacks;if(B!==null)for(m.callbacks=null,m=0;m<B.length;m++)Qe(B[m],g)}function Dt(m,g){if(zl(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var B=Object.keys(m),O=Object.keys(g);if(B.length!==O.length)return!1;for(O=0;O<B.length;O++){var X=B[O];if(!dm.call(g,X)||!zl(m[X],g[X]))return!1}return!0}function Rt(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Et(){}function Ct(m,g,B){switch(B=m[B],B===void 0?m.push(g):B!==g&&(g.then(Et,Et),g=B),g.status){case"fulfilled":return g.value;case"rejected":throw m=g.reason,m===Dr?Error(r(483)):m;default:if(typeof g.status=="string")g.then(Et,Et);else{if(m=zi,m!==null&&100<m.shellSuspendCounter)throw Error(r(482));m=g,m.status="pending",m.then(function(O){if(g.status==="pending"){var X=g;X.status="fulfilled",X.value=O}},function(O){if(g.status==="pending"){var X=g;X.status="rejected",X.reason=O}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw m=g.reason,m===Dr?Error(r(483)):m}throw Ch=g,Dr}}function an(){if(Ch===null)throw Error(r(459));var m=Ch;return Ch=null,m}function pn(m){var g=Fc;return Fc+=1,ju===null&&(ju=[]),Ct(ju,m,g)}function Xn(m,g){g=g.props.ref,m.ref=g!==void 0?g:null}function Vn(m,g){throw g.$$typeof===bd?Error(r(525)):(m=Object.prototype.toString.call(g),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m)))}function Be(m){var g=m._init;return g(m._payload)}function Ke(m){function g(Ft,yt){if(m){var Ot=Ft.deletions;Ot===null?(Ft.deletions=[yt],Ft.flags|=16):Ot.push(yt)}}function B(Ft,yt){if(!m)return null;for(;yt!==null;)g(Ft,yt),yt=yt.sibling;return null}function O(Ft){for(var yt=new Map;Ft!==null;)Ft.key!==null?yt.set(Ft.key,Ft):yt.set(Ft.index,Ft),Ft=Ft.sibling;return yt}function X(Ft,yt){return Ft=Ta(Ft,yt),Ft.index=0,Ft.sibling=null,Ft}function ae(Ft,yt,Ot){return Ft.index=Ot,m?(Ot=Ft.alternate,Ot!==null?(Ot=Ot.index,Ot<yt?(Ft.flags|=33554434,yt):Ot):(Ft.flags|=33554434,yt)):(Ft.flags|=1048576,yt)}function De(Ft){return m&&Ft.alternate===null&&(Ft.flags|=33554434),Ft}function st(Ft,yt,Ot,un){return yt===null||yt.tag!==6?(yt=Bc(Ot,Ft.mode,un),yt.return=Ft,yt):(yt=X(yt,Ot),yt.return=Ft,yt)}function xt(Ft,yt,Ot,un){var Wn=Ot.type;return Wn===ie?fn(Ft,yt,Ot.props.children,un,Ot.key):yt!==null&&(yt.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===Ve&&Be(Wn)===yt.type)?(yt=X(yt,Ot.props),Xn(yt,Ot),yt.return=Ft,yt):(yt=so(Ot.type,Ot.key,Ot.props,null,Ft.mode,un),Xn(yt,Ot),yt.return=Ft,yt)}function Wt(Ft,yt,Ot,un){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Ot.containerInfo||yt.stateNode.implementation!==Ot.implementation?(yt=mf(Ot,Ft.mode,un),yt.return=Ft,yt):(yt=X(yt,Ot.children||[]),yt.return=Ft,yt)}function fn(Ft,yt,Ot,un,Wn){return yt===null||yt.tag!==7?(yt=sl(Ot,Ft.mode,un,Wn),yt.return=Ft,yt):(yt=X(yt,Ot),yt.return=Ft,yt)}function wn(Ft,yt,Ot){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=Bc(""+yt,Ft.mode,Ot),yt.return=Ft,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case U:return Ot=so(yt.type,yt.key,yt.props,null,Ft.mode,Ot),Xn(Ot,yt),Ot.return=Ft,Ot;case H:return yt=mf(yt,Ft.mode,Ot),yt.return=Ft,yt;case Ve:var un=yt._init;return yt=un(yt._payload),wn(Ft,yt,Ot)}if(In(yt)||s(yt))return yt=sl(yt,Ft.mode,Ot,null),yt.return=Ft,yt;if(typeof yt.then=="function")return wn(Ft,pn(yt),Ot);if(yt.$$typeof===Ie)return wn(Ft,Bs(Ft,yt),Ot);Vn(Ft,yt)}return null}function Bn(Ft,yt,Ot,un){var Wn=yt!==null?yt.key:null;if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return Wn!==null?null:st(Ft,yt,""+Ot,un);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case U:return Ot.key===Wn?xt(Ft,yt,Ot,un):null;case H:return Ot.key===Wn?Wt(Ft,yt,Ot,un):null;case Ve:return Wn=Ot._init,Ot=Wn(Ot._payload),Bn(Ft,yt,Ot,un)}if(In(Ot)||s(Ot))return Wn!==null?null:fn(Ft,yt,Ot,un,null);if(typeof Ot.then=="function")return Bn(Ft,yt,pn(Ot),un);if(Ot.$$typeof===Ie)return Bn(Ft,yt,Bs(Ft,Ot),un);Vn(Ft,Ot)}return null}function vi(Ft,yt,Ot,un,Wn){if(typeof un=="string"&&un!==""||typeof un=="number"||typeof un=="bigint")return Ft=Ft.get(Ot)||null,st(yt,Ft,""+un,Wn);if(typeof un=="object"&&un!==null){switch(un.$$typeof){case U:return Ft=Ft.get(un.key===null?Ot:un.key)||null,xt(yt,Ft,un,Wn);case H:return Ft=Ft.get(un.key===null?Ot:un.key)||null,Wt(yt,Ft,un,Wn);case Ve:var rs=un._init;return un=rs(un._payload),vi(Ft,yt,Ot,un,Wn)}if(In(un)||s(un))return Ft=Ft.get(Ot)||null,fn(yt,Ft,un,Wn,null);if(typeof un.then=="function")return vi(Ft,yt,Ot,pn(un),Wn);if(un.$$typeof===Ie)return vi(Ft,yt,Ot,Bs(yt,un),Wn);Vn(yt,un)}return null}function hl(Ft,yt,Ot,un){for(var Wn=null,rs=null,fi=yt,dr=yt=0,Ia=null;fi!==null&&dr<Ot.length;dr++){fi.index>dr?(Ia=fi,fi=null):Ia=fi.sibling;var pr=Bn(Ft,fi,Ot[dr],un);if(pr===null){fi===null&&(fi=Ia);break}m&&fi&&pr.alternate===null&&g(Ft,fi),yt=ae(pr,yt,dr),rs===null?Wn=pr:rs.sibling=pr,rs=pr,fi=Ia}if(dr===Ot.length)return B(Ft,fi),fr&&V(Ft,dr),Wn;if(fi===null){for(;dr<Ot.length;dr++)fi=wn(Ft,Ot[dr],un),fi!==null&&(yt=ae(fi,yt,dr),rs===null?Wn=fi:rs.sibling=fi,rs=fi);return fr&&V(Ft,dr),Wn}for(fi=O(fi);dr<Ot.length;dr++)Ia=vi(fi,Ft,dr,Ot[dr],un),Ia!==null&&(m&&Ia.alternate!==null&&fi.delete(Ia.key===null?dr:Ia.key),yt=ae(Ia,yt,dr),rs===null?Wn=Ia:rs.sibling=Ia,rs=Ia);return m&&fi.forEach(function(kA){return g(Ft,kA)}),fr&&V(Ft,dr),Wn}function gm(Ft,yt,Ot,un){if(Ot==null)throw Error(r(151));for(var Wn=null,rs=null,fi=yt,dr=yt=0,Ia=null,pr=Ot.next();fi!==null&&!pr.done;dr++,pr=Ot.next()){fi.index>dr?(Ia=fi,fi=null):Ia=fi.sibling;var kA=Bn(Ft,fi,pr.value,un);if(kA===null){fi===null&&(fi=Ia);break}m&&fi&&kA.alternate===null&&g(Ft,fi),yt=ae(kA,yt,dr),rs===null?Wn=kA:rs.sibling=kA,rs=kA,fi=Ia}if(pr.done)return B(Ft,fi),fr&&V(Ft,dr),Wn;if(fi===null){for(;!pr.done;dr++,pr=Ot.next())pr=wn(Ft,pr.value,un),pr!==null&&(yt=ae(pr,yt,dr),rs===null?Wn=pr:rs.sibling=pr,rs=pr);return fr&&V(Ft,dr),Wn}for(fi=O(fi);!pr.done;dr++,pr=Ot.next())pr=vi(fi,Ft,dr,pr.value,un),pr!==null&&(m&&pr.alternate!==null&&fi.delete(pr.key===null?dr:pr.key),yt=ae(pr,yt,dr),rs===null?Wn=pr:rs.sibling=pr,rs=pr);return m&&fi.forEach(function(r0){return g(Ft,r0)}),fr&&V(Ft,dr),Wn}function Lh(Ft,yt,Ot,un){if(typeof Ot=="object"&&Ot!==null&&Ot.type===ie&&Ot.key===null&&(Ot=Ot.props.children),typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case U:e:{for(var Wn=Ot.key;yt!==null;){if(yt.key===Wn){if(Wn=Ot.type,Wn===ie){if(yt.tag===7){B(Ft,yt.sibling),un=X(yt,Ot.props.children),un.return=Ft,Ft=un;break e}}else if(yt.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===Ve&&Be(Wn)===yt.type){B(Ft,yt.sibling),un=X(yt,Ot.props),Xn(un,Ot),un.return=Ft,Ft=un;break e}B(Ft,yt);break}else g(Ft,yt);yt=yt.sibling}Ot.type===ie?(un=sl(Ot.props.children,Ft.mode,un,Ot.key),un.return=Ft,Ft=un):(un=so(Ot.type,Ot.key,Ot.props,null,Ft.mode,un),Xn(un,Ot),un.return=Ft,Ft=un)}return De(Ft);case H:e:{for(Wn=Ot.key;yt!==null;){if(yt.key===Wn)if(yt.tag===4&&yt.stateNode.containerInfo===Ot.containerInfo&&yt.stateNode.implementation===Ot.implementation){B(Ft,yt.sibling),un=X(yt,Ot.children||[]),un.return=Ft,Ft=un;break e}else{B(Ft,yt);break}else g(Ft,yt);yt=yt.sibling}un=mf(Ot,Ft.mode,un),un.return=Ft,Ft=un}return De(Ft);case Ve:return Wn=Ot._init,Ot=Wn(Ot._payload),Lh(Ft,yt,Ot,un)}if(In(Ot))return hl(Ft,yt,Ot,un);if(s(Ot)){if(Wn=s(Ot),typeof Wn!="function")throw Error(r(150));return Ot=Wn.call(Ot),gm(Ft,yt,Ot,un)}if(typeof Ot.then=="function")return Lh(Ft,yt,pn(Ot),un);if(Ot.$$typeof===Ie)return Lh(Ft,yt,Bs(Ft,Ot),un);Vn(Ft,Ot)}return typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint"?(Ot=""+Ot,yt!==null&&yt.tag===6?(B(Ft,yt.sibling),un=X(yt,Ot),un.return=Ft,Ft=un):(B(Ft,yt),un=Bc(Ot,Ft.mode,un),un.return=Ft,Ft=un),De(Ft)):B(Ft,yt)}return function(Ft,yt,Ot,un){try{Fc=0;var Wn=Lh(Ft,yt,Ot,un);return ju=null,Wn}catch(fi){if(fi===Dr)throw fi;var rs=t(29,fi,null,Ft.mode);return rs.lanes=un,rs.return=Ft,rs}finally{}}}function tn(m,g){m=hu,_(ql,m),_(Vu,g),hu=m|g.baseLanes}function cn(){_(ql,hu),_(Vu,Vu.current)}function An(){hu=ql.current,b(Vu),b(ql)}function On(m){var g=m.alternate;_(ga,ga.current&1),_(Wl,m),Ic===null&&(g===null||Vu.current!==null||g.memoizedState!==null)&&(Ic=m)}function li(m){if(m.tag===22){if(_(ga,ga.current),_(Wl,m),Ic===null){var g=m.alternate;g!==null&&g.memoizedState!==null&&(Ic=m)}}else ui()}function ui(){_(ga,ga.current),_(Wl,Wl.current)}function Pn(m){b(Wl),Ic===m&&(Ic=null),b(ga)}function er(m){for(var g=m;g!==null;){if(g.tag===13){var B=g.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||_h(B)||Mc(B)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Gn(){throw Error(r(321))}function pe(m,g){if(g===null)return!1;for(var B=0;B<g.length&&B<m.length;B++)if(!zl(m[B],g[B]))return!1;return!0}function Ue(m,g,B,O,X,ae){return Gu=ae,Ui=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,gt.H=m===null||m.memoizedState===null?ya:Eo,IA=!1,ae=B(O,X),IA=!1,ds&&(ae=wt(g,B,O,X)),it(m),ae}function it(m){gt.H=hr;var g=_r!==null&&_r.next!==null;if(Gu=0,Js=_r=Ui=null,Lc=!1,ks=0,kd=null,g)throw Error(r(300));m===null||$s||(m=m.dependencies,m!==null&&vo(m)&&($s=!0))}function wt(m,g,B,O){Ui=m;var X=0;do{if(ds&&(kd=null),ks=0,ds=!1,25<=X)throw Error(r(301));if(X+=1,Js=_r=null,m.updateQueue!=null){var ae=m.updateQueue;ae.lastEffect=null,ae.events=null,ae.stores=null,ae.memoCache!=null&&(ae.memoCache.index=0)}gt.H=Cf,ae=g(B,O)}while(ds);return ae}function Lt(){var m=gt.H,g=m.useState()[0];return g=typeof g.then=="function"?Ye(g):g,m=m.useState()[0],(_r!==null?_r.memoizedState:null)!==m&&(Ui.flags|=1024),g}function Mt(){var m=pm!==0;return pm=0,m}function Zt(m,g,B){g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B}function nn(m){if(Lc){for(m=m.memoizedState;m!==null;){var g=m.queue;g!==null&&(g.pending=null),m=m.next}Lc=!1}Gu=0,Js=_r=Ui=null,ds=!1,ks=pm=0,kd=null}function sn(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Js===null?Ui.memoizedState=Js=m:Js=Js.next=m,Js}function ge(){if(_r===null){var m=Ui.alternate;m=m!==null?m.memoizedState:null}else m=_r.next;var g=Js===null?Ui.memoizedState:Js.next;if(g!==null)Js=g,_r=m;else{if(m===null)throw Ui.alternate===null?Error(r(467)):Error(r(310));_r=m,m={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},Js===null?Ui.memoizedState=Js=m:Js=Js.next=m}return Js}function Ye(m){var g=ks;return ks+=1,kd===null&&(kd=[]),m=Ct(kd,m,g),g=Ui,(Js===null?g.memoizedState:Js.next)===null&&(g=g.alternate,gt.H=g===null||g.memoizedState===null?ya:Eo),m}function rt(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return Ye(m);if(m.$$typeof===Ie)return ts(m)}throw Error(r(438,String(m)))}function pt(m){var g=null,B=Ui.updateQueue;if(B!==null&&(g=B.memoCache),g==null){var O=Ui.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(g={data:O.data.map(function(X){return X.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),B===null&&(B=Zg(),Ui.updateQueue=B),B.memoCache=g,B=g.data[g.index],B===void 0)for(B=g.data[g.index]=Array(m),O=0;O<m;O++)B[O]=_t;return g.index++,B}function nt(m,g){return typeof g=="function"?g(m):g}function Ut(m){var g=ge();return jt(g,_r,m)}function jt(m,g,B){var O=m.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=B;var X=m.baseQueue,ae=O.pending;if(ae!==null){if(X!==null){var De=X.next;X.next=ae.next,ae.next=De}g.baseQueue=X=ae,O.pending=null}if(ae=m.baseState,X===null)m.memoizedState=ae;else{g=X.next;var st=De=null,xt=null,Wt=g,fn=!1;do{var wn=Wt.lane&-536870913;if(wn!==Wt.lane?(Oi&wn)===wn:(Gu&wn)===wn){var Bn=Wt.revertLane;if(Bn===0)xt!==null&&(xt=xt.next={lane:0,revertLane:0,action:Wt.action,hasEagerState:Wt.hasEagerState,eagerState:Wt.eagerState,next:null}),wn===cl&&(fn=!0);else if((Gu&Bn)===Bn){Wt=Wt.next,Bn===cl&&(fn=!0);continue}else wn={lane:0,revertLane:Wt.revertLane,action:Wt.action,hasEagerState:Wt.hasEagerState,eagerState:Wt.eagerState,next:null},xt===null?(st=xt=wn,De=ae):xt=xt.next=wn,Ui.lanes|=Bn,Yl|=Bn;wn=Wt.action,IA&&B(ae,wn),ae=Wt.hasEagerState?Wt.eagerState:B(ae,wn)}else Bn={lane:wn,revertLane:Wt.revertLane,action:Wt.action,hasEagerState:Wt.hasEagerState,eagerState:Wt.eagerState,next:null},xt===null?(st=xt=Bn,De=ae):xt=xt.next=Bn,Ui.lanes|=wn,Yl|=wn;Wt=Wt.next}while(Wt!==null&&Wt!==g);if(xt===null?De=ae:xt.next=st,!zl(ae,m.memoizedState)&&($s=!0,fn&&(B=Ef,B!==null)))throw B;m.memoizedState=ae,m.baseState=De,m.baseQueue=xt,O.lastRenderedState=ae}return X===null&&(O.lanes=0),[m.memoizedState,O.dispatch]}function $t(m){var g=ge(),B=g.queue;if(B===null)throw Error(r(311));B.lastRenderedReducer=m;var O=B.dispatch,X=B.pending,ae=g.memoizedState;if(X!==null){B.pending=null;var De=X=X.next;do ae=m(ae,De.action),De=De.next;while(De!==X);zl(ae,g.memoizedState)||($s=!0),g.memoizedState=ae,g.baseQueue===null&&(g.baseState=ae),B.lastRenderedState=ae}return[ae,O]}function on(m,g,B){var O=Ui,X=ge(),ae=fr;if(ae){if(B===void 0)throw Error(r(407));B=B()}else B=g();var De=!zl((_r||X).memoizedState,B);if(De&&(X.memoizedState=B,$s=!0),X=X.queue,dA(yn.bind(null,O,X,m),[m]),X.getSnapshot!==g||De||Js!==null&&Js.memoizedState.tag&1){if(O.flags|=2048,qr(9,vn.bind(null,O,X,B,g),{destroy:void 0},null),zi===null)throw Error(r(349));ae||(Gu&60)!==0||dn(O,g,B)}return B}function dn(m,g,B){m.flags|=16384,m={getSnapshot:g,value:B},g=Ui.updateQueue,g===null?(g=Zg(),Ui.updateQueue=g,g.stores=[m]):(B=g.stores,B===null?g.stores=[m]:B.push(m))}function vn(m,g,B,O){g.value=B,g.getSnapshot=O,gn(g)&&ii(m)}function yn(m,g,B){return B(function(){gn(g)&&ii(m)})}function gn(m){var g=m.getSnapshot;m=m.value;try{var B=g();return!zl(m,B)}catch{return!0}}function ii(m){var g=Pe(m,2);g!==null&&Zs(g,m,2)}function Dn(m){var g=sn();if(typeof m=="function"){var B=m;if(m=B(),IA){q(!0);try{B()}finally{q(!1)}}}return g.memoizedState=g.baseState=m,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:m},g}function xn(m,g,B,O){return m.baseState=B,jt(m,_r,typeof O=="function"?O:nt)}function gi(m,g,B,O,X){if(no(m))throw Error(r(485));if(m=g.action,m!==null){var ae={payload:X,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(De){ae.listeners.push(De)}};gt.T!==null?B(!0):ae.isTransition=!1,O(ae),B=g.pending,B===null?(ae.next=g.pending=ae,En(g,ae)):(ae.next=B.next,g.pending=B.next=ae)}}function En(m,g){var B=g.action,O=g.payload,X=m.state;if(g.isTransition){var ae=gt.T,De={};gt.T=De;try{var st=B(X,O),xt=gt.S;xt!==null&&xt(De,st),Ai(m,g,st)}catch(Wt){si(m,g,Wt)}finally{gt.T=ae}}else try{ae=B(X,O),Ai(m,g,ae)}catch(Wt){si(m,g,Wt)}}function Ai(m,g,B){B!==null&&typeof B=="object"&&typeof B.then=="function"?B.then(function(O){Un(m,g,O)},function(O){return si(m,g,O)}):Un(m,g,B)}function Un(m,g,B){g.status="fulfilled",g.value=B,$n(g),m.state=B,g=m.pending,g!==null&&(B=g.next,B===g?m.pending=null:(B=B.next,g.next=B,En(m,B)))}function si(m,g,B){var O=m.pending;if(m.pending=null,O!==null){O=O.next;do g.status="rejected",g.reason=B,$n(g),g=g.next;while(g!==O)}m.action=null}function $n(m){m=m.listeners;for(var g=0;g<m.length;g++)(0,m[g])()}function Nn(m,g){return g}function kr(m,g){if(fr){var B=zi.formState;if(B!==null){e:{var O=Ui;if(fr){if(co){var X=zg(co,Nc);if(X){co=nm(X),O=tm(X);break e}}he(O)}O=!1}O&&(g=B[0])}}B=sn(),B.memoizedState=B.baseState=g,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:g},B.queue=O,B=Tu.bind(null,Ui,O),O.dispatch=B,O=Dn(!1);var ae=cf.bind(null,Ui,!1,O.queue);return O=sn(),X={state:g,dispatch:null,action:m,pending:null},O.queue=X,B=gi.bind(null,Ui,X,ae,B),X.dispatch=B,O.memoizedState=m,[g,B,!1]}function Ri(m){var g=ge();return ji(g,_r,m)}function ji(m,g,B){g=jt(m,g,Nn)[0],m=Ut(nt)[0],g=typeof g=="object"&&g!==null&&typeof g.then=="function"?Ye(g):g;var O=ge(),X=O.queue,ae=X.dispatch;return B!==O.memoizedState&&(Ui.flags|=2048,qr(9,Di.bind(null,X,B),{destroy:void 0},null)),[g,ae,m]}function Di(m,g){m.action=g}function ms(m){var g=ge(),B=_r;if(B!==null)return ji(g,B,m);ge(),g=g.memoizedState,B=ge();var O=B.queue.dispatch;return B.memoizedState=m,[g,O,!1]}function qr(m,g,B,O){return m={tag:m,create:g,inst:B,deps:O,next:null},g=Ui.updateQueue,g===null&&(g=Zg(),Ui.updateQueue=g),B=g.lastEffect,B===null?g.lastEffect=m.next=m:(O=B.next,B.next=m,m.next=O,g.lastEffect=m),m}function za(){return ge().memoizedState}function aa(m,g,B,O){var X=sn();Ui.flags|=m,X.memoizedState=qr(1|g,B,{destroy:void 0},O===void 0?null:O)}function hA(m,g,B,O){var X=ge();O=O===void 0?null:O;var ae=X.memoizedState.inst;_r!==null&&O!==null&&pe(O,_r.memoizedState.deps)?X.memoizedState=qr(g,B,ae,O):(Ui.flags|=m,X.memoizedState=qr(1|g,B,ae,O))}function sh(m,g){aa(8390656,8,m,g)}function dA(m,g){hA(2048,8,m,g)}function af(m,g){return hA(4,2,m,g)}function ah(m,g){return hA(4,4,m,g)}function eo(m,g){if(typeof g=="function"){m=m();var B=g(m);return function(){typeof B=="function"?B():g(null)}}if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function Jo(m,g,B){B=B!=null?B.concat([m]):null,hA(4,4,eo.bind(null,g,m),B)}function Il(){}function Mu(m,g){var B=ge();g=g===void 0?null:g;var O=B.memoizedState;return g!==null&&pe(g,O[1])?O[0]:(B.memoizedState=[m,g],m)}function Xc(m,g){var B=ge();g=g===void 0?null:g;var O=B.memoizedState;if(g!==null&&pe(g,O[1]))return O[0];if(O=m(),IA){q(!0);try{m()}finally{q(!1)}}return B.memoizedState=[O,g],O}function ei(m,g,B){return B===void 0||(Gu&1073741824)!==0?m.memoizedState=g:(m.memoizedState=B,m=jo(),Ui.lanes|=m,Yl|=m,B)}function oh(m,g,B,O){return zl(B,g)?B:Vu.current!==null?(m=ei(m,B,O),zl(m,g)||($s=!0),m):(Gu&42)===0?($s=!0,m.memoizedState=B):(m=jo(),Ui.lanes|=m,Yl|=m,g)}function of(m,g,B,O,X){var ae=br();ir(ae!==0&&8>ae?ae:8);var De=gt.T,st={};gt.T=st,cf(m,!1,g,B);try{var xt=X(),Wt=gt.S;if(Wt!==null&&Wt(st,xt),xt!==null&&typeof xt=="object"&&typeof xt.then=="function"){var fn=Re(xt,O);go(m,g,fn,Va(m))}else go(m,g,O,Va(m))}catch(wn){go(m,g,{then:function(){},status:"rejected",reason:wn},Va())}finally{ir(ae),gt.T=De}}function lh(m){var g=m.memoizedState;if(g!==null)return g;g={memoizedState:Rr,baseState:Rr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:Rr},next:null};var B={};return g.next={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:B},next:null},m.memoizedState=g,m=m.alternate,m!==null&&(m.memoizedState=g),g}function to(){return ts(Qn)}function oa(){return ge().memoizedState}function lf(){return ge().memoizedState}function pA(m){for(var g=m.return;g!==null;){switch(g.tag){case 24:case 3:var B=Va();m=Me(B);var O=Oe(g,m,B);O!==null&&(Zs(O,g,B),bt(O,g,B)),g={cache:hc()},m.payload=g;return}g=g.return}}function Oo(m,g,B){var O=Va();B={lane:O,revertLane:0,action:B,hasEagerState:!1,eagerState:null,next:null},no(m)?mA(g,B):(B=xe(m,g,B,O),B!==null&&(Zs(B,m,O),gA(B,g,O)))}function Tu(m,g,B){var O=Va();go(m,g,B,O)}function go(m,g,B,O){var X={lane:O,revertLane:0,action:B,hasEagerState:!1,eagerState:null,next:null};if(no(m))mA(g,X);else{var ae=m.alternate;if(m.lanes===0&&(ae===null||ae.lanes===0)&&(ae=g.lastRenderedReducer,ae!==null))try{var De=g.lastRenderedState,st=ae(De,B);if(X.hasEagerState=!0,X.eagerState=st,zl(st,De))return K(m,g,X,0),zi===null&&He(),!1}catch{}finally{}if(B=xe(m,g,X,O),B!==null)return Zs(B,m,O),gA(B,g,O),!0}return!1}function cf(m,g,B,O){if(O={lane:2,revertLane:Z(),action:O,hasEagerState:!1,eagerState:null,next:null},no(m)){if(g)throw Error(r(479))}else g=xe(m,B,O,2),g!==null&&Zs(g,m,2)}function no(m){var g=m.alternate;return m===Ui||g!==null&&g===Ui}function mA(m,g){ds=Lc=!0;var B=m.pending;B===null?g.next=g:(g.next=B.next,B.next=g),m.pending=g}function gA(m,g,B){if((B&4194176)!==0){var O=g.lanes;O&=m.pendingLanes,B|=O,g.lanes=B,Y(m,B)}}function Ls(m,g,B,O){g=m.memoizedState,B=B(O,g),B=B==null?g:MA({},g,B),m.memoizedState=B,m.lanes===0&&(m.updateQueue.baseState=B)}function Ll(m,g,B,O,X,ae,De){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(O,ae,De):g.prototype&&g.prototype.isPureReactComponent?!Dt(B,O)||!Dt(X,ae):!0}function Po(m,g,B,O){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(B,O),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(B,O),g.state!==m&&Jg.enqueueReplaceState(g,g.state,null)}function io(m,g){var B=g;if("ref"in g){B={};for(var O in g)O!=="ref"&&(B[O]=g[O])}if(m=m.defaultProps){B===g&&(B=MA({},B));for(var X in m)B[X]===void 0&&(B[X]=m[X])}return B}function Yc(m,g){try{var B=m.onUncaughtError;B(g.value,{componentStack:g.stack})}catch(O){setTimeout(function(){throw O})}}function Uu(m,g,B){try{var O=m.onCaughtError;O(B.value,{componentStack:B.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function Rl(m,g,B){return B=Me(B),B.tag=3,B.payload={element:null},B.callback=function(){Yc(m,g)},B}function cc(m){return m=Me(m),m.tag=3,m}function Nu(m,g,B,O){var X=B.type.getDerivedStateFromError;if(typeof X=="function"){var ae=O.value;m.payload=function(){return X(ae)},m.callback=function(){Uu(g,B,O)}}var De=B.stateNode;De!==null&&typeof De.componentDidCatch=="function"&&(m.callback=function(){Uu(g,B,O),typeof X!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var st=O.stack;this.componentDidCatch(O.value,{componentStack:st!==null?st:""})})}function ch(m,g,B,O,X){if(B.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(g=B.alternate,g!==null&&yo(g,B,X,!0),B=Wl.current,B!==null){switch(B.tag){case 13:return Ic===null?wo():B.alternate===null&&or===0&&(or=3),B.flags&=-257,B.flags|=65536,B.lanes=X,O===Yg?B.flags|=16384:(g=B.updateQueue,g===null?B.updateQueue=new Set([O]):g.add(O),vh(m,O,X)),!1;case 22:return B.flags|=65536,O===Yg?B.flags|=16384:(g=B.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([O])},B.updateQueue=g):(B=g.retryQueue,B===null?g.retryQueue=new Set([O]):B.add(O)),vh(m,O,X)),!1}throw Error(r(435,B.tag))}return vh(m,O,X),wo(),!1}if(fr)return g=Wl.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=X,O!==um&&(m=Error(r(422),{cause:O}),$e(re(m,B)))):(O!==um&&(g=Error(r(423),{cause:O}),$e(re(g,B))),m=m.current.alternate,m.flags|=65536,X&=-X,m.lanes|=X,O=re(O,B),X=Rl(m.stateNode,O,X),Fe(m,X),or!==4&&(or=2)),!1;var ae=Error(r(520),{cause:O});if(ae=re(ae,B),Qd===null?Qd=[ae]:Qd.push(ae),or!==4&&(or=2),g===null)return!0;O=re(O,B),B=g;do{switch(B.tag){case 3:return B.flags|=65536,m=X&-X,B.lanes|=m,m=Rl(B.stateNode,O,m),Fe(B,m),!1;case 1:if(g=B.type,ae=B.stateNode,(B.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Jl===null||!Jl.has(ae))))return B.flags|=65536,X&=-X,B.lanes|=X,X=cc(X),Nu(X,m,B,O),Fe(B,X),!1}B=B.return}while(B!==null);return!1}function Wr(m,g,B,O){g.child=m===null?gv(g,null,B,O):Bf(g,m.child,B,O)}function uc(m,g,B,O,X){B=B.render;var ae=g.ref;if("ref"in O){var De={};for(var st in O)st!=="ref"&&(De[st]=O[st])}else De=O;return ko(g),O=Ue(m,g,B,De,ae,X),st=Mt(),m!==null&&!$s?(Zt(m,g,X),Ir(m,g,X)):(fr&&st&&z(g),g.flags|=1,Wr(m,g,O,X),g.child)}function uh(m,g,B,O,X){if(m===null){var ae=B.type;return typeof ae=="function"&&!Ec(ae)&&ae.defaultProps===void 0&&B.compare===null?(g.tag=15,g.type=ae,Ac(m,g,ae,O,X)):(m=so(B.type,null,O,g,g.mode,X),m.ref=g.ref,m.return=g,g.child=m)}if(ae=m.child,!gs(m,X)){var De=ae.memoizedProps;if(B=B.compare,B=B!==null?B:Dt,B(De,O)&&m.ref===g.ref)return Ir(m,g,X)}return g.flags|=1,m=Ta(ae,O),m.ref=g.ref,m.return=g,g.child=m}function Ac(m,g,B,O,X){if(m!==null){var ae=m.memoizedProps;if(Dt(ae,O)&&m.ref===g.ref)if($s=!1,g.pendingProps=O=ae,gs(m,X))(m.flags&131072)!==0&&($s=!0);else return g.lanes=m.lanes,Ir(m,g,X)}return qe(m,g,B,O,X)}function Ah(m,g,B){var O=g.pendingProps,X=O.children,ae=(g.stateNode._pendingVisibility&2)!==0,De=m!==null?m.memoizedState:null;if(ye(m,g),O.mode==="hidden"||ae){if((g.flags&128)!==0){if(O=De!==null?De.baseLanes|B:B,m!==null){for(X=g.child=m.child,ae=0;X!==null;)ae=ae|X.lanes|X.childLanes,X=X.sibling;g.childLanes=ae&~O}else g.childLanes=0,g.child=null;return ee(m,g,O,B)}if((B&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},m!==null&&ca(g,De!==null?De.cachePool:null),De!==null?tn(g,De):cn(),li(g);else return g.lanes=g.childLanes=536870912,ee(m,g,De!==null?De.baseLanes|B:B,B)}else De!==null?(ca(g,De.cachePool),tn(g,De),ui(),g.memoizedState=null):(m!==null&&ca(g,null),cn(),ui());return Wr(m,g,X,B),g.child}function ee(m,g,B,O){var X=$o();return X=X===null?null:{parent:ns?Cr._currentValue:Cr._currentValue2,pool:X},g.memoizedState={baseLanes:B,cachePool:X},m!==null&&ca(g,null),cn(),li(g),m!==null&&yo(m,g,O,!0),null}function ye(m,g){var B=g.ref;if(B===null)m!==null&&m.ref!==null&&(g.flags|=2097664);else{if(typeof B!="function"&&typeof B!="object")throw Error(r(284));(m===null||m.ref!==B)&&(g.flags|=2097664)}}function qe(m,g,B,O,X){return ko(g),B=Ue(m,g,B,O,void 0,X),O=Mt(),m!==null&&!$s?(Zt(m,g,X),Ir(m,g,X)):(fr&&O&&z(g),g.flags|=1,Wr(m,g,B,X),g.child)}function lt(m,g,B,O,X,ae){return ko(g),g.updateQueue=null,B=wt(g,O,B,X),it(m),O=Mt(),m!==null&&!$s?(Zt(m,g,ae),Ir(m,g,ae)):(fr&&O&&z(g),g.flags|=1,Wr(m,g,B,ae),g.child)}function mt(m,g,B,O,X){if(ko(g),g.stateNode===null){var ae=Eh,De=B.contextType;typeof De=="object"&&De!==null&&(ae=ts(De)),ae=new B(O,ae),g.memoizedState=ae.state!==null&&ae.state!==void 0?ae.state:null,ae.updater=Jg,g.stateNode=ae,ae._reactInternals=g,ae=g.stateNode,ae.props=O,ae.state=g.memoizedState,ae.refs={},Ze(g),De=B.contextType,ae.context=typeof De=="object"&&De!==null?ts(De):Eh,ae.state=g.memoizedState,De=B.getDerivedStateFromProps,typeof De=="function"&&(Ls(g,B,De,O),ae.state=g.memoizedState),typeof B.getDerivedStateFromProps=="function"||typeof ae.getSnapshotBeforeUpdate=="function"||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(De=ae.state,typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount(),De!==ae.state&&Jg.enqueueReplaceState(ae,ae.state,null),ht(g,O,ae,X),Xe(),ae.state=g.memoizedState),typeof ae.componentDidMount=="function"&&(g.flags|=4194308),O=!0}else if(m===null){ae=g.stateNode;var st=g.memoizedProps,xt=io(B,st);ae.props=xt;var Wt=ae.context,fn=B.contextType;De=Eh,typeof fn=="object"&&fn!==null&&(De=ts(fn));var wn=B.getDerivedStateFromProps;fn=typeof wn=="function"||typeof ae.getSnapshotBeforeUpdate=="function",st=g.pendingProps!==st,fn||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(st||Wt!==De)&&Po(g,ae,O,De),FA=!1;var Bn=g.memoizedState;ae.state=Bn,ht(g,O,ae,X),Xe(),Wt=g.memoizedState,st||Bn!==Wt||FA?(typeof wn=="function"&&(Ls(g,B,wn,O),Wt=g.memoizedState),(xt=FA||Ll(g,B,xt,O,Bn,Wt,De))?(fn||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=O,g.memoizedState=Wt),ae.props=O,ae.state=Wt,ae.context=De,O=xt):(typeof ae.componentDidMount=="function"&&(g.flags|=4194308),O=!1)}else{ae=g.stateNode,dt(m,g),De=g.memoizedProps,fn=io(B,De),ae.props=fn,wn=g.pendingProps,Bn=ae.context,Wt=B.contextType,xt=Eh,typeof Wt=="object"&&Wt!==null&&(xt=ts(Wt)),st=B.getDerivedStateFromProps,(Wt=typeof st=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(De!==wn||Bn!==xt)&&Po(g,ae,O,xt),FA=!1,Bn=g.memoizedState,ae.state=Bn,ht(g,O,ae,X),Xe();var vi=g.memoizedState;De!==wn||Bn!==vi||FA||m!==null&&m.dependencies!==null&&vo(m.dependencies)?(typeof st=="function"&&(Ls(g,B,st,O),vi=g.memoizedState),(fn=FA||Ll(g,B,fn,O,Bn,vi,xt)||m!==null&&m.dependencies!==null&&vo(m.dependencies))?(Wt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(O,vi,xt),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(O,vi,xt)),typeof ae.componentDidUpdate=="function"&&(g.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ae.componentDidUpdate!="function"||De===m.memoizedProps&&Bn===m.memoizedState||(g.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||De===m.memoizedProps&&Bn===m.memoizedState||(g.flags|=1024),g.memoizedProps=O,g.memoizedState=vi),ae.props=O,ae.state=vi,ae.context=xt,O=fn):(typeof ae.componentDidUpdate!="function"||De===m.memoizedProps&&Bn===m.memoizedState||(g.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||De===m.memoizedProps&&Bn===m.memoizedState||(g.flags|=1024),O=!1)}return ae=O,ye(m,g),O=(g.flags&128)!==0,ae||O?(ae=g.stateNode,B=O&&typeof B.getDerivedStateFromError!="function"?null:ae.render(),g.flags|=1,m!==null&&O?(g.child=Bf(g,m.child,null,X),g.child=Bf(g,null,B,X)):Wr(m,g,B,X),g.memoizedState=ae.state,m=g.child):m=Ir(m,g,X),m}function Gt(m,g,B,O){return ze(),g.flags|=256,Wr(m,g,B,O),g.child}function rn(m){return{baseLanes:m,cachePool:pc()}}function Fn(m,g,B){return m=m!==null?m.childLanes&~B:0,g&&(m|=fl),m}function Hn(m,g,B){var O=g.pendingProps,X=!1,ae=(g.flags&128)!==0,De;if((De=ae)||(De=m!==null&&m.memoizedState===null?!1:(ga.current&2)!==0),De&&(X=!0,g.flags&=-129),De=(g.flags&32)!==0,g.flags&=-33,m===null){if(fr){if(X?On(g):ui(),fr){var st=co,xt;(xt=st)&&(st=cu(st,Nc),st!==null?(g.memoizedState={dehydrated:st,treeContext:uu!==null?{id:zu,overflow:Uc}:null,retryLane:536870912},xt=t(18,null,null,0),xt.stateNode=st,xt.return=g,g.child=xt,So=g,co=null,xt=!0):xt=!1),xt||he(g)}if(st=g.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return Mc(st)?g.lanes=16:g.lanes=536870912,null;Pn(g)}return st=O.children,O=O.fallback,X?(ui(),X=g.mode,st=mi({mode:"hidden",children:st},X),O=sl(O,X,B,null),st.return=g,O.return=g,st.sibling=O,g.child=st,X=g.child,X.memoizedState=rn(B),X.childLanes=Fn(m,De,B),g.memoizedState=Bo,O):(On(g),ri(g,st))}if(xt=m.memoizedState,xt!==null&&(st=xt.dehydrated,st!==null)){if(ae)g.flags&256?(On(g),g.flags&=-257,g=Vi(m,g,B)):g.memoizedState!==null?(ui(),g.child=m.child,g.flags|=128,g=null):(ui(),X=O.fallback,st=g.mode,O=mi({mode:"visible",children:O.children},st),X=sl(X,st,B,null),X.flags|=2,O.return=g,X.return=g,O.sibling=X,g.child=O,Bf(g,m.child,null,B),O=g.child,O.memoizedState=rn(B),O.childLanes=Fn(m,De,B),g.memoizedState=Bo,g=X);else if(On(g),Mc(st))De=Hg(st).digest,O=Error(r(419)),O.stack="",O.digest=De,$e({value:O,source:null,stack:null}),g=Vi(m,g,B);else if($s||yo(m,g,B,!1),De=(B&m.childLanes)!==0,$s||De){if(De=zi,De!==null){if(O=B&-B,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(De.suspendedLanes|B))!==0?0:O,O!==0&&O!==xt.retryLane)throw xt.retryLane=O,Pe(m,O),Zs(De,m,O),hb}_h(st)||wo(),g=Vi(m,g,B)}else _h(st)?(g.flags|=128,g.child=m.child,g=CA.bind(null,m),Qg(st,g),g=null):(m=xt.treeContext,yi&&(co=Sh(st),So=g,fr=!0,Gl=null,Nc=!1,m!==null&&(jl[Vl++]=zu,jl[Vl++]=Uc,jl[Vl++]=uu,zu=m.id,Uc=m.overflow,uu=g)),g=ri(g,O.children),g.flags|=4096);return g}return X?(ui(),X=O.fallback,st=g.mode,xt=m.child,ae=xt.sibling,O=Ta(xt,{mode:"hidden",children:O.children}),O.subtreeFlags=xt.subtreeFlags&31457280,ae!==null?X=Ta(ae,X):(X=sl(X,st,B,null),X.flags|=2),X.return=g,O.return=g,O.sibling=X,g.child=O,O=X,X=g.child,st=m.child.memoizedState,st===null?st=rn(B):(xt=st.cachePool,xt!==null?(ae=ns?Cr._currentValue:Cr._currentValue2,xt=xt.parent!==ae?{parent:ae,pool:ae}:xt):xt=pc(),st={baseLanes:st.baseLanes|B,cachePool:xt}),X.memoizedState=st,X.childLanes=Fn(m,De,B),g.memoizedState=Bo,O):(On(g),B=m.child,m=B.sibling,B=Ta(B,{mode:"visible",children:O.children}),B.return=g,B.sibling=null,m!==null&&(De=g.deletions,De===null?(g.deletions=[m],g.flags|=16):De.push(m)),g.child=B,g.memoizedState=null,B)}function ri(m,g){return g=mi({mode:"visible",children:g},m.mode),g.return=m,m.child=g}function mi(m,g){return Ou(m,g,0,null)}function Vi(m,g,B){return Bf(g,m.child,null,B),m=ri(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function es(m,g,B){m.lanes|=g;var O=m.alternate;O!==null&&(O.lanes|=g),yA(m.return,g,B)}function cs(m,g,B,O,X){var ae=m.memoizedState;ae===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:O,tail:B,tailMode:X}:(ae.isBackwards=g,ae.rendering=null,ae.renderingStartTime=0,ae.last=O,ae.tail=B,ae.tailMode=X)}function Fr(m,g,B){var O=g.pendingProps,X=O.revealOrder,ae=O.tail;if(Wr(m,g,O.children,B),O=ga.current,(O&2)!==0)O=O&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&es(m,B,g);else if(m.tag===19)es(m,B,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}O&=1}switch(_(ga,O),X){case"forwards":for(B=g.child,X=null;B!==null;)m=B.alternate,m!==null&&er(m)===null&&(X=B),B=B.sibling;B=X,B===null?(X=g.child,g.child=null):(X=B.sibling,B.sibling=null),cs(g,!1,X,B,ae);break;case"backwards":for(B=null,X=g.child,g.child=null;X!==null;){if(m=X.alternate,m!==null&&er(m)===null){g.child=X;break}m=X.sibling,X.sibling=B,B=X,X=m}cs(g,!0,B,null,ae);break;case"together":cs(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Ir(m,g,B){if(m!==null&&(g.dependencies=m.dependencies),Yl|=g.lanes,(B&g.childLanes)===0)if(m!==null){if(yo(m,g,B,!1),(B&g.childLanes)===0)return null}else return null;if(m!==null&&g.child!==m.child)throw Error(r(153));if(g.child!==null){for(m=g.child,B=Ta(m,m.pendingProps),g.child=B,B.return=g;m.sibling!==null;)m=m.sibling,B=B.sibling=Ta(m,m.pendingProps),B.return=g;B.sibling=null}return g.child}function gs(m,g){return(m.lanes&g)!==0?!0:(m=m.dependencies,!!(m!==null&&vo(m)))}function Sa(m,g,B){switch(g.tag){case 3:oe(g,g.stateNode.containerInfo),la(g,Cr,m.memoizedState.cache),ze();break;case 27:case 5:ue(g);break;case 4:oe(g,g.stateNode.containerInfo);break;case 10:la(g,g.type,g.memoizedProps.value);break;case 13:var O=g.memoizedState;if(O!==null)return O.dehydrated!==null?(On(g),g.flags|=128,null):(B&g.child.childLanes)!==0?Hn(m,g,B):(On(g),m=Ir(m,g,B),m!==null?m.sibling:null);On(g);break;case 19:var X=(m.flags&128)!==0;if(O=(B&g.childLanes)!==0,O||(yo(m,g,B,!1),O=(B&g.childLanes)!==0),X){if(O)return Fr(m,g,B);g.flags|=128}if(X=g.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),_(ga,ga.current),O)break;return null;case 22:case 23:return g.lanes=0,Ah(m,g,B);case 24:la(g,Cr,m.memoizedState.cache)}return Ir(m,g,B)}function fc(m,g,B){if(m!==null)if(m.memoizedProps!==g.pendingProps)$s=!0;else{if(!gs(m,B)&&(g.flags&128)===0)return $s=!1,Sa(m,g,B);$s=(m.flags&131072)!==0}else $s=!1,fr&&(g.flags&1048576)!==0&&te(g,lm,g.index);switch(g.lanes=0,g.tag){case 16:e:{m=g.pendingProps;var O=g.elementType,X=O._init;if(O=X(O._payload),g.type=O,typeof O=="function")Ec(O)?(m=io(O,m),g.tag=1,g=mt(null,g,O,m,B)):(g.tag=0,g=qe(null,g,O,m,B));else{if(O!=null){if(X=O.$$typeof,X===ke){g.tag=11,g=uc(null,g,O,m,B);break e}else if(X===Bt){g.tag=14,g=uh(null,g,O,m,B);break e}}throw g=a(O)||O,Error(r(306,g,""))}}return g;case 0:return qe(m,g,g.type,g.pendingProps,B);case 1:return O=g.type,X=io(O,g.pendingProps),mt(m,g,O,X,B);case 3:e:{if(oe(g,g.stateNode.containerInfo),m===null)throw Error(r(387));var ae=g.pendingProps;X=g.memoizedState,O=X.element,dt(m,g),ht(g,ae,null,B);var De=g.memoizedState;if(ae=De.cache,la(g,Cr,ae),ae!==X.cache&&Fu(g,[Cr],B,!0),Xe(),ae=De.element,yi&&X.isDehydrated)if(X={element:ae,isDehydrated:!1,cache:De.cache},g.updateQueue.baseState=X,g.memoizedState=X,g.flags&256){g=Gt(m,g,ae,B);break e}else if(ae!==O){O=re(Error(r(424)),g),$e(O),g=Gt(m,g,ae,B);break e}else for(yi&&(co=Md(g.stateNode.containerInfo),So=g,fr=!0,Gl=null,Nc=!0),B=gv(g,null,ae,B),g.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(ze(),ae===O){g=Ir(m,g,B);break e}Wr(m,g,ae,B)}g=g.child}return g;case 26:if(Ql)return ye(m,g),m===null?(B=Gg(g.type,null,g.pendingProps,null))?g.memoizedState=B:fr||(g.stateNode=VE(g.type,g.pendingProps,Au.current,g)):g.memoizedState=Gg(g.type,m.memoizedProps,g.pendingProps,m.memoizedState),null;case 27:if(oo)return ue(g),m===null&&oo&&fr&&(O=g.stateNode=hv(g.type,g.pendingProps,Au.current,Wa.current,!1),So=g,Nc=!0,co=Qu(O)),O=g.pendingProps.children,m!==null||fr?Wr(m,g,O,B):g.child=Bf(g,null,O,B),ye(m,g),g.child;case 5:return m===null&&fr&&(ib(g.type,g.pendingProps,Wa.current),(X=O=co)&&(O=Tc(O,g.type,g.pendingProps,Nc),O!==null?(g.stateNode=O,So=g,co=Qu(O),Nc=!1,X=!0):X=!1),X||he(g)),ue(g),X=g.type,ae=g.pendingProps,De=m!==null?m.memoizedProps:null,O=ae.children,nr(X,ae)?O=null:De!==null&&nr(X,De)&&(g.flags|=32),g.memoizedState!==null&&(X=Ue(m,g,Lt,null,null,B),ns?Qn._currentValue=X:Qn._currentValue2=X),ye(m,g),Wr(m,g,O,B),g.child;case 6:return m===null&&fr&&(rb(g.pendingProps,Wa.current),(m=B=co)&&(B=lu(B,g.pendingProps,Nc),B!==null?(g.stateNode=B,So=g,co=null,m=!0):m=!1),m||he(g)),null;case 13:return Hn(m,g,B);case 4:return oe(g,g.stateNode.containerInfo),O=g.pendingProps,m===null?g.child=Bf(g,null,O,B):Wr(m,g,O,B),g.child;case 11:return uc(m,g,g.type,g.pendingProps,B);case 7:return Wr(m,g,g.pendingProps,B),g.child;case 8:return Wr(m,g,g.pendingProps.children,B),g.child;case 12:return Wr(m,g,g.pendingProps.children,B),g.child;case 10:return O=g.pendingProps,la(g,g.type,O.value),Wr(m,g,O.children,B),g.child;case 9:return X=g.type._context,O=g.pendingProps.children,ko(g),X=ts(X),O=O(X),g.flags|=1,Wr(m,g,O,B),g.child;case 14:return uh(m,g,g.type,g.pendingProps,B);case 15:return Ac(m,g,g.type,g.pendingProps,B);case 19:return Fr(m,g,B);case 22:return Ah(m,g,B);case 24:return ko(g),O=ts(Cr),m===null?(X=$o(),X===null&&(X=zi,ae=hc(),X.pooledCache=ae,ae.refCount++,ae!==null&&(X.pooledCacheLanes|=B),X=ae),g.memoizedState={parent:O,cache:X},Ze(g),la(g,Cr,X)):((m.lanes&B)!==0&&(dt(m,g),ht(g,null,null,B),Xe()),X=m.memoizedState,ae=g.memoizedState,X.parent!==O?(X={parent:O,cache:O},g.memoizedState=X,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=X),la(g,Cr,O)):(O=ae.cache,la(g,Cr,O),O!==X.cache&&Fu(g,[Cr],B,!0))),Wr(m,g,g.pendingProps.children,B),g.child;case 29:throw g.pendingProps}throw Error(r(156,g.tag))}function la(m,g,B){ns?(_(ul,g._currentValue),g._currentValue=B):(_(ul,g._currentValue2),g._currentValue2=B)}function Ea(m){var g=ul.current;ns?m._currentValue=g:m._currentValue2=g,b(ul)}function yA(m,g,B){for(;m!==null;){var O=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,O!==null&&(O.childLanes|=g)):O!==null&&(O.childLanes&g)!==g&&(O.childLanes|=g),m===B)break;m=m.return}}function Fu(m,g,B,O){var X=m.child;for(X!==null&&(X.return=m);X!==null;){var ae=X.dependencies;if(ae!==null){var De=X.child;ae=ae.firstContext;e:for(;ae!==null;){var st=ae;ae=X;for(var xt=0;xt<g.length;xt++)if(st.context===g[xt]){ae.lanes|=B,st=ae.alternate,st!==null&&(st.lanes|=B),yA(ae.return,B,m),O||(De=null);break e}ae=st.next}}else if(X.tag===18){if(De=X.return,De===null)throw Error(r(341));De.lanes|=B,ae=De.alternate,ae!==null&&(ae.lanes|=B),yA(De,B,m),De=null}else De=X.child;if(De!==null)De.return=X;else for(De=X;De!==null;){if(De===m){De=null;break}if(X=De.sibling,X!==null){X.return=De.return,De=X;break}De=De.return}X=De}}function yo(m,g,B,O){m=null;for(var X=g,ae=!1;X!==null;){if(!ae){if((X.flags&524288)!==0)ae=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var De=X.alternate;if(De===null)throw Error(r(387));if(De=De.memoizedProps,De!==null){var st=X.type;zl(X.pendingProps.value,De.value)||(m!==null?m.push(st):m=[st])}}else if(X===Rd.current){if(De=X.alternate,De===null)throw Error(r(387));De.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(m!==null?m.push(Qn):m=[Qn])}X=X.return}m!==null&&Fu(g,m,B,O),g.flags|=262144}function vo(m){for(m=m.firstContext;m!==null;){var g=m.context;if(!zl(ns?g._currentValue:g._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function ko(m){Mf=m,Hs=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function ts(m){return Zc(Mf,m)}function Bs(m,g){return Mf===null&&ko(m),Zc(m,g)}function Zc(m,g){var B=ns?g._currentValue:g._currentValue2;if(g={context:g,memoizedValue:B,next:null},Hs===null){if(m===null)throw Error(r(308));Hs=g,m.dependencies={lanes:0,firstContext:g},m.flags|=524288}else Hs=Hs.next=g;return B}function hc(){return{controller:new db,data:new Map,refCount:0}}function dc(m){m.refCount--,m.refCount===0&&LA(Mh,function(){m.controller.abort()})}function $o(){var m=RA.current;return m!==null?m:zi.pooledCache}function ca(m,g){g===null?_(RA,RA.current):_(RA,g.pool)}function pc(){var m=$o();return m===null?null:{parent:ns?Cr._currentValue:Cr._currentValue2,pool:m}}function ua(m){m.flags|=4}function uf(m,g){if(m!==null&&m.child===g.child)return!1;if((g.flags&16)!==0)return!0;for(m=g.child;m!==null;){if((m.flags&13878)!==0||(m.subtreeFlags&13878)!==0)return!0;m=m.sibling}return!1}function ro(m,g,B,O){if(Ki)for(B=g.child;B!==null;){if(B.tag===5||B.tag===6)ti(m,B.stateNode);else if(!(B.tag===4||oo&&B.tag===27)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}else if(di)for(var X=g.child;X!==null;){if(X.tag===5){var ae=X.stateNode;B&&O&&(ae=Cd(ae,X.type,X.memoizedProps)),ti(m,ae)}else if(X.tag===6)ae=X.stateNode,B&&O&&(ae=em(ae,X.memoizedProps)),ti(m,ae);else if(X.tag!==4){if(X.tag===22&&X.memoizedState!==null)ae=X.child,ae!==null&&(ae.return=X),ro(m,X,!0,!0);else if(X.child!==null){X.child.return=X,X=X.child;continue}}if(X===g)break;for(;X.sibling===null;){if(X.return===null||X.return===g)return;X=X.return}X.sibling.return=X.return,X=X.sibling}}function el(m,g,B,O){if(di)for(var X=g.child;X!==null;){if(X.tag===5){var ae=X.stateNode;B&&O&&(ae=Cd(ae,X.type,X.memoizedProps)),wh(m,ae)}else if(X.tag===6)ae=X.stateNode,B&&O&&(ae=em(ae,X.memoizedProps)),wh(m,ae);else if(X.tag!==4){if(X.tag===22&&X.memoizedState!==null)ae=X.child,ae!==null&&(ae.return=X),el(m,X,!(X.memoizedProps!==null&&X.memoizedProps.mode==="manual"),!0);else if(X.child!==null){X.child.return=X,X=X.child;continue}}if(X===g)break;for(;X.sibling===null;){if(X.return===null||X.return===g)return;X=X.return}X.sibling.return=X.return,X=X.sibling}}function mc(m,g){if(di&&uf(m,g)){m=g.stateNode;var B=m.containerInfo,O=bh();el(O,g,!1,!1),m.pendingChildren=O,ua(g),ou(B,O)}}function vA(m,g,B,O){if(Ki)m.memoizedProps!==O&&ua(g);else if(di){var X=m.stateNode,ae=m.memoizedProps;if((m=uf(m,g))||ae!==O){var De=Wa.current;ae=xf(X,B,ae,O,!m,null),ae===X?g.stateNode=X:(Si(ae,B,O,De)&&ua(g),g.stateNode=ae,m?ro(ae,g,!1,!1):ua(g))}else g.stateNode=X}}function Ho(m,g,B){if(Ds(g,B)){if(m.flags|=16777216,!Ms(g,B))if(gh())m.flags|=8192;else throw Ch=Yg,mv}else m.flags&=-16777217}function Jc(m,g){if(sb(g)){if(m.flags|=16777216,!Av(g))if(gh())m.flags|=8192;else throw Ch=Yg,mv}else m.flags&=-16777217}function Ba(m,g){g!==null&&(m.flags|=4),m.flags&16384&&(g=m.tag!==22?N():536870912,m.lanes|=g,OA|=g)}function qs(m,g){if(!fr)switch(m.tailMode){case"hidden":g=m.tail;for(var B=null;g!==null;)g.alternate!==null&&(B=g),g=g.sibling;B===null?m.tail=null:B.sibling=null;break;case"collapsed":B=m.tail;for(var O=null;B!==null;)B.alternate!==null&&(O=B),B=B.sibling;O===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:O.sibling=null}}function tr(m){var g=m.alternate!==null&&m.alternate.child===m.child,B=0,O=0;if(g)for(var X=m.child;X!==null;)B|=X.lanes|X.childLanes,O|=X.subtreeFlags&31457280,O|=X.flags&31457280,X.return=m,X=X.sibling;else for(X=m.child;X!==null;)B|=X.lanes|X.childLanes,O|=X.subtreeFlags,O|=X.flags,X.return=m,X=X.sibling;return m.subtreeFlags|=O,m.childLanes=B,g}function gc(m,g,B){var O=g.pendingProps;switch(j(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(g),null;case 1:return tr(g),null;case 3:return B=g.stateNode,O=null,m!==null&&(O=m.memoizedState.cache),g.memoizedState.cache!==O&&(g.flags|=2048),Ea(Cr),fe(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(m===null||m.child===null)&&(Ne(g)?ua(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Gl!==null&&(_c(Gl),Gl=null))),mc(m,g),tr(g),null;case 26:if(Ql){B=g.type;var X=g.memoizedState;return m===null?(ua(g),X!==null?(tr(g),Jc(g,X)):(tr(g),Ho(g,B,O))):X?X!==m.memoizedState?(ua(g),tr(g),Jc(g,X)):(tr(g),g.flags&=-16777217):(Ki?m.memoizedProps!==O&&ua(g):vA(m,g,B,O),tr(g),Ho(g,B,O)),null}case 27:if(oo){if(Ae(g),B=Au.current,X=g.type,m!==null&&g.stateNode!=null)Ki?m.memoizedProps!==O&&ua(g):vA(m,g,X,O);else{if(!O){if(g.stateNode===null)throw Error(r(166));return tr(g),null}m=Wa.current,Ne(g)?_e(g,m):(m=hv(X,O,B,m,!0),g.stateNode=m,ua(g))}return tr(g),null}case 5:if(Ae(g),B=g.type,m!==null&&g.stateNode!=null)vA(m,g,B,O);else{if(!O){if(g.stateNode===null)throw Error(r(166));return tr(g),null}m=Wa.current,Ne(g)?_e(g,m):(X=fs(B,O,Au.current,m,g),ro(X,g,!1,!1),g.stateNode=X,Si(X,B,O,m)&&ua(g))}return tr(g),Ho(g,g.type,g.pendingProps),null;case 6:if(m&&g.stateNode!=null)B=m.memoizedProps,Ki?B!==O&&ua(g):di&&(B!==O?(g.stateNode=Rs(O,Au.current,Wa.current,g),ua(g)):g.stateNode=m.stateNode);else{if(typeof O!="string"&&g.stateNode===null)throw Error(r(166));if(m=Au.current,B=Wa.current,Ne(g)){if(!yi)throw Error(r(176));if(m=g.stateNode,B=g.memoizedProps,O=null,X=So,X!==null)switch(X.tag){case 27:case 5:O=X.memoizedProps}Ud(m,B,g,O)||he(g)}else g.stateNode=Rs(O,m,B,g)}return tr(g),null;case 13:if(O=g.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(X=Ne(g),O!==null&&O.dehydrated!==null){if(m===null){if(!X)throw Error(r(318));if(!yi)throw Error(r(344));if(X=g.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(r(317));UA(X,g)}else ze(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;tr(g),X=!1}else Gl!==null&&(_c(Gl),Gl=null),X=!0;if(!X)return g.flags&256?(Pn(g),g):(Pn(g),null)}if(Pn(g),(g.flags&128)!==0)return g.lanes=B,g;if(B=O!==null,m=m!==null&&m.memoizedState!==null,B){O=g.child,X=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(X=O.alternate.memoizedState.cachePool.pool);var ae=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(ae=O.memoizedState.cachePool.pool),ae!==X&&(O.flags|=2048)}return B!==m&&B&&(g.child.flags|=8192),Ba(g,g.updateQueue),tr(g),null;case 4:return fe(),mc(m,g),m===null&&Ar(g.stateNode.containerInfo),tr(g),null;case 10:return Ea(g.type),tr(g),null;case 19:if(b(ga),X=g.memoizedState,X===null)return tr(g),null;if(O=(g.flags&128)!==0,ae=X.rendering,ae===null)if(O)qs(X,!1);else{if(or!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(ae=er(m),ae!==null){for(g.flags|=128,qs(X,!1),m=ae.updateQueue,g.updateQueue=m,Ba(g,m),g.subtreeFlags=0,m=B,B=g.child;B!==null;)su(B,m),B=B.sibling;return _(ga,ga.current&1|2),g.child}m=m.sibling}X.tail!==null&&lo()>Us&&(g.flags|=128,O=!0,qs(X,!1),g.lanes=4194304)}else{if(!O)if(m=er(ae),m!==null){if(g.flags|=128,O=!0,m=m.updateQueue,g.updateQueue=m,Ba(g,m),qs(X,!0),X.tail===null&&X.tailMode==="hidden"&&!ae.alternate&&!fr)return tr(g),null}else 2*lo()-X.renderingStartTime>Us&&B!==536870912&&(g.flags|=128,O=!0,qs(X,!1),g.lanes=4194304);X.isBackwards?(ae.sibling=g.child,g.child=ae):(m=X.last,m!==null?m.sibling=ae:g.child=ae,X.last=ae)}return X.tail!==null?(g=X.tail,X.rendering=g,X.tail=g.sibling,X.renderingStartTime=lo(),g.sibling=null,m=ga.current,_(ga,O?m&1|2:m&1),g):(tr(g),null);case 22:case 23:return Pn(g),An(),O=g.memoizedState!==null,m!==null?m.memoizedState!==null!==O&&(g.flags|=8192):O&&(g.flags|=8192),O?(B&536870912)!==0&&(g.flags&128)===0&&(tr(g),g.subtreeFlags&6&&(g.flags|=8192)):tr(g),B=g.updateQueue,B!==null&&Ba(g,B.retryQueue),B=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(B=m.memoizedState.cachePool.pool),O=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(O=g.memoizedState.cachePool.pool),O!==B&&(g.flags|=2048),m!==null&&b(RA),null;case 24:return B=null,m!==null&&(B=m.memoizedState.cache),g.memoizedState.cache!==B&&(g.flags|=2048),Ea(Cr),tr(g),null;case 25:return null}throw Error(r(156,g.tag))}function $c(m,g){switch(j(g),g.tag){case 1:return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Ea(Cr),fe(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 26:case 27:case 5:return Ae(g),null;case 13:if(Pn(g),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(r(340));ze()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return b(ga),null;case 4:return fe(),null;case 10:return Ea(g.type),null;case 22:case 23:return Pn(g),An(),m!==null&&b(RA),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 24:return Ea(Cr),null;case 25:return null;default:return null}}function xA(m,g){switch(j(g),g.tag){case 3:Ea(Cr),fe();break;case 26:case 27:case 5:Ae(g);break;case 4:fe();break;case 13:Pn(g);break;case 19:b(ga);break;case 10:Ea(g.type);break;case 22:case 23:Pn(g),An(),m!==null&&b(RA);break;case 24:Ea(Cr)}}function yc(m,g){try{var B=g.updateQueue,O=B!==null?B.lastEffect:null;if(O!==null){var X=O.next;B=X;do{if((B.tag&m)===m){O=void 0;var ae=B.create,De=B.inst;O=ae(),De.destroy=O}B=B.next}while(B!==X)}}catch(st){Qi(g,g.return,st)}}function Er(m,g,B){try{var O=g.updateQueue,X=O!==null?O.lastEffect:null;if(X!==null){var ae=X.next;O=ae;do{if((O.tag&m)===m){var De=O.inst,st=De.destroy;if(st!==void 0){De.destroy=void 0,X=g;var xt=B;try{st()}catch(Wt){Qi(X,xt,Wt)}}}O=O.next}while(O!==ae)}}catch(Wt){Qi(g,g.return,Wt)}}function fh(m){var g=m.updateQueue;if(g!==null){var B=m.stateNode;try{ot(g,B)}catch(O){Qi(m,m.return,O)}}}function Dl(m,g,B){B.props=io(m.type,m.memoizedProps),B.state=m.memoizedState;try{B.componentWillUnmount()}catch(O){Qi(m,g,O)}}function ja(m,g){try{var B=m.ref;if(B!==null){var O=m.stateNode;switch(m.tag){case 26:case 27:case 5:var X=Bi(O);break;default:X=O}typeof B=="function"?m.refCleanup=B(X):B.current=X}}catch(ae){Qi(m,g,ae)}}function xr(m,g){var B=m.ref,O=m.refCleanup;if(B!==null)if(typeof O=="function")try{O()}catch(X){Qi(m,g,X)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof B=="function")try{B(null)}catch(X){Qi(m,g,X)}else B.current=null}function vc(m){var g=m.type,B=m.memoizedProps,O=m.stateNode;try{nv(O,g,B,m)}catch(X){Qi(m,m.return,X)}}function bA(m,g,B){try{Jp(m.stateNode,m.type,B,g,m)}catch(O){Qi(m,m.return,O)}}function wA(m){return m.tag===5||m.tag===3||(Ql?m.tag===26:!1)||(oo?m.tag===27:!1)||m.tag===4}function Ol(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||wA(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&(!oo||m.tag!==27)&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Pl(m,g,B){var O=m.tag;if(O===5||O===6)m=m.stateNode,g?Sd(B,m,g):_d(B,m);else if(!(O===4||oo&&O===27)&&(m=m.child,m!==null))for(Pl(m,g,B),m=m.sibling;m!==null;)Pl(m,g,B),m=m.sibling}function Qo(m,g,B){var O=m.tag;if(O===5||O===6)m=m.stateNode,g?$p(B,m,g):Zp(B,m);else if(!(O===4||oo&&O===27)&&(m=m.child,m!==null))for(Qo(m,g,B),m=m.sibling;m!==null;)Qo(m,g,B),m=m.sibling}function Iu(m,g,B){m=m.containerInfo;try{Bd(m,B)}catch(O){Qi(g,g.return,O)}}function zo(m,g){for(Mn(m.containerInfo),Qs=g;Qs!==null;)if(m=Qs,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,Qs=g;else for(;Qs!==null;){m=Qs;var B=m.alternate;switch(g=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((g&1024)!==0&&B!==null){g=void 0;var O=m,X=B.memoizedProps;B=B.memoizedState;var ae=O.stateNode;try{var De=io(O.type,X,O.elementType===O.type);g=ae.getSnapshotBeforeUpdate(De,B),ae.__reactInternalSnapshotBeforeUpdate=g}catch(st){Qi(O,O.return,st)}}break;case 3:(g&1024)!==0&&Ki&&Ed(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(r(163))}if(g=m.sibling,g!==null){g.return=m.return,Qs=g;break}Qs=m.return}return De=Th,Th=!1,De}function xc(m,g,B){var O=B.flags;switch(B.tag){case 0:case 11:case 15:kl(m,B),O&4&&yc(5,B);break;case 1:if(kl(m,B),O&4)if(m=B.stateNode,g===null)try{m.componentDidMount()}catch(st){Qi(B,B.return,st)}else{var X=io(B.type,g.memoizedProps);g=g.memoizedState;try{m.componentDidUpdate(X,g,m.__reactInternalSnapshotBeforeUpdate)}catch(st){Qi(B,B.return,st)}}O&64&&fh(B),O&512&&ja(B,B.return);break;case 3:if(kl(m,B),O&64&&(O=B.updateQueue,O!==null)){if(m=null,B.child!==null)switch(B.child.tag){case 27:case 5:m=Bi(B.child.stateNode);break;case 1:m=B.child.stateNode}try{ot(O,m)}catch(st){Qi(B,B.return,st)}}break;case 26:if(Ql){kl(m,B),O&512&&ja(B,B.return);break}case 27:case 5:kl(m,B),g===null&&O&4&&vc(B),O&512&&ja(B,B.return);break;case 12:kl(m,B);break;case 13:kl(m,B),O&4&&qi(m,B);break;case 22:if(X=B.memoizedState!==null||Fa,!X){g=g!==null&&g.memoizedState!==null||Ts;var ae=Fa,De=Ts;Fa=X,(Ts=g)&&!De?eu(m,B,(B.subtreeFlags&8772)!==0):kl(m,B),Fa=ae,Ts=De}O&512&&(B.memoizedProps.mode==="manual"?ja(B,B.return):xr(B,B.return));break;default:kl(m,B)}}function Ca(m){var g=m.alternate;g!==null&&(m.alternate=null,Ca(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&wr(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function ys(m,g,B){for(B=B.child;B!==null;)Yi(m,g,B),B=B.sibling}function Yi(m,g,B){if(ll&&typeof ll.onCommitFiberUnmount=="function")try{ll.onCommitFiberUnmount(Ld,B)}catch{}switch(B.tag){case 26:if(Ql){Ts||xr(B,g),ys(m,g,B),B.memoizedState?av(B.memoizedState):B.stateNode&&cv(B.stateNode);break}case 27:if(oo){Ts||xr(B,g);var O=ea,X=Al;ea=B.stateNode,ys(m,g,B),ab(B.stateNode),ea=O,Al=X;break}case 5:Ts||xr(B,g);case 6:if(Ki){if(O=ea,X=Al,ea=null,ys(m,g,B),ea=O,Al=X,ea!==null)if(Al)try{xs(ea,B.stateNode)}catch(ae){Qi(B,g,ae)}else try{ma(ea,B.stateNode)}catch(ae){Qi(B,g,ae)}}else ys(m,g,B);break;case 18:Ki&&ea!==null&&(Al?iv(ea,B.stateNode):tb(ea,B.stateNode));break;case 4:Ki?(O=ea,X=Al,ea=B.stateNode.containerInfo,Al=!0,ys(m,g,B),ea=O,Al=X):(di&&Iu(B.stateNode,B,bh()),ys(m,g,B));break;case 0:case 11:case 14:case 15:Ts||Er(2,B,g),Ts||Er(4,B,g),ys(m,g,B);break;case 1:Ts||(xr(B,g),O=B.stateNode,typeof O.componentWillUnmount=="function"&&Dl(B,g,O)),ys(m,g,B);break;case 21:ys(m,g,B);break;case 22:Ts||xr(B,g),Ts=(O=Ts)||B.memoizedState!==null,ys(m,g,B),Ts=O;break;default:ys(m,g,B)}}function qi(m,g){if(yi&&g.memoizedState===null&&(m=g.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{wf(m)}catch(B){Qi(g,g.return,B)}}function Hr(m){switch(m.tag){case 13:case 19:var g=m.stateNode;return g===null&&(g=m.stateNode=new Hd),g;case 22:return m=m.stateNode,g=m._retryCache,g===null&&(g=m._retryCache=new Hd),g;default:throw Error(r(435,m.tag))}}function us(m,g){var B=Hr(m);g.forEach(function(O){var X=qp.bind(null,m,O);B.has(O)||(B.add(O),O.then(X,X))})}function As(m,g){var B=g.deletions;if(B!==null)for(var O=0;O<B.length;O++){var X=B[O],ae=m,De=g;if(Ki){var st=De;e:for(;st!==null;){switch(st.tag){case 27:case 5:ea=st.stateNode,Al=!1;break e;case 3:ea=st.stateNode.containerInfo,Al=!0;break e;case 4:ea=st.stateNode.containerInfo,Al=!0;break e}st=st.return}if(ea===null)throw Error(r(160));Yi(ae,De,X),ea=null,Al=!1}else Yi(ae,De,X);ae=X.alternate,ae!==null&&(ae.return=null),X.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)tl(g,m),g=g.sibling}function tl(m,g){var B=m.alternate,O=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:As(g,m),Ws(m),O&4&&(Er(3,m,m.return),yc(3,m),Er(5,m,m.return));break;case 1:As(g,m),Ws(m),O&512&&(Ts||B===null||xr(B,B.return)),O&64&&Fa&&(m=m.updateQueue,m!==null&&(O=m.callbacks,O!==null&&(B=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=B===null?O:B.concat(O))));break;case 26:if(Ql){var X=Ko;As(g,m),Ws(m),O&512&&(Ts||B===null||xr(B,B.return)),O&4&&(O=B!==null?B.memoizedState:null,g=m.memoizedState,B===null?g===null?m.stateNode===null?m.stateNode=ov(X,m.type,m.memoizedProps,m):lv(X,m.type,m.stateNode):m.stateNode=sv(X,g,m.memoizedProps):O!==g?(O===null?B.stateNode!==null&&cv(B.stateNode):av(O),g===null?lv(X,m.type,m.stateNode):sv(X,g,m.memoizedProps)):g===null&&m.stateNode!==null&&bA(m,m.memoizedProps,B.memoizedProps));break}case 27:if(oo&&O&4&&m.alternate===null){X=m.stateNode;var ae=m.memoizedProps;try{GE(X),KE(m.type,ae,X,m)}catch(fn){Qi(m,m.return,fn)}}case 5:if(As(g,m),Ws(m),O&512&&(Ts||B===null||xr(B,B.return)),Ki){if(m.flags&32){g=m.stateNode;try{yf(g)}catch(fn){Qi(m,m.return,fn)}}O&4&&m.stateNode!=null&&(g=m.memoizedProps,bA(m,g,B!==null?B.memoizedProps:g)),O&1024&&(Tf=!0)}break;case 6:if(As(g,m),Ws(m),O&4&&Ki){if(m.stateNode===null)throw Error(r(162));O=m.memoizedProps,B=B!==null?B.memoizedProps:O,g=m.stateNode;try{au(g,B,O)}catch(fn){Qi(m,m.return,fn)}}break;case 3:if(Ql?(uv(),X=Ko,Ko=Vg(g.containerInfo),As(g,m),Ko=X):As(g,m),Ws(m),O&4){if(Ki&&yi&&B!==null&&B.memoizedState.isDehydrated)try{bf(g.containerInfo)}catch(fn){Qi(m,m.return,fn)}if(di){O=g.containerInfo,B=g.pendingChildren;try{Bd(O,B)}catch(fn){Qi(m,m.return,fn)}}}Tf&&(Tf=!1,Af(m));break;case 4:Ql?(B=Ko,Ko=Vg(m.stateNode.containerInfo),As(g,m),Ws(m),Ko=B):(As(g,m),Ws(m)),O&4&&di&&Iu(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:As(g,m),Ws(m);break;case 13:As(g,m),Ws(m),m.child.flags&8192&&m.memoizedState!==null!=(B!==null&&B.memoizedState!==null)&&(Ku=lo()),O&4&&(O=m.updateQueue,O!==null&&(m.updateQueue=null,us(m,O)));break;case 22:O&512&&(Ts||B===null||xr(B,B.return)),X=m.memoizedState!==null;var De=B!==null&&B.memoizedState!==null,st=Fa,xt=Ts;if(Fa=st||X,Ts=xt||De,As(g,m),Ts=xt,Fa=st,Ws(m),g=m.stateNode,g._current=m,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,O&8192&&(g._visibility=X?g._visibility&-2:g._visibility|1,X&&(g=Fa||Ts,B===null||De||g||_A(m)),Ki&&(m.memoizedProps===null||m.memoizedProps.mode!=="manual"))){e:if(B=null,Ki)for(g=m;;){if(g.tag===5||Ql&&g.tag===26||oo&&g.tag===27){if(B===null){De=B=g;try{ae=De.stateNode,X?Hu(ae):TA(De.stateNode,De.memoizedProps)}catch(fn){Qi(De,De.return,fn)}}}else if(g.tag===6){if(B===null){De=g;try{var Wt=De.stateNode;X?vf(Wt):Cc(Wt,De.memoizedProps)}catch(fn){Qi(De,De.return,fn)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===m)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break e;for(;g.sibling===null;){if(g.return===null||g.return===m)break e;B===g&&(B=null),g=g.return}B===g&&(B=null),g.sibling.return=g.return,g=g.sibling}}O&4&&(O=m.updateQueue,O!==null&&(B=O.retryQueue,B!==null&&(O.retryQueue=null,us(m,B))));break;case 19:As(g,m),Ws(m),O&4&&(O=m.updateQueue,O!==null&&(m.updateQueue=null,us(m,O)));break;case 21:break;default:As(g,m),Ws(m)}}function Ws(m){var g=m.flags;if(g&2){try{if(Ki&&(!oo||m.tag!==27)){e:{for(var B=m.return;B!==null;){if(wA(B)){var O=B;break e}B=B.return}throw Error(r(160))}switch(O.tag){case 27:if(oo){var X=O.stateNode,ae=Ol(m);Qo(m,ae,X);break}case 5:var De=O.stateNode;O.flags&32&&(yf(De),O.flags&=-33);var st=Ol(m);Qo(m,st,De);break;case 3:case 4:var xt=O.stateNode.containerInfo,Wt=Ol(m);Pl(m,Wt,xt);break;default:throw Error(r(161))}}}catch(fn){Qi(m,m.return,fn)}m.flags&=-3}g&4096&&(m.flags&=-4097)}function Af(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var g=m;Af(g),g.tag===5&&g.flags&1024&&Jn(g.stateNode),m=m.sibling}}function kl(m,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)xc(m,g.alternate,g),g=g.sibling}function _A(m){for(m=m.child;m!==null;){var g=m;switch(g.tag){case 0:case 11:case 14:case 15:Er(4,g,g.return),_A(g);break;case 1:xr(g,g.return);var B=g.stateNode;typeof B.componentWillUnmount=="function"&&Dl(g,g.return,B),_A(g);break;case 26:case 27:case 5:xr(g,g.return),_A(g);break;case 22:xr(g,g.return),g.memoizedState===null&&_A(g);break;default:_A(g)}m=m.sibling}}function eu(m,g,B){for(B=B&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var O=g.alternate,X=m,ae=g,De=ae.flags;switch(ae.tag){case 0:case 11:case 15:eu(X,ae,B),yc(4,ae);break;case 1:if(eu(X,ae,B),O=ae,X=O.stateNode,typeof X.componentDidMount=="function")try{X.componentDidMount()}catch(Wt){Qi(O,O.return,Wt)}if(O=ae,X=O.updateQueue,X!==null){var st=O.stateNode;try{var xt=X.shared.hiddenCallbacks;if(xt!==null)for(X.shared.hiddenCallbacks=null,X=0;X<xt.length;X++)Qe(xt[X],st)}catch(Wt){Qi(O,O.return,Wt)}}B&&De&64&&fh(ae),ja(ae,ae.return);break;case 26:case 27:case 5:eu(X,ae,B),B&&O===null&&De&4&&vc(ae),ja(ae,ae.return);break;case 12:eu(X,ae,B);break;case 13:eu(X,ae,B),B&&De&4&&qi(X,ae);break;case 22:ae.memoizedState===null&&eu(X,ae,B),ja(ae,ae.return);break;default:eu(X,ae,B)}g=g.sibling}}function gd(m,g){var B=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(B=m.memoizedState.cachePool.pool),m=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(m=g.memoizedState.cachePool.pool),m!==B&&(m!=null&&m.refCount++,B!=null&&dc(B))}function hh(m,g){m=null,g.alternate!==null&&(m=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==m&&(g.refCount++,m!=null&&dc(m))}function bc(m,g,B,O){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Lu(m,g,B,O),g=g.sibling}function Lu(m,g,B,O){var X=g.flags;switch(g.tag){case 0:case 11:case 15:bc(m,g,B,O),X&2048&&yc(9,g);break;case 3:bc(m,g,B,O),X&2048&&(m=null,g.alternate!==null&&(m=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==m&&(g.refCount++,m!=null&&dc(m)));break;case 12:if(X&2048){bc(m,g,B,O),m=g.stateNode;try{var ae=g.memoizedProps,De=ae.id,st=ae.onPostCommit;typeof st=="function"&&st(De,g.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(xt){Qi(g,g.return,xt)}}else bc(m,g,B,O);break;case 23:break;case 22:ae=g.stateNode,g.memoizedState!==null?ae._visibility&4?bc(m,g,B,O):tu(m,g):ae._visibility&4?bc(m,g,B,O):(ae._visibility|=4,Ma(m,g,B,O,(g.subtreeFlags&10256)!==0)),X&2048&&gd(g.alternate,g);break;case 24:bc(m,g,B,O),X&2048&&hh(g.alternate,g);break;default:bc(m,g,B,O)}}function Ma(m,g,B,O,X){for(X=X&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var ae=m,De=g,st=B,xt=O,Wt=De.flags;switch(De.tag){case 0:case 11:case 15:Ma(ae,De,st,xt,X),yc(8,De);break;case 23:break;case 22:var fn=De.stateNode;De.memoizedState!==null?fn._visibility&4?Ma(ae,De,st,xt,X):tu(ae,De):(fn._visibility|=4,Ma(ae,De,st,xt,X)),X&&Wt&2048&&gd(De.alternate,De);break;case 24:Ma(ae,De,st,xt,X),X&&Wt&2048&&hh(De.alternate,De);break;default:Ma(ae,De,st,xt,X)}g=g.sibling}}function tu(m,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var B=m,O=g,X=O.flags;switch(O.tag){case 22:tu(B,O),X&2048&&gd(O.alternate,O);break;case 24:tu(B,O),X&2048&&hh(O.alternate,O);break;default:tu(B,O)}g=g.sibling}}function Xs(m){if(m.subtreeFlags&Uh)for(m=m.child;m!==null;)Ru(m),m=m.sibling}function Ru(m){switch(m.tag){case 26:Xs(m),m.flags&Uh&&(m.memoizedState!==null?fv(Ko,m.memoizedState,m.memoizedProps):Wi(m.type,m.memoizedProps));break;case 5:Xs(m),m.flags&Uh&&Wi(m.type,m.memoizedProps);break;case 3:case 4:if(Ql){var g=Ko;Ko=Vg(m.stateNode.containerInfo),Xs(m),Ko=g}else Xs(m);break;case 22:m.memoizedState===null&&(g=m.alternate,g!==null&&g.memoizedState!==null?(g=Uh,Uh=16777216,Xs(m),Uh=g):Xs(m));break;default:Xs(m)}}function dh(m){var g=m.alternate;if(g!==null&&(m=g.child,m!==null)){g.child=null;do g=m.sibling,m.sibling=null,m=g;while(m!==null)}}function nu(m){var g=m.deletions;if((m.flags&16)!==0){if(g!==null)for(var B=0;B<g.length;B++){var O=g[B];Qs=O,wc(O,m)}dh(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)ff(m),m=m.sibling}function ff(m){switch(m.tag){case 0:case 11:case 15:nu(m),m.flags&2048&&Er(9,m,m.return);break;case 3:nu(m);break;case 12:nu(m);break;case 22:var g=m.stateNode;m.memoizedState!==null&&g._visibility&4&&(m.return===null||m.return.tag!==13)?(g._visibility&=-5,SA(m)):nu(m);break;default:nu(m)}}function SA(m){var g=m.deletions;if((m.flags&16)!==0){if(g!==null)for(var B=0;B<g.length;B++){var O=g[B];Qs=O,wc(O,m)}dh(m)}for(m=m.child;m!==null;){switch(g=m,g.tag){case 0:case 11:case 15:Er(8,g,g.return),SA(g);break;case 22:B=g.stateNode,B._visibility&4&&(B._visibility&=-5,SA(g));break;default:SA(g)}m=m.sibling}}function wc(m,g){for(;Qs!==null;){var B=Qs;switch(B.tag){case 0:case 11:case 15:Er(8,B,g);break;case 23:case 22:if(B.memoizedState!==null&&B.memoizedState.cachePool!==null){var O=B.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:dc(B.memoizedState.cache)}if(O=B.child,O!==null)O.return=B,Qs=O;else e:for(B=m;Qs!==null;){O=Qs;var X=O.sibling,ae=O.return;if(Ca(O),O===B){Qs=null;break e}if(X!==null){X.return=ae,Qs=X;break e}Qs=ae}}}function EA(m){var g=is(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(r(364));return g}if(m=ao(m),m===null)throw Error(r(362));return m.stateNode.current}function Aa(m,g){var B=m.tag;switch(g.$$typeof){case mm:if(m.type===g.value)return!0;break;case t0:e:{for(g=g.value,m=[m,0],B=0;B<m.length;){var O=m[B++],X=O.tag,ae=m[B++],De=g[ae];if(X!==5&&X!==26&&X!==27||!al(O)){for(;De!=null&&Aa(O,De);)ae++,De=g[ae];if(ae===g.length){g=!0;break e}else for(O=O.child;O!==null;)m.push(O,ae),O=O.sibling}}g=!1}return g;case n0:if((B===5||B===26||B===27)&&wd(m.stateNode,g.value))return!0;break;case Mr:if((B===5||B===6||B===26||B===27)&&(m=ku(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case ar:if((B===5||B===26||B===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Ys(m){switch(m.$$typeof){case mm:return"<"+(a(m.value)||"Unknown")+">";case t0:return":has("+(Ys(m)||"")+")";case n0:return'[role="'+m.value+'"]';case Mr:return'"'+m.value+'"';case ar:return'[data-testname="'+m.value+'"]';default:throw Error(r(365))}}function ph(m,g){var B=[];m=[m,0];for(var O=0;O<m.length;){var X=m[O++],ae=X.tag,De=m[O++],st=g[De];if(ae!==5&&ae!==26&&ae!==27||!al(X)){for(;st!=null&&Aa(X,st);)De++,st=g[De];if(De===g.length)B.push(X);else for(X=X.child;X!==null;)m.push(X,De),X=X.sibling}}return B}function fa(m,g){if(!qa)throw Error(r(363));m=EA(m),m=ph(m,g),g=[],m=Array.from(m);for(var B=0;B<m.length;){var O=m[B++],X=O.tag;if(X===5||X===26||X===27)al(O)||g.push(O.stateNode);else for(O=O.child;O!==null;)m.push(O),O=O.sibling}return g}function Va(){if((Yn&2)!==0&&Oi!==0)return Oi&-Oi;if(gt.T!==null){var m=cl;return m!==0?m:Z()}return rr()}function jo(){fl===0&&(fl=(Oi&536870912)===0||fr?L():536870912);var m=Wl.current;return m!==null&&(m.flags|=32),fl}function Zs(m,g,B){(m===zi&&Vr===2||m.cancelPendingCommit!==null)&&(Hl(m,0),xo(m,Oi,fl,!1)),k(m,B),((Yn&2)===0||m!==zi)&&(m===zi&&((Yn&2)===0&&(du|=B),or===4&&xo(m,Oi,fl,!1)),tt(m))}function BA(m,g,B){if((Yn&6)!==0)throw Error(r(327));var O=!B&&(g&60)===0&&(g&m.expiredLanes)===0||M(m,g),X=O?il(m,g):Sc(m,g,!0),ae=O;do{if(X===0){Xl&&!O&&xo(m,g,0,!1);break}else if(X===6)xo(m,g,0,!Tr);else{if(B=m.current.alternate,ae&&!yd(B)){X=Sc(m,g,!1),ae=!1;continue}if(X===2){if(ae=g,m.errorRecoveryDisabledLanes&ae)var De=0;else De=m.pendingLanes&-536870913,De=De!==0?De:De&536870912?536870912:0;if(De!==0){g=De;e:{var st=m;X=Qd;var xt=yi&&st.current.memoizedState.isDehydrated;if(xt&&(Hl(st,De).flags|=256),De=Sc(st,De,!1),De!==2){if(DA&&!xt){st.errorRecoveryDisabledLanes|=ae,du|=ae,X=4;break e}ae=Zl,Zl=X,ae!==null&&_c(ae)}X=De}if(ae=!1,X!==2)continue}}if(X===1){Hl(m,0),xo(m,g,0,!0);break}e:{switch(O=m,X){case 0:case 1:throw Error(r(345));case 4:if((g&4194176)===g){xo(O,g,fl,!Tr);break e}break;case 2:Zl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(O.finishedWork=B,O.finishedLanes=g,(g&62914560)===g&&(ae=Ku+300-lo(),10<ae)){if(xo(O,g,fl,!Tr),T(O,0)!==0)break e;O.timeoutHandle=Na(hf.bind(null,O,B,Zl,pu,zd,g,fl,du,OA,Tr,2,-0,0),ae);break e}hf(O,B,Zl,pu,zd,g,fl,du,OA,Tr,0,-0,0)}}break}while(!0);tt(m)}function _c(m){Zl===null?Zl=m:Zl.push.apply(Zl,m)}function hf(m,g,B,O,X,ae,De,st,xt,Wt,fn,wn,Bn){var vi=g.subtreeFlags;if((vi&8192||(vi&16785408)===16785408)&&(Lr(),Ru(g),g=Ka(),g!==null)){m.cancelPendingCommit=g(Qr.bind(null,m,B,O,X,De,st,xt,1,wn,Bn)),xo(m,ae,De,!Wt);return}Qr(m,B,O,X,De,st,xt,fn,wn,Bn)}function yd(m){for(var g=m;;){var B=g.tag;if((B===0||B===11||B===15)&&g.flags&16384&&(B=g.updateQueue,B!==null&&(B=B.stores,B!==null)))for(var O=0;O<B.length;O++){var X=B[O],ae=X.getSnapshot;X=X.value;try{if(!zl(ae(),X))return!1}catch{return!1}}if(B=g.child,g.subtreeFlags&16384&&B!==null)B.return=g,g=B;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function xo(m,g,B,O){g&=~Co,g&=~du,m.suspendedLanes|=g,m.pingedLanes&=~g,O&&(m.warmLanes|=g),O=m.expirationTimes;for(var X=g;0<X;){var ae=31-ol(X),De=1<<ae;O[ae]=-1,X&=~De}B!==0&&J(m,B,g)}function mh(){return(Yn&6)===0?(Ee(0),!1):!0}function bo(){if(Ei!==null){if(Vr===0)var m=Ei.return;else m=Ei,Hs=Mf=null,nn(m),ju=null,Fc=0,m=Ei;for(;m!==null;)xA(m.alternate,m),m=m.return;Ei=null}}function Hl(m,g){m.finishedWork=null,m.finishedLanes=0;var B=m.timeoutHandle;B!==vs&&(m.timeoutHandle=vs,zr(B)),B=m.cancelPendingCommit,B!==null&&(m.cancelPendingCommit=null,B()),bo(),zi=m,Ei=B=Ta(m.current,null),Oi=g,Vr=0,ta=null,Tr=!1,Xl=M(m,g),DA=!1,OA=fl=Co=du=Yl=or=0,Zl=Qd=null,zd=!1,(g&8)!==0&&(g|=g&32);var O=m.entangledLanes;if(O!==0)for(m=m.entanglements,O&=g;0<O;){var X=31-ol(O),ae=1<<X;g|=m[X],O&=~ae}return hu=g,He(),B}function Du(m,g){Ui=null,gt.H=hr,g===Dr?(g=an(),Vr=3):g===mv?(g=an(),Vr=4):Vr=g===hb?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,ta=g,Ei===null&&(or=1,Yc(m,re(g,m.current)))}function gh(){var m=Wl.current;return m===null?!0:(Oi&4194176)===Oi?Ic===null:(Oi&62914560)===Oi||(Oi&536870912)!==0?m===Ic:!1}function df(){var m=gt.H;return gt.H=hr,m===null?hr:m}function Vo(){var m=gt.A;return gt.A=e0,m}function wo(){or=4,Tr||(Oi&4194176)!==Oi&&Wl.current!==null||(Xl=!0),(Yl&134217727)===0&&(du&134217727)===0||zi===null||xo(zi,Oi,fl,!1)}function Sc(m,g,B){var O=Yn;Yn|=2;var X=df(),ae=Vo();(zi!==m||Oi!==g)&&(pu=null,Hl(m,g)),g=!1;var De=or;e:do try{if(Vr!==0&&Ei!==null){var st=Ei,xt=ta;switch(Vr){case 8:bo(),De=6;break e;case 3:case 2:case 6:Wl.current===null&&(g=!0);var Wt=Vr;if(Vr=0,ta=null,iu(m,st,xt,Wt),B&&Xl){De=0;break e}break;default:Wt=Vr,Vr=0,ta=null,iu(m,st,xt,Wt)}}nl(),De=or;break}catch(fn){Du(m,fn)}while(!0);return g&&m.shellSuspendCounter++,Hs=Mf=null,Yn=O,gt.H=X,gt.A=ae,Ei===null&&(zi=null,Oi=0,He()),De}function nl(){for(;Ei!==null;)Kp(Ei)}function il(m,g){var B=Yn;Yn|=2;var O=df(),X=Vo();zi!==m||Oi!==g?(pu=null,Us=lo()+500,Hl(m,g)):Xl=M(m,g);e:do try{if(Vr!==0&&Ei!==null){g=Ei;var ae=ta;t:switch(Vr){case 1:Vr=0,ta=null,iu(m,g,ae,1);break;case 2:if(Rt(ae)){Vr=0,ta=null,vd(g);break}g=function(){Vr===2&&zi===m&&(Vr=7),tt(m)},ae.then(g,g);break e;case 3:Vr=7;break e;case 4:Vr=5;break e;case 7:Rt(ae)?(Vr=0,ta=null,vd(g)):(Vr=0,ta=null,iu(m,g,ae,7));break;case 5:var De=null;switch(Ei.tag){case 26:De=Ei.memoizedState;case 5:case 27:var st=Ei,xt=st.type,Wt=st.pendingProps;if(De?Av(De):Ms(xt,Wt)){Vr=0,ta=null;var fn=st.sibling;if(fn!==null)Ei=fn;else{var wn=st.return;wn!==null?(Ei=wn,yh(wn)):Ei=null}break t}}Vr=0,ta=null,iu(m,g,ae,5);break;case 6:Vr=0,ta=null,iu(m,g,ae,6);break;case 8:bo(),or=6;break e;default:throw Error(r(462))}}Go();break}catch(Bn){Du(m,Bn)}while(!0);return Hs=Mf=null,gt.H=O,gt.A=X,Yn=B,Ei!==null?0:(zi=null,Oi=0,He(),or)}function Go(){for(;Ei!==null&&!lb();)Kp(Ei)}function Kp(m){var g=fc(m.alternate,m,hu);m.memoizedProps=m.pendingProps,g===null?yh(m):Ei=g}function vd(m){var g=m,B=g.alternate;switch(g.tag){case 15:case 0:g=lt(B,g,g.pendingProps,g.type,void 0,Oi);break;case 11:g=lt(B,g,g.pendingProps,g.type.render,g.ref,Oi);break;case 5:nn(g);default:xA(B,g),g=Ei=su(g,hu),g=fc(B,g,hu)}m.memoizedProps=m.pendingProps,g===null?yh(m):Ei=g}function iu(m,g,B,O){Hs=Mf=null,nn(g),ju=null,Fc=0;var X=g.return;try{if(ch(m,X,g,B,Oi)){or=1,Yc(m,re(B,m.current)),Ei=null;return}}catch(ae){if(X!==null)throw Ei=X,ae;or=1,Yc(m,re(B,m.current)),Ei=null;return}g.flags&32768?(fr||O===1?m=!0:Xl||(Oi&536870912)!==0?m=!1:(Tr=m=!0,(O===2||O===3||O===6)&&(O=Wl.current,O!==null&&O.tag===13&&(O.flags|=16384))),ha(g,m)):yh(g)}function yh(m){var g=m;do{if((g.flags&32768)!==0){ha(g,Tr);return}m=g.return;var B=gc(g.alternate,g,hu);if(B!==null){Ei=B;return}if(g=g.sibling,g!==null){Ei=g;return}Ei=g=m}while(g!==null);or===0&&(or=5)}function ha(m,g){do{var B=$c(m.alternate,m);if(B!==null){B.flags&=32767,Ei=B;return}if(B=m.return,B!==null&&(B.flags|=32768,B.subtreeFlags=0,B.deletions=null),!g&&(m=m.sibling,m!==null)){Ei=m;return}Ei=m=B}while(m!==null);or=6,Ei=null}function Qr(m,g,B,O,X,ae,De,st,xt,Wt){var fn=gt.T,wn=br();try{ir(2),gt.T=null,Gi(m,g,B,O,wn,X,ae,De,st,xt,Wt)}finally{gt.T=fn,ir(wn)}}function Gi(m,g,B,O,X,ae,De,st){do Br();while(PA!==null);if((Yn&6)!==0)throw Error(r(327));var xt=m.finishedWork;if(O=m.finishedLanes,xt===null)return null;if(m.finishedWork=null,m.finishedLanes=0,xt===m.current)throw Error(r(177));m.callbackNode=null,m.callbackPriority=0,m.cancelPendingCommit=null;var Wt=xt.lanes|xt.childLanes;if(Wt|=Dd,Q(m,O,Wt,ae,De,st),m===zi&&(Ei=zi=null,Oi=0),(xt.subtreeFlags&10256)===0&&(xt.flags&10256)===0||Rc||(Rc=!0,i0=Wt,Fh=B,pf(Kg,function(){return Br(),null})),B=(xt.flags&15990)!==0,(xt.subtreeFlags&15990)!==0||B?(B=gt.T,gt.T=null,ae=br(),ir(2),De=Yn,Yn|=4,zo(m,xt),tl(xt,m),mn(m.containerInfo),m.current=xt,xc(m,xt.alternate,xt),cb(),Yn=De,ir(ae),gt.T=B):m.current=xt,Rc?(Rc=!1,PA=m,Nh=O):Ga(m,Wt),Wt=m.pendingLanes,Wt===0&&(Jl=null),W(xt.stateNode),tt(m),g!==null)for(X=m.onRecoverableError,xt=0;xt<g.length;xt++)Wt=g[xt],X(Wt.value,{componentStack:Wt.stack});return(Nh&3)!==0&&Br(),Wt=m.pendingLanes,(O&4194218)!==0&&(Wt&42)!==0?m===qo?Ih++:(Ih=0,qo=m):Ih=0,Ee(0),null}function Ga(m,g){(m.pooledCacheLanes&=g)===0&&(g=m.pooledCache,g!=null&&(m.pooledCache=null,dc(g)))}function Br(){if(PA!==null){var m=PA,g=i0;i0=0;var B=ne(Nh),O=32>B?32:B;B=gt.T;var X=br();try{if(ir(O),gt.T=null,PA===null)var ae=!1;else{O=Fh,Fh=null;var De=PA,st=Nh;if(PA=null,Nh=0,(Yn&6)!==0)throw Error(r(331));var xt=Yn;if(Yn|=4,ff(De.current),Lu(De,De.current,st,O),Yn=xt,Ee(0,!1),ll&&typeof ll.onPostCommitFiberRoot=="function")try{ll.onPostCommitFiberRoot(Ld,De)}catch{}ae=!0}return ae}finally{ir(X),gt.T=B,Ga(m,g)}}return!1}function rl(m,g,B){g=re(B,g),g=Rl(m.stateNode,g,2),m=Oe(m,g,2),m!==null&&(k(m,2),tt(m))}function Qi(m,g,B){if(m.tag===3)rl(m,m,B);else for(;g!==null;){if(g.tag===3){rl(g,m,B);break}else if(g.tag===1){var O=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Jl===null||!Jl.has(O))){m=re(B,m),B=cc(2),O=Oe(g,B,2),O!==null&&(Nu(B,O,g,m),k(O,2),tt(O));break}}g=g.return}}function vh(m,g,B){var O=m.pingCache;if(O===null){O=m.pingCache=new Xi;var X=new Set;O.set(g,X)}else X=O.get(g),X===void 0&&(X=new Set,O.set(g,X));X.has(B)||(DA=!0,X.add(B),m=ru.bind(null,m,g,B),g.then(m,m))}function ru(m,g,B){var O=m.pingCache;O!==null&&O.delete(g),m.pingedLanes|=m.suspendedLanes&B,m.warmLanes&=~B,zi===m&&(Oi&B)===B&&(or===4||or===3&&(Oi&62914560)===Oi&&300>lo()-Ku?(Yn&2)===0&&Hl(m,0):Co|=B,OA===Oi&&(OA=0)),tt(m)}function da(m,g){g===0&&(g=N()),m=Pe(m,g),m!==null&&(k(m,g),tt(m))}function CA(m){var g=m.memoizedState,B=0;g!==null&&(B=g.retryLane),da(m,B)}function qp(m,g){var B=0;switch(m.tag){case 13:var O=m.stateNode,X=m.memoizedState;X!==null&&(B=X.retryLane);break;case 19:O=m.stateNode;break;case 22:O=m.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(g),da(m,B)}function pf(m,g){return Id(m,g)}function xd(m,g,B,O){this.tag=m,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Ta(m,g){var B=m.alternate;return B===null?(B=t(m.tag,g,m.key,m.mode),B.elementType=m.elementType,B.type=m.type,B.stateNode=m.stateNode,B.alternate=m,m.alternate=B):(B.pendingProps=g,B.type=m.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=m.flags&31457280,B.childLanes=m.childLanes,B.lanes=m.lanes,B.child=m.child,B.memoizedProps=m.memoizedProps,B.memoizedState=m.memoizedState,B.updateQueue=m.updateQueue,g=m.dependencies,B.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},B.sibling=m.sibling,B.index=m.index,B.ref=m.ref,B.refCleanup=m.refCleanup,B}function su(m,g){m.flags&=31457282;var B=m.alternate;return B===null?(m.childLanes=0,m.lanes=g,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=B.childLanes,m.lanes=B.lanes,m.child=B.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=B.memoizedProps,m.memoizedState=B.memoizedState,m.updateQueue=B.updateQueue,m.type=B.type,g=B.dependencies,m.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),m}function so(m,g,B,O,X,ae){var De=0;if(O=m,typeof m=="function")Ec(m)&&(De=1);else if(typeof m=="string")De=Ql&&oo?rv(m,B,Wa.current)?26:Nd(m)?27:5:Ql?rv(m,B,Wa.current)?26:5:oo&&Nd(m)?27:5;else e:switch(m){case ie:return sl(B.children,X,ae,g);case ce:De=8,X|=24;break;case ve:return m=t(12,B,g,X|2),m.elementType=ve,m.lanes=ae,m;case Ge:return m=t(13,B,g,X),m.elementType=Ge,m.lanes=ae,m;case ut:return m=t(19,B,g,X),m.elementType=ut,m.lanes=ae,m;case ft:return Ou(B,X,ae,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case Se:case Ie:De=10;break e;case Ce:De=9;break e;case ke:De=11;break e;case Bt:De=14;break e;case Ve:De=16,O=null;break e}De=29,B=Error(r(130,m===null?"null":typeof m,"")),O=null}return g=t(De,B,g,X),g.elementType=m,g.type=O,g.lanes=ae,g}function sl(m,g,B,O){return m=t(7,m,O,g),m.lanes=B,m}function Ou(m,g,B,O){m=t(22,m,O,g),m.elementType=ft,m.lanes=B;var X={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var ae=X._current;if(ae===null)throw Error(r(456));if((X._pendingVisibility&2)===0){var De=Pe(ae,2);De!==null&&(X._pendingVisibility|=2,Zs(De,ae,2))}},attach:function(){var ae=X._current;if(ae===null)throw Error(r(456));if((X._pendingVisibility&2)!==0){var De=Pe(ae,2);De!==null&&(X._pendingVisibility&=-3,Zs(De,ae,2))}}};return m.stateNode=X,m}function Bc(m,g,B){return m=t(6,m,null,g),m.lanes=B,m}function mf(m,g,B){return g=t(4,m.children!==null?m.children:[],m.key,g),g.lanes=B,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function Pu(m,g,B,O,X,ae,De,st){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=vs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=O,this.onUncaughtError=X,this.onCaughtError=ae,this.onRecoverableError=De,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function pa(m,g,B,O,X,ae,De,st,xt,Wt,fn,wn){return m=new Pu(m,g,B,De,st,xt,Wt,wn),g=1,ae===!0&&(g|=24),ae=t(3,null,null,g),m.current=ae,ae.stateNode=m,g=hc(),g.refCount++,m.pooledCache=g,g.refCount++,ae.memoizedState={element:O,isDehydrated:B,cache:g},Ze(ae),m}function xh(m){return m?(m=Eh,m):Eh}function Wp(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=d(g),m=m!==null?y(m):null,m===null?null:Bi(m.stateNode)}function Pg(m,g,B,O,X,ae){X=xh(X),O.context===null?O.context=X:O.pendingContext=X,O=Me(g),O.payload={element:B},ae=ae===void 0?null:ae,ae!==null&&(O.callback=ae),B=Oe(m,O,g),B!==null&&(Zs(B,m,g),bt(B,m,g))}function kg(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var B=m.retryLane;m.retryLane=B!==0&&B<g?B:g}}function Xp(m,g){kg(m,g),(m=m.alternate)&&kg(m,g)}var Kn={},gf=Hy(),Ua=yie(),MA=Object.assign,bd=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),Ce=Symbol.for("react.consumer"),Ie=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),ft=Symbol.for("react.offscreen"),_t=Symbol.for("react.memo_cache_sentinel"),kt=Symbol.iterator,St=Symbol.for("react.client.reference"),gt=gf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt,ln,Jt=!1,In=Array.isArray,Cn=e.rendererVersion,hi=e.rendererPackageName,Ln=e.extraDevToolsConfig,Bi=e.getPublicInstance,Xr=e.getRootHostContext,_i=e.getChildHostContext,Mn=e.prepareForCommit,mn=e.resetAfterCommit,fs=e.createInstance,ti=e.appendInitialChild,Si=e.finalizeInitialChildren,nr=e.shouldSetTextContent,Rs=e.createTextInstance,Na=e.scheduleTimeout,zr=e.cancelTimeout,vs=e.noTimeout,ns=e.isPrimaryRenderer;e.warnsIfNotActing;var Ki=e.supportsMutation,di=e.supportsPersistence,yi=e.supportsHydration,is=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ar=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ir=e.setCurrentUpdatePriority,br=e.getCurrentUpdatePriority,rr=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Cs=e.shouldAttemptEagerTransition,wr=e.detachDeletedInstance;e.requestPostPaintCallback;var Ds=e.maySuspendCommit,Ms=e.preloadInstance,Lr=e.startSuspendingCommit,Wi=e.suspendInstance,Ka=e.waitForCommitToBeReady,Rr=e.NotPendingTransition,Qn=e.HostTransitionContext,Jn=e.resetFormInstance;e.bindToConsole;var sr=e.supportsMicrotasks,_o=e.scheduleMicrotask,qa=e.supportsTestSelectors,ao=e.findFiberRoot,Os=e.getBoundingRect,ku=e.getTextContent,al=e.isHiddenSubtree,wd=e.matchAccessibilityRole,jr=e.setFocusIfFocusable,Yp=e.setupIntersectionObserver,Zp=e.appendChild,_d=e.appendChildToContainer,au=e.commitTextUpdate,nv=e.commitMount,Jp=e.commitUpdate,$p=e.insertBefore,Sd=e.insertInContainerBefore,ma=e.removeChild,xs=e.removeChildFromContainer,yf=e.resetTextContent,Hu=e.hideInstance,vf=e.hideTextInstance,TA=e.unhideInstance,Cc=e.unhideTextInstance,Ed=e.clearContainer,xf=e.cloneInstance,bh=e.createContainerChildSet,wh=e.appendChildToContainerChildSet,ou=e.finalizeContainerChildren,Bd=e.replaceContainerChildren,Cd=e.cloneHiddenInstance,em=e.cloneHiddenTextInstance,_h=e.isSuspenseInstancePending,Mc=e.isSuspenseInstanceFallback,Hg=e.getSuspenseInstanceFallbackErrorDetails,Qg=e.registerSuspenseInstanceRetry,zg=e.canHydrateFormStateMarker,tm=e.isFormStateMarkerMatching,nm=e.getNextHydratableSibling,Qu=e.getFirstHydratableChild,Md=e.getFirstHydratableChildWithinContainer,Sh=e.getFirstHydratableChildWithinSuspenseInstance,Tc=e.canHydrateInstance,lu=e.canHydrateTextInstance,cu=e.canHydrateSuspenseInstance,Td=e.hydrateInstance,Ud=e.hydrateTextInstance,UA=e.hydrateSuspenseInstance,jg=e.getNextHydratableInstanceAfterSuspenseInstance,bf=e.commitHydratedContainer,wf=e.commitHydratedSuspenseInstance,tb=e.clearSuspenseBoundary,iv=e.clearSuspenseBoundaryFromContainer,nb=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ib=e.validateHydratableInstance,rb=e.validateHydratableTextInstance,Ql=e.supportsResources,rv=e.isHostHoistableType,Vg=e.getHoistableRoot,Gg=e.getResource,sv=e.acquireResource,av=e.releaseResource,ov=e.hydrateHoistable,lv=e.mountHoistable,cv=e.unmountHoistable,VE=e.createHoistableInstance,uv=e.prepareToCommitHoistables,sb=e.mayResourceSuspendCommit,Av=e.preloadResource,fv=e.suspendResource,oo=e.supportsSingletons,hv=e.resolveSingletonInstance,GE=e.clearSingleton,KE=e.acquireSingletonInstance,ab=e.releaseSingletonInstance,Nd=e.isHostSingletonType,im=[],NA=-1,Eh={},ol=Math.clz32?Math.clz32:E,rm=Math.log,ob=Math.LN2,Fd=128,sm=4194304,Id=Ua.unstable_scheduleCallback,am=Ua.unstable_cancelCallback,lb=Ua.unstable_shouldYield,cb=Ua.unstable_requestPaint,lo=Ua.unstable_now,dv=Ua.unstable_ImmediatePriority,ub=Ua.unstable_UserBlockingPriority,Kg=Ua.unstable_NormalPriority,qg=Ua.unstable_IdlePriority,Ab=Ua.log,pv=Ua.unstable_setDisableYieldValue,Ld=null,ll=null,zl=typeof Object.is=="function"?Object.is:$,Wg=new WeakMap,hs=[],Ps=0,om=null,lm=0,jl=[],Vl=0,uu=null,zu=1,Uc="",Wa=w(null),cm=w(null),Au=w(null),Rd=w(null),So=null,co=null,fr=!1,Gl=null,Nc=!1,um=Error(r(519)),Kl=[],_f=0,Dd=0,Od=null,Bh=null,Am=!1,fm=!1,fu=!1,Sf=0,hm=null,Xg=0,cl=0,Ef=null,FA=!1,Pd=!1,dm=Object.prototype.hasOwnProperty,Dr=Error(r(460)),mv=Error(r(474)),Yg={then:function(){}},Ch=null,ju=null,Fc=0,Bf=Ke(!0),gv=Ke(!1),Vu=w(null),ql=w(0),Wl=w(null),Ic=null,ga=w(0),Gu=0,Ui=null,_r=null,Js=null,Lc=!1,ds=!1,IA=!1,pm=0,ks=0,kd=null,fb=0,Zg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},hr={readContext:ts,use:rt,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn};hr.useCacheRefresh=Gn,hr.useMemoCache=Gn,hr.useHostTransitionStatus=Gn,hr.useFormState=Gn,hr.useActionState=Gn,hr.useOptimistic=Gn;var ya={readContext:ts,use:rt,useCallback:function(m,g){return sn().memoizedState=[m,g===void 0?null:g],m},useContext:ts,useEffect:sh,useImperativeHandle:function(m,g,B){B=B!=null?B.concat([m]):null,aa(4194308,4,eo.bind(null,g,m),B)},useLayoutEffect:function(m,g){return aa(4194308,4,m,g)},useInsertionEffect:function(m,g){aa(4,2,m,g)},useMemo:function(m,g){var B=sn();g=g===void 0?null:g;var O=m();if(IA){q(!0);try{m()}finally{q(!1)}}return B.memoizedState=[O,g],O},useReducer:function(m,g,B){var O=sn();if(B!==void 0){var X=B(g);if(IA){q(!0);try{B(g)}finally{q(!1)}}}else X=g;return O.memoizedState=O.baseState=X,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:X},O.queue=m,m=m.dispatch=Oo.bind(null,Ui,m),[O.memoizedState,m]},useRef:function(m){var g=sn();return m={current:m},g.memoizedState=m},useState:function(m){m=Dn(m);var g=m.queue,B=Tu.bind(null,Ui,g);return g.dispatch=B,[m.memoizedState,B]},useDebugValue:Il,useDeferredValue:function(m,g){var B=sn();return ei(B,m,g)},useTransition:function(){var m=Dn(!1);return m=of.bind(null,Ui,m.queue,!0,!1),sn().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,g,B){var O=Ui,X=sn();if(fr){if(B===void 0)throw Error(r(407));B=B()}else{if(B=g(),zi===null)throw Error(r(349));(Oi&60)!==0||dn(O,g,B)}X.memoizedState=B;var ae={value:B,getSnapshot:g};return X.queue=ae,sh(yn.bind(null,O,ae,m),[m]),O.flags|=2048,qr(9,vn.bind(null,O,ae,B,g),{destroy:void 0},null),B},useId:function(){var m=sn(),g=zi.identifierPrefix;if(fr){var B=Uc,O=zu;B=(O&~(1<<32-ol(O)-1)).toString(32)+B,g=":"+g+"R"+B,B=pm++,0<B&&(g+="H"+B.toString(32)),g+=":"}else B=fb++,g=":"+g+"r"+B.toString(32)+":";return m.memoizedState=g},useCacheRefresh:function(){return sn().memoizedState=pA.bind(null,Ui)}};ya.useMemoCache=pt,ya.useHostTransitionStatus=to,ya.useFormState=kr,ya.useActionState=kr,ya.useOptimistic=function(m){var g=sn();g.memoizedState=g.baseState=m;var B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=B,g=cf.bind(null,Ui,!0,B),B.dispatch=g,[m,g]};var Eo={readContext:ts,use:rt,useCallback:Mu,useContext:ts,useEffect:dA,useImperativeHandle:Jo,useInsertionEffect:af,useLayoutEffect:ah,useMemo:Xc,useReducer:Ut,useRef:za,useState:function(){return Ut(nt)},useDebugValue:Il,useDeferredValue:function(m,g){var B=ge();return oh(B,_r.memoizedState,m,g)},useTransition:function(){var m=Ut(nt)[0],g=ge().memoizedState;return[typeof m=="boolean"?m:Ye(m),g]},useSyncExternalStore:on,useId:oa};Eo.useCacheRefresh=lf,Eo.useMemoCache=pt,Eo.useHostTransitionStatus=to,Eo.useFormState=Ri,Eo.useActionState=Ri,Eo.useOptimistic=function(m,g){var B=ge();return xn(B,_r,m,g)};var Cf={readContext:ts,use:rt,useCallback:Mu,useContext:ts,useEffect:dA,useImperativeHandle:Jo,useInsertionEffect:af,useLayoutEffect:ah,useMemo:Xc,useReducer:$t,useRef:za,useState:function(){return $t(nt)},useDebugValue:Il,useDeferredValue:function(m,g){var B=ge();return _r===null?ei(B,m,g):oh(B,_r.memoizedState,m,g)},useTransition:function(){var m=$t(nt)[0],g=ge().memoizedState;return[typeof m=="boolean"?m:Ye(m),g]},useSyncExternalStore:on,useId:oa};Cf.useCacheRefresh=lf,Cf.useMemoCache=pt,Cf.useHostTransitionStatus=to,Cf.useFormState=ms,Cf.useActionState=ms,Cf.useOptimistic=function(m,g){var B=ge();return _r!==null?xn(B,_r,m,g):(B.baseState=m,[m,B.queue.dispatch])};var Jg={isMounted:function(m){return(m=m._reactInternals)?f(m)===m:!1},enqueueSetState:function(m,g,B){m=m._reactInternals;var O=Va(),X=Me(O);X.payload=g,B!=null&&(X.callback=B),g=Oe(m,X,O),g!==null&&(Zs(g,m,O),bt(g,m,O))},enqueueReplaceState:function(m,g,B){m=m._reactInternals;var O=Va(),X=Me(O);X.tag=1,X.payload=g,B!=null&&(X.callback=B),g=Oe(m,X,O),g!==null&&(Zs(g,m,O),bt(g,m,O))},enqueueForceUpdate:function(m,g){m=m._reactInternals;var B=Va(),O=Me(B);O.tag=2,g!=null&&(O.callback=g),g=Oe(m,O,B),g!==null&&(Zs(g,m,B),bt(g,m,B))}},yv=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},hb=Error(r(461)),$s=!1,Bo={dehydrated:null,treeContext:null,retryLane:0},ul=w(null),Mf=null,Hs=null,db=typeof AbortController<"u"?AbortController:function(){var m=[],g=this.signal={aborted:!1,addEventListener:function(B,O){m.push(O)}};this.abort=function(){g.aborted=!0,m.forEach(function(B){return B()})}},LA=Ua.unstable_scheduleCallback,Mh=Ua.unstable_NormalPriority,Cr={$$typeof:Ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},$g=gt.S;gt.S=function(m,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&se(m,g),$g!==null&&$g(m,g)};var RA=w(null),Fa=!1,Ts=!1,Tf=!1,Hd=typeof WeakSet=="function"?WeakSet:Set,Qs=null,Th=!1,ea=null,Al=!1,Ko=null,Uh=8192,e0={getCacheForType:function(m){var g=ts(Cr),B=g.data.get(m);return B===void 0&&(B=m(),g.data.set(m,B)),B}},mm=0,t0=1,n0=2,ar=3,Mr=4;if(typeof Symbol=="function"&&Symbol.for){var Ni=Symbol.for;mm=Ni("selector.component"),t0=Ni("selector.has_pseudo_class"),n0=Ni("selector.role"),ar=Ni("selector.test_id"),Mr=Ni("selector.text")}var Xi=typeof WeakMap=="function"?WeakMap:Map,Yn=0,zi=null,Ei=null,Oi=0,Vr=0,ta=null,Tr=!1,Xl=!1,DA=!1,hu=0,or=0,Yl=0,du=0,Co=0,fl=0,OA=0,Qd=null,Zl=null,zd=!1,Ku=0,Us=1/0,pu=null,Jl=null,Rc=!1,PA=null,Nh=0,i0=0,Fh=null,Ih=0,qo=null;return Kn.attemptContinuousHydration=function(m){if(m.tag===13){var g=Pe(m,67108864);g!==null&&Zs(g,m,67108864),Xp(m,67108864)}},Kn.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=Va(),B=Pe(m,g);B!==null&&Zs(B,m,g),Xp(m,g)}},Kn.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var g=C(m.pendingLanes);if(g!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;g;){var B=1<<31-ol(g);m.entanglements[1]|=B,g&=~B}tt(m),(Yn&6)===0&&(Us=lo()+500,Ee(0))}}break;case 13:g=Pe(m,2),g!==null&&Zs(g,m,2),mh(),Xp(m,2)}},Kn.batchedUpdates=function(m,g){return m(g)},Kn.createComponentSelector=function(m){return{$$typeof:mm,value:m}},Kn.createContainer=function(m,g,B,O,X,ae,De,st,xt,Wt){return pa(m,g,!1,null,B,O,ae,De,st,xt,Wt,null)},Kn.createHasPseudoClassSelector=function(m){return{$$typeof:t0,value:m}},Kn.createHydrationContainer=function(m,g,B,O,X,ae,De,st,xt,Wt,fn,wn,Bn){return m=pa(B,O,!0,m,X,ae,st,xt,Wt,fn,wn,Bn),m.context=xh(null),B=m.current,O=Va(),X=Me(O),X.callback=g??null,Oe(B,X,O),m.current.lanes=O,k(m,O),tt(m),m},Kn.createPortal=function(m,g,B){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:O==null?null:""+O,children:m,containerInfo:g,implementation:B}},Kn.createRoleSelector=function(m){return{$$typeof:n0,value:m}},Kn.createTestNameSelector=function(m){return{$$typeof:ar,value:m}},Kn.createTextSelector=function(m){return{$$typeof:Mr,value:m}},Kn.defaultOnCaughtError=function(m){console.error(m)},Kn.defaultOnRecoverableError=function(m){yv(m)},Kn.defaultOnUncaughtError=function(m){yv(m)},Kn.deferredUpdates=function(m){var g=gt.T,B=br();try{return ir(32),gt.T=null,m()}finally{ir(B),gt.T=g}},Kn.discreteUpdates=function(m,g,B,O,X){var ae=gt.T,De=br();try{return ir(2),gt.T=null,m(g,B,O,X)}finally{ir(De),gt.T=ae,Yn===0&&(Us=lo()+500)}},Kn.findAllNodes=fa,Kn.findBoundingRects=function(m,g){if(!qa)throw Error(r(363));g=fa(m,g),m=[];for(var B=0;B<g.length;B++)m.push(Os(g[B]));for(g=m.length-1;0<g;g--){B=m[g];for(var O=B.x,X=O+B.width,ae=B.y,De=ae+B.height,st=g-1;0<=st;st--)if(g!==st){var xt=m[st],Wt=xt.x,fn=Wt+xt.width,wn=xt.y,Bn=wn+xt.height;if(O>=Wt&&ae>=wn&&X<=fn&&De<=Bn){m.splice(g,1);break}else if(O!==Wt||B.width!==xt.width||Bn<ae||wn>De){if(!(ae!==wn||B.height!==xt.height||fn<O||Wt>X)){Wt>O&&(xt.width+=Wt-O,xt.x=O),fn<X&&(xt.width=X-Wt),m.splice(g,1);break}}else{wn>ae&&(xt.height+=wn-ae,xt.y=ae),Bn<De&&(xt.height=De-wn),m.splice(g,1);break}}}return m},Kn.findHostInstance=Wp,Kn.findHostInstanceWithNoPortals=function(m){return m=d(m),m=m!==null?x(m):null,m===null?null:Bi(m.stateNode)},Kn.findHostInstanceWithWarning=function(m){return Wp(m)},Kn.flushPassiveEffects=Br,Kn.flushSyncFromReconciler=function(m){var g=Yn;Yn|=1;var B=gt.T,O=br();try{if(ir(2),gt.T=null,m)return m()}finally{ir(O),gt.T=B,Yn=g,(Yn&6)===0&&Ee(0)}},Kn.flushSyncWork=mh,Kn.focusWithin=function(m,g){if(!qa)throw Error(r(363));for(m=EA(m),g=ph(m,g),g=Array.from(g),m=0;m<g.length;){var B=g[m++],O=B.tag;if(!al(B)){if((O===5||O===26||O===27)&&jr(B.stateNode))return!0;for(B=B.child;B!==null;)g.push(B),B=B.sibling}}return!1},Kn.getFindAllNodesFailureDescription=function(m,g){if(!qa)throw Error(r(363));var B=0,O=[];m=[EA(m),0];for(var X=0;X<m.length;){var ae=m[X++],De=ae.tag,st=m[X++],xt=g[st];if((De!==5&&De!==26&&De!==27||!al(ae))&&(Aa(ae,xt)&&(O.push(Ys(xt)),st++,st>B&&(B=st)),st<g.length))for(ae=ae.child;ae!==null;)m.push(ae,st),ae=ae.sibling}if(B<g.length){for(m=[];B<g.length;B++)m.push(Ys(g[B]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},Kn.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return Bi(m.child.stateNode);default:return m.child.stateNode}},Kn.injectIntoDevTools=function(){var m={bundleType:0,version:Cn,rendererPackageName:hi,currentDispatcherRef:gt,findFiberByHostInstance:is,reconcilerVersion:"19.0.0"};if(Ln!==null&&(m.rendererConfig=Ln),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{Ld=g.inject(m),ll=g}catch{}m=!!g.checkDCE}}return m},Kn.isAlreadyRendering=function(){return!1},Kn.observeVisibleRects=function(m,g,B,O){if(!qa)throw Error(r(363));m=fa(m,g);var X=Yp(m,B,O).disconnect;return{disconnect:function(){X()}}},Kn.shouldError=function(){return null},Kn.shouldSuspend=function(){return!1},Kn.startHostTransition=function(m,g,B,O){if(m.tag!==5)throw Error(r(476));var X=lh(m).queue;of(m,X,g,Rr,B===null?i:function(){var ae=lh(m).next.queue;return go(m,ae,{},Va()),B(O)})},Kn.updateContainer=function(m,g,B,O){var X=g.current,ae=Va();return Pg(X,ae,m,g,B,O),ae},Kn.updateContainerSync=function(m,g,B,O){return g.tag===0&&Br(),Pg(g.current,2,m,g,B,O),2},Kn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(BC)),BC.exports}var FR;function xie(){return FR||(FR=1,EC.exports=vie()),EC.exports}var bie=xie();const wie=Cx(bie);var TC={exports:{}},UC={};var IR;function _ie(){return IR||(IR=1,(function(n){function e(W,q){var $=W.length;W.push(q);e:for(;0<$;){var re=$-1>>>1,V=W[re];if(0<r(V,q))W[re]=q,W[$]=V,$=re;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var q=W[0],$=W.pop();if($!==q){W[0]=$;e:for(var re=0,V=W.length,te=V>>>1;re<te;){var z=2*(re+1)-1,j=W[z],oe=z+1,fe=W[oe];if(0>r(j,$))oe<V&&0>r(fe,j)?(W[re]=fe,W[oe]=$,re=oe):(W[re]=j,W[z]=$,re=z);else if(oe<V&&0>r(fe,$))W[re]=fe,W[oe]=$,re=oe;else break e}}return q}function r(W,q){var $=W.sortIndex-q.sortIndex;return $!==0?$:W.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],A=1,f=null,p=3,d=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function E(W){for(var q=t(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=W)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function C(W){if(x=!1,E(W),!y)if(t(l)!==null)y=!0,Y();else{var q=t(c);q!==null&&ne(C,q.startTime-W)}}var T=!1,M=-1,F=5,L=-1;function N(){return!(n.unstable_now()-L<F)}function R(){if(T){var W=n.unstable_now();L=W;var q=!0;try{e:{y=!1,x&&(x=!1,b(M),M=-1),d=!0;var $=p;try{t:{for(E(W),f=t(l);f!==null&&!(f.expirationTime>W&&N());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var V=re(f.expirationTime<=W);if(W=n.unstable_now(),typeof V=="function"){f.callback=V,E(W),q=!0;break t}f===t(l)&&i(l),E(W)}else i(l);f=t(l)}if(f!==null)q=!0;else{var te=t(c);te!==null&&ne(C,te.startTime-W),q=!1}}break e}finally{f=null,p=$,d=!1}q=void 0}}finally{q?k():T=!1}}}var k;if(typeof _=="function")k=function(){_(R)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=R,k=function(){J.postMessage(null)}}else k=function(){w(R,0)};function Y(){T||(T=!0,k())}function ne(W,q){M=w(function(){W(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){y||d||(y=!0,Y())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(W){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var $=p;p=q;try{return W()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=p;p=W;try{return q()}finally{p=$}},n.unstable_scheduleCallback=function(W,q,$){var re=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,W={id:A++,callback:q,priorityLevel:W,startTime:$,expirationTime:V,sortIndex:-1},$>re?(W.sortIndex=$,e(c,W),t(l)===null&&W===t(c)&&(x?(b(M),M=-1):x=!0,ne(C,$-re))):(W.sortIndex=V,e(l,W),y||d||(y=!0,Y())),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var q=p;return function(){var $=p;p=q;try{return W.apply(this,arguments)}finally{p=$}}}})(UC)),UC}var LR;function Sie(){return LR||(LR=1,TC.exports=_ie()),TC.exports}var RR=Sie();function NU(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=NU(i,e,t);if(r)return r;i=e?null:i.sibling}}function n7(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const FU=n7(ct.createContext(null));let i7=class extends ct.Component{render(){return ct.createElement(FU.Provider,{value:this._reactInternals},this.props.children)}};function r7(){const n=ct.useContext(FU);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ct.useId();return ct.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=NU(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const Eie=Symbol.for("react.context"),Bie=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Eie;function Cie(){const n=r7(),[e]=ct.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;Bie(i)&&i!==FU&&!e.has(i)&&e.set(i,ct.use(n7(i))),t=t.return}return e}function Mie(){const n=Cie();return ct.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ct.createElement(e,null,ct.createElement(t.Provider,{...i,value:n.get(t)})),e=>ct.createElement(i7,{...e})),[n])}function s7(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const a7=n=>n&&n.isOrthographicCamera,Tie=n=>n&&n.hasOwnProperty("current"),Uie=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Kx=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ct.useLayoutEffect:ct.useEffect;function IU(n){const e=ct.useRef(n);return Kx(()=>void(e.current=n),[n]),e}function Nie(){const n=r7(),e=Mie();return ct.useMemo(()=>({children:t})=>{const r=!!NU(n,!0,s=>s.type===ct.StrictMode)?ct.StrictMode:ct.Fragment;return I.jsx(r,{children:I.jsx(e,{children:t})})},[n,e])}function Fie({set:n}){return Kx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Iie=(n=>(n=class extends ct.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function o7(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function N0(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Gs={obj:n=>n===Object(n)&&!Gs.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Gs.str(n)||Gs.num(n)||Gs.boo(n))return n===e;const s=Gs.obj(n);if(s&&i==="reference")return n===e;const a=Gs.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Gs.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Gs.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Lie(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function Rie(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const l7=["children","key","ref"];function Die(n){const e={};for(const t in n)l7.includes(t)||(e[t]=n[t]);return e}function rS(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:Die(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function Ax(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const DR=/-\d+$/;function sS(n,e){if(Gs.str(e.props.attach)){if(DR.test(e.props.attach)){const r=e.props.attach.replace(DR,""),{root:s,key:a}=Ax(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=Ax(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Gs.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function aS(n,e){if(Gs.str(e.props.attach)){const{root:t,key:i}=Ax(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const vT=[...l7,"args","dispose","attach","object","onUpdate","dispose"],OR=new Map;function Oie(n){let e=OR.get(n.constructor);try{e||(e=new n.constructor,OR.set(n.constructor,e))}catch{}return e}function Pie(n,e){const t={};for(const i in e)if(!vT.includes(i)&&!Gs.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(vT.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=Ax(n.object,i);if(r.constructor&&r.constructor.length===0){const a=Oie(r);Gs.und(a)||(t[s]=a[s])}else t[s]=0}return t}const kie=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Hie=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function jf(n,e){var t;const i=n.__r3f,r=i&&s7(i).getState(),s=i?.eventCount;for(const o in e){let l=e[o];if(vT.includes(o))continue;if(i&&Hie.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:c,key:A,target:f}=Ax(n,o);if(f===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${A}".`);if(f instanceof Ny&&l instanceof Ny)f.mask=l.mask;else if(f instanceof bn&&Uie(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var a;c[A]=l,r&&!r.linear&&kie.includes(A)&&(a=c[A])!=null&&a.isTexture&&c[A].format===Ha&&c[A].type===ac&&(c[A].colorSpace=wa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Xy(i),n}function Xy(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function c7(n,e){n.manual||(a7(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const nc=n=>n?.isObject3D;function Ew(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function u7(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Qie(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{u7(t.capturedMap,e,i,r)})}function zie(n){function e(l){const{internal:c}=n.getState(),A=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(A*A+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(A=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+A]}))}function i(l,c){const A=n.getState(),f=new Set,p=[],d=c?c(A.internal.interaction):A.internal.interaction;for(let b=0;b<d.length;b++){const _=N0(d[b]);_&&(_.raycaster.camera=void 0)}A.previousRoot||A.events.compute==null||A.events.compute(l,A);function y(b){const _=N0(b);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var E;_.events.compute==null||_.events.compute(l,_,(E=_.previousRoot)==null?void 0:E.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(b,!0):[]}let x=d.flatMap(y).sort((b,_)=>{const E=N0(b.object),C=N0(_.object);return!E||!C?b.distance-_.distance:C.events.priority-E.events.priority||b.distance-_.distance}).filter(b=>{const _=Ew(b);return f.has(_)?!1:(f.add(_),!0)});A.events.filter&&(x=A.events.filter(x,A));for(const b of x){let _=b.object;for(;_;){var w;(w=_.__r3f)!=null&&w.eventCount&&p.push({...b,eventObject:_}),_=_.parent}}if("pointerId"in l&&A.internal.capturedMap.has(l.pointerId))for(let b of A.internal.capturedMap.get(l.pointerId).values())f.has(Ew(b.intersection))||p.push(b.intersection);return p}function r(l,c,A,f){if(l.length){const p={stopped:!1};for(const d of l){let y=N0(d.object);if(y||d.object.traverseAncestors(x=>{const w=N0(x);if(w)return y=w,!1}),y){const{raycaster:x,pointer:w,camera:b,internal:_}=y,E=new je(w.x,w.y,0).unproject(b),C=N=>{var R,k;return(R=(k=_.capturedMap.get(N))==null?void 0:k.has(d.eventObject))!=null?R:!1},T=N=>{const R={intersection:d,target:c.target};_.capturedMap.has(N)?_.capturedMap.get(N).set(d.eventObject,R):_.capturedMap.set(N,new Map([[d.eventObject,R]])),c.target.setPointerCapture(N)},M=N=>{const R=_.capturedMap.get(N);R&&u7(_.capturedMap,d.eventObject,R,N)};let F={};for(let N in c){let R=c[N];typeof R!="function"&&(F[N]=R)}let L={...d,...F,pointer:w,intersections:l,stopped:p.stopped,delta:A,unprojectedPoint:E,ray:x.ray,camera:b,stopPropagation(){const N="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!N||N.has(d.eventObject))&&(L.stopped=p.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(R=>R.eventObject===d.eventObject))){const R=l.slice(0,l.indexOf(d));s([...R,d])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:M},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:M},nativeEvent:c};if(f(L),p.stopped===!0)break}}}return l}function s(l){const{internal:c}=n.getState();for(const A of c.hovered.values())if(!l.length||!l.find(f=>f.object===A.object&&f.index===A.index&&f.instanceId===A.instanceId)){const p=A.eventObject.__r3f;if(c.hovered.delete(Ew(A)),p!=null&&p.eventCount){const d=p.handlers,y={...A,intersections:l};d.onPointerOut==null||d.onPointerOut(y),d.onPointerLeave==null||d.onPointerLeave(y)}}}function a(l,c){for(let A=0;A<c.length;A++){const f=c[A].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:A}=n.getState();"pointerId"in c&&A.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{A.capturedMap.has(c.pointerId)&&(A.capturedMap.delete(c.pointerId),s([]))})}}return function(A){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=A;const d=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=i(A,d?t:void 0),b=y?e(A):0;l==="onPointerDown"&&(p.initialClick=[A.offsetX,A.offsetY],p.initialHits=w.map(E=>E.eventObject)),y&&!w.length&&b<=2&&(a(A,p.interaction),f&&f(A)),d&&s(w);function _(E){const C=E.eventObject,T=C.__r3f;if(!(T!=null&&T.eventCount))return;const M=T.handlers;if(d){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const F=Ew(E),L=p.hovered.get(F);L?L.stopped&&E.stopPropagation():(p.hovered.set(F,E),M.onPointerOver==null||M.onPointerOver(E),M.onPointerEnter==null||M.onPointerEnter(E))}M.onPointerMove==null||M.onPointerMove(E)}else{const F=M[l];F?(!y||p.initialHits.includes(C))&&(a(A,p.interaction.filter(L=>!p.initialHits.includes(L))),F(E)):y&&p.initialHits.includes(C)&&a(A,p.interaction.filter(L=>!p.initialHits.includes(L)))}}r(w,A,b,_)}}return{handlePointer:o}}const PR=n=>!!(n!=null&&n.render),LU=ct.createContext(null),jie=(n,e)=>{const t=$Q((o,l)=>{const c=new je,A=new je,f=new je;function p(b=l().camera,_=A,E=l().size){const{width:C,height:T,top:M,left:F}=E,L=C/T;_.isVector3?f.copy(_):f.set(..._);const N=b.getWorldPosition(c).distanceTo(f);if(a7(b))return{width:C/b.zoom,height:T/b.zoom,top:M,left:F,factor:1,distance:N,aspect:L};{const R=b.fov*Math.PI/180,k=2*Math.tan(R/2)*N,Q=k*(C/T);return{width:Q,height:k,top:M,left:F,factor:C/Q,distance:N,aspect:L}}}let d;const y=b=>o(_=>({performance:{..._.performance,current:b}})),x=new Xt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(l(),b),advance:(b,_)=>e(b,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new SU,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();d&&clearTimeout(d),b.performance.current!==b.performance.min&&y(b.performance.min),d=setTimeout(()=>y(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:b=>o(_=>({..._,events:{..._.events,...b}})),setSize:(b,_,E=0,C=0)=>{const T=l().camera,M={width:b,height:_,top:E,left:C};o(F=>({size:M,viewport:{...F.viewport,...p(T,A,M)}}))},setDpr:b=>o(_=>{const E=o7(b);return{viewport:{..._.viewport,dpr:E,initialDpr:_.viewport.initialDpr||E}}}),setFrameloop:(b="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,b!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ct.createRef(),active:!1,frames:0,priority:0,subscribe:(b,_,E)=>{const C=l().internal;return C.priority=C.priority+(_>0?1:0),C.subscribers.push({ref:b,priority:_,store:E}),C.subscribers=C.subscribers.sort((T,M)=>T.priority-M.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(_>0?1:0),T.subscribers=T.subscribers.filter(M=>M.ref!==b))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:A,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){r=l,s=c.dpr,c7(o,l),c.dpr>0&&A.setPixelRatio(c.dpr);const p=typeof HTMLCanvasElement<"u"&&A.domElement instanceof HTMLCanvasElement;A.setSize(l.width,l.height,p)}o!==a&&(a=o,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function RU(){const n=ct.useContext(LU);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uo(n=t=>t,e){return RU()(n,e)}function DU(n,e=0){const t=RU(),i=t.getState().internal.subscribe,r=IU(n);return Kx(()=>i(r,e,t),[e,i,t]),null}const kR=new WeakMap,Vie=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function A7(n,e){return function(t,...i){let r;return Vie(t)?(r=kR.get(t),r||(r=new t,kR.set(t,r))):r=t,n&&n(r),Promise.all(i.map(s=>new Promise((a,o)=>r.load(s,l=>{nc(l?.scene)&&Object.assign(l,Lie(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l?.message}`))))))}}function bg(n,e,t,i){const r=Array.isArray(e)?e:[e],s=die(A7(t,i),[n,...r],{equal:Gs.equ});return Array.isArray(e)?s:s[0]}bg.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return pie(A7(t),[n,...i])};bg.clear=function(n,e){const t=Array.isArray(e)?e:[e];return mie([n,...t])};function Gie(n){const e=wie(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ct.version}),e}const f7=0,Ry={},Kie=/^three(?=[A-Z])/,bE=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let qie=0;const Wie=n=>typeof n=="function";function h7(n){if(Wie(n)){const e=`${qie++}`;return Ry[e]=n,e}else Object.assign(Ry,n)}function d7(n,e){const t=bE(n),i=Ry[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Xie(n,e,t){var i;return n=bE(n)in Ry?n:n.replace(Kie,""),d7(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,rS(e.object,t,n,e)}function Yie(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?aS(n.parent,n):nc(n.object)&&(n.object.visible=!1),n.isHidden=!0,Xy(n)}}function p7(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?sS(n.parent,n):nc(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Xy(n)}}function OU(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=Ry[bE(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(jf(e.object,e.props),e.props.attach)sS(n,e);else if(nc(e.object)&&nc(n.object)){const a=n.object.children.indexOf(t?.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)OU(e,a);Xy(e)}}function NC(n,e){e&&(e.parent=n,n.children.push(e),OU(n,e))}function HR(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),OU(n,e,t)}function m7(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():RR.unstable_scheduleCallback(RR.unstable_IdlePriority,e)}}function xT(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?aS(n,e):nc(e.object)&&nc(n.object)&&(n.object.remove(e.object),Qie(s7(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];xT(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&m7(e.object),t===void 0&&Xy(e)}function Zie(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const $2=[];function Jie(){for(const[t]of $2){const i=t.parent;if(i){t.props.attach?aS(i,t):nc(t.object)&&nc(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?aS(t,r):nc(r.object)&&nc(t.object)&&t.object.remove(r.object)}t.isHidden&&p7(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&m7(t.object)}for(const[t,i,r]of $2){t.props=i;const s=t.parent;if(s){var n,e;const a=Ry[bE(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Zie(r,t.object),jf(t.object,t.props),t.props.attach?sS(s,t):nc(t.object)&&nc(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?sS(t,o):nc(o.object)&&nc(t.object)&&t.object.add(o.object);Xy(t)}}$2.length=0}const FC=()=>{},QR={};let Bw=f7;const $ie=0,ere=4,oS=Gie({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Xie,removeChild:xT,appendChild:NC,appendInitialChild:NC,insertBefore:HR,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||NC(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||xT(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||HR(i,e,t)},getRootHostContext:()=>QR,getChildHostContext:()=>QR,commitUpdate(n,e,t,i,r){var s,a,o;d7(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((A,f)=>{var p;return A!==((p=t.args)==null?void 0:p[f])}))&&(l=!0),l)$2.push([n,{...i},r]);else{const A=Pie(n,i);Object.keys(A).length&&(Object.assign(n.props,A),jf(n.object,A))}(r.sibling===null||(r.flags&ere)===$ie)&&Jie()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>rS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Yie,unhideInstance:p7,createTextInstance:FC,hideTextInstance:FC,unhideTextInstance:FC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ct.createContext(null),setCurrentUpdatePriority(n){Bw=n},getCurrentUpdatePriority(){return Bw},resolveUpdatePriority(){var n;if(Bw!==f7)return Bw;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return X2.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return X2.ContinuousEventPriority;default:return X2.DefaultEventPriority}},resetFormInstance(){}}),wg=new Map,F0={objects:"shallow",strict:!1};function tre(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function nre(n){const e=wg.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||jie(_T,jR),a=t||oS.createContainer(s,X2.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||wg.set(n,{fiber:a,store:s});let o,l,c=!1,A=null;return{async configure(f={}){let p;A=new Promise(te=>p=te);let{gl:d,size:y,scene:x,events:w,onCreated:b,shadows:_=!1,linear:E=!1,flat:C=!1,legacy:T=!1,orthographic:M=!1,frameloop:F="always",dpr:L=[1,2],performance:N,raycaster:R,camera:k,onPointerMissed:Q}=f,J=s.getState(),Y=J.gl;if(!J.gl){const te={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},z=typeof d=="function"?await d(te):d;PR(z)?Y=z:Y=new UU({...te,...d}),J.set({gl:Y})}let ne=J.raycaster;ne||J.set({raycaster:ne=new MU});const{params:W,...q}=R||{};if(Gs.equ(q,ne,F0)||jf(ne,{...q}),Gs.equ(W,ne.params,F0)||jf(ne,{params:{...ne.params,...W}}),!J.camera||J.camera===l&&!Gs.equ(l,k,F0)){l=k;const te=k?.isCamera,z=te?k:M?new Yf(0,0,0,0,.1,1e3):new _a(75,0,.1,1e3);te||(z.position.z=5,k&&(jf(z,k),z.manual||("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(z.manual=!0,z.updateProjectionMatrix())),!J.camera&&!(k!=null&&k.rotation)&&z.lookAt(0,0,0)),J.set({camera:z}),ne.camera=z}if(!J.scene){let te;x!=null&&x.isScene?(te=x,rS(te,s,"",{})):(te=new Ox,rS(te,s,"",{}),x&&jf(te,x)),J.set({scene:te})}w&&!J.events.handlers&&J.set({events:w(s)});const $=tre(n,y);if(Gs.equ($,J.size,F0)||J.setSize($.width,$.height,$.top,$.left),L&&J.viewport.dpr!==o7(L)&&J.setDpr(L),J.frameloop!==F&&J.setFrameloop(F),J.onPointerMissed||J.set({onPointerMissed:Q}),N&&!Gs.equ(N,J.performance,F0)&&J.set(te=>({performance:{...te.performance,...N}})),!J.xr){var re;const te=(oe,fe)=>{const ue=s.getState();ue.frameloop!=="never"&&jR(oe,!0,ue,fe)},z=()=>{const oe=s.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?te:null),oe.gl.xr.isPresenting||_T(oe)},j={connect(){const oe=s.getState().gl;oe.xr.addEventListener("sessionstart",z),oe.xr.addEventListener("sessionend",z)},disconnect(){const oe=s.getState().gl;oe.xr.removeEventListener("sessionstart",z),oe.xr.removeEventListener("sessionend",z)}};typeof((re=Y.xr)==null?void 0:re.addEventListener)=="function"&&j.connect(),J.set({xr:j})}if(Y.shadowMap){const te=Y.shadowMap.enabled,z=Y.shadowMap.type;if(Y.shadowMap.enabled=!!_,Gs.boo(_))Y.shadowMap.type=C1;else if(Gs.str(_)){var V;const j={basic:aH,percentage:kS,soft:C1,variance:KA};Y.shadowMap.type=(V=j[_])!=null?V:C1}else Gs.obj(_)&&Object.assign(Y.shadowMap,_);(te!==Y.shadowMap.enabled||z!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}return Ji.enabled=!T,c||(Y.outputColorSpace=E?$a:wa,Y.toneMapping=C?Xf:z4),J.legacy!==T&&J.set(()=>({legacy:T})),J.linear!==E&&J.set(()=>({linear:E})),J.flat!==C&&J.set(()=>({flat:C})),d&&!Gs.fun(d)&&!PR(d)&&!Gs.equ(d,Y,F0)&&jf(Y,d),o=b,c=!0,p(),this},render(f){return!c&&!A&&this.configure(),A.then(()=>{oS.updateContainer(I.jsx(ire,{store:s,children:f,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){g7(n)}}}function ire({store:n,children:e,onCreated:t,rootElement:i}){return Kx(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),I.jsx(LU.Provider,{value:n,children:e})}function g7(n,e){const t=wg.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),oS.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Rie(r.scene),wg.delete(n)}catch{}},500)})}}function rre(n,e,t){return I.jsx(sre,{children:n,container:e,state:t})}function sre({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=RU(),[o]=ct.useState(()=>new MU),[l]=ct.useState(()=>new Xt),c=IU((f,p)=>{let d;if(p.camera&&r){const y=p.camera;d=f.viewport.getCurrentViewport(y,new je,r),y!==f.camera&&c7(y,r)}return{...f,...p,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...p.events,...i},size:{...f.size,...r},viewport:{...f.viewport,...d},setEvents:y=>p.set(x=>({...x,events:{...x.events,...y}}))}}),A=ct.useMemo(()=>{const f=$Q((d,y)=>({...s,set:d,get:y})),p=d=>f.setState(y=>c.current(d,y));return p(a.getState()),a.subscribe(p),f},[a,t]);return I.jsx(I.Fragment,{children:oS.createPortal(I.jsx(LU.Provider,{value:A,children:e}),A,null)})}const are=new Set,ore=new Set,lre=new Set;function IC(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function R1(n,e){switch(n){case"before":return IC(are,e);case"after":return IC(ore,e);case"tail":return IC(lre,e)}}let LC,RC;function bT(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),LC=e.internal.subscribers;for(let r=0;r<LC.length;r++)RC=LC[r],RC.ref.current(RC.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let lS=!1,wT=!1,DC,zR,I0;function y7(n){zR=requestAnimationFrame(y7),lS=!0,DC=0,R1("before",n),wT=!0;for(const t of wg.values()){var e;I0=t.store.getState(),I0.internal.active&&(I0.frameloop==="always"||I0.internal.frames>0)&&!((e=I0.gl.xr)!=null&&e.isPresenting)&&(DC+=bT(n,I0))}if(wT=!1,R1("after",n),DC===0)return R1("tail",n),lS=!1,cancelAnimationFrame(zR)}function _T(n,e=1){var t;if(!n)return wg.forEach(i=>_T(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):wT?n.internal.frames=2:n.internal.frames=1,lS||(lS=!0,requestAnimationFrame(y7)))}function jR(n,e=!0,t,i){if(e&&R1("before",n),t)bT(n,t,i);else for(const r of wg.values())bT(n,r.store.getState());e&&R1("after",n)}const OC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function cre(n){const{handlePointer:e}=zie(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(OC).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=OC[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=OC[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function VR(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function ure({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=ct.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=ct.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,A=ct.useRef(!1);ct.useEffect(()=>(A.current=!0,()=>void(A.current=!1)));const[f,p,d]=ct.useMemo(()=>{const b=()=>{if(!o.current.element)return;const{left:_,top:E,width:C,height:T,bottom:M,right:F,x:L,y:N}=o.current.element.getBoundingClientRect(),R={left:_,top:E,width:C,height:T,bottom:M,right:F,x:L,y:N};o.current.element instanceof HTMLElement&&i&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),A.current&&!dre(o.current.lastBounds,R)&&a(o.current.lastBounds=R)};return[b,c?VR(b,c):b,l?VR(b,l):b]},[a,i,l,c]);function y(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",d,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function x(){o.current.element&&(o.current.resizeObserver=new r(d),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",d,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=b=>{!b||b===o.current.element||(y(),o.current.element=b,o.current.scrollContainers=v7(b),x())};return fre(d,!!e),Are(p),ct.useEffect(()=>{y(),x()},[e,d,p]),ct.useEffect(()=>y,[]),[w,s,f]}function Are(n){ct.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function fre(n,e){ct.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function v7(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...v7(n.parentElement)]}const hre=["x","y","top","bottom","left","right","width","height"],dre=(n,e)=>hre.every(t=>n[t]===e[t]);function pre({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=cre,eventSource:o,eventPrefix:l,shadows:c,linear:A,flat:f,legacy:p,orthographic:d,frameloop:y,dpr:x,performance:w,raycaster:b,camera:_,scene:E,onPointerMissed:C,onCreated:T,...M}){ct.useMemo(()=>h7(nie),[]);const F=Nie(),[L,N]=ure({scroll:!0,debounce:{scroll:50,resize:0},...i}),R=ct.useRef(null),k=ct.useRef(null);ct.useImperativeHandle(n,()=>R.current);const Q=IU(C),[J,Y]=ct.useState(!1),[ne,W]=ct.useState(!1);if(J)throw J;if(ne)throw ne;const q=ct.useRef(null);Kx(()=>{const re=R.current;if(N.width>0&&N.height>0&&re){q.current||(q.current=nre(re));async function V(){await q.current.configure({gl:s,scene:E,events:a,shadows:c,linear:A,flat:f,legacy:p,orthographic:d,frameloop:y,dpr:x,performance:w,raycaster:b,camera:_,size:N,onPointerMissed:(...te)=>Q.current==null?void 0:Q.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(o?Tie(o)?o.current:o:k.current),l&&te.setEvents({compute:(z,j)=>{const oe=z[l+"X"],fe=z[l+"Y"];j.pointer.set(oe/j.size.width*2-1,-(fe/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)}}),T?.(te)}}),q.current.render(I.jsx(F,{children:I.jsx(Iie,{set:W,children:I.jsx(ct.Suspense,{fallback:I.jsx(Fie,{set:Y}),children:e??null})})}))}V()}}),ct.useEffect(()=>{const re=R.current;if(re)return()=>g7(re)},[]);const $=o?"none":"auto";return I.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...r},...M,children:I.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:I.jsx("canvas",{ref:R,style:{display:"block"},children:t})})})}function mre(n){return I.jsx(i7,{children:I.jsx(pre,{...n})})}function fx(){return fx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fx.apply(null,arguments)}const x7=parseInt(Nx.replace(/\D+/g,""));var nA=Uint8Array,vp=Uint16Array,ST=Uint32Array,b7=new nA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w7=new nA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gre=new nA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_7=function(n,e){for(var t=new vp(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new ST(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},S7=_7(b7,2),E7=S7[0],yre=S7[1];E7[28]=258,yre[258]=28;var vre=_7(w7,0),xre=vre[0],ET=new vp(32768);for(var Fs=0;Fs<32768;++Fs){var rp=(Fs&43690)>>>1|(Fs&21845)<<1;rp=(rp&52428)>>>2|(rp&13107)<<2,rp=(rp&61680)>>>4|(rp&3855)<<4,ET[Fs]=((rp&65280)>>>8|(rp&255)<<8)>>>1}var D1=(function(n,e,t){for(var i=n.length,r=0,s=new vp(e);r<i;++r)++s[n[r]-1];var a=new vp(e);for(r=0;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(t){o=new vp(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],A=e-n[r],f=a[n[r]-1]++<<A,p=f|(1<<A)-1;f<=p;++f)o[ET[f]>>>l]=c}else for(o=new vp(i),r=0;r<i;++r)n[r]&&(o[r]=ET[a[n[r]-1]++]>>>15-n[r]);return o}),qx=new nA(288);for(var Fs=0;Fs<144;++Fs)qx[Fs]=8;for(var Fs=144;Fs<256;++Fs)qx[Fs]=9;for(var Fs=256;Fs<280;++Fs)qx[Fs]=7;for(var Fs=280;Fs<288;++Fs)qx[Fs]=8;var B7=new nA(32);for(var Fs=0;Fs<32;++Fs)B7[Fs]=5;var bre=D1(qx,9,1),wre=D1(B7,5,1),PC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},jA=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},kC=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},_re=function(n){return(n/8|0)+(n&7&&1)},Sre=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof vp?vp:n instanceof ST?ST:nA)(t-e);return i.set(n.subarray(e,t)),i},Ere=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new nA(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new nA(i*3));var a=function(ue){var Ae=e.length;if(ue>Ae){var he=new nA(Math.max(Ae*2,ue));he.set(e),e=he}},o=t.f||0,l=t.p||0,c=t.b||0,A=t.l,f=t.d,p=t.m,d=t.n,y=i*8;do{if(!A){t.f=o=jA(n,l,1);var x=jA(n,l+1,3);if(l+=3,x)if(x==1)A=bre,f=wre,p=9,d=5;else if(x==2){var E=jA(n,l,31)+257,C=jA(n,l+10,15)+4,T=E+jA(n,l+5,31)+1;l+=14;for(var M=new nA(T),F=new nA(19),L=0;L<C;++L)F[gre[L]]=jA(n,l+L*3,7);l+=C*3;for(var N=PC(F),R=(1<<N)-1,k=D1(F,N,1),L=0;L<T;){var Q=k[jA(n,l,R)];l+=Q&15;var w=Q>>>4;if(w<16)M[L++]=w;else{var J=0,Y=0;for(w==16?(Y=3+jA(n,l,3),l+=2,J=M[L-1]):w==17?(Y=3+jA(n,l,7),l+=3):w==18&&(Y=11+jA(n,l,127),l+=7);Y--;)M[L++]=J}}var ne=M.subarray(0,E),W=M.subarray(E);p=PC(ne),d=PC(W),A=D1(ne,p,1),f=D1(W,d,1)}else throw"invalid block type";else{var w=_re(l)+4,b=n[w-4]|n[w-3]<<8,_=w+b;if(_>i){if(s)throw"unexpected EOF";break}r&&a(c+b),e.set(n.subarray(w,_),c),t.b=c+=b,t.p=l=_*8;continue}if(l>y){if(s)throw"unexpected EOF";break}}r&&a(c+131072);for(var q=(1<<p)-1,$=(1<<d)-1,re=l;;re=l){var J=A[kC(n,l)&q],V=J>>>4;if(l+=J&15,l>y){if(s)throw"unexpected EOF";break}if(!J)throw"invalid length/literal";if(V<256)e[c++]=V;else if(V==256){re=l,A=null;break}else{var te=V-254;if(V>264){var L=V-257,z=b7[L];te=jA(n,l,(1<<z)-1)+E7[L],l+=z}var j=f[kC(n,l)&$],oe=j>>>4;if(!j)throw"invalid distance";l+=j&15;var W=xre[oe];if(oe>3){var z=w7[oe];W+=kC(n,l)&(1<<z)-1,l+=z}if(l>y){if(s)throw"unexpected EOF";break}r&&a(c+131072);for(var fe=c+te;c<fe;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=fe}}t.l=A,t.p=re,t.b=c,A&&(o=1,t.m=p,t.d=f,t.n=d)}while(!o);return c==e.length?e:Sre(e,0,c)},Bre=new nA(0),Cre=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Cw(n,e){return Ere((Cre(n),n.subarray(2,-4)),e)}var Mre=typeof TextDecoder<"u"&&new TextDecoder,Tre=0;try{Mre.decode(Bre,{stream:!0}),Tre=1}catch{}const Ure=n=>n&&n.isCubeTexture;class Nre extends sa{constructor(e,t){var i,r;const s=Ure(e),o=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(o)),c=Math.pow(2,l),A=3*Math.max(c,112),f=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/A}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${x7>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},w=new zx(1,16),b=new oc({uniforms:x,fragmentShader:y,vertexShader:d,side:tA});super(w,b)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Fre=Object.defineProperty,Ire=(n,e,t)=>e in n?Fre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Lre=(n,e,t)=>(Ire(n,e+"",t),t);class Rre{constructor(){Lre(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var Dre=Object.defineProperty,Ore=(n,e,t)=>e in n?Dre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ai=(n,e,t)=>(Ore(n,typeof e!="symbol"?e+"":e,t),t);const Mw=new Tg,GR=new td,Pre=Math.cos(70*(Math.PI/180)),KR=(n,e)=>(n%e+e)%e;let kre=class extends Rre{constructor(e,t){super(),ai(this,"object"),ai(this,"domElement"),ai(this,"enabled",!0),ai(this,"target",new je),ai(this,"minDistance",0),ai(this,"maxDistance",1/0),ai(this,"minZoom",0),ai(this,"maxZoom",1/0),ai(this,"minPolarAngle",0),ai(this,"maxPolarAngle",Math.PI),ai(this,"minAzimuthAngle",-1/0),ai(this,"maxAzimuthAngle",1/0),ai(this,"enableDamping",!1),ai(this,"dampingFactor",.05),ai(this,"enableZoom",!0),ai(this,"zoomSpeed",1),ai(this,"enableRotate",!0),ai(this,"rotateSpeed",1),ai(this,"enablePan",!0),ai(this,"panSpeed",1),ai(this,"screenSpacePanning",!0),ai(this,"keyPanSpeed",7),ai(this,"zoomToCursor",!1),ai(this,"autoRotate",!1),ai(this,"autoRotateSpeed",2),ai(this,"reverseOrbit",!1),ai(this,"reverseHorizontalOrbit",!1),ai(this,"reverseVerticalOrbit",!1),ai(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ai(this,"mouseButtons",{LEFT:Pm.ROTATE,MIDDLE:Pm.DOLLY,RIGHT:Pm.PAN}),ai(this,"touches",{ONE:km.ROTATE,TWO:km.DOLLY_PAN}),ai(this,"target0"),ai(this,"position0"),ai(this,"zoom0"),ai(this,"_domElementKeyEvents",null),ai(this,"getPolarAngle"),ai(this,"getAzimuthalAngle"),ai(this,"setPolarAngle"),ai(this,"setAzimuthalAngle"),ai(this,"getDistance"),ai(this,"getZoomScale"),ai(this,"listenToKeyEvents"),ai(this,"stopListenToKeyEvents"),ai(this,"saveState"),ai(this,"reset"),ai(this,"update"),ai(this,"connect"),ai(this,"dispose"),ai(this,"dollyIn"),ai(this,"dollyOut"),ai(this,"getScale"),ai(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>A.phi,this.getAzimuthalAngle=()=>A.theta,this.setPolarAngle=Fe=>{let Xe=KR(Fe,2*Math.PI),ht=A.phi;ht<0&&(ht+=2*Math.PI),Xe<0&&(Xe+=2*Math.PI);let Qe=Math.abs(Xe-ht);2*Math.PI-Qe<Qe&&(Xe<ht?Xe+=2*Math.PI:ht+=2*Math.PI),f.phi=Xe-ht,i.update()},this.setAzimuthalAngle=Fe=>{let Xe=KR(Fe,2*Math.PI),ht=A.theta;ht<0&&(ht+=2*Math.PI),Xe<0&&(Xe+=2*Math.PI);let Qe=Math.abs(Xe-ht);2*Math.PI-Qe<Qe&&(Xe<ht?Xe+=2*Math.PI:ht+=2*Math.PI),f.theta=Xe-ht,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Fe=>{Fe.addEventListener("keydown",se),this._domElementKeyEvents=Fe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",se),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const Fe=new je,Xe=new je(0,1,0),ht=new Fo().setFromUnitVectors(e.up,Xe),Qe=ht.clone().invert(),ot=new je,Dt=new Fo,Rt=2*Math.PI;return function(){const Ct=i.object.position;ht.setFromUnitVectors(e.up,Xe),Qe.copy(ht).invert(),Fe.copy(Ct).sub(i.target),Fe.applyQuaternion(ht),A.setFromVector3(Fe),i.autoRotate&&l===o.NONE&&Y(Q()),i.enableDamping?(A.theta+=f.theta*i.dampingFactor,A.phi+=f.phi*i.dampingFactor):(A.theta+=f.theta,A.phi+=f.phi);let an=i.minAzimuthAngle,pn=i.maxAzimuthAngle;isFinite(an)&&isFinite(pn)&&(an<-Math.PI?an+=Rt:an>Math.PI&&(an-=Rt),pn<-Math.PI?pn+=Rt:pn>Math.PI&&(pn-=Rt),an<=pn?A.theta=Math.max(an,Math.min(pn,A.theta)):A.theta=A.theta>(an+pn)/2?Math.max(an,A.theta):Math.min(pn,A.theta)),A.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,A.phi)),A.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),i.zoomToCursor&&N||i.object.isOrthographicCamera?A.radius=j(A.radius):A.radius=j(A.radius*p),Fe.setFromSpherical(A),Fe.applyQuaternion(Qe),Ct.copy(i.target).add(Fe),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let Xn=!1;if(i.zoomToCursor&&N){let Vn=null;if(i.object instanceof _a&&i.object.isPerspectiveCamera){const Be=Fe.length();Vn=j(Be*p);const Ke=Be-Vn;i.object.position.addScaledVector(F,Ke),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Be=new je(L.x,L.y,0);Be.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Xn=!0;const Ke=new je(L.x,L.y,0);Ke.unproject(i.object),i.object.position.sub(Ke).add(Be),i.object.updateMatrixWorld(),Vn=Fe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Vn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Vn).add(i.object.position):(Mw.origin.copy(i.object.position),Mw.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Mw.direction))<Pre?e.lookAt(i.target):(GR.setFromNormalAndCoplanarPoint(i.object.up,i.target),Mw.intersectPlane(GR,i.target))))}else i.object instanceof Yf&&i.object.isOrthographicCamera&&(Xn=p!==1,Xn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,N=!1,Xn||ot.distanceToSquared(i.object.position)>c||8*(1-Dt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),ot.copy(i.object.position),Dt.copy(i.object.quaternion),Xn=!1,!0):!1}})(),this.connect=Fe=>{i.domElement=Fe,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ze),i.domElement.addEventListener("pointerdown",et),i.domElement.addEventListener("pointercancel",le),i.domElement.addEventListener("wheel",Z)},this.dispose=()=>{var Fe,Xe,ht,Qe,ot,Dt;i.domElement&&(i.domElement.style.touchAction="auto"),(Fe=i.domElement)==null||Fe.removeEventListener("contextmenu",Ze),(Xe=i.domElement)==null||Xe.removeEventListener("pointerdown",et),(ht=i.domElement)==null||ht.removeEventListener("pointercancel",le),(Qe=i.domElement)==null||Qe.removeEventListener("wheel",Z),(ot=i.domElement)==null||ot.ownerDocument.removeEventListener("pointermove",me),(Dt=i.domElement)==null||Dt.ownerDocument.removeEventListener("pointerup",le),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",se)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,A=new pT,f=new pT;let p=1;const d=new je,y=new Xt,x=new Xt,w=new Xt,b=new Xt,_=new Xt,E=new Xt,C=new Xt,T=new Xt,M=new Xt,F=new je,L=new Xt;let N=!1;const R=[],k={};function Q(){return 2*Math.PI/60/60*i.autoRotateSpeed}function J(){return Math.pow(.95,i.zoomSpeed)}function Y(Fe){i.reverseOrbit||i.reverseHorizontalOrbit?f.theta+=Fe:f.theta-=Fe}function ne(Fe){i.reverseOrbit||i.reverseVerticalOrbit?f.phi+=Fe:f.phi-=Fe}const W=(()=>{const Fe=new je;return function(ht,Qe){Fe.setFromMatrixColumn(Qe,0),Fe.multiplyScalar(-ht),d.add(Fe)}})(),q=(()=>{const Fe=new je;return function(ht,Qe){i.screenSpacePanning===!0?Fe.setFromMatrixColumn(Qe,1):(Fe.setFromMatrixColumn(Qe,0),Fe.crossVectors(i.object.up,Fe)),Fe.multiplyScalar(ht),d.add(Fe)}})(),$=(()=>{const Fe=new je;return function(ht,Qe){const ot=i.domElement;if(ot&&i.object instanceof _a&&i.object.isPerspectiveCamera){const Dt=i.object.position;Fe.copy(Dt).sub(i.target);let Rt=Fe.length();Rt*=Math.tan(i.object.fov/2*Math.PI/180),W(2*ht*Rt/ot.clientHeight,i.object.matrix),q(2*Qe*Rt/ot.clientHeight,i.object.matrix)}else ot&&i.object instanceof Yf&&i.object.isOrthographicCamera?(W(ht*(i.object.right-i.object.left)/i.object.zoom/ot.clientWidth,i.object.matrix),q(Qe*(i.object.top-i.object.bottom)/i.object.zoom/ot.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function re(Fe){i.object instanceof _a&&i.object.isPerspectiveCamera||i.object instanceof Yf&&i.object.isOrthographicCamera?p=Fe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(Fe){re(p/Fe)}function te(Fe){re(p*Fe)}function z(Fe){if(!i.zoomToCursor||!i.domElement)return;N=!0;const Xe=i.domElement.getBoundingClientRect(),ht=Fe.clientX-Xe.left,Qe=Fe.clientY-Xe.top,ot=Xe.width,Dt=Xe.height;L.x=ht/ot*2-1,L.y=-(Qe/Dt)*2+1,F.set(L.x,L.y,1).unproject(i.object).sub(i.object.position).normalize()}function j(Fe){return Math.max(i.minDistance,Math.min(i.maxDistance,Fe))}function oe(Fe){y.set(Fe.clientX,Fe.clientY)}function fe(Fe){z(Fe),C.set(Fe.clientX,Fe.clientY)}function ue(Fe){b.set(Fe.clientX,Fe.clientY)}function Ae(Fe){x.set(Fe.clientX,Fe.clientY),w.subVectors(x,y).multiplyScalar(i.rotateSpeed);const Xe=i.domElement;Xe&&(Y(2*Math.PI*w.x/Xe.clientHeight),ne(2*Math.PI*w.y/Xe.clientHeight)),y.copy(x),i.update()}function he(Fe){T.set(Fe.clientX,Fe.clientY),M.subVectors(T,C),M.y>0?V(J()):M.y<0&&te(J()),C.copy(T),i.update()}function _e(Fe){_.set(Fe.clientX,Fe.clientY),E.subVectors(_,b).multiplyScalar(i.panSpeed),$(E.x,E.y),b.copy(_),i.update()}function be(Fe){z(Fe),Fe.deltaY<0?te(J()):Fe.deltaY>0&&V(J()),i.update()}function Ne(Fe){let Xe=!1;switch(Fe.code){case i.keys.UP:$(0,i.keyPanSpeed),Xe=!0;break;case i.keys.BOTTOM:$(0,-i.keyPanSpeed),Xe=!0;break;case i.keys.LEFT:$(i.keyPanSpeed,0),Xe=!0;break;case i.keys.RIGHT:$(-i.keyPanSpeed,0),Xe=!0;break}Xe&&(Fe.preventDefault(),i.update())}function ze(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const Fe=.5*(R[0].pageX+R[1].pageX),Xe=.5*(R[0].pageY+R[1].pageY);y.set(Fe,Xe)}}function $e(){if(R.length==1)b.set(R[0].pageX,R[0].pageY);else{const Fe=.5*(R[0].pageX+R[1].pageX),Xe=.5*(R[0].pageY+R[1].pageY);b.set(Fe,Xe)}}function He(){const Fe=R[0].pageX-R[1].pageX,Xe=R[0].pageY-R[1].pageY,ht=Math.sqrt(Fe*Fe+Xe*Xe);C.set(0,ht)}function K(){i.enableZoom&&He(),i.enablePan&&$e()}function xe(){i.enableZoom&&He(),i.enableRotate&&ze()}function Pe(Fe){if(R.length==1)x.set(Fe.pageX,Fe.pageY);else{const ht=bt(Fe),Qe=.5*(Fe.pageX+ht.x),ot=.5*(Fe.pageY+ht.y);x.set(Qe,ot)}w.subVectors(x,y).multiplyScalar(i.rotateSpeed);const Xe=i.domElement;Xe&&(Y(2*Math.PI*w.x/Xe.clientHeight),ne(2*Math.PI*w.y/Xe.clientHeight)),y.copy(x)}function We(Fe){if(R.length==1)_.set(Fe.pageX,Fe.pageY);else{const Xe=bt(Fe),ht=.5*(Fe.pageX+Xe.x),Qe=.5*(Fe.pageY+Xe.y);_.set(ht,Qe)}E.subVectors(_,b).multiplyScalar(i.panSpeed),$(E.x,E.y),b.copy(_)}function Le(Fe){const Xe=bt(Fe),ht=Fe.pageX-Xe.x,Qe=Fe.pageY-Xe.y,ot=Math.sqrt(ht*ht+Qe*Qe);T.set(0,ot),M.set(0,Math.pow(T.y/C.y,i.zoomSpeed)),V(M.y),C.copy(T)}function tt(Fe){i.enableZoom&&Le(Fe),i.enablePan&&We(Fe)}function Ee(Fe){i.enableZoom&&Le(Fe),i.enableRotate&&Pe(Fe)}function et(Fe){var Xe,ht;i.enabled!==!1&&(R.length===0&&((Xe=i.domElement)==null||Xe.ownerDocument.addEventListener("pointermove",me),(ht=i.domElement)==null||ht.ownerDocument.addEventListener("pointerup",le)),dt(Fe),Fe.pointerType==="touch"?we(Fe):Je(Fe))}function me(Fe){i.enabled!==!1&&(Fe.pointerType==="touch"?Re(Fe):P(Fe))}function le(Fe){var Xe,ht,Qe;Me(Fe),R.length===0&&((Xe=i.domElement)==null||Xe.releasePointerCapture(Fe.pointerId),(ht=i.domElement)==null||ht.ownerDocument.removeEventListener("pointermove",me),(Qe=i.domElement)==null||Qe.ownerDocument.removeEventListener("pointerup",le)),i.dispatchEvent(a),l=o.NONE}function Je(Fe){let Xe;switch(Fe.button){case 0:Xe=i.mouseButtons.LEFT;break;case 1:Xe=i.mouseButtons.MIDDLE;break;case 2:Xe=i.mouseButtons.RIGHT;break;default:Xe=-1}switch(Xe){case Pm.DOLLY:if(i.enableZoom===!1)return;fe(Fe),l=o.DOLLY;break;case Pm.ROTATE:if(Fe.ctrlKey||Fe.metaKey||Fe.shiftKey){if(i.enablePan===!1)return;ue(Fe),l=o.PAN}else{if(i.enableRotate===!1)return;oe(Fe),l=o.ROTATE}break;case Pm.PAN:if(Fe.ctrlKey||Fe.metaKey||Fe.shiftKey){if(i.enableRotate===!1)return;oe(Fe),l=o.ROTATE}else{if(i.enablePan===!1)return;ue(Fe),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function P(Fe){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;Ae(Fe);break;case o.DOLLY:if(i.enableZoom===!1)return;he(Fe);break;case o.PAN:if(i.enablePan===!1)return;_e(Fe);break}}function Z(Fe){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Fe.preventDefault(),i.dispatchEvent(s),be(Fe),i.dispatchEvent(a))}function se(Fe){i.enabled===!1||i.enablePan===!1||Ne(Fe)}function we(Fe){switch(Oe(Fe),R.length){case 1:switch(i.touches.ONE){case km.ROTATE:if(i.enableRotate===!1)return;ze(),l=o.TOUCH_ROTATE;break;case km.PAN:if(i.enablePan===!1)return;$e(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case km.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;K(),l=o.TOUCH_DOLLY_PAN;break;case km.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;xe(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function Re(Fe){switch(Oe(Fe),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;Pe(Fe),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;We(Fe),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;tt(Fe),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ee(Fe),i.update();break;default:l=o.NONE}}function Ze(Fe){i.enabled!==!1&&Fe.preventDefault()}function dt(Fe){R.push(Fe)}function Me(Fe){delete k[Fe.pointerId];for(let Xe=0;Xe<R.length;Xe++)if(R[Xe].pointerId==Fe.pointerId){R.splice(Xe,1);return}}function Oe(Fe){let Xe=k[Fe.pointerId];Xe===void 0&&(Xe=new Xt,k[Fe.pointerId]=Xe),Xe.set(Fe.pageX,Fe.pageY)}function bt(Fe){const Xe=Fe.pointerId===R[0].pointerId?R[1]:R[0];return k[Xe.pointerId]}this.dollyIn=(Fe=J())=>{te(Fe),i.update()},this.dollyOut=(Fe=J())=>{V(Fe),i.update()},this.getScale=()=>p,this.setScale=Fe=>{re(Fe),i.update()},this.getZoomScale=()=>J(),t!==void 0&&this.connect(t),this.update()}};class Hre extends yU{constructor(e){super(e),this.type=Ja}parse(e){const a=function(L,N){switch(L){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},f=function(L,N,R){N=N||1024;let Q=L.pos,J=-1,Y=0,ne="",W=String.fromCharCode.apply(null,new Uint16Array(L.subarray(Q,Q+128)));for(;0>(J=W.indexOf(`
`))&&Y<N&&Q<L.byteLength;)ne+=W,Y+=W.length,Q+=128,W+=String.fromCharCode.apply(null,new Uint16Array(L.subarray(Q,Q+128)));return-1<J?(L.pos+=Y+J+1,ne+W.slice(0,J)):!1},p=function(L){const N=/^#\?(\S+)/,R=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*FORMAT=(\S+)\s*$/,J=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Y={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ne,W;for((L.pos>=L.byteLength||!(ne=f(L)))&&a(1,"no header found"),(W=ne.match(N))||a(3,"bad initial token"),Y.valid|=1,Y.programtype=W[1],Y.string+=ne+`
`;ne=f(L),ne!==!1;){if(Y.string+=ne+`
`,ne.charAt(0)==="#"){Y.comments+=ne+`
`;continue}if((W=ne.match(R))&&(Y.gamma=parseFloat(W[1])),(W=ne.match(k))&&(Y.exposure=parseFloat(W[1])),(W=ne.match(Q))&&(Y.valid|=2,Y.format=W[1]),(W=ne.match(J))&&(Y.valid|=4,Y.height=parseInt(W[1],10),Y.width=parseInt(W[2],10)),Y.valid&2&&Y.valid&4)break}return Y.valid&2||a(3,"missing format specifier"),Y.valid&4||a(3,"missing image size specifier"),Y},d=function(L,N,R){const k=N;if(k<8||k>32767||L[0]!==2||L[1]!==2||L[2]&128)return new Uint8Array(L);k!==(L[2]<<8|L[3])&&a(3,"wrong scanline width");const Q=new Uint8Array(4*N*R);Q.length||a(4,"unable to allocate buffer space");let J=0,Y=0;const ne=4*k,W=new Uint8Array(4),q=new Uint8Array(ne);let $=R;for(;$>0&&Y<L.byteLength;){Y+4>L.byteLength&&a(1),W[0]=L[Y++],W[1]=L[Y++],W[2]=L[Y++],W[3]=L[Y++],(W[0]!=2||W[1]!=2||(W[2]<<8|W[3])!=k)&&a(3,"bad rgbe scanline format");let re=0,V;for(;re<ne&&Y<L.byteLength;){V=L[Y++];const z=V>128;if(z&&(V-=128),(V===0||re+V>ne)&&a(3,"bad scanline data"),z){const j=L[Y++];for(let oe=0;oe<V;oe++)q[re++]=j}else q.set(L.subarray(Y,Y+V),re),re+=V,Y+=V}const te=k;for(let z=0;z<te;z++){let j=0;Q[J]=q[z+j],j+=k,Q[J+1]=q[z+j],j+=k,Q[J+2]=q[z+j],j+=k,Q[J+3]=q[z+j],J+=4}$--}return Q},y=function(L,N,R,k){const Q=L[N+3],J=Math.pow(2,Q-128)/255;R[k+0]=L[N+0]*J,R[k+1]=L[N+1]*J,R[k+2]=L[N+2]*J,R[k+3]=1},x=function(L,N,R,k){const Q=L[N+3],J=Math.pow(2,Q-128)/255;R[k+0]=Jm.toHalfFloat(Math.min(L[N+0]*J,65504)),R[k+1]=Jm.toHalfFloat(Math.min(L[N+1]*J,65504)),R[k+2]=Jm.toHalfFloat(Math.min(L[N+2]*J,65504)),R[k+3]=Jm.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const b=p(w),_=b.width,E=b.height,C=d(w.subarray(w.pos),_,E);let T,M,F;switch(this.type){case Ks:F=C.length/4;const L=new Float32Array(F*4);for(let R=0;R<F;R++)y(C,R*4,L,R*4);T=L,M=Ks;break;case Ja:F=C.length/4;const N=new Uint16Array(F*4);for(let R=0;R<F;R++)x(C,R*4,N,R*4);T=N,M=Ja;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:E,data:T,header:b.string,gamma:b.gamma,exposure:b.exposure,type:M}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(a,o){switch(a.type){case Ks:case Ja:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=ur,a.magFilter=ur,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,o)}return super.load(e,s,i,r)}}const Vv=x7>=152;class Qre extends yU{constructor(e){super(e),this.type=Ja}parse(e){const N=Math.pow(2.7182818,2.2);function R(pe,Ue){for(var it=0,wt=0;wt<65536;++wt)(wt==0||pe[wt>>3]&1<<(wt&7))&&(Ue[it++]=wt);for(var Lt=it-1;it<65536;)Ue[it++]=0;return Lt}function k(pe){for(var Ue=0;Ue<16384;Ue++)pe[Ue]={},pe[Ue].len=0,pe[Ue].lit=0,pe[Ue].p=null}const Q={l:0,c:0,lc:0};function J(pe,Ue,it,wt,Lt){for(;it<pe;)Ue=Ue<<8|bt(wt,Lt),it+=8;it-=pe,Q.l=Ue>>it&(1<<pe)-1,Q.c=Ue,Q.lc=it}const Y=new Array(59);function ne(pe){for(var Ue=0;Ue<=58;++Ue)Y[Ue]=0;for(var Ue=0;Ue<65537;++Ue)Y[pe[Ue]]+=1;for(var it=0,Ue=58;Ue>0;--Ue){var wt=it+Y[Ue]>>1;Y[Ue]=it,it=wt}for(var Ue=0;Ue<65537;++Ue){var Lt=pe[Ue];Lt>0&&(pe[Ue]=Lt|Y[Lt]++<<6)}}function W(pe,Ue,it,wt,Lt,Mt,Zt){for(var nn=it,sn=0,ge=0;Lt<=Mt;Lt++){if(nn.value-it.value>wt)return!1;J(6,sn,ge,pe,nn);var Ye=Q.l;if(sn=Q.c,ge=Q.lc,Zt[Lt]=Ye,Ye==63){if(nn.value-it.value>wt)throw"Something wrong with hufUnpackEncTable";J(8,sn,ge,pe,nn);var rt=Q.l+6;if(sn=Q.c,ge=Q.lc,Lt+rt>Mt+1)throw"Something wrong with hufUnpackEncTable";for(;rt--;)Zt[Lt++]=0;Lt--}else if(Ye>=59){var rt=Ye-59+2;if(Lt+rt>Mt+1)throw"Something wrong with hufUnpackEncTable";for(;rt--;)Zt[Lt++]=0;Lt--}}ne(Zt)}function q(pe){return pe&63}function $(pe){return pe>>6}function re(pe,Ue,it,wt){for(;Ue<=it;Ue++){var Lt=$(pe[Ue]),Mt=q(pe[Ue]);if(Lt>>Mt)throw"Invalid table entry";if(Mt>14){var Zt=wt[Lt>>Mt-14];if(Zt.len)throw"Invalid table entry";if(Zt.lit++,Zt.p){var nn=Zt.p;Zt.p=new Array(Zt.lit);for(var sn=0;sn<Zt.lit-1;++sn)Zt.p[sn]=nn[sn]}else Zt.p=new Array(1);Zt.p[Zt.lit-1]=Ue}else if(Mt)for(var ge=0,sn=1<<14-Mt;sn>0;sn--){var Zt=wt[(Lt<<14-Mt)+ge];if(Zt.len||Zt.p)throw"Invalid table entry";Zt.len=Mt,Zt.lit=Ue,ge++}}return!0}const V={c:0,lc:0};function te(pe,Ue,it,wt){pe=pe<<8|bt(it,wt),Ue+=8,V.c=pe,V.lc=Ue}const z={c:0,lc:0};function j(pe,Ue,it,wt,Lt,Mt,Zt,nn,sn,ge){if(pe==Ue){wt<8&&(te(it,wt,Lt,Zt),it=V.c,wt=V.lc),wt-=8;var Ye=it>>wt,Ye=new Uint8Array([Ye])[0];if(sn.value+Ye>ge)return!1;for(var rt=nn[sn.value-1];Ye-- >0;)nn[sn.value++]=rt}else if(sn.value<ge)nn[sn.value++]=pe;else return!1;z.c=it,z.lc=wt}function oe(pe){return pe&65535}function fe(pe){var Ue=oe(pe);return Ue>32767?Ue-65536:Ue}const ue={a:0,b:0};function Ae(pe,Ue){var it=fe(pe),wt=fe(Ue),Lt=wt,Mt=it+(Lt&1)+(Lt>>1),Zt=Mt,nn=Mt-Lt;ue.a=Zt,ue.b=nn}function he(pe,Ue){var it=oe(pe),wt=oe(Ue),Lt=it-(wt>>1)&65535,Mt=wt+Lt-32768&65535;ue.a=Mt,ue.b=Lt}function _e(pe,Ue,it,wt,Lt,Mt,Zt){for(var nn=Zt<16384,sn=it>Lt?Lt:it,ge=1,Ye;ge<=sn;)ge<<=1;for(ge>>=1,Ye=ge,ge>>=1;ge>=1;){for(var rt=0,pt=rt+Mt*(Lt-Ye),nt=Mt*ge,Ut=Mt*Ye,jt=wt*ge,$t=wt*Ye,on,dn,vn,yn;rt<=pt;rt+=Ut){for(var gn=rt,ii=rt+wt*(it-Ye);gn<=ii;gn+=$t){var Dn=gn+jt,xn=gn+nt,gi=xn+jt;nn?(Ae(pe[gn+Ue],pe[xn+Ue]),on=ue.a,vn=ue.b,Ae(pe[Dn+Ue],pe[gi+Ue]),dn=ue.a,yn=ue.b,Ae(on,dn),pe[gn+Ue]=ue.a,pe[Dn+Ue]=ue.b,Ae(vn,yn),pe[xn+Ue]=ue.a,pe[gi+Ue]=ue.b):(he(pe[gn+Ue],pe[xn+Ue]),on=ue.a,vn=ue.b,he(pe[Dn+Ue],pe[gi+Ue]),dn=ue.a,yn=ue.b,he(on,dn),pe[gn+Ue]=ue.a,pe[Dn+Ue]=ue.b,he(vn,yn),pe[xn+Ue]=ue.a,pe[gi+Ue]=ue.b)}if(it&ge){var xn=gn+nt;nn?Ae(pe[gn+Ue],pe[xn+Ue]):he(pe[gn+Ue],pe[xn+Ue]),on=ue.a,pe[xn+Ue]=ue.b,pe[gn+Ue]=on}}if(Lt&ge)for(var gn=rt,ii=rt+wt*(it-Ye);gn<=ii;gn+=$t){var Dn=gn+jt;nn?Ae(pe[gn+Ue],pe[Dn+Ue]):he(pe[gn+Ue],pe[Dn+Ue]),on=ue.a,pe[Dn+Ue]=ue.b,pe[gn+Ue]=on}Ye=ge,ge>>=1}return rt}function be(pe,Ue,it,wt,Lt,Mt,Zt,nn,sn,ge){for(var Ye=0,rt=0,pt=nn,nt=Math.trunc(Lt.value+(Mt+7)/8);Lt.value<nt;)for(te(Ye,rt,it,Lt),Ye=V.c,rt=V.lc;rt>=14;){var Ut=Ye>>rt-14&16383,jt=Ue[Ut];if(jt.len)rt-=jt.len,j(jt.lit,Zt,Ye,rt,it,wt,Lt,sn,ge,pt),Ye=z.c,rt=z.lc;else{if(!jt.p)throw"hufDecode issues";var $t;for($t=0;$t<jt.lit;$t++){for(var on=q(pe[jt.p[$t]]);rt<on&&Lt.value<nt;)te(Ye,rt,it,Lt),Ye=V.c,rt=V.lc;if(rt>=on&&$(pe[jt.p[$t]])==(Ye>>rt-on&(1<<on)-1)){rt-=on,j(jt.p[$t],Zt,Ye,rt,it,wt,Lt,sn,ge,pt),Ye=z.c,rt=z.lc;break}}if($t==jt.lit)throw"hufDecode issues"}}var dn=8-Mt&7;for(Ye>>=dn,rt-=dn;rt>0;){var jt=Ue[Ye<<14-rt&16383];if(jt.len)rt-=jt.len,j(jt.lit,Zt,Ye,rt,it,wt,Lt,sn,ge,pt),Ye=z.c,rt=z.lc;else throw"hufDecode issues"}return!0}function Ne(pe,Ue,it,wt,Lt,Mt){var Zt={value:0},nn=it.value,sn=Oe(Ue,it),ge=Oe(Ue,it);it.value+=4;var Ye=Oe(Ue,it);if(it.value+=4,sn<0||sn>=65537||ge<0||ge>=65537)throw"Something wrong with HUF_ENCSIZE";var rt=new Array(65537),pt=new Array(16384);k(pt);var nt=wt-(it.value-nn);if(W(pe,Ue,it,nt,sn,ge,rt),Ye>8*(wt-(it.value-nn)))throw"Something wrong with hufUncompress";re(rt,sn,ge,pt),be(rt,pt,pe,Ue,it,Ye,ge,Mt,Lt,Zt)}function ze(pe,Ue,it){for(var wt=0;wt<it;++wt)Ue[wt]=pe[Ue[wt]]}function $e(pe){for(var Ue=1;Ue<pe.length;Ue++){var it=pe[Ue-1]+pe[Ue]-128;pe[Ue]=it}}function He(pe,Ue){for(var it=0,wt=Math.floor((pe.length+1)/2),Lt=0,Mt=pe.length-1;!(Lt>Mt||(Ue[Lt++]=pe[it++],Lt>Mt));)Ue[Lt++]=pe[wt++]}function K(pe){for(var Ue=pe.byteLength,it=new Array,wt=0,Lt=new DataView(pe);Ue>0;){var Mt=Lt.getInt8(wt++);if(Mt<0){var Zt=-Mt;Ue-=Zt+1;for(var nn=0;nn<Zt;nn++)it.push(Lt.getUint8(wt++))}else{var Zt=Mt;Ue-=2;for(var sn=Lt.getUint8(wt++),nn=0;nn<Zt+1;nn++)it.push(sn)}}return it}function xe(pe,Ue,it,wt,Lt,Mt){var Dn=new DataView(Mt.buffer),Zt=it[pe.idx[0]].width,nn=it[pe.idx[0]].height,sn=3,ge=Math.floor(Zt/8),Ye=Math.ceil(Zt/8),rt=Math.ceil(nn/8),pt=Zt-(Ye-1)*8,nt=nn-(rt-1)*8,Ut={value:0},jt=new Array(sn),$t=new Array(sn),on=new Array(sn),dn=new Array(sn),vn=new Array(sn);for(let Un=0;Un<sn;++Un)vn[Un]=Ue[pe.idx[Un]],jt[Un]=Un<1?0:jt[Un-1]+Ye*rt,$t[Un]=new Float32Array(64),on[Un]=new Uint16Array(64),dn[Un]=new Uint16Array(Ye*64);for(let Un=0;Un<rt;++Un){var yn=8;Un==rt-1&&(yn=nt);var gn=8;for(let $n=0;$n<Ye;++$n){$n==Ye-1&&(gn=pt);for(let Nn=0;Nn<sn;++Nn)on[Nn].fill(0),on[Nn][0]=Lt[jt[Nn]++],Pe(Ut,wt,on[Nn]),We(on[Nn],$t[Nn]),Le($t[Nn]);tt($t);for(let Nn=0;Nn<sn;++Nn)Ee($t[Nn],dn[Nn],$n*64)}let si=0;for(let $n=0;$n<sn;++$n){const Nn=it[pe.idx[$n]].type;for(let kr=8*Un;kr<8*Un+yn;++kr){si=vn[$n][kr];for(let Ri=0;Ri<ge;++Ri){const ji=Ri*64+(kr&7)*8;Dn.setUint16(si+0*Nn,dn[$n][ji+0],!0),Dn.setUint16(si+2*Nn,dn[$n][ji+1],!0),Dn.setUint16(si+4*Nn,dn[$n][ji+2],!0),Dn.setUint16(si+6*Nn,dn[$n][ji+3],!0),Dn.setUint16(si+8*Nn,dn[$n][ji+4],!0),Dn.setUint16(si+10*Nn,dn[$n][ji+5],!0),Dn.setUint16(si+12*Nn,dn[$n][ji+6],!0),Dn.setUint16(si+14*Nn,dn[$n][ji+7],!0),si+=16*Nn}}if(ge!=Ye)for(let kr=8*Un;kr<8*Un+yn;++kr){const Ri=vn[$n][kr]+8*ge*2*Nn,ji=ge*64+(kr&7)*8;for(let Di=0;Di<gn;++Di)Dn.setUint16(Ri+Di*2*Nn,dn[$n][ji+Di],!0)}}}for(var ii=new Uint16Array(Zt),Dn=new DataView(Mt.buffer),xn=0;xn<sn;++xn){it[pe.idx[xn]].decoded=!0;var gi=it[pe.idx[xn]].type;if(it[xn].type==2)for(var En=0;En<nn;++En){const Un=vn[xn][En];for(var Ai=0;Ai<Zt;++Ai)ii[Ai]=Dn.getUint16(Un+Ai*2*gi,!0);for(var Ai=0;Ai<Zt;++Ai)Dn.setFloat32(Un+Ai*2*gi,ot(ii[Ai]),!0)}}}function Pe(pe,Ue,it){for(var wt,Lt=1;Lt<64;)wt=Ue[pe.value],wt==65280?Lt=64:wt>>8==255?Lt+=wt&255:(it[Lt]=wt,Lt++),pe.value++}function We(pe,Ue){Ue[0]=ot(pe[0]),Ue[1]=ot(pe[1]),Ue[2]=ot(pe[5]),Ue[3]=ot(pe[6]),Ue[4]=ot(pe[14]),Ue[5]=ot(pe[15]),Ue[6]=ot(pe[27]),Ue[7]=ot(pe[28]),Ue[8]=ot(pe[2]),Ue[9]=ot(pe[4]),Ue[10]=ot(pe[7]),Ue[11]=ot(pe[13]),Ue[12]=ot(pe[16]),Ue[13]=ot(pe[26]),Ue[14]=ot(pe[29]),Ue[15]=ot(pe[42]),Ue[16]=ot(pe[3]),Ue[17]=ot(pe[8]),Ue[18]=ot(pe[12]),Ue[19]=ot(pe[17]),Ue[20]=ot(pe[25]),Ue[21]=ot(pe[30]),Ue[22]=ot(pe[41]),Ue[23]=ot(pe[43]),Ue[24]=ot(pe[9]),Ue[25]=ot(pe[11]),Ue[26]=ot(pe[18]),Ue[27]=ot(pe[24]),Ue[28]=ot(pe[31]),Ue[29]=ot(pe[40]),Ue[30]=ot(pe[44]),Ue[31]=ot(pe[53]),Ue[32]=ot(pe[10]),Ue[33]=ot(pe[19]),Ue[34]=ot(pe[23]),Ue[35]=ot(pe[32]),Ue[36]=ot(pe[39]),Ue[37]=ot(pe[45]),Ue[38]=ot(pe[52]),Ue[39]=ot(pe[54]),Ue[40]=ot(pe[20]),Ue[41]=ot(pe[22]),Ue[42]=ot(pe[33]),Ue[43]=ot(pe[38]),Ue[44]=ot(pe[46]),Ue[45]=ot(pe[51]),Ue[46]=ot(pe[55]),Ue[47]=ot(pe[60]),Ue[48]=ot(pe[21]),Ue[49]=ot(pe[34]),Ue[50]=ot(pe[37]),Ue[51]=ot(pe[47]),Ue[52]=ot(pe[50]),Ue[53]=ot(pe[56]),Ue[54]=ot(pe[59]),Ue[55]=ot(pe[61]),Ue[56]=ot(pe[35]),Ue[57]=ot(pe[36]),Ue[58]=ot(pe[48]),Ue[59]=ot(pe[49]),Ue[60]=ot(pe[57]),Ue[61]=ot(pe[58]),Ue[62]=ot(pe[62]),Ue[63]=ot(pe[63])}function Le(pe){const Ue=.5*Math.cos(.7853975),it=.5*Math.cos(3.14159/16),wt=.5*Math.cos(3.14159/8),Lt=.5*Math.cos(3*3.14159/16),Mt=.5*Math.cos(5*3.14159/16),Zt=.5*Math.cos(3*3.14159/8),nn=.5*Math.cos(7*3.14159/16);for(var sn=new Array(4),ge=new Array(4),Ye=new Array(4),rt=new Array(4),pt=0;pt<8;++pt){var nt=pt*8;sn[0]=wt*pe[nt+2],sn[1]=Zt*pe[nt+2],sn[2]=wt*pe[nt+6],sn[3]=Zt*pe[nt+6],ge[0]=it*pe[nt+1]+Lt*pe[nt+3]+Mt*pe[nt+5]+nn*pe[nt+7],ge[1]=Lt*pe[nt+1]-nn*pe[nt+3]-it*pe[nt+5]-Mt*pe[nt+7],ge[2]=Mt*pe[nt+1]-it*pe[nt+3]+nn*pe[nt+5]+Lt*pe[nt+7],ge[3]=nn*pe[nt+1]-Mt*pe[nt+3]+Lt*pe[nt+5]-it*pe[nt+7],Ye[0]=Ue*(pe[nt+0]+pe[nt+4]),Ye[3]=Ue*(pe[nt+0]-pe[nt+4]),Ye[1]=sn[0]+sn[3],Ye[2]=sn[1]-sn[2],rt[0]=Ye[0]+Ye[1],rt[1]=Ye[3]+Ye[2],rt[2]=Ye[3]-Ye[2],rt[3]=Ye[0]-Ye[1],pe[nt+0]=rt[0]+ge[0],pe[nt+1]=rt[1]+ge[1],pe[nt+2]=rt[2]+ge[2],pe[nt+3]=rt[3]+ge[3],pe[nt+4]=rt[3]-ge[3],pe[nt+5]=rt[2]-ge[2],pe[nt+6]=rt[1]-ge[1],pe[nt+7]=rt[0]-ge[0]}for(var Ut=0;Ut<8;++Ut)sn[0]=wt*pe[16+Ut],sn[1]=Zt*pe[16+Ut],sn[2]=wt*pe[48+Ut],sn[3]=Zt*pe[48+Ut],ge[0]=it*pe[8+Ut]+Lt*pe[24+Ut]+Mt*pe[40+Ut]+nn*pe[56+Ut],ge[1]=Lt*pe[8+Ut]-nn*pe[24+Ut]-it*pe[40+Ut]-Mt*pe[56+Ut],ge[2]=Mt*pe[8+Ut]-it*pe[24+Ut]+nn*pe[40+Ut]+Lt*pe[56+Ut],ge[3]=nn*pe[8+Ut]-Mt*pe[24+Ut]+Lt*pe[40+Ut]-it*pe[56+Ut],Ye[0]=Ue*(pe[Ut]+pe[32+Ut]),Ye[3]=Ue*(pe[Ut]-pe[32+Ut]),Ye[1]=sn[0]+sn[3],Ye[2]=sn[1]-sn[2],rt[0]=Ye[0]+Ye[1],rt[1]=Ye[3]+Ye[2],rt[2]=Ye[3]-Ye[2],rt[3]=Ye[0]-Ye[1],pe[0+Ut]=rt[0]+ge[0],pe[8+Ut]=rt[1]+ge[1],pe[16+Ut]=rt[2]+ge[2],pe[24+Ut]=rt[3]+ge[3],pe[32+Ut]=rt[3]-ge[3],pe[40+Ut]=rt[2]-ge[2],pe[48+Ut]=rt[1]-ge[1],pe[56+Ut]=rt[0]-ge[0]}function tt(pe){for(var Ue=0;Ue<64;++Ue){var it=pe[0][Ue],wt=pe[1][Ue],Lt=pe[2][Ue];pe[0][Ue]=it+1.5747*Lt,pe[1][Ue]=it-.1873*wt-.4682*Lt,pe[2][Ue]=it+1.8556*wt}}function Ee(pe,Ue,it){for(var wt=0;wt<64;++wt)Ue[it+wt]=Jm.toHalfFloat(et(pe[wt]))}function et(pe){return pe<=1?Math.sign(pe)*Math.pow(Math.abs(pe),2.2):Math.sign(pe)*Math.pow(N,Math.abs(pe)-1)}function me(pe){return new DataView(pe.array.buffer,pe.offset.value,pe.size)}function le(pe){var Ue=pe.viewer.buffer.slice(pe.offset.value,pe.offset.value+pe.size),it=new Uint8Array(K(Ue)),wt=new Uint8Array(it.length);return $e(it),He(it,wt),new DataView(wt.buffer)}function Je(pe){var Ue=pe.array.slice(pe.offset.value,pe.offset.value+pe.size),it=Cw(Ue),wt=new Uint8Array(it.length);return $e(it),He(it,wt),new DataView(wt.buffer)}function P(pe){for(var Ue=pe.viewer,it={value:pe.offset.value},wt=new Uint16Array(pe.width*pe.scanlineBlockSize*(pe.channels*pe.type)),Lt=new Uint8Array(8192),Mt=0,Zt=new Array(pe.channels),nn=0;nn<pe.channels;nn++)Zt[nn]={},Zt[nn].start=Mt,Zt[nn].end=Zt[nn].start,Zt[nn].nx=pe.width,Zt[nn].ny=pe.lines,Zt[nn].size=pe.type,Mt+=Zt[nn].nx*Zt[nn].ny*Zt[nn].size;var sn=Dt(Ue,it),ge=Dt(Ue,it);if(ge>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(sn<=ge)for(var nn=0;nn<ge-sn+1;nn++)Lt[nn+sn]=Fe(Ue,it);var Ye=new Uint16Array(65536),rt=R(Lt,Ye),pt=Oe(Ue,it);Ne(pe.array,Ue,it,pt,wt,Mt);for(var nn=0;nn<pe.channels;++nn)for(var nt=Zt[nn],Ut=0;Ut<Zt[nn].size;++Ut)_e(wt,nt.start+Ut,nt.nx,nt.size,nt.ny,nt.nx*nt.size,rt);ze(Ye,wt,Mt);for(var jt=0,$t=new Uint8Array(wt.buffer.byteLength),on=0;on<pe.lines;on++)for(var dn=0;dn<pe.channels;dn++){var nt=Zt[dn],vn=nt.nx*nt.size,yn=new Uint8Array(wt.buffer,nt.end*2,vn*2);$t.set(yn,jt),jt+=vn*2,nt.end+=vn}return new DataView($t.buffer)}function Z(pe){var Ue=pe.array.slice(pe.offset.value,pe.offset.value+pe.size),it=Cw(Ue);const wt=pe.lines*pe.channels*pe.width,Lt=pe.type==1?new Uint16Array(wt):new Uint32Array(wt);let Mt=0,Zt=0;const nn=new Array(4);for(let sn=0;sn<pe.lines;sn++)for(let ge=0;ge<pe.channels;ge++){let Ye=0;switch(pe.type){case 1:nn[0]=Mt,nn[1]=nn[0]+pe.width,Mt=nn[1]+pe.width;for(let rt=0;rt<pe.width;++rt){const pt=it[nn[0]++]<<8|it[nn[1]++];Ye+=pt,Lt[Zt]=Ye,Zt++}break;case 2:nn[0]=Mt,nn[1]=nn[0]+pe.width,nn[2]=nn[1]+pe.width,Mt=nn[2]+pe.width;for(let rt=0;rt<pe.width;++rt){const pt=it[nn[0]++]<<24|it[nn[1]++]<<16|it[nn[2]++]<<8;Ye+=pt,Lt[Zt]=Ye,Zt++}break}}return new DataView(Lt.buffer)}function se(pe){var Ue=pe.viewer,it={value:pe.offset.value},wt=new Uint8Array(pe.width*pe.lines*(pe.channels*pe.type*2)),Lt={version:Xe(Ue,it),unknownUncompressedSize:Xe(Ue,it),unknownCompressedSize:Xe(Ue,it),acCompressedSize:Xe(Ue,it),dcCompressedSize:Xe(Ue,it),rleCompressedSize:Xe(Ue,it),rleUncompressedSize:Xe(Ue,it),rleRawSize:Xe(Ue,it),totalAcUncompressedCount:Xe(Ue,it),totalDcUncompressedCount:Xe(Ue,it),acCompression:Xe(Ue,it)};if(Lt.version<2)throw"EXRLoader.parse: "+ui.compression+" version "+Lt.version+" is unsupported";for(var Mt=new Array,Zt=Dt(Ue,it)-2;Zt>0;){var nn=we(Ue.buffer,it),sn=Fe(Ue,it),ge=sn>>2&3,Ye=(sn>>4)-1,rt=new Int8Array([Ye])[0],pt=Fe(Ue,it);Mt.push({name:nn,index:rt,type:pt,compression:ge}),Zt-=nn.length+3}for(var nt=ui.channels,Ut=new Array(pe.channels),jt=0;jt<pe.channels;++jt){var $t=Ut[jt]={},on=nt[jt];$t.name=on.name,$t.compression=0,$t.decoded=!1,$t.type=on.pixelType,$t.pLinear=on.pLinear,$t.width=pe.width,$t.height=pe.lines}for(var dn={idx:new Array(3)},vn=0;vn<pe.channels;++vn)for(var $t=Ut[vn],jt=0;jt<Mt.length;++jt){var yn=Mt[jt];$t.name==yn.name&&($t.compression=yn.compression,yn.index>=0&&(dn.idx[yn.index]=vn),$t.offset=vn)}if(Lt.acCompressedSize>0)switch(Lt.acCompression){case 0:var Dn=new Uint16Array(Lt.totalAcUncompressedCount);Ne(pe.array,Ue,it,Lt.acCompressedSize,Dn,Lt.totalAcUncompressedCount);break;case 1:var gn=pe.array.slice(it.value,it.value+Lt.totalAcUncompressedCount),ii=Cw(gn),Dn=new Uint16Array(ii.buffer);it.value+=Lt.totalAcUncompressedCount;break}if(Lt.dcCompressedSize>0){var xn={array:pe.array,offset:it,size:Lt.dcCompressedSize},gi=new Uint16Array(Je(xn).buffer);it.value+=Lt.dcCompressedSize}if(Lt.rleRawSize>0){var gn=pe.array.slice(it.value,it.value+Lt.rleCompressedSize),ii=Cw(gn),En=K(ii.buffer);it.value+=Lt.rleCompressedSize}for(var Ai=0,Un=new Array(Ut.length),jt=0;jt<Un.length;++jt)Un[jt]=new Array;for(var si=0;si<pe.lines;++si)for(var $n=0;$n<Ut.length;++$n)Un[$n].push(Ai),Ai+=Ut[$n].width*pe.type*2;xe(dn,Un,Ut,Dn,gi,wt);for(var jt=0;jt<Ut.length;++jt){var $t=Ut[jt];if(!$t.decoded)switch($t.compression){case 2:for(var Nn=0,kr=0,si=0;si<pe.lines;++si){for(var Ri=Un[jt][Nn],ji=0;ji<$t.width;++ji){for(var Di=0;Di<2*$t.type;++Di)wt[Ri++]=En[kr+Di*$t.width*$t.height];kr++}Nn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(wt.buffer)}function we(pe,Ue){for(var it=new Uint8Array(pe),wt=0;it[Ue.value+wt]!=0;)wt+=1;var Lt=new TextDecoder().decode(it.slice(Ue.value,Ue.value+wt));return Ue.value=Ue.value+wt+1,Lt}function Re(pe,Ue,it){var wt=new TextDecoder().decode(new Uint8Array(pe).slice(Ue.value,Ue.value+it));return Ue.value=Ue.value+it,wt}function Ze(pe,Ue){var it=Me(pe,Ue),wt=Oe(pe,Ue);return[it,wt]}function dt(pe,Ue){var it=Oe(pe,Ue),wt=Oe(pe,Ue);return[it,wt]}function Me(pe,Ue){var it=pe.getInt32(Ue.value,!0);return Ue.value=Ue.value+4,it}function Oe(pe,Ue){var it=pe.getUint32(Ue.value,!0);return Ue.value=Ue.value+4,it}function bt(pe,Ue){var it=pe[Ue.value];return Ue.value=Ue.value+1,it}function Fe(pe,Ue){var it=pe.getUint8(Ue.value);return Ue.value=Ue.value+1,it}const Xe=function(pe,Ue){let it;return"getBigInt64"in DataView.prototype?it=Number(pe.getBigInt64(Ue.value,!0)):it=pe.getUint32(Ue.value+4,!0)+Number(pe.getUint32(Ue.value,!0)<<32),Ue.value+=8,it};function ht(pe,Ue){var it=pe.getFloat32(Ue.value,!0);return Ue.value+=4,it}function Qe(pe,Ue){return Jm.toHalfFloat(ht(pe,Ue))}function ot(pe){var Ue=(pe&31744)>>10,it=pe&1023;return(pe>>15?-1:1)*(Ue?Ue===31?it?NaN:1/0:Math.pow(2,Ue-15)*(1+it/1024):6103515625e-14*(it/1024))}function Dt(pe,Ue){var it=pe.getUint16(Ue.value,!0);return Ue.value+=2,it}function Rt(pe,Ue){return ot(Dt(pe,Ue))}function Et(pe,Ue,it,wt){for(var Lt=it.value,Mt=[];it.value<Lt+wt-1;){var Zt=we(Ue,it),nn=Me(pe,it),sn=Fe(pe,it);it.value+=3;var ge=Me(pe,it),Ye=Me(pe,it);Mt.push({name:Zt,pixelType:nn,pLinear:sn,xSampling:ge,ySampling:Ye})}return it.value+=1,Mt}function Ct(pe,Ue){var it=ht(pe,Ue),wt=ht(pe,Ue),Lt=ht(pe,Ue),Mt=ht(pe,Ue),Zt=ht(pe,Ue),nn=ht(pe,Ue),sn=ht(pe,Ue),ge=ht(pe,Ue);return{redX:it,redY:wt,greenX:Lt,greenY:Mt,blueX:Zt,blueY:nn,whiteX:sn,whiteY:ge}}function an(pe,Ue){var it=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],wt=Fe(pe,Ue);return it[wt]}function pn(pe,Ue){var it=Oe(pe,Ue),wt=Oe(pe,Ue),Lt=Oe(pe,Ue),Mt=Oe(pe,Ue);return{xMin:it,yMin:wt,xMax:Lt,yMax:Mt}}function Xn(pe,Ue){var it=["INCREASING_Y"],wt=Fe(pe,Ue);return it[wt]}function Vn(pe,Ue){var it=ht(pe,Ue),wt=ht(pe,Ue);return[it,wt]}function Be(pe,Ue){var it=ht(pe,Ue),wt=ht(pe,Ue),Lt=ht(pe,Ue);return[it,wt,Lt]}function Ke(pe,Ue,it,wt,Lt){if(wt==="string"||wt==="stringvector"||wt==="iccProfile")return Re(Ue,it,Lt);if(wt==="chlist")return Et(pe,Ue,it,Lt);if(wt==="chromaticities")return Ct(pe,it);if(wt==="compression")return an(pe,it);if(wt==="box2i")return pn(pe,it);if(wt==="lineOrder")return Xn(pe,it);if(wt==="float")return ht(pe,it);if(wt==="v2f")return Vn(pe,it);if(wt==="v3f")return Be(pe,it);if(wt==="int")return Me(pe,it);if(wt==="rational")return Ze(pe,it);if(wt==="timecode")return dt(pe,it);if(wt==="preview")return it.value+=Lt,"skipped";it.value+=Lt}function tn(pe,Ue,it){const wt={};if(pe.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";wt.version=pe.getUint8(4);const Lt=pe.getUint8(5);wt.spec={singleTile:!!(Lt&2),longName:!!(Lt&4),deepFormat:!!(Lt&8),multiPart:!!(Lt&16)},it.value=8;for(var Mt=!0;Mt;){var Zt=we(Ue,it);if(Zt==0)Mt=!1;else{var nn=we(Ue,it),sn=Oe(pe,it),ge=Ke(pe,Ue,it,nn,sn);ge===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${nn}'.`):wt[Zt]=ge}}if((Lt&-5)!=0)throw console.error("EXRHeader:",wt),"THREE.EXRLoader: provided file is currently unsupported.";return wt}function cn(pe,Ue,it,wt,Lt){const Mt={size:0,viewer:Ue,array:it,offset:wt,width:pe.dataWindow.xMax-pe.dataWindow.xMin+1,height:pe.dataWindow.yMax-pe.dataWindow.yMin+1,channels:pe.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:pe.channels[0].pixelType,uncompress:null,getter:null,format:null,[Vv?"colorSpace":"encoding"]:null};switch(pe.compression){case"NO_COMPRESSION":Mt.lines=1,Mt.uncompress=me;break;case"RLE_COMPRESSION":Mt.lines=1,Mt.uncompress=le;break;case"ZIPS_COMPRESSION":Mt.lines=1,Mt.uncompress=Je;break;case"ZIP_COMPRESSION":Mt.lines=16,Mt.uncompress=Je;break;case"PIZ_COMPRESSION":Mt.lines=32,Mt.uncompress=P;break;case"PXR24_COMPRESSION":Mt.lines=16,Mt.uncompress=Z;break;case"DWAA_COMPRESSION":Mt.lines=32,Mt.uncompress=se;break;case"DWAB_COMPRESSION":Mt.lines=256,Mt.uncompress=se;break;default:throw"EXRLoader.parse: "+pe.compression+" is unsupported"}if(Mt.scanlineBlockSize=Mt.lines,Mt.type==1)switch(Lt){case Ks:Mt.getter=Rt,Mt.inputSize=2;break;case Ja:Mt.getter=Dt,Mt.inputSize=2;break}else if(Mt.type==2)switch(Lt){case Ks:Mt.getter=ht,Mt.inputSize=4;break;case Ja:Mt.getter=Qe,Mt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Mt.type+" for "+pe.compression+".";Mt.blockCount=(pe.dataWindow.yMax+1)/Mt.scanlineBlockSize;for(var Zt=0;Zt<Mt.blockCount;Zt++)Xe(Ue,wt);Mt.outputChannels=Mt.channels==3?4:Mt.channels;const nn=Mt.width*Mt.height*Mt.outputChannels;switch(Lt){case Ks:Mt.byteArray=new Float32Array(nn),Mt.channels<Mt.outputChannels&&Mt.byteArray.fill(1,0,nn);break;case Ja:Mt.byteArray=new Uint16Array(nn),Mt.channels<Mt.outputChannels&&Mt.byteArray.fill(15360,0,nn);break;default:console.error("THREE.EXRLoader: unsupported type: ",Lt);break}return Mt.bytesPerLine=Mt.width*Mt.inputSize*Mt.channels,Mt.outputChannels==4?Mt.format=Ha:Mt.format=Lx,Vv?Mt.colorSpace="srgb-linear":Mt.encoding=3e3,Mt}const An=new DataView(e),On=new Uint8Array(e),li={value:0},ui=tn(An,e,li),Pn=cn(ui,An,On,li,this.type),er={value:0},Gn={R:0,G:1,B:2,A:3,Y:0};for(let pe=0;pe<Pn.height/Pn.scanlineBlockSize;pe++){const Ue=Oe(An,li);Pn.size=Oe(An,li),Pn.lines=Ue+Pn.scanlineBlockSize>Pn.height?Pn.height-Ue:Pn.scanlineBlockSize;const wt=Pn.size<Pn.lines*Pn.bytesPerLine?Pn.uncompress(Pn):me(Pn);li.value+=Pn.size;for(let Lt=0;Lt<Pn.scanlineBlockSize;Lt++){const Mt=Lt+pe*Pn.scanlineBlockSize;if(Mt>=Pn.height)break;for(let Zt=0;Zt<Pn.channels;Zt++){const nn=Gn[ui.channels[Zt].name];for(let sn=0;sn<Pn.width;sn++){er.value=(Lt*(Pn.channels*Pn.width)+Zt*Pn.width+sn)*Pn.inputSize;const ge=(Pn.height-1-Mt)*(Pn.width*Pn.outputChannels)+sn*Pn.outputChannels+nn;Pn.byteArray[ge]=Pn.getter(wt,er)}}}}return{header:ui,width:Pn.width,height:Pn.height,data:Pn.byteArray,format:Pn.format,[Vv?"colorSpace":"encoding"]:Pn[Vv?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(a,o){Vv?a.colorSpace=o.colorSpace:a.encoding=o.encoding,a.minFilter=ur,a.magFilter=ur,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,o)}return super.load(e,s,i,r)}}function zre(n,e,t){const i=Uo(d=>d.size),r=Uo(d=>d.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:l=0,depth:c,...A}=o,f=c??o.depthBuffer,p=ct.useMemo(()=>{const d=new Eu(s,a,{minFilter:ur,magFilter:ur,type:Ja,...A});return f&&(d.depthTexture=new rE(s,a,Ks)),d.samples=l,d},[]);return ct.useLayoutEffect(()=>{p.setSize(s,a),l&&(p.samples=l)},[l,p,s,a]),ct.useEffect(()=>()=>p.dispose(),[]),p}const jre=n=>typeof n=="function",Vre=ct.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...s},a)=>{const o=Uo(({set:w})=>w),l=Uo(({camera:w})=>w),c=Uo(({size:w})=>w),A=ct.useRef(null);ct.useImperativeHandle(a,()=>A.current,[]);const f=ct.useRef(null),p=zre(e);ct.useLayoutEffect(()=>{s.manual||(A.current.aspect=c.width/c.height)},[c,s]),ct.useLayoutEffect(()=>{A.current.updateProjectionMatrix()});let d=0,y=null;const x=jre(r);return DU(w=>{x&&(t===1/0||d<t)&&(f.current.visible=!1,w.gl.setRenderTarget(p),y=w.scene.background,n&&(w.scene.background=n),w.gl.render(w.scene,A.current),w.scene.background=y,w.gl.setRenderTarget(null),f.current.visible=!0,d++)}),ct.useLayoutEffect(()=>{if(i){const w=l;return o(()=>({camera:A.current})),()=>o(()=>({camera:w}))}},[A,i,o]),ct.createElement(ct.Fragment,null,ct.createElement("perspectiveCamera",fx({ref:A},s),!x&&r),ct.createElement("group",{ref:f},x&&r(p.texture)))}),Gre=ct.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},A)=>{const f=Uo(M=>M.invalidate),p=Uo(M=>M.camera),d=Uo(M=>M.gl),y=Uo(M=>M.events),x=Uo(M=>M.setEvents),w=Uo(M=>M.set),b=Uo(M=>M.get),_=Uo(M=>M.performance),E=e||p,C=i||y.connected||d.domElement,T=ct.useMemo(()=>new kre(E),[E]);return DU(()=>{T.enabled&&T.update()},-1),ct.useEffect(()=>(s&&T.connect(s===!0?C:s),T.connect(C),()=>void T.dispose()),[s,C,t,T,f]),ct.useEffect(()=>{const M=N=>{f(),t&&_.regress(),a&&a(N)},F=N=>{o&&o(N)},L=N=>{l&&l(N)};return T.addEventListener("change",M),T.addEventListener("start",F),T.addEventListener("end",L),()=>{T.removeEventListener("start",F),T.removeEventListener("end",L),T.removeEventListener("change",M)}},[a,o,l,T,f,x]),ct.useEffect(()=>{if(n){const M=b().controls;return w({controls:T}),()=>w({controls:M})}},[n,T]),ct.createElement("primitive",fx({ref:A,object:T,enableDamping:r},c))}),Kre="modulepreload",qre=function(n){return"/motor_monitoring/"+n},qR={},HC=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(A=>Promise.resolve(A).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");r=l(t.map(c=>{if(c=qre(c),c in qR)return;qR[c]=!0;const A=c.endsWith(".css"),f=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=A?"stylesheet":Kre,A||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),A)return new Promise((d,y)=>{p.addEventListener("load",d),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},C7=(n,e,t)=>{let i;switch(n){case ac:i=new Uint8ClampedArray(e*t*4);break;case Ja:i=new Uint16Array(e*t*4);break;case $f:i=new Uint32Array(e*t*4);break;case QS:i=new Int8Array(e*t*4);break;case zS:i=new Int16Array(e*t*4);break;case Ix:i=new Int32Array(e*t*4);break;case Ks:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let Tw;const Wre=(n,e,t,i)=>{if(Tw!==void 0)return Tw;const r=new Eu(1,1,i);e.setRenderTarget(r);const s=new sa(new jp,new jc({color:16777215}));e.render(s,t),e.setRenderTarget(null);const a=C7(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,a),r.dispose(),s.geometry.dispose(),s.material.dispose(),Tw=a[0]!==0,Tw};class PU{constructor(e){var t,i,r,s,a,o,l,c,A,f,p,d,y,x,w,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(E){throw this._renderer.setRenderTarget(null),E}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const _={format:Ha,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:ur,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:ur,samples:((A=e.renderTargetOptions)===null||A===void 0?void 0:A.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS:ia,wrapT:((y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT)!==void 0?(x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT:ia};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=PU.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Ox,this._camera=new Yf,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Wre(this._type,this._renderer,this._camera,_)){let E;switch(this._type){case Ja:E=this._renderer.extensions.has("EXT_color_buffer_float")?Ks:void 0;break}E!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ks}`),this._type=E):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new sa(new jp,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Eu(this.width,this.height,_),this._renderTarget.texture.mapping=((w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping:Np}static instantiateRenderer(){const e=new UU;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=C7(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new lA(this.toArray(),this.width,this.height,Ha,this._type,e?.mapping||Np,e?.wrapS||ia,e?.wrapT||ia,e?.magFilter||ur,e?.minFilter||ur,e?.anisotropy||1,$a);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof oc&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Kr&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Kr&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Xre=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Yre=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Zre extends oc{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:s,maxDisplayBoost:a,hdrCapacityMin:o,hdrCapacityMax:l,sdr:c,gainMap:A}){super({name:"GainMapDecoderMaterial",vertexShader:Xre,fragmentShader:Yre,uniforms:{sdr:{value:c},gainMap:{value:A},gamma:{value:new je(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new je().fromArray(t)},offsetSdr:{value:new je().fromArray(i)},gainMapMin:{value:new je().fromArray(r)},gainMapMax:{value:new je().fromArray(s)},weightFactor:{value:(Math.log2(a)-o)/(l-o)}},blending:YA,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class M7 extends Error{}class T7 extends Error{}const Gv=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(r){const s=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},Jre=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),r=e.slice(t,i+10);try{const s=Gv(r,"hdrgm:GainMapMin","0"),a=Gv(r,"hdrgm:GainMapMax"),o=Gv(r,"hdrgm:Gamma","1"),l=Gv(r,"hdrgm:OffsetSDR","0.015625"),c=Gv(r,"hdrgm:OffsetHDR","0.015625"),A=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),f=A?A[1]:"0",p=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!p)throw new Error("Incomplete gainmap metadata");const d=p[1];return{gainMapMin:Array.isArray(s)?s.map(y=>parseFloat(y)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(y=>parseFloat(y)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(y=>parseFloat(y)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(y=>parseFloat(y)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(y=>parseFloat(y)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(d)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class $re{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const a=s.byteLength;let o=2,l=0,c;for(;o<a;){if(++l>250){i(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(o)!==255){i(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(c=s.getUint8(o+1),r&&console.log(`Marker: ${c.toString(16)}`),c===226){r&&console.log("Found APP2 marker (0xffe2)");const A=o+4;if(s.getUint32(A)===1297106432){const f=A+4;let p;if(s.getUint16(f)===18761)p=!1;else if(s.getUint16(f)===19789)p=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(f+2,!p)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const d=s.getUint32(f+4,!p);if(d<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const y=f+d,x=s.getUint16(y,!p),w=y+2;let b=0;for(let T=w;T<w+12*x;T+=12)s.getUint16(T,!p)===45057&&(b=s.getUint32(T+8,!p));const E=y+2+x*12+4,C=[];for(let T=E;T<E+b*16;T+=16){const M={MPType:s.getUint32(T,!p),size:s.getUint32(T+4,!p),dataOffset:s.getUint32(T+8,!p),dependantImages:s.getUint32(T+12,!p),start:-1,end:-1,isFII:!1};M.dataOffset?(M.start=f+M.dataOffset,M.isFII=!1):(M.start=0,M.isFII=!0),M.end=M.start+M.size,C.push(M)}if(this.options.extractNonFII&&C.length){const T=new Blob([s]),M=[];for(const F of C){if(F.isFII&&!this.options.extractFII)continue;const L=T.slice(F.start,F.end+1,"image/jpeg");M.push(L)}t(M)}}}o+=2+s.getUint16(o+2)}})}}const ese=async n=>{const e=Jre(n);if(!e)throw new T7("Gain map XMP metadata not found");const i=await new $re({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new M7("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},WR=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class U7 extends Nl{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new gE}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Zre({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Kr,sdr:new Kr});return new PU({width:16,height:16,type:Ja,colorSpace:$a,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([i],{type:"image/jpeg"});let o,l,c=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([s?WR(s):Promise.resolve(void 0),WR(a)]);l=p[0],o=p[1],c=!0}else{const p=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=p[0],o=p[1]}const A=new Kr(l||new ImageData(2,2),Np,ia,ia,ur,oT,Ha,ac,1,$a);A.flipY=c,A.needsUpdate=!0;const f=new Kr(o,Np,ia,ia,ur,oT,Ha,ac,1,wa);f.flipY=c,f.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=A,e.material.sdr=f,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class tse extends U7{load([e,t,i],r,s,a){const o=this.prepareQuadRenderer();let l,c,A;const f=async()=>{if(l&&c&&A){try{await this.render(o,A,l,c)}catch(N){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof a=="function"&&a(N),o.disposeOnDemandRenderer();return}typeof r=="function"&&r(o),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),o.disposeOnDemandRenderer()}};let p=!0,d=0,y=0,x=!0,w=0,b=0,_=!0,E=0,C=0;const T=()=>{if(typeof s=="function"){const N=d+w+E,R=y+b+C,k=p&&x&&_;s(new ProgressEvent("progress",{lengthComputable:k,loaded:R,total:N}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const M=new sc(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(e,async N=>{if(typeof N=="string")throw new Error("Invalid sdr buffer");l=N,await f()},N=>{p=N.lengthComputable,y=N.loaded,d=N.total,T()},N=>{this.manager.itemError(e),typeof a=="function"&&a(N)});const F=new sc(this._internalLoadingManager);F.setResponseType("arraybuffer"),F.setRequestHeader(this.requestHeader),F.setPath(this.path),F.setWithCredentials(this.withCredentials),F.load(t,async N=>{if(typeof N=="string")throw new Error("Invalid gainmap buffer");c=N,await f()},N=>{x=N.lengthComputable,b=N.loaded,w=N.total,T()},N=>{this.manager.itemError(t),typeof a=="function"&&a(N)});const L=new sc(this._internalLoadingManager);return L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(this.withCredentials),L.load(i,async N=>{if(typeof N!="string")throw new Error("Invalid metadata string");A=JSON.parse(N),await f()},N=>{_=N.lengthComputable,C=N.loaded,E=N.total,T()},N=>{this.manager.itemError(i),typeof a=="function"&&a(N)}),o}}class nse extends U7{load(e,t,i,r){const s=this.prepareQuadRenderer(),a=new sc(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let c,A,f;try{const p=await ese(l);c=p.sdr,A=p.gainMap,f=p.metadata}catch(p){if(p instanceof T7||p instanceof M7)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw p}try{await this.render(s,f,c,A)}catch(p){this.manager.itemError(e),typeof r=="function"&&r(p),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},i,o=>{this.manager.itemError(e),typeof r=="function"&&r(o)}),s}}const hx={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},N7="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",cy=n=>Array.isArray(n),kU=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function wE({files:n=kU,path:e="",preset:t=void 0,colorSpace:i=void 0,extensions:r}={}){t&&(HU(t),n=hx[t],e=N7);const s=cy(n),{extension:a,isCubemap:o}=QU(n),l=zU(a);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=Uo(d=>d.gl);ct.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function d(){bg.clear(l,s?[n]:n)}c.domElement.addEventListener("webglcontextlost",d,{once:!0})},[n,c.domElement]);const A=bg(l,s?[n]:n,d=>{(a==="webp"||a==="jpg"||a==="jpeg")&&d.setRenderer(c),d.setPath==null||d.setPath(e),r&&r(d)});let f=s?A[0]:A;if(a==="jpg"||a==="jpeg"||a==="webp"){var p;f=(p=f.renderTarget)==null?void 0:p.texture}return f.mapping=o?Jf:xy,f.colorSpace=i??(o?"srgb":"srgb-linear"),f}const ise={files:kU,path:"",preset:void 0,extensions:void 0};wE.preload=n=>{const e={...ise,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:s}=e;r&&(HU(r),t=hx[r],i=N7);const{extension:a}=QU(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=zU(a);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);bg.preload(o,cy(t)?[t]:t,l=>{l.setPath==null||l.setPath(i),s&&s(l)})};const rse={files:kU,preset:void 0};wE.clear=n=>{const e={...rse,...n};let{files:t}=e;const{preset:i}=e;i&&(HU(i),t=hx[i]);const{extension:r}=QU(t),s=zU(r);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);bg.clear(s,cy(t)?[t]:t)};function HU(n){if(!(n in hx))throw new Error("Preset must be one of: "+Object.keys(hx).join(", "))}function QU(n){var e;const t=cy(n)&&n.length===6,i=cy(n)&&n.length===3&&n.some(a=>a.endsWith("json")),r=cy(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function zU(n){return n==="cube"?FQ:n==="hdr"?Hre:n==="exr"?Qre:n==="jpg"||n==="jpeg"?nse:n==="webp"?tse:null}const sse=n=>n.current&&n.current.isScene,ase=n=>sse(n)?n.current:n;function jU(n,e,t,i,r={}){var s,a,o,l;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const c=ase(e||t),A=c.background,f=c.environment,p={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(a=c.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(o=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return n!=="only"&&(c.environment=i),n&&(c.background=i),jf(c,r),()=>{n!=="only"&&(c.environment=f),n&&(c.background=A),jf(c,p)}}function VU({scene:n,background:e=!1,map:t,...i}){const r=Uo(s=>s.scene);return ct.useLayoutEffect(()=>{if(t)return jU(e,n,r,t,i)}),null}function F7({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:o,...l}){const c=wE(l),A=Uo(f=>f.scene);return ct.useLayoutEffect(()=>jU(n,e,A,c,{backgroundBlurriness:t??i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:o})),ct.useEffect(()=>()=>{c.dispose()},[c]),null}function ose({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:a=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:A,environmentIntensity:f,environmentRotation:p,scene:d,files:y,path:x,preset:w=void 0,extensions:b}){const _=Uo(L=>L.gl),E=Uo(L=>L.scene),C=ct.useRef(null),[T]=ct.useState(()=>new Ox),M=ct.useMemo(()=>{const L=new eU(i);return L.texture.type=Ja,L},[i]);ct.useEffect(()=>()=>{M.dispose()},[M]),ct.useLayoutEffect(()=>{if(r===1){const L=_.autoClear;_.autoClear=!0,C.current.update(_,T),_.autoClear=L}return jU(a,d,E,M.texture,{backgroundBlurriness:o??l,backgroundIntensity:c,backgroundRotation:A,environmentIntensity:f,environmentRotation:p})},[n,T,M.texture,d,E,a,r,_]);let F=1;return DU(()=>{if(r===1/0||F<r){const L=_.autoClear;_.autoClear=!0,C.current.update(_,T),_.autoClear=L,F++}}),ct.createElement(ct.Fragment,null,rre(ct.createElement(ct.Fragment,null,n,ct.createElement("cubeCamera",{ref:C,args:[e,t,M]}),y||w?ct.createElement(F7,{background:!0,files:y,preset:w,path:x,extensions:b}):s?ct.createElement(VU,{background:!0,map:s,extensions:b}):null),T))}function lse(n){var e,t,i,r;const s=wE(n),a=n.map||s;ct.useMemo(()=>h7({GroundProjectedEnvImpl:Nre}),[]),ct.useEffect(()=>()=>{s.dispose()},[s]);const o=ct.useMemo(()=>[a],[a]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,A=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return ct.createElement(ct.Fragment,null,ct.createElement(VU,fx({},n,{map:a})),ct.createElement("groundProjectedEnvImpl",{args:o,scale:A,height:l,radius:c}))}function cse(n){return n.ground?ct.createElement(lse,n):n.map?ct.createElement(VU,n):n.children?ct.createElement(ose,n):ct.createElement(F7,n)}function XR(n,e){if(e===OH)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===$_||e===W4){let t=n.getIndex();if(t===null){const a=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===$_)for(let a=1;a<=i;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class use extends Nl{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new pse(t)}),this.register(function(t){return new mse(t)}),this.register(function(t){return new Ese(t)}),this.register(function(t){return new Bse(t)}),this.register(function(t){return new Cse(t)}),this.register(function(t){return new yse(t)}),this.register(function(t){return new vse(t)}),this.register(function(t){return new xse(t)}),this.register(function(t){return new bse(t)}),this.register(function(t){return new dse(t)}),this.register(function(t){return new wse(t)}),this.register(function(t){return new gse(t)}),this.register(function(t){return new Sse(t)}),this.register(function(t){return new _se(t)}),this.register(function(t){return new fse(t)}),this.register(function(t){return new Mse(t)}),this.register(function(t){return new Tse(t)})}load(e,t,i,r){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=Cp.extractUrlBase(e);a=Cp.resolveURL(c,this.path)}else a=Cp.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new sc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(A){t(A),s.manager.itemEnd(e)},o)}catch(A){o(A)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const a={},o={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===I7){try{a[$i.KHR_BINARY_GLTF]=new Use(e)}catch(f){r&&r(f);return}s=JSON.parse(a[$i.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new jse(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let A=0;A<this.pluginCallbacks.length;A++){const f=this.pluginCallbacks[A](c);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[f.name]=f,a[f.name]=!0}if(s.extensionsUsed)for(let A=0;A<s.extensionsUsed.length;++A){const f=s.extensionsUsed[A],p=s.extensionsRequired||[];switch(f){case $i.KHR_MATERIALS_UNLIT:a[f]=new hse;break;case $i.KHR_DRACO_MESH_COMPRESSION:a[f]=new Nse(s,this.dracoLoader);break;case $i.KHR_TEXTURE_TRANSFORM:a[f]=new Fse;break;case $i.KHR_MESH_QUANTIZATION:a[f]=new Ise;break;default:p.indexOf(f)>=0&&o[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Ase(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const $i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class fse{constructor(e){this.parser=e,this.name=$i.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const A=new bn(16777215);l.color!==void 0&&A.setRGB(l.color[0],l.color[1],l.color[2],$a);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new wU(A),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new bU(A),c.distance=f;break;case"spot":c=new xU(A),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),Pf(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return i._getNodeRef(t.cache,o,l)})}}class hse{constructor(){this.name=$i.KHR_MATERIALS_UNLIT}getMaterialType(){return jc}extendParams(e,t,i){const r=[];e.color=new bn(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],$a),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,wa))}return Promise.all(r)}}class dse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class pse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Xt(o,o)}return Promise.all(s)}}class mse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class gse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class yse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new bn(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],$a)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,wa)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class vse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class xse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new bn().setRGB(o[0],o[1],o[2],$a),Promise.all(s)}}class bse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class wse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new bn().setRGB(o[0],o[1],o[2],$a),a.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,wa)),Promise.all(s)}}class _se{constructor(e){this.parser=e,this.name=$i.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class Sse{constructor(e){this.parser=e,this.name=$i.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:AA}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class Ese{constructor(e){this.parser=e,this.name=$i.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class Bse{constructor(e){this.parser=e,this.name=$i.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=r.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return i.loadTextureImage(e,a.source,l)}}class Cse{constructor(e){this.parser=e,this.name=$i.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=r.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return i.loadTextureImage(e,a.source,l)}}class Mse{constructor(e){this.name=$i.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=r.byteOffset||0,c=r.byteLength||0,A=r.count,f=r.byteStride,p=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(A,f,p,r.mode,r.filter).then(function(d){return d.buffer}):a.ready.then(function(){const d=new ArrayBuffer(A*f);return a.decodeGltfBuffer(new Uint8Array(d),A,f,p,r.mode,r.filter),d})})}else return null}}class Tse{constructor(e){this.name=$i.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Zu.TRIANGLES&&c.mode!==Zu.TRIANGLE_STRIP&&c.mode!==Zu.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=i.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(A=>(l[c]=A,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const A=c.pop(),f=A.isGroup?A.children:[A],p=c[0].count,d=[];for(const y of f){const x=new oi,w=new je,b=new Fo,_=new je(1,1,1),E=new iU(y.geometry,y.material,p);for(let C=0;C<p;C++)l.TRANSLATION&&w.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&b.fromBufferAttribute(l.ROTATION,C),l.SCALE&&_.fromBufferAttribute(l.SCALE,C),E.setMatrixAt(C,x.compose(w,b,_));for(const C in l)if(C==="_COLOR_0"){const T=l[C];E.instanceColor=new mg(T.array,T.itemSize,T.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&y.geometry.setAttribute(C,l[C]);gr.prototype.copy.call(E,y),this.parser.assignFinalMaterial(E),d.push(E)}return A.isGroup?(A.clear(),A.add(...d),A):d[0]}))}}const I7="glTF",Kv=12,YR={JSON:1313821514,BIN:5130562};class Use{constructor(e){this.name=$i.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Kv),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==I7)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Kv,s=new DataView(e,Kv);let a=0;for(;a<r;){const o=s.getUint32(a,!0);a+=4;const l=s.getUint32(a,!0);if(a+=4,l===YR.JSON){const c=new Uint8Array(e,Kv+a,o);this.content=i.decode(c)}else if(l===YR.BIN){const c=Kv+a;this.body=e.slice(c,c+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Nse{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$i.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const A in a){const f=BT[A]||A.toLowerCase();o[f]=a[A]}for(const A in e.attributes){const f=BT[A]||A.toLowerCase();if(a[A]!==void 0){const p=i.accessors[e.attributes[A]],d=uy[p.componentType];c[f]=d.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(A){return new Promise(function(f,p){r.decodeDracoFile(A,function(d){for(const y in d.attributes){const x=d.attributes[y],w=l[y];w!==void 0&&(x.normalized=w)}f(d)},o,c,$a,p)})})}}class Fse{constructor(){this.name=$i.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Ise{constructor(){this.name=$i.KHR_MESH_QUANTIZATION}}class L7 extends qy{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)t[a]=i[s+a];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,A=r-t,f=(i-t)/A,p=f*f,d=p*f,y=e*c,x=y-c,w=-2*d+3*p,b=d-p,_=1-w,E=b-p+f;for(let C=0;C!==o;C++){const T=a[x+C+o],M=a[x+C+l]*A,F=a[y+C+o],L=a[y+C]*A;s[C]=_*T+E*M+w*F+b*L}return s}}const Lse=new Fo;class Rse extends L7{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Lse.fromArray(s).normalize().toArray(s),s}}const Zu={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},uy={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ZR={9728:fo,9729:ur,9984:HS,9985:oy,9986:Xm,9987:iA},JR={33071:ia,33648:by,10497:Ip},QC={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},sp={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Dse={CUBICSPLINE:void 0,LINEAR:Cy,STEP:By},zC={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ose(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Gx({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zf})),n.DefaultMaterial}function Im(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Pf(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Pse(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,A=e.length;c<A;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const a=[],o=[],l=[];for(let c=0,A=e.length;c<A;c++){const f=e[c];if(i){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;a.push(p)}if(r){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;o.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const A=c[0],f=c[1],p=c[2];return i&&(n.morphAttributes.position=A),r&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function kse(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Hse(n){let e;const t=n.extensions&&n.extensions[$i.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+jC(t.attributes):e=n.indices+":"+jC(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+jC(n.targets[i]);return e}function jC(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function CT(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Qse(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":n.search(/\.ktx2($|\?)/i)>0||n.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const zse=new oi;class jse{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ase,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=-1,s=!1,a=-1;if(typeof navigator<"u"){const o=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(o)===!0;const l=o.match(/Version\/(\d+)/);r=i&&l?parseInt(l[1],10):-1,s=o.indexOf("Firefox")>-1,a=s?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&r<17||s&&a<98?this.textureLoader=new IQ(this.options.manager):this.textureLoader=new QQ(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new sc(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};return Im(s,o,r),Pf(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const a=t[r].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,A]of a.children.entries())s(A,o.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[$i.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){i.load(Cp.resolveURL(t.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=QC[r.type],o=uy[r.componentType],l=r.normalized===!0,c=new o(r.count*a);return Promise.resolve(new Pr(c,a,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=QC[r.type],c=uy[r.componentType],A=c.BYTES_PER_ELEMENT,f=A*l,p=r.byteOffset||0,d=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let x,w;if(d&&d!==f){const b=Math.floor(p/d),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+b+":"+r.count;let E=t.cache.get(_);E||(x=new c(o,b*d,r.count*d/A),E=new Px(x,d/A),t.cache.add(_,E)),w=new Rp(E,l,p%d/A,y)}else o===null?x=new c(r.count*l):x=new c(o,p,r.count*l),w=new Pr(x,l,y);if(r.sparse!==void 0){const b=QC.SCALAR,_=uy[r.sparse.indices.componentType],E=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,T=new _(a[1],E,r.sparse.count*b),M=new c(a[2],C,r.sparse.count*l);o!==null&&(w=new Pr(w.array.slice(),w.itemSize,w.normalized)),w.normalized=!1;for(let F=0,L=T.length;F<L;F++){const N=T[F];if(w.setX(N,M[F*l]),l>=2&&w.setY(N,M[F*l+1]),l>=3&&w.setZ(N,M[F*l+2]),l>=4&&w.setW(N,M[F*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}w.normalized=y}return w})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,a=t.images[s];let o=this.textureLoader;if(a.uri){const l=i.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,i){const r=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(A){A.flipY=!1,A.name=a.name||o.name||"",A.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(A.name=o.uri);const p=(s.samplers||{})[a.sampler]||{};return A.magFilter=ZR[p.magFilter]||ur,A.minFilter=ZR[p.minFilter]||iA,A.wrapS=JR[p.wrapS]||Ip,A.wrapT=JR[p.wrapT]||Ip,A.generateMipmaps=!A.isCompressedTexture&&A.minFilter!==fo&&A.minFilter!==ur,r.associations.set(A,{textures:e}),A}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const a=r.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:a.mimeType});return l=o.createObjectURL(p),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const A=Promise.resolve(l).then(function(f){return new Promise(function(p,d){let y=p;t.isImageBitmapLoader===!0&&(y=function(x){const w=new Kr(x);w.needsUpdate=!0,p(w)}),t.load(Cp.resolveURL(f,s.path),y,void 0,d)})}).then(function(f){return c===!0&&o.revokeObjectURL(l),Pf(f,a),f.userData.mimeType=a.mimeType||Qse(a.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=A,A}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),s.extensions[$i.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[$i.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[$i.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return r!==void 0&&(a.colorSpace=r),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new nE,ho.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new Ul,ho.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||s||a){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Gx}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let a;const o={},l=s.extensions||{},c=[];if(l[$i.KHR_MATERIALS_UNLIT]){const f=r[$i.KHR_MATERIALS_UNLIT];a=f.getMaterialType(),c.push(f.extendParams(o,s,t))}else{const f=s.pbrMetallicRoughness||{};if(o.color=new bn(1,1,1),o.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;o.color.setRGB(p[0],p[1],p[2],$a),o.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",f.baseColorTexture,wa)),o.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,o.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",f.metallicRoughnessTexture))),a=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=tA);const A=s.alphaMode||zC.OPAQUE;if(A===zC.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,A===zC.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==jc&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Xt(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;o.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&a!==jc&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==jc){const f=s.emissiveFactor;o.emissive=new bn().setRGB(f[0],f[1],f[2],$a)}return s.emissiveTexture!==void 0&&a!==jc&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,wa)),Promise.all(c).then(function(){const f=new a(o);return s.name&&(f.name=s.name),Pf(f,s),t.associations.set(f,{materials:e}),s.extensions&&Im(r,f,s),f})}createUniqueName(e){const t=yr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(o){return i[$i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return $R(l,o,t)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],A=Hse(c),f=r[A];if(f)a.push(f.promise);else{let p;c.extensions&&c.extensions[$i.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=$R(new Ti,c,t),r[A]={primitive:c,promise:p},a.push(p)}}return Promise.all(a)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const A=a[l].material===void 0?Ose(this.cache):this.getDependency("material",a[l].material);o.push(A)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),A=l[l.length-1],f=[];for(let d=0,y=A.length;d<y;d++){const x=A[d],w=a[d];let b;const _=c[d];if(w.mode===Zu.TRIANGLES||w.mode===Zu.TRIANGLE_STRIP||w.mode===Zu.TRIANGLE_FAN||w.mode===void 0)b=s.isSkinnedMesh===!0?new nU(x,_):new sa(x,_),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),w.mode===Zu.TRIANGLE_STRIP?b.geometry=XR(b.geometry,W4):w.mode===Zu.TRIANGLE_FAN&&(b.geometry=XR(b.geometry,$_));else if(w.mode===Zu.LINES)b=new ef(x,_);else if(w.mode===Zu.LINE_STRIP)b=new fd(x,_);else if(w.mode===Zu.LINE_LOOP)b=new rU(x,_);else if(w.mode===Zu.POINTS)b=new sU(x,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+w.mode);Object.keys(b.geometry.morphAttributes).length>0&&kse(b,s),b.name=t.createUniqueName(s.name||"mesh_"+e),Pf(b,s),w.extensions&&Im(r,b,w),t.assignFinalMaterial(b),f.push(b)}for(let d=0,y=f.length;d<y;d++)t.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return s.extensions&&Im(r,f[0],s),f[0];const p=new ad;s.extensions&&Im(r,p,s),t.associations.set(p,{meshes:e});for(let d=0,y=f.length;d<y;d++)p.add(f[d]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new _a(YH.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Yf(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Pf(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),a=r,o=[],l=[];for(let c=0,A=a.length;c<A;c++){const f=a[c];if(f){o.push(f);const p=new oi;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new kx(o,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],o=[],l=[],c=[],A=[];for(let f=0,p=r.channels.length;f<p;f++){const d=r.channels[f],y=r.samplers[d.sampler],x=d.target,w=x.node,b=r.parameters!==void 0?r.parameters[y.input]:y.input,_=r.parameters!==void 0?r.parameters[y.output]:y.output;x.node!==void 0&&(a.push(this.getDependency("node",w)),o.push(this.getDependency("accessor",b)),l.push(this.getDependency("accessor",_)),c.push(y),A.push(x))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(A)]).then(function(f){const p=f[0],d=f[1],y=f[2],x=f[3],w=f[4],b=[];for(let E=0,C=p.length;E<C;E++){const T=p[E],M=d[E],F=y[E],L=x[E],N=w[E];if(T===void 0)continue;T.updateMatrix&&T.updateMatrix();const R=i._createAnimationTracks(T,M,F,L,N);if(R)for(let k=0;k<R.length;k++)b.push(R[k])}const _=new Ly(s,void 0,b);return Pf(_,r),_})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=r.weights.length;l<c;l++)o.morphTargetInfluences[l]=r.weights[l]}),a})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),a=[],o=r.children||[];for(let c=0,A=o.length;c<A;c++)a.push(i.getDependency("node",o[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const A=c[0],f=c[1],p=c[2];p!==null&&A.traverse(function(d){d.isSkinnedMesh&&d.bind(p,zse)});for(let d=0,y=f.length;d<y;d++)A.add(f[d]);return A})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",o=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let A;if(s.isBone===!0?A=new eE:c.length>1?A=new ad:c.length===1?A=c[0]:A=new gr,A!==c[0])for(let f=0,p=c.length;f<p;f++)A.add(c[f]);if(s.name&&(A.userData.name=s.name,A.name=a),Pf(A,s),s.extensions&&Im(i,A,s),s.matrix!==void 0){const f=new oi;f.fromArray(s.matrix),A.applyMatrix4(f)}else s.translation!==void 0&&A.position.fromArray(s.translation),s.rotation!==void 0&&A.quaternion.fromArray(s.rotation),s.scale!==void 0&&A.scale.fromArray(s.scale);if(!r.associations.has(A))r.associations.set(A,{});else if(s.mesh!==void 0&&r.meshCache.refs[s.mesh]>1){const f=r.associations.get(A);r.associations.set(A,{...f})}return r.associations.get(A).nodes=e,A}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new ad;i.name&&(s.name=r.createUniqueName(i.name)),Pf(s,i),i.extensions&&Im(t,s,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(r.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let A=0,f=l.length;A<f;A++)s.add(l[A]);const c=A=>{const f=new Map;for(const[p,d]of r.associations)(p instanceof ho||p instanceof Kr)&&f.set(p,d);return A.traverse(p=>{const d=r.associations.get(p);d!=null&&f.set(p,d)}),f};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const a=[],o=e.name?e.name:e.uuid,l=[];sp[s.path]===sp.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(o);let c;switch(sp[s.path]){case sp.weights:c=yg;break;case sp.rotation:c=vg;break;case sp.translation:case sp.scale:c=xg;break;default:switch(i.itemSize){case 1:c=yg;break;case 2:case 3:default:c=xg;break}break}const A=r.interpolation!==void 0?Dse[r.interpolation]:Cy,f=this._getArrayFromAccessor(i);for(let p=0,d=l.length;p<d;p++){const y=new c(l[p]+"."+sp[s.path],t.array,f,A);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),a.push(y)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=CT(t.constructor),r=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof vg?Rse:L7;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Vse(n,e,t){const i=e.attributes,r=new Zo;if(i.POSITION!==void 0){const o=t.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(r.set(new je(l[0],l[1],l[2]),new je(c[0],c[1],c[2])),o.normalized){const A=CT(uy[o.componentType]);r.min.multiplyScalar(A),r.max.multiplyScalar(A)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new je,l=new je;for(let c=0,A=s.length;c<A;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],d=p.min,y=p.max;if(d!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(y[2]))),p.normalized){const x=CT(uy[p.componentType]);l.multiplyScalar(x)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}n.boundingBox=r;const a=new Io;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=a}function $R(n,e,t){const i=e.attributes,r=[];function s(a,o){return t.getDependency("accessor",a).then(function(l){n.setAttribute(o,l)})}for(const a in i){const o=BT[a]||a.toLowerCase();o in n.attributes||r.push(s(i[a],o))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});r.push(a)}return Ji.workingColorSpace!==$a&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Ji.workingColorSpace}" not supported.`),Pf(n,e),Vse(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Pse(n,e.targets,t):n})}class Gse extends ct.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.warn("Error cargando el modelo 3D:",e)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const Kse=({rpm:n,temperatura:e,vibracion:t})=>{const i=ct.useRef(),r=bg(use,"/models/motor.glb");ct.useEffect(()=>{if(i.current){const o=n/3e3;i.current.rotation.y+=o*.01;const l=t/10;t>5?(i.current.position.x=Math.sin(Date.now()*.01)*l*.02,i.current.position.y=Math.cos(Date.now()*.015)*l*.02):(i.current.position.x*=.9,i.current.position.y*=.9)}});const a=e>80?"#ff0000":e>60?"#ff6b00":e>40?"#ffaa00":null;return I.jsxs("group",{ref:i,children:[I.jsx("primitive",{object:r.scene,scale:1.5}),a&&I.jsx("pointLight",{position:[0,0,0],color:a,intensity:e>80?3:e>60?2:1,distance:5,decay:2}),t>8&&I.jsx("pointLight",{position:[0,0,0],color:"#ff0000",intensity:Math.sin(Date.now()*.01)*2+2,distance:4})]})},eD=({rpm:n,temperatura:e,vibracion:t})=>{const i=ct.useRef();ct.useEffect(()=>{if(i.current){const s=n/3e3;i.current.rotation.x+=s*.01;const a=t/10;t>5?(i.current.position.x=Math.sin(Date.now()*.01)*a*.02,i.current.position.y=Math.cos(Date.now()*.015)*a*.02):(i.current.position.x*=.9,i.current.position.y*=.9)}});const r=()=>e>80?"#ff0000":e>60?"#ff6b00":e>40?"#ffaa00":"#4a5568";return I.jsxs("group",{ref:i,children:[I.jsxs("mesh",{castShadow:!0,children:[I.jsx("cylinderGeometry",{args:[.8,.8,1.5,32]}),I.jsx("meshStandardMaterial",{color:r(),metalness:.8,roughness:.2})]}),I.jsxs("mesh",{position:[0,0,0],rotation:[0,0,Math.PI/2],castShadow:!0,children:[I.jsx("cylinderGeometry",{args:[.15,.15,2,16]}),I.jsx("meshStandardMaterial",{color:"#718096",metalness:.9,roughness:.1})]}),I.jsxs("mesh",{position:[-.85,0,0],rotation:[0,0,Math.PI/2],castShadow:!0,children:[I.jsx("cylinderGeometry",{args:[.9,.9,.2,32]}),I.jsx("meshStandardMaterial",{color:"#8b5cf6",metalness:.6,roughness:.4})]}),I.jsxs("mesh",{position:[.85,0,0],rotation:[0,0,Math.PI/2],castShadow:!0,children:[I.jsx("cylinderGeometry",{args:[.9,.9,.2,32]}),I.jsx("meshStandardMaterial",{color:"#8b5cf6",metalness:.6,roughness:.4})]}),t>8&&I.jsx("pointLight",{position:[0,0,0],color:"#ff0000",intensity:Math.sin(Date.now()*.01)*2+2,distance:4})]})},qse=({rpm:n,temperatura:e,vibracion:t})=>I.jsxs(I.Fragment,{children:[I.jsx(Vre,{makeDefault:!0,position:[3,3,5]}),I.jsx(Gre,{enableDamping:!0,dampingFactor:.05,minDistance:2,maxDistance:10}),I.jsx("ambientLight",{intensity:.5}),I.jsx("directionalLight",{position:[5,5,5],intensity:1,castShadow:!0}),I.jsx("pointLight",{position:[0,2,0],intensity:.8,color:"#a78bfa"}),I.jsx("pointLight",{position:[-3,0,3],intensity:.5,color:"#3b82f6"}),I.jsx(Gse,{fallback:I.jsx(eD,{rpm:n,temperatura:e,vibracion:t}),children:I.jsx(ct.Suspense,{fallback:I.jsx(eD,{rpm:n,temperatura:e,vibracion:t}),children:I.jsx(Kse,{rpm:n,temperatura:e,vibracion:t})})}),I.jsx(cse,{preset:"city"})]}),Wse=()=>{const{generalData:n,hasActiveAlerts:e,hasWarnings:t}=Cu();console.log(" Motor3D - hasActiveAlerts:",e,"hasWarnings:",t);const i=()=>e?"border-2 border-red-500 animate-pulse":t?"border-2 border-yellow-500":"",s=e?{icon:"",text:"ALERTA CRTICA",color:"text-red-500"}:t?{icon:"",text:"ADVERTENCIA",color:"text-yellow-500"}:null;return I.jsxs("div",{className:`glass-card p-4 h-full flex flex-col overflow-hidden ${i()}`,children:[I.jsxs("h2",{className:"text-lg font-bold text-purple-light mb-2 text-center flex items-center justify-center gap-2 flex-shrink-0",children:[s&&I.jsx("span",{className:`${s.color} text-xl`,children:s.icon}),"Motor Trifsico 3D",s&&I.jsxs("span",{className:`${s.color} text-xs font-normal`,children:["(",s.text,")"]})]}),I.jsx("div",{className:"flex-1 min-h-0 rounded-lg overflow-hidden bg-gradient-to-br from-purple-900/10 to-blue-900/10",children:I.jsx(mre,{shadows:!0,children:I.jsx(qse,{rpm:n.rpm,temperatura:n.temperatura,vibracion:n.vibracion})})}),I.jsx("div",{className:"mt-3 text-center flex-shrink-0",children:I.jsx("button",{className:"px-3 py-2 bg-purple-main hover:bg-purple-dark rounded-lg transition-colors font-semibold text-sm",onClick:()=>window.location.reload(),children:" Resetear Vista"})})]})};var Xse=vP();function Wx(n){return n+.5|0}const xp=(n,e,t)=>Math.max(Math.min(n,t),e);function p1(n){return xp(Wx(n*2.55),0,255)}function Mp(n){return xp(Wx(n*255),0,255)}function nd(n){return xp(Wx(n/2.55)/100,0,1)}function tD(n){return xp(Wx(n*100),0,100)}const Yu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},MT=[..."0123456789ABCDEF"],Yse=n=>MT[n&15],Zse=n=>MT[(n&240)>>4]+MT[n&15],Uw=n=>(n&240)>>4===(n&15),Jse=n=>Uw(n.r)&&Uw(n.g)&&Uw(n.b)&&Uw(n.a);function $se(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Yu[n[1]]*17,g:255&Yu[n[2]]*17,b:255&Yu[n[3]]*17,a:e===5?Yu[n[4]]*17:255}:(e===7||e===9)&&(t={r:Yu[n[1]]<<4|Yu[n[2]],g:Yu[n[3]]<<4|Yu[n[4]],b:Yu[n[5]]<<4|Yu[n[6]],a:e===9?Yu[n[7]]<<4|Yu[n[8]]:255})),t}const eae=(n,e)=>n<255?e(n):"";function tae(n){var e=Jse(n)?Yse:Zse;return n?"#"+e(n.r)+e(n.g)+e(n.b)+eae(n.a,e):void 0}const nae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R7(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function iae(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function rae(n,e,t){const i=R7(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function sae(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function GU(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;let l,c,A;return s!==a&&(A=s-a,c=o>.5?A/(2-s-a):A/(s+a),l=sae(t,i,r,A,s),l=l*60+.5),[l|0,c||0,o]}function KU(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Mp)}function qU(n,e,t){return KU(R7,n,e,t)}function aae(n,e,t){return KU(rae,n,e,t)}function oae(n,e,t){return KU(iae,n,e,t)}function D7(n){return(n%360+360)%360}function lae(n){const e=nae.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?p1(+e[5]):Mp(+e[5]));const r=D7(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=aae(r,s,a):e[1]==="hsv"?i=oae(r,s,a):i=qU(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}function cae(n,e){var t=GU(n);t[0]=D7(t[0]+e),t=qU(t),n.r=t[0],n.g=t[1],n.b=t[2]}function uae(n){if(!n)return;const e=GU(n),t=e[0],i=tD(e[1]),r=tD(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${nd(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const nD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Aae(){const n={},e=Object.keys(iD),t=Object.keys(nD);let i,r,s,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],r=0;r<t.length;r++)s=t[r],o=o.replace(s,nD[s]);s=parseInt(iD[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let Nw;function fae(n){Nw||(Nw=Aae(),Nw.transparent=[0,0,0,0]);const e=Nw[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dae(n){const e=hae.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?p1(a):xp(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?p1(i):xp(i,0,255)),r=255&(e[4]?p1(r):xp(r,0,255)),s=255&(e[6]?p1(s):xp(s,0,255)),{r:i,g:r,b:s,a:t}}}function pae(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${nd(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const VC=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,L0=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function mae(n,e,t){const i=L0(nd(n.r)),r=L0(nd(n.g)),s=L0(nd(n.b));return{r:Mp(VC(i+t*(L0(nd(e.r))-i))),g:Mp(VC(r+t*(L0(nd(e.g))-r))),b:Mp(VC(s+t*(L0(nd(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Fw(n,e,t){if(n){let i=GU(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=qU(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function O7(n,e){return n&&Object.assign(e||{},n)}function rD(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Mp(n[3]))):(e=O7(n,{r:0,g:0,b:0,a:1}),e.a=Mp(e.a)),e}function gae(n){return n.charAt(0)==="r"?dae(n):lae(n)}class dx{constructor(e){if(e instanceof dx)return e;const t=typeof e;let i;t==="object"?i=rD(e):t==="string"&&(i=$se(e)||fae(e)||gae(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=O7(this._rgb);return e&&(e.a=nd(e.a)),e}set rgb(e){this._rgb=rD(e)}rgbString(){return this._valid?pae(this._rgb):void 0}hexString(){return this._valid?tae(this._rgb):void 0}hslString(){return this._valid?uae(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=mae(this._rgb,e._rgb,t)),this}clone(){return new dx(this.rgb)}alpha(e){return this._rgb.a=Mp(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Wx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fw(this._rgb,2,e),this}darken(e){return Fw(this._rgb,2,-e),this}saturate(e){return Fw(this._rgb,1,e),this}desaturate(e){return Fw(this._rgb,1,-e),this}rotate(e){return cae(this._rgb,e),this}}function Vh(){}const yae=(()=>{let n=0;return()=>n++})();function Ss(n){return n==null}function Ao(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function vr(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Tl(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function If(n,e){return Tl(n)?n:e}function mr(n,e){return typeof n>"u"?e:n}const vae=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ns(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Jr(n,e,t,i){let r,s,a;if(Ao(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(vr(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function cS(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function uS(n){if(Ao(n))return n.map(uS);if(vr(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=uS(n[t[r]]);return e}return n}function P7(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function xae(n,e,t,i){if(!P7(n))return;const r=e[n],s=t[n];vr(r)&&vr(s)?px(r,s,i):e[n]=uS(s)}function px(n,e,t){const i=Ao(e)?e:[e],r=i.length;if(!vr(n))return n;t=t||{};const s=t.merger||xae;let a;for(let o=0;o<r;++o){if(a=i[o],!vr(a))continue;const l=Object.keys(a);for(let c=0,A=l.length;c<A;++c)s(l[c],n,a,t)}return n}function O1(n,e){return px(n,e,{merger:bae})}function bae(n,e,t){if(!P7(n))return;const i=e[n],r=t[n];vr(i)&&vr(r)?O1(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=uS(r))}const sD={"":n=>n,x:n=>n.x,y:n=>n.y};function wae(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function _ae(n){const e=wae(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function AS(n,e){return(sD[e]||(sD[e]=_ae(e)))(n)}function WU(n){return n.charAt(0).toUpperCase()+n.slice(1)}const fS=n=>typeof n<"u",Dp=n=>typeof n=="function",aD=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Sae(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Lo=Math.PI,ZA=2*Lo,Eae=ZA+Lo,hS=Number.POSITIVE_INFINITY,Bae=Lo/180,XA=Lo/2,Lm=Lo/4,oD=Lo*2/3,k7=Math.log10,Dy=Math.sign;function P1(n,e,t){return Math.abs(n-e)<t}function lD(n){const e=Math.round(n);n=P1(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(k7(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Cae(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function Mae(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function mx(n){return!Mae(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Tae(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Uae(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function tg(n){return n*(Lo/180)}function Nae(n){return n*(180/Lo)}function cD(n){if(!Tl(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Fae(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Lo&&(s+=ZA),{angle:s,distance:r}}function TT(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Iae(n,e){return(n-e+Eae)%ZA-Lo}function Qf(n){return(n%ZA+ZA)%ZA}function H7(n,e,t,i){const r=Qf(n),s=Qf(e),a=Qf(t),o=Qf(s-r),l=Qf(a-r),c=Qf(r-s),A=Qf(r-a);return r===s||r===a||i&&s===a||o>l&&c<A}function rA(n,e,t){return Math.max(e,Math.min(t,n))}function Lae(n){return rA(n,-32768,32767)}function ry(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function XU(n,e,t){t=t||(a=>n[a]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const ng=(n,e,t,i)=>XU(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),Rae=(n,e,t)=>XU(n,t,i=>n[i][e]>=t);function Dae(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const Q7=["push","pop","shift","splice","unshift"];function Oae(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Q7.forEach(t=>{const i="_onData"+WU(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...s)}),a}})})}function uD(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Q7.forEach(s=>{delete n[s]}),delete n._chartjs)}function Pae(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const z7=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function j7(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,z7.call(window,()=>{i=!1,n.apply(e,t)}))}}function kae(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const YU=n=>n==="start"?"left":n==="end"?"right":"center",Bl=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Hae=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Qae(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:a,vScale:o,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,A=a.axis,{min:f,max:p,minDefined:d,maxDefined:y}=a.getUserBounds();if(d){if(r=Math.min(ng(l,A,f).lo,t?i:ng(e,A,a.getPixelForValue(f)).lo),c){const x=l.slice(0,r+1).reverse().findIndex(w=>!Ss(w[o.axis]));r-=Math.max(0,x)}r=rA(r,0,i-1)}if(y){let x=Math.max(ng(l,a.axis,p,!0).hi+1,t?0:ng(e,A,a.getPixelForValue(p),!0).hi+1);if(c){const w=l.slice(x-1).findIndex(b=>!Ss(b[o.axis]));x+=Math.max(0,w)}s=rA(x,r,i)-r}else s=i-r}return{start:r,count:s}}function zae(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const Iw=n=>n===0||n===1,AD=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ZA/t)),fD=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ZA/t)+1,k1={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*XA)+1,easeOutSine:n=>Math.sin(n*XA),easeInOutSine:n=>-.5*(Math.cos(Lo*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Iw(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Iw(n)?n:AD(n,.075,.3),easeOutElastic:n=>Iw(n)?n:fD(n,.075,.3),easeInOutElastic(n){return Iw(n)?n:n<.5?.5*AD(n*2,.1125,.45):.5+.5*fD(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-k1.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?k1.easeInBounce(n*2)*.5:k1.easeOutBounce(n*2-1)*.5+.5};function ZU(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function hD(n){return ZU(n)?n:new dx(n)}function GC(n){return ZU(n)?n:new dx(n).saturate(.5).darken(.1).hexString()}const jae=["x","y","borderWidth","radius","tension"],Vae=["color","borderColor","backgroundColor"];function Gae(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Vae},numbers:{type:"number",properties:jae}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Kae(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dD=new Map;function qae(n,e){e=e||{};const t=n+JSON.stringify(e);let i=dD.get(t);return i||(i=new Intl.NumberFormat(n,e),dD.set(t,i)),i}function V7(n,e,t){return qae(e,t).format(n)}const Wae={values(n){return Ao(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=Xae(n,t)}const a=k7(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),V7(n,i,l)}};function Xae(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var G7={formatters:Wae};function Yae(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G7.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _g=Object.create(null),UT=Object.create(null);function H1(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function KC(n,e,t){return typeof e=="string"?px(H1(n,e),t):px(H1(n,""),e)}class Zae{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>GC(r.backgroundColor),this.hoverBorderColor=(i,r)=>GC(r.borderColor),this.hoverColor=(i,r)=>GC(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return KC(this,e,t)}get(e){return H1(this,e)}describe(e,t){return KC(UT,e,t)}override(e,t){return KC(_g,e,t)}route(e,t,i,r){const s=H1(this,e),a=H1(this,i),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],c=a[r];return vr(l)?Object.assign({},c,l):mr(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var Qa=new Zae({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gae,Kae,Yae]);function Jae(n){return!n||Ss(n.size)||Ss(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function pD(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Rm(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function mD(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function NT(n,e,t,i){K7(n,e,t,i,null)}function K7(n,e,t,i,r){let s,a,o,l,c,A,f,p;const d=e.pointStyle,y=e.rotation,x=e.radius;let w=(y||0)*Bae;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(w),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),d){default:r?n.ellipse(t,i,r/2,x,0,0,ZA):n.arc(t,i,x,0,ZA),n.closePath();break;case"triangle":A=r?r/2:x,n.moveTo(t+Math.sin(w)*A,i-Math.cos(w)*x),w+=oD,n.lineTo(t+Math.sin(w)*A,i-Math.cos(w)*x),w+=oD,n.lineTo(t+Math.sin(w)*A,i-Math.cos(w)*x),n.closePath();break;case"rectRounded":c=x*.516,l=x-c,a=Math.cos(w+Lm)*l,f=Math.cos(w+Lm)*(r?r/2-c:l),o=Math.sin(w+Lm)*l,p=Math.sin(w+Lm)*(r?r/2-c:l),n.arc(t-f,i-o,c,w-Lo,w-XA),n.arc(t+p,i-a,c,w-XA,w),n.arc(t+f,i+o,c,w,w+XA),n.arc(t-p,i+a,c,w+XA,w+Lo),n.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*x,A=r?r/2:l,n.rect(t-A,i-l,2*A,2*l);break}w+=Lm;case"rectRot":f=Math.cos(w)*(r?r/2:x),a=Math.cos(w)*x,o=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(t-f,i-o),n.lineTo(t+p,i-a),n.lineTo(t+f,i+o),n.lineTo(t-p,i+a),n.closePath();break;case"crossRot":w+=Lm;case"cross":f=Math.cos(w)*(r?r/2:x),a=Math.cos(w)*x,o=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(t-f,i-o),n.lineTo(t+f,i+o),n.moveTo(t+p,i-a),n.lineTo(t-p,i+a);break;case"star":f=Math.cos(w)*(r?r/2:x),a=Math.cos(w)*x,o=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(t-f,i-o),n.lineTo(t+f,i+o),n.moveTo(t+p,i-a),n.lineTo(t-p,i+a),w+=Lm,f=Math.cos(w)*(r?r/2:x),a=Math.cos(w)*x,o=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(t-f,i-o),n.lineTo(t+f,i+o),n.moveTo(t+p,i-a),n.lineTo(t-p,i+a);break;case"line":a=r?r/2:Math.cos(w)*x,o=Math.sin(w)*x,n.moveTo(t-a,i-o),n.lineTo(t+a,i+o);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(w)*(r?r/2:x),i+Math.sin(w)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function gx(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function _E(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function SE(n){n.restore()}function $ae(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function eoe(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function toe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ss(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function noe(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,A=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,A),n.lineTo(o,A),n.stroke()}}function ioe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function yx(n,e,t,i,r,s={}){const a=Ao(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,toe(n,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&ioe(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Ss(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,i,s.maxWidth)),n.fillText(c,t,i,s.maxWidth),noe(n,t,i,c,s),i+=Number(r.lineHeight);n.restore()}function FT(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*Lo,Lo,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,Lo,XA,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,XA,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-XA,!0),n.lineTo(t+a.topLeft,i)}const roe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,soe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function aoe(n,e){const t=(""+n).match(roe);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const ooe=n=>+n||0;function q7(n,e){const t={},i=vr(e),r=i?Object.keys(e):e,s=vr(n)?i?a=>mr(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=ooe(s(a));return t}function loe(n){return q7(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Q1(n){return q7(n,["topLeft","topRight","bottomLeft","bottomRight"])}function cA(n){const e=loe(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ml(n,e){n=n||{},e=e||Qa.font;let t=mr(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=mr(n.style,e.style);i&&!(""+i).match(soe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:mr(n.family,e.family),lineHeight:aoe(mr(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:mr(n.weight,e.weight),string:""};return r.string=Jae(r),r}function Lw(n,e,t,i){let r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&a!==void 0)return a}function coe(n,e,t){const{min:i,max:r}=n,s=vae(e,(r-i)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Ig(n,e){return Object.assign(Object.create(n),e)}function JU(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=Z7("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:o=>JU([o,...n],e,s,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return X7(o,l,()=>goe(l,e,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return yD(o).includes(l)},ownKeys(o){return yD(o)},set(o,l,c){const A=o._storage||(o._storage=r());return o[l]=A[l]=c,delete o._keys,!0}})}function Oy(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:W7(n,i),setContext:s=>Oy(n,s,t,i),override:s=>Oy(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return X7(s,a,()=>Aoe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function W7(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Dp(t)?t:()=>t,isIndexable:Dp(i)?i:()=>i}}const uoe=(n,e)=>n?n+WU(e):e,$U=(n,e)=>vr(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function X7(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Aoe(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let o=i[e];return Dp(o)&&a.isScriptable(e)&&(o=foe(e,o,n,t)),Ao(o)&&o.length&&(o=hoe(e,o,n,a.isIndexable)),$U(e,o)&&(o=Oy(o,r,s&&s[e],a)),o}function foe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=e(s,a||i);return o.delete(n),$U(n,l)&&(l=eN(r._scopes,r,n,l)),l}function hoe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(vr(e[0])){const l=e,c=r._scopes.filter(A=>A!==l);e=[];for(const A of l){const f=eN(c,r,n,A);e.push(Oy(f,s,a&&a[n],o))}}return e}function Y7(n,e,t){return Dp(n)?n(e,t):n}const doe=(n,e)=>n===!0?e:typeof n=="string"?AS(e,n):void 0;function poe(n,e,t,i,r){for(const s of e){const a=doe(t,s);if(a){n.add(a);const o=Y7(a._fallback,t,r);if(typeof o<"u"&&o!==t&&o!==i)return o}else if(a===!1&&typeof i<"u"&&t!==i)return null}return!1}function eN(n,e,t,i){const r=e._rootScopes,s=Y7(e._fallback,t,i),a=[...n,...r],o=new Set;o.add(i);let l=gD(o,a,t,s||t,i);return l===null||typeof s<"u"&&s!==t&&(l=gD(o,a,s,l,i),l===null)?!1:JU(Array.from(o),[""],r,s,()=>moe(e,t,i))}function gD(n,e,t,i,r){for(;t;)t=poe(n,e,t,i,r);return t}function moe(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Ao(r)&&vr(t)?t:r||{}}function goe(n,e,t,i){let r;for(const s of e)if(r=Z7(uoe(s,n),t),typeof r<"u")return $U(n,r)?eN(t,i,n,r):r}function Z7(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function yD(n){let e=n._keys;return e||(e=n._keys=yoe(n._scopes)),e}function yoe(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const voe=Number.EPSILON||1e-14,Py=(n,e)=>e<n.length&&!n[e].skip&&n[e],J7=n=>n==="x"?"y":"x";function xoe(n,e,t,i){const r=n.skip?e:n,s=e,a=t.skip?e:t,o=TT(s,r),l=TT(a,s);let c=o/(o+l),A=l/(o+l);c=isNaN(c)?0:c,A=isNaN(A)?0:A;const f=i*c,p=i*A;return{previous:{x:s.x-f*(a.x-r.x),y:s.y-f*(a.y-r.y)},next:{x:s.x+p*(a.x-r.x),y:s.y+p*(a.y-r.y)}}}function boe(n,e,t){const i=n.length;let r,s,a,o,l,c=Py(n,0);for(let A=0;A<i-1;++A)if(l=c,c=Py(n,A+1),!(!l||!c)){if(P1(e[A],0,voe)){t[A]=t[A+1]=0;continue}r=t[A]/e[A],s=t[A+1]/e[A],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[A]=r*a*e[A],t[A+1]=s*a*e[A])}}function woe(n,e,t="x"){const i=J7(t),r=n.length;let s,a,o,l=Py(n,0);for(let c=0;c<r;++c){if(a=o,o=l,l=Py(n,c+1),!o)continue;const A=o[t],f=o[i];a&&(s=(A-a[t])/3,o[`cp1${t}`]=A-s,o[`cp1${i}`]=f-s*e[c]),l&&(s=(l[t]-A)/3,o[`cp2${t}`]=A+s,o[`cp2${i}`]=f+s*e[c])}}function _oe(n,e="x"){const t=J7(e),i=n.length,r=Array(i).fill(0),s=Array(i);let a,o,l,c=Py(n,0);for(a=0;a<i;++a)if(o=l,l=c,c=Py(n,a+1),!!l){if(c){const A=c[e]-l[e];r[a]=A!==0?(c[t]-l[t])/A:0}s[a]=o?c?Dy(r[a-1])!==Dy(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}boe(n,r,s),woe(n,s,e)}function Rw(n,e,t){return Math.max(Math.min(n,t),e)}function Soe(n,e){let t,i,r,s,a,o=gx(n[0],e);for(t=0,i=n.length;t<i;++t)a=s,s=o,o=t<i-1&&gx(n[t+1],e),s&&(r=n[t],a&&(r.cp1x=Rw(r.cp1x,e.left,e.right),r.cp1y=Rw(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=Rw(r.cp2x,e.left,e.right),r.cp2y=Rw(r.cp2y,e.top,e.bottom)))}function Eoe(n,e,t,i,r){let s,a,o,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")_oe(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],l=xoe(c,o,n[Math.min(s+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&Soe(n,t)}function tN(){return typeof window<"u"&&typeof document<"u"}function nN(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function dS(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const EE=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Boe(n,e){return EE(n).getPropertyValue(e)}const Coe=["top","right","bottom","left"];function cg(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=Coe[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Moe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Toe(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let a=!1,o,l;if(Moe(r,s,n.target))o=r,l=s;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Qm(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=EE(t),s=r.boxSizing==="border-box",a=cg(r,"padding"),o=cg(r,"border","width"),{x:l,y:c,box:A}=Toe(n,t),f=a.left+(A&&o.left),p=a.top+(A&&o.top);let{width:d,height:y}=e;return s&&(d-=a.width+o.width,y-=a.height+o.height),{x:Math.round((l-f)/d*t.width/i),y:Math.round((c-p)/y*t.height/i)}}function Uoe(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&nN(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),o=EE(s),l=cg(o,"border","width"),c=cg(o,"padding");e=a.width-c.width-l.width,t=a.height-c.height-l.height,i=dS(o.maxWidth,s,"clientWidth"),r=dS(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||hS,maxHeight:r||hS}}const bp=n=>Math.round(n*10)/10;function Noe(n,e,t,i){const r=EE(n),s=cg(r,"margin"),a=dS(r.maxWidth,n,"clientWidth")||hS,o=dS(r.maxHeight,n,"clientHeight")||hS,l=Uoe(n,e,t);let{width:c,height:A}=l;if(r.boxSizing==="content-box"){const p=cg(r,"border","width"),d=cg(r,"padding");c-=d.width+p.width,A-=d.height+p.height}return c=Math.max(0,c-s.width),A=Math.max(0,i?c/i:A-s.height),c=bp(Math.min(c,a,l.maxWidth)),A=bp(Math.min(A,o,l.maxHeight)),c&&!A&&(A=bp(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&A>l.height&&(A=l.height,c=bp(Math.floor(A*i))),{width:c,height:A}}function vD(n,e,t){const i=e||1,r=bp(n.height*i),s=bp(n.width*i);n.height=bp(n.height),n.width=bp(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Foe=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};tN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function xD(n,e){const t=Boe(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zm(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Ioe(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Loe(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=zm(n,r,t),o=zm(r,s,t),l=zm(s,e,t),c=zm(a,o,t),A=zm(o,l,t);return zm(c,A,t)}const Roe=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Doe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ay(n,e,t){return n?Roe(e,t):Doe()}function $7(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function ez(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function tz(n){return n==="angle"?{between:H7,compare:Iae,normalize:Qf}:{between:ry,compare:(e,t)=>e-t,normalize:e=>e}}function bD({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Ooe(n,e,t){const{property:i,start:r,end:s}=t,{between:a,normalize:o}=tz(i),l=e.length;let{start:c,end:A,loop:f}=n,p,d;if(f){for(c+=l,A+=l,p=0,d=l;p<d&&a(o(e[c%l][i]),r,s);++p)c--,A--;c%=l,A%=l}return A<c&&(A+=l),{start:c,end:A,loop:f,style:n.style}}function nz(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,a=e.length,{compare:o,between:l,normalize:c}=tz(i),{start:A,end:f,loop:p,style:d}=Ooe(n,e,t),y=[];let x=!1,w=null,b,_,E;const C=()=>l(r,E,b)&&o(r,E)!==0,T=()=>o(s,b)===0||l(s,E,b),M=()=>x||C(),F=()=>!x||T();for(let L=A,N=A;L<=f;++L)_=e[L%a],!_.skip&&(b=c(_[i]),b!==E&&(x=l(b,r,s),w===null&&M()&&(w=o(b,r)===0?L:N),w!==null&&F()&&(y.push(bD({start:w,end:L,loop:p,count:a,style:d})),w=null),N=L,E=b));return w!==null&&y.push(bD({start:w,end:f,loop:p,count:a,style:d})),y}function iz(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=nz(i[r],n.points,e);s.length&&t.push(...s)}return t}function Poe(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function koe(n,e,t,i){const r=n.length,s=[];let a=e,o=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%r];c.skip||c.stop?o.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function Hoe(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:a,end:o}=Poe(t,r,s,i);if(i===!0)return wD(n,[{start:a,end:o,loop:s}],t,e);const l=o<a?o+r:o,c=!!n._fullLoop&&a===0&&o===r-1;return wD(n,koe(t,a,l,c),t,e)}function wD(n,e,t,i){return!i||!i.setContext||!t?e:Qoe(n,e,t,i)}function Qoe(n,e,t,i){const r=n._chart.getContext(),s=_D(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=t.length,c=[];let A=s,f=e[0].start,p=f;function d(y,x,w,b){const _=o?-1:1;if(y!==x){for(y+=l;t[y%l].skip;)y-=_;for(;t[x%l].skip;)x+=_;y%l!==x%l&&(c.push({start:y%l,end:x%l,loop:w,style:b}),A=b,f=x%l)}}for(const y of e){f=o?f:y.start;let x=t[f%l],w;for(p=f+1;p<=y.end;p++){const b=t[p%l];w=_D(i.setContext(Ig(r,{type:"segment",p0:x,p1:b,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),zoe(w,A)&&d(f,p-1,y.loop,A),x=b,A=w}f<p-1&&d(f,p-1,y.loop,A)}return c}function _D(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function zoe(n,e){if(!e)return!1;const t=[],i=function(r,s){return ZU(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Dw(n,e,t){return n.options.clip?n[t]:e[t]}function joe(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Dw(t,e,"left"),right:Dw(t,e,"right"),top:Dw(i,e,"top"),bottom:Dw(i,e,"bottom")}:e}function rz(n,e){const t=e._clip;if(t.disabled)return!1;const i=joe(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class Voe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=z7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zh=new Voe;const SD="transparent",Goe={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=hD(n||SD),r=i.valid&&hD(e||SD);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Koe{constructor(e,t,i,r){const s=t[i];r=Lw([e.to,r,s,e.from]);const a=Lw([e.from,s,r]);this._active=!0,this._fn=e.fn||Goe[e.type||typeof a],this._easing=k1[e.easing]||k1.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Lw([e.to,t,r,e.from]),this._from=Lw([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||t<i),!this._active){this._target[r]=o,this._notify(!0);return}if(t<0){this._target[r]=s;return}l=t/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class sz{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!vr(e))return;const t=Object.keys(Qa.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!vr(s))return;const a={};for(const o of t)a[o]=s[o];(Ao(s.properties)&&s.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,t){const i=t.options,r=Woe(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&qoe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,t));continue}const A=t[c];let f=s[c];const p=i.get(c);if(f)if(p&&f.active()){f.update(p,A,o);continue}else f.cancel();if(!p||!p.duration){e[c]=A;continue}s[c]=f=new Koe(p,e,c,A),r.push(f)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Zh.add(this._chart,i),!0}}function qoe(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Woe(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ED(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Xoe(n,e,t){if(t===!1)return!1;const i=ED(n,t),r=ED(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Yoe(n){let e,t,i,r;return vr(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function az(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function BD(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let a,o,l,c;if(e===null)return;let A=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===t){if(A=!0,i.all)continue;break}c=n.values[l],Tl(c)&&(s||e===0||Dy(e)===Dy(c))&&(e+=c)}return!A&&!i.all?0:e}function Zoe(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let l,c,A;for(l=0,c=a.length;l<c;++l)A=a[l],o[l]={[r]:A,[s]:n[A]};return o}function qC(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Joe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function $oe(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function ele(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function CD(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function MD(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=i,l=s.axis,c=a.axis,A=Joe(s,a,i),f=e.length;let p;for(let d=0;d<f;++d){const y=e[d],{[l]:x,[c]:w}=y,b=y._stacks||(y._stacks={});p=b[c]=ele(r,A,x),p[o]=w,p._top=CD(p,a,!0,i.type),p._bottom=CD(p,a,!1,i.type);const _=p._visualValues||(p._visualValues={});_[o]=w}}function WC(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function tle(n,e){return Ig(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nle(n,e,t){return Ig(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function qv(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const XC=n=>n==="reset"||n==="none",TD=(n,e)=>e?n:Object.assign({},n),ile=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:az(t,!0),values:null};class oz{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qv(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(f,p,d,y)=>f==="x"?p:f==="r"?y:d,s=t.xAxisID=mr(i.xAxisID,WC(e,"x")),a=t.yAxisID=mr(i.yAxisID,WC(e,"y")),o=t.rAxisID=mr(i.rAxisID,WC(e,"r")),l=t.indexAxis,c=t.iAxisID=r(l,s,a,o),A=t.vAxisID=r(l,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uD(this._data,this),e._stacked&&qv(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(vr(t)){const r=this._cachedMeta;this._data=Zoe(t,r)}else if(i!==t){if(i){uD(i,this);const r=this._cachedMeta;qv(r),r._parsed=[]}t&&Object.isExtensible(t)&&Oae(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=qC(t.vScale,t),t.stack!==i.stack&&(r=!0,qv(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(MD(this,t._parsed),t._stacked=qC(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,o=s.axis;let l=e===0&&t===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],A,f,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Ao(r[e])?p=this.parseArrayData(i,r,e,t):vr(r[e])?p=this.parseObjectData(i,r,e,t):p=this.parsePrimitiveData(i,r,e,t);const d=()=>f[o]===null||c&&f[o]<c[o];for(A=0;A<t;++A)i._parsed[A+e]=f=p[A],l&&(d()&&(l=!1),c=f);i._sorted=l}a&&MD(this,p)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),A=s===a,f=new Array(r);let p,d,y;for(p=0,d=r;p<d;++p)y=p+i,f[p]={[o]:A||s.parse(c[y],y),[l]:a.parse(t[y],y)};return f}parseArrayData(e,t,i,r){const{xScale:s,yScale:a}=e,o=new Array(r);let l,c,A,f;for(l=0,c=r;l<c;++l)A=l+i,f=t[A],o[l]={x:s.parse(f[0],A),y:a.parse(f[1],A)};return o}parseObjectData(e,t,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let A,f,p,d;for(A=0,f=r;A<f;++A)p=A+i,d=t[p],c[A]={x:s.parse(AS(d,o),p),y:a.parse(AS(d,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:az(r,!0),values:t._stacks[e.axis]._visualValues};return BD(o,a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let a=s===null?NaN:s;const o=r&&i._stacks[t.axis];r&&o&&(r.values=o,a=BD(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,o=this._getOtherScale(e),l=ile(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:f}=$oe(o);let p,d;function y(){d=r[p];const x=d[o.axis];return!Tl(d[e.axis])||A>x||f<x}for(p=0;p<a&&!(!y()&&(this.updateRangeFromParsed(c,e,d,l),s));++p);if(s){for(p=a-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],Tl(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Yoe(mr(this.options.clip,Xoe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let A;for(i.dataset&&i.dataset.draw(e,s,o,l),A=o;A<o+l;++A){const f=r[A];f.hidden||(f.active&&c?a.push(f):f.draw(e,s))}for(A=0;A<a.length;++A)a[A].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=nle(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=tle(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],l=this.enableOptionSharing&&fS(i);if(o)return TD(o,l);const c=this.chart.config,A=c.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),A),d=Object.keys(Qa.elements[e]),y=()=>this.getContext(i,r,t),x=c.resolveNamedOptions(p,d,y,f);return x.$shared&&(x.$shared=l,s[a]=Object.freeze(TD(x,l))),x}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let l;if(r.options.animation!==!1){const A=this.chart.config,f=A.datasetAnimationScopeKeys(this._type,t),p=A.getOptionScopes(this.getDataset(),f);l=A.createResolver(p,this.getContext(e,i,t))}const c=new sz(r,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||XC(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,r){XC(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!XC(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,a=e+t;let o;const l=c=>{for(c.length+=t,o=c.length-1;o>=a;o--)c[o]=c[o-t]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&qv(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class rle extends oz{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=Qae(t,r,a);this._drawStart=o,this._drawCount=l,zae(t)&&(o=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(r,o,l,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:A,includeOptions:f}=this._getSharedOptions(t,r),p=a.axis,d=o.axis,{spanGaps:y,segment:x}=this.options,w=mx(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||r==="none",_=t+i,E=e.length;let C=t>0&&this.getParsed(t-1);for(let T=0;T<E;++T){const M=e[T],F=b?M:{};if(T<t||T>=_){F.skip=!0;continue}const L=this.getParsed(T),N=Ss(L[d]),R=F[p]=a.getPixelForValue(L[p],T),k=F[d]=s||N?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,L,l):L[d],T);F.skip=isNaN(R)||isNaN(k)||N,F.stop=T>0&&Math.abs(L[p]-C[p])>w,x&&(F.parsed=L,F.raw=c.data[T]),f&&(F.options=A||this.resolveDataElementOptions(T,M.active?"active":r)),b||this.updateElement(M,T,F,r),C=L}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Dm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iN{static override(e){Object.assign(iN.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Dm()}parse(){return Dm()}format(){return Dm()}add(){return Dm()}diff(){return Dm()}startOf(){return Dm()}endOf(){return Dm()}}var sle={_date:iN};function ale(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,o=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?Rae:ng;if(i){if(r._sharedOptions){const A=s[0],f=typeof A.getRange=="function"&&A.getRange(e);if(f){const p=c(s,e,t-f),d=c(s,e,t+f);return{lo:p.lo,hi:d.hi}}}}else{const A=c(s,e,t);if(l){const{vScale:f}=r._cachedMeta,{_parsed:p}=n,d=p.slice(0,A.lo+1).reverse().findIndex(x=>!Ss(x[f.axis]));A.lo-=Math.max(0,d);const y=p.slice(A.hi).findIndex(x=>!Ss(x[f.axis]));A.hi+=Math.max(0,y)}return A}}return{lo:0,hi:s.length-1}}function BE(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:A}=s[o],{lo:f,hi:p}=ale(s[o],e,a,r);for(let d=f;d<=p;++d){const y=A[d];y.skip||i(y,c,d)}}}function ole(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function YC(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||BE(n,t,e,function(o,l,c){!r&&!gx(o,n.chartArea,0)||o.inRange(e.x,e.y,i)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function lle(n,e,t,i){let r=[];function s(a,o,l){const{startAngle:c,endAngle:A}=a.getProps(["startAngle","endAngle"],i),{angle:f}=Fae(a,{x:e.x,y:e.y});H7(f,c,A)&&r.push({element:a,datasetIndex:o,index:l})}return BE(n,t,e,s),r}function cle(n,e,t,i,r,s){let a=[];const o=ole(t);let l=Number.POSITIVE_INFINITY;function c(A,f,p){const d=A.inRange(e.x,e.y,r);if(i&&!d)return;const y=A.getCenterPoint(r);if(!(!!s||n.isPointInArea(y))&&!d)return;const w=o(e,y);w<l?(a=[{element:A,datasetIndex:f,index:p}],l=w):w===l&&a.push({element:A,datasetIndex:f,index:p})}return BE(n,t,e,c),a}function ZC(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?lle(n,e,t,r):cle(n,e,t,i,r,s)}function UD(n,e,t,i,r){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return BE(n,t,e,(l,c,A)=>{l[a]&&l[a](e[t],r)&&(s.push({element:l,datasetIndex:c,index:A}),o=o||l.inRange(e.x,e.y,r))}),i&&!o?[]:s}var ule={modes:{index(n,e,t,i){const r=Qm(e,n),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?YC(n,r,s,i,a):ZC(n,r,s,!1,i,a),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const A=o[0].index,f=c.data[A];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:A})}),l):[]},dataset(n,e,t,i){const r=Qm(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?YC(n,r,s,i,a):ZC(n,r,s,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=n.getDatasetMeta(l).data;o=[];for(let A=0;A<c.length;++A)o.push({element:c[A],datasetIndex:l,index:A})}return o},point(n,e,t,i){const r=Qm(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return YC(n,r,s,i,a)},nearest(n,e,t,i){const r=Qm(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return ZC(n,r,s,t.intersect,i,a)},x(n,e,t,i){const r=Qm(e,n);return UD(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Qm(e,n);return UD(n,r,"y",t.intersect,i)}}};const lz=["left","top","right","bottom"];function Wv(n,e){return n.filter(t=>t.pos===e)}function ND(n,e){return n.filter(t=>lz.indexOf(t.pos)===-1&&t.box.axis===e)}function Xv(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Ale(n){const e=[];let t,i,r,s,a,o;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:a,stackWeight:o=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:o});return e}function fle(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!lz.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function hle(n,e){const t=fle(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:l}=o.box,c=t[o.stack],A=c&&o.stackWeight/c.weight;o.horizontal?(o.width=A?A*i:l&&e.availableWidth,o.height=r):(o.width=i,o.height=A?A*r:l&&e.availableHeight)}return t}function dle(n){const e=Ale(n),t=Xv(e.filter(c=>c.box.fullSize),!0),i=Xv(Wv(e,"left"),!0),r=Xv(Wv(e,"right")),s=Xv(Wv(e,"top"),!0),a=Xv(Wv(e,"bottom")),o=ND(e,"x"),l=ND(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:Wv(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(a).concat(o)}}function FD(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function cz(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function ple(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!vr(r)){t.size&&(n[r]-=t.size);const f=i[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?s.height:s.width),t.size=f.size/f.count,n[r]+=t.size}s.getPadding&&cz(a,s.getPadding());const o=Math.max(0,e.outerWidth-FD(a,n,"left","right")),l=Math.max(0,e.outerHeight-FD(a,n,"top","bottom")),c=o!==n.w,A=l!==n.h;return n.w=o,n.h=l,t.horizontal?{same:c,other:A}:{same:A,other:c}}function mle(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function gle(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return i(n?["left","right"]:["top","bottom"])}function m1(n,e,t,i){const r=[];let s,a,o,l,c,A;for(s=0,a=n.length,c=0;s<a;++s){o=n[s],l=o.box,l.update(o.width||e.w,o.height||e.h,gle(o.horizontal,e));const{same:f,other:p}=ple(e,t,o,i);c|=f&&r.length,A=A||p,l.fullSize||r.push(o)}return c&&m1(r,e,t,i)||A}function Ow(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function ID(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const o of n){const l=o.box,c=i[o.stack]||{placed:0,weight:1},A=o.stackWeight/c.weight||1;if(o.horizontal){const f=e.w*A,p=c.size||l.height;fS(c.start)&&(a=c.start),l.fullSize?Ow(l,r.left,a,t.outerWidth-r.right-r.left,p):Ow(l,e.left+c.placed,a,f,p),c.start=a,c.placed+=f,a=l.bottom}else{const f=e.h*A,p=c.size||l.width;fS(c.start)&&(s=c.start),l.fullSize?Ow(l,s,r.top,p,t.outerHeight-r.bottom-r.top):Ow(l,s,e.top+c.placed,p,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=a}var sA={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=cA(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),o=dle(n.boxes),l=o.vertical,c=o.horizontal;Jr(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const A=l.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/A,hBoxMaxHeight:a/2}),p=Object.assign({},r);cz(p,cA(i));const d=Object.assign({maxPadding:p,w:s,h:a,x:r.left,y:r.top},r),y=hle(l.concat(c),f);m1(o.fullSize,d,f,y),m1(l,d,f,y),m1(c,d,f,y)&&m1(l,d,f,y),mle(d),ID(o.leftAndTop,d,f,y),d.x+=d.w,d.y+=d.h,ID(o.rightAndBottom,d,f,y),n.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Jr(o.chartArea,x=>{const w=x.box;Object.assign(w,n.chartArea),w.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class uz{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class yle extends uz{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const e_="$chartjs",vle={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},LD=n=>n===null||n==="";function xle(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[e_]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",LD(r)){const s=xD(n,"width");s!==void 0&&(n.width=s)}if(LD(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=xD(n,"height");s!==void 0&&(n.height=s)}return n}const Az=Foe?{passive:!0}:!1;function ble(n,e,t){n&&n.addEventListener(e,t,Az)}function wle(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Az)}function _le(n,e){const t=vle[n.type]||n.type,{x:i,y:r}=Qm(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function pS(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Sle(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||pS(o.addedNodes,i),a=a&&!pS(o.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ele(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||pS(o.removedNodes,i),a=a&&!pS(o.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const vx=new Map;let RD=0;function fz(){const n=window.devicePixelRatio;n!==RD&&(RD=n,vx.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ble(n,e){vx.size||window.addEventListener("resize",fz),vx.set(n,e)}function Cle(n){vx.delete(n),vx.size||window.removeEventListener("resize",fz)}function Mle(n,e,t){const i=n.canvas,r=i&&nN(i);if(!r)return;const s=j7((o,l)=>{const c=r.clientWidth;t(o,l),c<r.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,A=l.contentRect.height;c===0&&A===0||s(c,A)});return a.observe(r),Ble(n,s),a}function JC(n,e,t){t&&t.disconnect(),e==="resize"&&Cle(n)}function Tle(n,e,t){const i=n.canvas,r=j7(s=>{n.ctx!==null&&t(_le(s,n))},n);return ble(i,e,r),r}class Ule extends uz{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(xle(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[e_])return!1;const i=t[e_].initial;["height","width"].forEach(s=>{const a=i[s];Ss(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[e_],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),a={attach:Sle,detach:Ele,resize:Mle}[t]||Tle;r[t]=a(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:JC,detach:JC,resize:JC}[t]||wle)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return Noe(e,t,i,r)}isAttached(e){const t=e&&nN(e);return!!(t&&t.isConnected)}}function Nle(n){return!tN()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?yle:Ule}class Lg{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return mx(this.x)&&mx(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function Fle(n,e){const t=n.options.ticks,i=Ile(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?Rle(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>r)return Dle(e,c,s,a/r),c;const A=Lle(s,e,r);if(a>0){let f,p;const d=a>1?Math.round((l-o)/(a-1)):null;for(Pw(e,c,A,Ss(d)?0:o-d,o),f=0,p=a-1;f<p;f++)Pw(e,c,A,s[f],s[f+1]);return Pw(e,c,A,l,Ss(d)?e.length:l+d),c}return Pw(e,c,A),c}function Ile(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function Lle(n,e,t){const i=Ole(n),r=e.length/t;if(!i)return Math.max(r,1);const s=Cae(i);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>r)return l}return Math.max(r,1)}function Rle(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Dle(n,e,t,i){let r=0,s=t[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}function Pw(n,e,t,i,r){const s=mr(i,0),a=Math.min(mr(r,n.length),n.length);let o=0,l,c,A;for(t=Math.ceil(t),r&&(l=r-i,t=l/Math.floor(l/t)),A=s;A<0;)o++,A=Math.round(s+o*t);for(c=Math.max(s,0);c<a;c++)c===A&&(e.push(n[c]),o++,A=Math.round(s+o*t))}function Ole(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Ple=n=>n==="left"?"right":n==="right"?"left":n,DD=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,OD=(n,e)=>Math.min(e||n,n);function PD(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function kle(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,o=1e-6;let l=n.getPixelForTick(r),c;if(!(t&&(i===1?c=Math.max(l-s,a-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-o||l>a+o)))return l}function Hle(n,e){Jr(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function Yv(n){return n.drawTicks?n.tickLength:0}function kD(n,e){if(!n.display)return 0;const t=Ml(n.font,e),i=cA(n.padding);return(Ao(n.text)?n.text.length:1)*t.lineHeight+i.height}function Qle(n,e){return Ig(n,{scale:e,type:"scale"})}function zle(n,e,t){return Ig(n,{tick:t,index:e,type:"tick"})}function jle(n,e,t){let i=YU(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Ple(i)),i}function Vle(n,e,t,i){const{top:r,left:s,bottom:a,right:o,chart:l}=n,{chartArea:c,scales:A}=l;let f=0,p,d,y;const x=a-r,w=o-s;if(n.isHorizontal()){if(d=Bl(i,s,o),vr(t)){const b=Object.keys(t)[0],_=t[b];y=A[b].getPixelForValue(_)+x-e}else t==="center"?y=(c.bottom+c.top)/2+x-e:y=DD(n,t,e);p=o-s}else{if(vr(t)){const b=Object.keys(t)[0],_=t[b];d=A[b].getPixelForValue(_)-w+e}else t==="center"?d=(c.left+c.right)/2-w+e:d=DD(n,t,e);y=Bl(i,a,r),f=t==="left"?-XA:XA}return{titleX:d,titleY:y,maxWidth:p,rotation:f}}class Yy extends Lg{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=If(e,Number.POSITIVE_INFINITY),t=If(t,Number.NEGATIVE_INFINITY),i=If(i,Number.POSITIVE_INFINITY),r=If(r,Number.NEGATIVE_INFINITY),{min:If(e,i),max:If(t,r),minDefined:Tl(e),maxDefined:Tl(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:t,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:If(t,If(i,t)),max:If(i,If(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ns(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=coe(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?PD(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Fle(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ns(this.options.afterUpdate,[this])}beforeSetDimensions(){Ns(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ns(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ns(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ns(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ns(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ns(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ns(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=OD(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let a=r,o,l,c;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const A=this._getLabelSizes(),f=A.widest.width,p=A.highest.height,d=rA(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/i:d/(i-1),f+6>o&&(o=d/(i-(e.offset?.5:1)),l=this.maxHeight-Yv(e.grid)-t.padding-kD(e.title,this.chart.options.font),c=Math.sqrt(f*f+p*p),a=Nae(Math.min(Math.asin(rA((A.highest.height+6)/o,-1,1)),Math.asin(rA(l/c,-1,1))-Math.asin(rA(p/c,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ns(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ns(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=kD(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=Yv(s)+l):(e.height=this.maxHeight,e.width=Yv(s)+l),i.display&&this.ticks.length){const{first:c,last:A,widest:f,highest:p}=this._getLabelSizes(),d=i.padding*2,y=tg(this.labelRotation),x=Math.cos(y),w=Math.sin(y);if(o){const b=i.mirror?0:w*f.width+x*p.height;e.height=Math.min(this.maxHeight,e.height+b+d)}else{const b=i.mirror?0:x*f.width+w*p.height;e.width=Math.min(this.maxWidth,e.width+b+d)}this._calculatePadding(c,A,w,x)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,d=0;l?c?(p=r*e.width,d=i*t.height):(p=i*e.height,d=r*t.width):s==="start"?d=t.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,d=t.width/2),this.paddingLeft=Math.max((p-A+a)*this.width/(this.width-A),0),this.paddingRight=Math.max((d-f+a)*this.width/(this.width-f),0)}else{let A=t.height/2,f=e.height/2;s==="start"?(A=0,f=e.height):s==="end"&&(A=t.height,f=0),this.paddingTop=A+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ns(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ss(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=PD(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(t/OD(t,i));let c=0,A=0,f,p,d,y,x,w,b,_,E,C,T;for(f=0;f<t;f+=l){if(y=e[f].label,x=this._resolveTickFontOptions(f),r.font=w=x.string,b=s[w]=s[w]||{data:{},gc:[]},_=x.lineHeight,E=C=0,!Ss(y)&&!Ao(y))E=pD(r,b.data,b.gc,E,y),C=_;else if(Ao(y))for(p=0,d=y.length;p<d;++p)T=y[p],!Ss(T)&&!Ao(T)&&(E=pD(r,b.data,b.gc,E,T),C+=_);a.push(E),o.push(C),c=Math.max(E,c),A=Math.max(C,A)}Hle(s,t);const M=a.indexOf(c),F=o.indexOf(A),L=N=>({width:a[N]||0,height:o[N]||0});return{first:L(0),last:L(t-1),widest:L(M),highest:L(F),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Lae(this._alignToPixels?Rm(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=zle(this.getContext(),e,i))}return this.$context||(this.$context=Qle(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=tg(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:o}=r,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),p=Yv(s),d=[],y=o.setContext(this.getContext()),x=y.display?y.width:0,w=x/2,b=function(W){return Rm(i,W,x)};let _,E,C,T,M,F,L,N,R,k,Q,J;if(a==="top")_=b(this.bottom),F=this.bottom-p,N=_-w,k=b(e.top)+w,J=e.bottom;else if(a==="bottom")_=b(this.top),k=e.top,J=b(e.bottom)-w,F=_+w,N=this.top+p;else if(a==="left")_=b(this.right),M=this.right-p,L=_-w,R=b(e.left)+w,Q=e.right;else if(a==="right")_=b(this.left),R=e.left,Q=b(e.right)-w,M=_+w,L=this.left+p;else if(t==="x"){if(a==="center")_=b((e.top+e.bottom)/2+.5);else if(vr(a)){const W=Object.keys(a)[0],q=a[W];_=b(this.chart.scales[W].getPixelForValue(q))}k=e.top,J=e.bottom,F=_+w,N=F+p}else if(t==="y"){if(a==="center")_=b((e.left+e.right)/2);else if(vr(a)){const W=Object.keys(a)[0],q=a[W];_=b(this.chart.scales[W].getPixelForValue(q))}M=_-w,L=M-p,R=e.left,Q=e.right}const Y=mr(r.ticks.maxTicksLimit,f),ne=Math.max(1,Math.ceil(f/Y));for(E=0;E<f;E+=ne){const W=this.getContext(E),q=s.setContext(W),$=o.setContext(W),re=q.lineWidth,V=q.color,te=$.dash||[],z=$.dashOffset,j=q.tickWidth,oe=q.tickColor,fe=q.tickBorderDash||[],ue=q.tickBorderDashOffset;C=kle(this,E,l),C!==void 0&&(T=Rm(i,C,re),c?M=L=R=Q=T:F=N=k=J=T,d.push({tx1:M,ty1:F,tx2:L,ty2:N,x1:R,y1:k,x2:Q,y2:J,width:re,color:V,borderDash:te,borderDashOffset:z,tickWidth:j,tickColor:oe,tickBorderDash:fe,tickBorderDashOffset:ue}))}return this._ticksLength=f,this._borderValue=_,d}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:A,mirror:f}=s,p=Yv(i.grid),d=p+A,y=f?-A:d,x=-tg(this.labelRotation),w=[];let b,_,E,C,T,M,F,L,N,R,k,Q,J="middle";if(r==="top")M=this.bottom-y,F=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+y,F=this._getXAxisLabelAlignment();else if(r==="left"){const ne=this._getYAxisLabelAlignment(p);F=ne.textAlign,T=ne.x}else if(r==="right"){const ne=this._getYAxisLabelAlignment(p);F=ne.textAlign,T=ne.x}else if(t==="x"){if(r==="center")M=(e.top+e.bottom)/2+d;else if(vr(r)){const ne=Object.keys(r)[0],W=r[ne];M=this.chart.scales[ne].getPixelForValue(W)+d}F=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")T=(e.left+e.right)/2-d;else if(vr(r)){const ne=Object.keys(r)[0],W=r[ne];T=this.chart.scales[ne].getPixelForValue(W)}F=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const Y=this._getLabelSizes();for(b=0,_=o.length;b<_;++b){E=o[b],C=E.label;const ne=s.setContext(this.getContext(b));L=this.getPixelForTick(b)+s.labelOffset,N=this._resolveTickFontOptions(b),R=N.lineHeight,k=Ao(C)?C.length:1;const W=k/2,q=ne.color,$=ne.textStrokeColor,re=ne.textStrokeWidth;let V=F;a?(T=L,F==="inner"&&(b===_-1?V=this.options.reverse?"left":"right":b===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?c==="near"||x!==0?Q=-k*R+R/2:c==="center"?Q=-Y.highest.height/2-W*R+R:Q=-Y.highest.height+R/2:c==="near"||x!==0?Q=R/2:c==="center"?Q=Y.highest.height/2-W*R:Q=Y.highest.height-k*R,f&&(Q*=-1),x!==0&&!ne.showLabelBackdrop&&(T+=R/2*Math.sin(x))):(M=L,Q=(1-k)*R/2);let te;if(ne.showLabelBackdrop){const z=cA(ne.backdropPadding),j=Y.heights[b],oe=Y.widths[b];let fe=Q-z.top,ue=0-z.left;switch(J){case"middle":fe-=j/2;break;case"bottom":fe-=j;break}switch(F){case"center":ue-=oe/2;break;case"right":ue-=oe;break;case"inner":b===_-1?ue-=oe:b>0&&(ue-=oe/2);break}te={left:ue,top:fe,width:oe+z.width,height:j+z.height,color:ne.backdropColor}}w.push({label:C,font:N,textOffset:Q,options:{rotation:x,color:q,strokeColor:$,strokeWidth:re,textAlign:V,textBaseline:J,translation:[T,M],backdrop:te}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-tg(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,A;return t==="left"?r?(A=this.right+s,i==="near"?c="left":i==="center"?(c="center",A+=l/2):(c="right",A+=l)):(A=this.right-o,i==="near"?c="right":i==="center"?(c="center",A-=l/2):(c="left",A=this.left)):t==="right"?r?(A=this.left+s,i==="near"?c="right":i==="center"?(c="center",A-=l/2):(c="left",A-=l)):(A=this.left+o,i==="near"?c="left":i==="center"?(c="center",A+=l/2):(c="right",A=this.right)):c="right",{textAlign:c,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,A)=>{!A.width||!A.color||(i.save(),i.lineWidth=A.width,i.strokeStyle=A.color,i.setLineDash(A.borderDash||[]),i.lineDashOffset=A.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const l=r[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,A,f,p;this.isHorizontal()?(c=Rm(e,this.left,a)-a/2,A=Rm(e,this.right,o)+o/2,f=p=l):(f=Rm(e,this.top,a)-a/2,p=Rm(e,this.bottom,o)+o/2,c=A=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,f),t.lineTo(A,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&_E(i,r);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,A=a.textOffset;yx(i,c,0,A,l,o)}r&&SE(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Ml(i.font),a=cA(i.padding),o=i.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||vr(t)?(l+=a.bottom,Ao(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:A,maxWidth:f,rotation:p}=Vle(this,l,t,o);yx(e,i.text,0,0,s,{color:i.color,maxWidth:f,rotation:p,textAlign:jle(o,t,r),textBaseline:"middle",translation:[c,A]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=mr(e.grid&&e.grid.z,-1),r=mr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yy.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ml(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kw{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;qle(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Gle(e,a,i),this.override&&Qa.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Qa[r]&&(delete Qa[r][i],this.override&&delete _g[i])}}function Gle(n,e,t){const i=px(Object.create(null),[t?Qa.get(t):{},Qa.get(e),n.defaults]);Qa.set(e,i),n.defaultRoutes&&Kle(e,n.defaultRoutes),n.descriptors&&Qa.describe(e,n.descriptors)}function Kle(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");Qa.route(s,r,l,o)})}function qle(n){return"id"in n&&"defaults"in n}class Wle{constructor(){this.controllers=new kw(oz,"datasets",!0),this.elements=new kw(Lg,"elements"),this.plugins=new kw(Object,"plugins"),this.scales=new kw(Yy,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Jr(r,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,i){const r=WU(e);Ns(i["before"+r],[],i),t[e](i),Ns(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var kf=new Wle;class Xle{constructor(){this._init=void 0}notify(e,t,i,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin,o=a[i],l=[t,r,s.options];if(Ns(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Ss(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=mr(i.options&&i.options.plugins,{}),s=Yle(i);return r===!1&&!t?[]:Jle(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function Yle(n){const e={},t=[],i=Object.keys(kf.plugins.items);for(let s=0;s<i.length;s++)t.push(kf.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function Zle(n,e){return!e&&n===!1?null:n===!0?{}:n}function Jle(n,{plugins:e,localIds:t},i,r){const s=[],a=n.getContext();for(const o of e){const l=o.id,c=Zle(i[l],r);c!==null&&s.push({plugin:o,options:$le(n.config,{plugin:o,local:t[l]},c,a)})}return s}function $le(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(i,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function IT(n,e){const t=Qa.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ece(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function tce(n,e){return n===e?"_index_":"_value_"}function HD(n){if(n==="x"||n==="y"||n==="r")return n}function nce(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function LT(n,...e){if(HD(n))return n;for(const t of e){const i=t.axis||nce(t.position)||n.length>1&&HD(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function QD(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function ice(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return QD(n,"x",t[0])||QD(n,"y",t[0])}return{}}function rce(n,e){const t=_g[n.type]||{scales:{}},i=e.scales||{},r=IT(n.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!vr(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=LT(a,o,ice(a,n),Qa.scales[o.type]),c=tce(l,r),A=t.scales||{};s[a]=O1(Object.create(null),[{axis:l},o,A[l],A[c]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,l=a.indexAxis||IT(o,e),A=(_g[o]||{}).scales||{};Object.keys(A).forEach(f=>{const p=ece(f,l),d=a[p+"AxisID"]||p;s[d]=s[d]||Object.create(null),O1(s[d],[{axis:p},i[d],A[f]])})}),Object.keys(s).forEach(a=>{const o=s[a];O1(o,[Qa.scales[o.type],Qa.scale])}),s}function hz(n){const e=n.options||(n.options={});e.plugins=mr(e.plugins,{}),e.scales=rce(n,e)}function dz(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function sce(n){return n=n||{},n.data=dz(n.data),hz(n),n}const zD=new Map,pz=new Set;function Hw(n,e){let t=zD.get(n);return t||(t=e(),zD.set(n,t),pz.add(t)),t}const Zv=(n,e,t)=>{const i=AS(e,t);i!==void 0&&n.add(i)};class ace{constructor(e){this._config=sce(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dz(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hz(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Hw(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Hw(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Hw(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),o=a.get(t);if(o)return o;const l=new Set;t.forEach(A=>{e&&(l.add(e),A.forEach(f=>Zv(l,e,f))),A.forEach(f=>Zv(l,r,f)),A.forEach(f=>Zv(l,_g[s]||{},f)),A.forEach(f=>Zv(l,Qa,f)),A.forEach(f=>Zv(l,UT,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),pz.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,_g[t]||{},Qa.datasets[t]||{},{type:t},Qa,UT]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=jD(this._resolverCache,e,r);let l=a;if(lce(a,t)){s.$shared=!1,i=Dp(i)?i():i;const c=this.createResolver(e,i,o);l=Oy(a,i,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,i=[""],r){const{resolver:s}=jD(this._resolverCache,e,i);return vr(t)?Oy(s,t,void 0,r):s}}function jD(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:JU(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,s)),s}const oce=n=>vr(n)&&Object.getOwnPropertyNames(n).some(e=>Dp(n[e]));function lce(n,e){const{isScriptable:t,isIndexable:i}=W7(n);for(const r of e){const s=t(r),a=i(r),o=(a||s)&&n[r];if(s&&(Dp(o)||oce(o))||a&&Ao(o))return!0}return!1}var cce="4.5.1";const uce=["top","bottom","left","right","chartArea"];function VD(n,e){return n==="top"||n==="bottom"||uce.indexOf(n)===-1&&e==="x"}function GD(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function KD(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ns(t&&t.onComplete,[n],e)}function Ace(n){const e=n.chart,t=e.options.animation;Ns(t&&t.onProgress,[n],e)}function mz(n){return tN()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const t_={},qD=n=>{const e=mz(n);return Object.values(t_).filter(t=>t.canvas===e).pop()};function fce(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}function hce(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Zy=class{static defaults=Qa;static instances=t_;static overrides=_g;static registry=kf;static version=cce;static getChart=qD;static register(...e){kf.add(...e),WD()}static unregister(...e){kf.remove(...e),WD()}constructor(e,t){const i=this.config=new ace(t),r=mz(e),s=qD(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Nle(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,A=l&&l.width;if(this.id=yae(),this.ctx=o,this.canvas=l,this.width=A,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xle,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kae(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],t_[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zh.listen(this,"complete",KD),Zh.listen(this,"progress",Ace),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Ss(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kf}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mD(this.canvas,this.ctx),this}stop(){return Zh.stop(this),this}resize(e,t){Zh.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,vD(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ns(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Jr(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],l=LT(a,o),c=l==="r",A=l==="x";return{options:o,dposition:c?"chartArea":A?"bottom":"left",dtype:c?"radialLinear":A?"category":"linear"}}))),Jr(s,a=>{const o=a.options,l=o.id,c=LT(l,o),A=mr(o.type,a.dtype);(o.position===void 0||VD(o.position,c)!==VD(a.dposition))&&(o.position=a.dposition),r[l]=!0;let f=null;if(l in i&&i[l].type===A)f=i[l];else{const p=kf.getScale(A);f=new p({id:l,type:A,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(o,e)}),Jr(r,(a,o)=>{a||delete i[o]}),Jr(i,a=>{sA.configure(this,a,a.options),sA.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(GD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=s.indexAxis||IT(o,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=kf.getController(o),{datasetElementType:c,dataElementType:A}=Qa.datasets[o];Object.assign(l,{dataElementType:kf.getElement(A),datasetElementType:c&&kf.getElement(c)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Jr(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,A=this.data.datasets.length;c<A;c++){const{controller:f}=this.getDatasetMeta(c),p=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Jr(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(GD("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Jr(this.scales,e=>{sA.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!aD(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const a=i==="_removeElements"?-s:s;fce(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!aD(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;sA.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Jr(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Dp(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zh.has(this)?this.attached&&!Zh.running(this)&&Zh.start(this):(this.draw(),KD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=rz(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&_E(t,r),e.controller.draw(),r&&SE(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return gx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=ule.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ig(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);fS(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Zh.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mD(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete t_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Jr(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){Jr(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Jr(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,o,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!cS(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(l,c)=>l.filter(A=>!c.some(f=>A.datasetIndex===f.datasetIndex&&A.index===f.index)),a=s(t,e),o=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,a=t,o=this._getActiveElements(e,r,i,a),l=Sae(e),c=hce(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Ns(s.onHover,[e,o,this],this),l&&Ns(s.onClick,[e,o,this],this));const A=!cS(o,r);return(A||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=c,A}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function WD(){return Jr(Zy.instances,n=>n._plugins.invalidate())}function gz(n,e,t=e){n.lineCap=mr(t.borderCapStyle,e.borderCapStyle),n.setLineDash(mr(t.borderDash,e.borderDash)),n.lineDashOffset=mr(t.borderDashOffset,e.borderDashOffset),n.lineJoin=mr(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=mr(t.borderWidth,e.borderWidth),n.strokeStyle=mr(t.borderColor,e.borderColor)}function dce(n,e,t){n.lineTo(t.x,t.y)}function pce(n){return n.stepped?$ae:n.tension||n.cubicInterpolationMode==="monotone"?eoe:dce}function yz(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:a,end:o}=e,l=Math.max(r,a),c=Math.min(s,o),A=r<a&&s<a||r>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!A?i+c-l:c-l}}function mce(n,e,t,i){const{points:r,options:s}=e,{count:a,start:o,loop:l,ilen:c}=yz(r,t,i),A=pce(s);let{move:f=!0,reverse:p}=i||{},d,y,x;for(d=0;d<=c;++d)y=r[(o+(p?c-d:d))%a],!y.skip&&(f?(n.moveTo(y.x,y.y),f=!1):A(n,x,y,p,s.stepped),x=y);return l&&(y=r[(o+(p?c:0))%a],A(n,x,y,p,s.stepped)),!!l}function gce(n,e,t,i){const r=e.points,{count:s,start:a,ilen:o}=yz(r,t,i),{move:l=!0,reverse:c}=i||{};let A=0,f=0,p,d,y,x,w,b;const _=C=>(a+(c?o-C:C))%s,E=()=>{x!==w&&(n.lineTo(A,w),n.lineTo(A,x),n.lineTo(A,b))};for(l&&(d=r[_(0)],n.moveTo(d.x,d.y)),p=0;p<=o;++p){if(d=r[_(p)],d.skip)continue;const C=d.x,T=d.y,M=C|0;M===y?(T<x?x=T:T>w&&(w=T),A=(f*A+C)/++f):(E(),n.lineTo(C,T),y=M,f=0,x=w=T),b=T}E()}function RT(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?gce:mce}function yce(n){return n.stepped?Ioe:n.tension||n.cubicInterpolationMode==="monotone"?Loe:zm}function vce(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),gz(n,e.options),n.stroke(r)}function xce(n,e,t,i){const{segments:r,options:s}=e,a=RT(e);for(const o of r)gz(n,s,o.style),n.beginPath(),a(n,e,o,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const bce=typeof Path2D=="function";function wce(n,e,t,i){bce&&!e.options.segment?vce(n,e,t,i):xce(n,e,t,i)}class Xx extends Lg{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Eoe(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Hoe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,a=iz(this,{property:t,start:r,end:r});if(!a.length)return;const o=[],l=yce(i);let c,A;for(c=0,A=a.length;c<A;++c){const{start:f,end:p}=a[c],d=s[f],y=s[p];if(d===y){o.push(d);continue}const x=Math.abs((r-d[t])/(y[t]-d[t])),w=l(d,y,x,i.stepped);w[t]=e[t],o.push(w)}return o.length===1?o[0]:o}pathSegment(e,t,i){return RT(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=RT(this);let a=this._loop;t=t||0,i=i||this.points.length-t;for(const o of r)a&=s(e,this,o,{start:t,end:t+i-1});return!!a}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),wce(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function XD(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class vz extends Lg{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return XD(this,e,"x",t)}inYRange(e,t){return XD(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!gx(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,NT(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function _ce(n,e,t){const i=n.segments,r=n.points,s=e.points,a=[];for(const o of i){let{start:l,end:c}=o;c=CE(l,c,r);const A=DT(t,r[l],r[c],o.loop);if(!e.segments){a.push({source:o,target:A,start:r[l],end:r[c]});continue}const f=iz(e,A);for(const p of f){const d=DT(t,s[p.start],s[p.end],p.loop),y=nz(o,r,d);for(const x of y)a.push({source:x,target:p,start:{[t]:YD(A,d,"start",Math.max)},end:{[t]:YD(A,d,"end",Math.min)}})}}return a}function DT(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=Qf(r),s=Qf(s)),{property:n,start:r,end:s}}function Sce(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=CE(a,o,r);const l=r[a],c=r[o];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function CE(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function YD(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function xz(n,e){let t=[],i=!1;return Ao(n)?(i=!0,t=n):t=Sce(n,e),t.length?new Xx({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function ZD(n){return n&&n.fill!==!1}function Ece(n,e,t){let r=n[e].fill;const s=[e];let a;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Tl(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Bce(n,e,t){const i=Uce(n);if(vr(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Tl(r)&&Math.floor(r)===r?Cce(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Cce(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function Mce(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:vr(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Tce(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:vr(n)?i=n.value:i=e.getBaseValue(),i}function Uce(n){const e=n.options,t=e.fill;let i=mr(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Nce(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,a=i.points,o=Fce(e,t);o.push(xz({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let A=c.start;A<=c.end;A++)Ice(r,a[A],o)}return new Xx({points:r,options:{}})}function Fce(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Ice(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:a,last:o,point:l}=Lce(s,e,"x");if(!(!l||a&&o)){if(a)i.unshift(l);else if(n.push(l),!o)break}}n.push(...i)}function Lce(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,a=n.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const A=s[c],f=a[A.start][t],p=a[A.end][t];if(ry(r,f,p)){o=r===f,l=r===p;break}}return{first:o,last:l,point:i}}class bz{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:a}=this;return t=t||{start:0,end:ZA},e.arc(r,s,a,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function Rce(n){const{chart:e,fill:t,line:i}=n;if(Tl(t))return Dce(e,t);if(t==="stack")return Nce(n);if(t==="shape")return!0;const r=Oce(n);return r instanceof bz?r:xz(r,i)}function Dce(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Oce(n){return(n.scale||{}).getPointPositionForValue?kce(n):Pce(n)}function Pce(n){const{scale:e={},fill:t}=n,i=Mce(t,e);if(Tl(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function kce(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=Tce(t,e,s),o=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new bz({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)o.push(e.getPointPositionForValue(l,a));return o}function $C(n,e,t){const i=Rce(e),{chart:r,index:s,line:a,scale:o,axis:l}=e,c=a.options,A=c.fill,f=c.backgroundColor,{above:p=f,below:d=f}=A||{},y=r.getDatasetMeta(s),x=rz(r,y);i&&a.points.length&&(_E(n,t),Hce(n,{line:a,target:i,above:p,below:d,area:t,scale:o,axis:l,clip:x}),SE(n))}function Hce(n,e){const{line:t,target:i,above:r,below:s,area:a,scale:o,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let A=s;s!==r&&(c==="x"?(JD(n,i,a.top),e3(n,{line:t,target:i,color:r,scale:o,property:c,clip:l}),n.restore(),n.save(),JD(n,i,a.bottom)):c==="y"&&($D(n,i,a.left),e3(n,{line:t,target:i,color:s,scale:o,property:c,clip:l}),n.restore(),n.save(),$D(n,i,a.right),A=r)),e3(n,{line:t,target:i,color:A,scale:o,property:c,clip:l}),n.restore()}function JD(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const o of i){const{start:l,end:c}=o,A=r[l],f=r[CE(l,c,r)];s?(n.moveTo(A.x,A.y),s=!1):(n.lineTo(A.x,t),n.lineTo(A.x,A.y)),a=!!e.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(f.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function $D(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const o of i){const{start:l,end:c}=o,A=r[l],f=r[CE(l,c,r)];s?(n.moveTo(A.x,A.y),s=!1):(n.lineTo(t,A.y),n.lineTo(A.x,A.y)),a=!!e.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(t,f.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function e3(n,e){const{line:t,target:i,property:r,color:s,scale:a,clip:o}=e,l=_ce(t,i,r);for(const{source:c,target:A,start:f,end:p}of l){const{style:{backgroundColor:d=s}={}}=c,y=i!==!0;n.save(),n.fillStyle=d,Qce(n,a,o,y&&DT(r,f,p)),n.beginPath();const x=!!t.pathSegment(n,c);let w;if(y){x?n.closePath():eO(n,i,p,r);const b=!!i.pathSegment(n,A,{move:x,reverse:!0});w=x&&b,w||eO(n,i,f,r)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function Qce(n,e,t,i){const r=e.chart.chartArea,{property:s,start:a,end:o}=i||{};if(s==="x"||s==="y"){let l,c,A,f;s==="x"?(l=a,c=r.top,A=o,f=r.bottom):(l=r.left,c=a,A=r.right,f=o),n.beginPath(),t&&(l=Math.max(l,t.left),A=Math.min(A,t.right),c=Math.max(c,t.top),f=Math.min(f,t.bottom)),n.rect(l,c,A-l,f-c),n.clip()}}function eO(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var wz={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,a,o,l;for(a=0;a<i;++a)s=n.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Xx&&(l={visible:n.isDatasetVisible(a),index:a,fill:Bce(o,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,r.push(l);for(a=0;a<i;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=Ece(r,a,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),i&&o.fill&&$C(n.ctx,o,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;ZD(s)&&$C(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!ZD(i)||t.drawTime!=="beforeDatasetDraw"||$C(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tO=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},zce=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class nO extends Lg{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ns(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Ml(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=tO(i,s);let c,A;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,A=this._fitRows(a,s,o,l)+10):(A=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(A,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],A=r+o;let f=e;s.textAlign="left",s.textBaseline="middle";let p=-1,d=-A;return this.legendItems.forEach((y,x)=>{const w=i+t/2+s.measureText(y.text).width;(x===0||c[c.length-1]+w+2*o>a)&&(f+=A,c[c.length-(x>0?0:1)]=0,d+=A,p++),l[x]={left:0,top:d,row:p,width:w,height:r},c[c.length-1]+=w+o}),f}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],A=a-e;let f=o,p=0,d=0,y=0,x=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:_,itemHeight:E}=jce(i,t,s,w,r);b>0&&d+E+2*o>A&&(f+=p+o,c.push({width:p,height:d}),y+=p+o,x++,p=d=0),l[b]={left:y,top:d,col:x,width:_,height:E},p=Math.max(p,_),d+=E+o}),f+=p,c.push({width:p,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Ay(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Bl(i,this.left+r,this.right-this.lineWidths[o]);for(const c of t)o!==c.row&&(o=c.row,l=Bl(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let o=0,l=Bl(i,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of t)c.col!==o&&(o=c.col,l=Bl(i,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_E(e,this),this._draw(),SE(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,o=Qa.color,l=Ay(e.rtl,this.left,this.width),c=Ml(a.font),{padding:A}=a,f=c.size,p=f/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:x,itemHeight:w}=tO(a,f),b=function(M,F,L){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;r.save();const N=mr(L.lineWidth,1);if(r.fillStyle=mr(L.fillStyle,o),r.lineCap=mr(L.lineCap,"butt"),r.lineDashOffset=mr(L.lineDashOffset,0),r.lineJoin=mr(L.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=mr(L.strokeStyle,o),r.setLineDash(mr(L.lineDash,[])),a.usePointStyle){const R={radius:x*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:N},k=l.xPlus(M,y/2),Q=F+p;K7(r,R,k,Q,a.pointStyleWidth&&y)}else{const R=F+Math.max((f-x)/2,0),k=l.leftForLtr(M,y),Q=Q1(L.borderRadius);r.beginPath(),Object.values(Q).some(J=>J!==0)?FT(r,{x:k,y:R,w:y,h:x,radius:Q}):r.rect(k,R,y,x),r.fill(),N!==0&&r.stroke()}r.restore()},_=function(M,F,L){yx(r,L.text,M,F+w/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},E=this.isHorizontal(),C=this._computeTitleHeight();E?d={x:Bl(s,this.left+A,this.right-i[0]),y:this.top+A+C,line:0}:d={x:this.left+A,y:Bl(s,this.top+C+A,this.bottom-t[0].height),line:0},$7(this.ctx,e.textDirection);const T=w+A;this.legendItems.forEach((M,F)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const L=r.measureText(M.text).width,N=l.textAlign(M.textAlign||(M.textAlign=a.textAlign)),R=y+p+L;let k=d.x,Q=d.y;l.setWidth(this.width),E?F>0&&k+R+A>this.right&&(Q=d.y+=T,d.line++,k=d.x=Bl(s,this.left+A,this.right-i[d.line])):F>0&&Q+T>this.bottom&&(k=d.x=k+t[d.line].width+A,d.line++,Q=d.y=Bl(s,this.top+C+A,this.bottom-t[d.line].height));const J=l.x(k);if(b(J,Q,M),k=Hae(N,k+y+p,E?k+R:this.right,e.rtl),_(l.x(k),Q,M),E)d.x+=R+A;else if(typeof M.text!="string"){const Y=c.lineHeight;d.y+=_z(M,Y)+A}else d.y+=T}),ez(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ml(t.font),r=cA(t.padding);if(!t.display)return;const s=Ay(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=i.size/2,c=r.top+l;let A,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),A=this.top+c,f=Bl(e.align,f,this.right-p);else{const y=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);A=c+Bl(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const d=Bl(o,f,f+p);a.textAlign=s.textAlign(YU(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,yx(a,t.text,d,A,i)}_computeTitleHeight(){const e=this.options.title,t=Ml(e.font),i=cA(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(ry(e,this.left,this.right)&&ry(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ry(e,r.left,r.left+r.width)&&ry(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!Kce(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=zce(r,i);r&&!s&&Ns(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ns(t.onHover,[e,i,this],this)}else i&&Ns(t.onClick,[e,i,this],this)}}function jce(n,e,t,i,r){const s=Vce(i,n,e,t),a=Gce(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function Vce(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+i.measureText(r).width}function Gce(n,e,t){let i=n;return typeof e.text!="string"&&(i=_z(e,t)),i}function _z(n,e){const t=n.text?n.text.length:0;return e*t}function Kce(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Sz={id:"legend",_element:nO,start(n,e,t){const i=n.legend=new nO({ctx:n.ctx,options:t,chart:n});sA.configure(n,i,t),sA.addBox(n,i)},stop(n){sA.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;sA.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),A=cA(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Ez extends Lg{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Ao(i.text)?i.text.length:1;this._padding=cA(i.padding);const s=r*Ml(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:a}=this,o=a.align;let l=0,c,A,f;return this.isHorizontal()?(A=Bl(o,i,s),f=t+e,c=s-i):(a.position==="left"?(A=i+e,f=Bl(o,r,t),l=Lo*-.5):(A=s-e,f=Bl(o,t,r),l=Lo*.5),c=r-t),{titleX:A,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ml(t.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);yx(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:c,textAlign:YU(t.align),textBaseline:"middle",translation:[a,o]})}}function qce(n,e){const t=new Ez({ctx:n.ctx,options:e,chart:n});sA.configure(n,t,e),sA.addBox(n,t),n.titleBlock=t}var Bz={id:"title",_element:Ez,start(n,e,t){qce(n,t)},stop(n){const e=n.titleBlock;sA.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;sA.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const g1={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),A=TT(e,c);A<r&&(r=A,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Df(n,e){return e&&(Ao(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Jh(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Wce(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function iO(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:o}=e,l=Ml(e.bodyFont),c=Ml(e.titleFont),A=Ml(e.footerFont),f=s.length,p=r.length,d=i.length,y=cA(e.padding);let x=y.height,w=0,b=i.reduce((C,T)=>C+T.before.length+T.lines.length+T.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,f&&(x+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;x+=d*C+(b-d)*l.lineHeight+(b-1)*e.bodySpacing}p&&(x+=e.footerMarginTop+p*A.lineHeight+(p-1)*e.footerSpacing);let _=0;const E=function(C){w=Math.max(w,t.measureText(C).width+_)};return t.save(),t.font=c.string,Jr(n.title,E),t.font=l.string,Jr(n.beforeBody.concat(n.afterBody),E),_=e.displayColors?a+2+e.boxPadding:0,Jr(i,C=>{Jr(C.before,E),Jr(C.lines,E),Jr(C.after,E)}),_=0,t.font=A.string,Jr(n.footer,E),t.restore(),w+=y.width,{width:w,height:x}}function Xce(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Yce(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if(n==="left"&&r+s+a>e.width||n==="right"&&r-s-a<0)return!0}function Zce(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:o,right:l}}=n;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=s/2?c="left":r>=a-s/2&&(c="right"),Yce(c,n,e,t)&&(c="center"),c}function rO(n,e,t){const i=t.yAlign||e.yAlign||Xce(n,t);return{xAlign:t.xAlign||e.xAlign||Zce(n,e,t,i),yAlign:i}}function Jce(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function $ce(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function sO(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:l}=t,c=r+s,{topLeft:A,topRight:f,bottomLeft:p,bottomRight:d}=Q1(a);let y=Jce(e,o);const x=$ce(e,l,c);return l==="center"?o==="left"?y+=c:o==="right"&&(y-=c):o==="left"?y-=Math.max(A,p)+r:o==="right"&&(y+=Math.max(f,d)+r),{x:rA(y,0,i.width-e.width),y:rA(x,0,i.height-e.height)}}function Qw(n,e,t){const i=cA(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function aO(n){return Df([],Jh(n))}function eue(n,e,t){return Ig(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function oO(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Cz={beforeTitle:Vh,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Vh,beforeBody:Vh,beforeLabel:Vh,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ss(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Vh,afterBody:Vh,beforeFooter:Vh,footer:Vh,afterFooter:Vh};function Oc(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?Cz[e].call(t,i):r}class lO extends Lg{static positioners=g1;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new sz(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=eue(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Oc(i,"beforeTitle",this,e),s=Oc(i,"title",this,e),a=Oc(i,"afterTitle",this,e);let o=[];return o=Df(o,Jh(r)),o=Df(o,Jh(s)),o=Df(o,Jh(a)),o}getBeforeBody(e,t){return aO(Oc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Jr(e,s=>{const a={before:[],lines:[],after:[]},o=oO(i,s);Df(a.before,Jh(Oc(o,"beforeLabel",this,s))),Df(a.lines,Oc(o,"label",this,s)),Df(a.after,Jh(Oc(o,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return aO(Oc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Oc(i,"beforeFooter",this,e),s=Oc(i,"footer",this,e),a=Oc(i,"afterFooter",this,e);let o=[];return o=Df(o,Jh(r)),o=Df(o,Jh(s)),o=Df(o,Jh(a)),o}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],a=[];let o=[],l,c;for(l=0,c=t.length;l<c;++l)o.push(Wce(this.chart,t[l]));return e.filter&&(o=o.filter((A,f,p)=>e.filter(A,f,p,i))),e.itemSort&&(o=o.sort((A,f)=>e.itemSort(A,f,i))),Jr(o,A=>{const f=oO(e.callbacks,A);r.push(Oc(f,"labelColor",this,A)),s.push(Oc(f,"labelPointStyle",this,A)),a.push(Oc(f,"labelTextColor",this,A))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=g1[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=iO(this,i),c=Object.assign({},o,l),A=rO(this.chart,i,c),f=sO(i,c,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:A,bottomRight:f}=Q1(o),{x:p,y:d}=e,{width:y,height:x}=t;let w,b,_,E,C,T;return s==="center"?(C=d+x/2,r==="left"?(w=p,b=w-a,E=C+a,T=C-a):(w=p+y,b=w+a,E=C-a,T=C+a),_=w):(r==="left"?b=p+Math.max(l,A)+a:r==="right"?b=p+y-Math.max(c,f)-a:b=this.caretX,s==="top"?(E=d,C=E-a,w=b-a,_=b+a):(E=d+x,C=E+a,w=b+a,_=b-a),T=E),{x1:w,x2:b,x3:_,y1:E,y2:C,y3:T}}drawTitle(e,t,i){const r=this.title,s=r.length;let a,o,l;if(s){const c=Ay(i.rtl,this.x,this.width);for(e.x=Qw(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",a=Ml(i.titleFont),o=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,l=0;l<s;++l)t.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,t,i,r,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,A=Ml(s.bodyFont),f=Qw(this,"left",s),p=r.x(f),d=l<A.lineHeight?(A.lineHeight-l)/2:0,y=t.y+d;if(s.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},w=r.leftForLtr(p,c)+c/2,b=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,NT(e,x,w,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,NT(e,x,w,b)}else{e.lineWidth=vr(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=r.leftForLtr(p,c),w=r.leftForLtr(r.xPlus(p,1),c-2),b=Q1(a.borderRadius);Object.values(b).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,FT(e,{x,y,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),FT(e,{x:w,y:y+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,y,c,l),e.strokeRect(x,y,c,l),e.fillStyle=a.backgroundColor,e.fillRect(w,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:A}=i,f=Ml(i.bodyFont);let p=f.lineHeight,d=0;const y=Ay(i.rtl,this.x,this.width),x=function(L){t.fillText(L,y.x(e.x+d),e.y+p/2),e.y+=p+s},w=y.textAlign(a);let b,_,E,C,T,M,F;for(t.textAlign=a,t.textBaseline="middle",t.font=f.string,e.x=Qw(this,w,i),t.fillStyle=i.bodyColor,Jr(this.beforeBody,x),d=o&&w!=="right"?a==="center"?c/2+A:c+2+A:0,C=0,M=r.length;C<M;++C){for(b=r[C],_=this.labelTextColors[C],t.fillStyle=_,Jr(b.before,x),E=b.lines,o&&E.length&&(this._drawColorBox(t,e,C,y,i),p=Math.max(f.lineHeight,l)),T=0,F=E.length;T<F;++T)x(E[T]),p=f.lineHeight;Jr(b.after,x)}d=0,p=f.lineHeight,Jr(this.afterBody,x),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let a,o;if(s){const l=Ay(i.rtl,this.x,this.width);for(e.x=Qw(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",a=Ml(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:A}=i,{topLeft:f,topRight:p,bottomLeft:d,bottomRight:y}=Q1(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+f,l),a==="top"&&this.drawCaret(e,t,i,r),t.lineTo(o+c-p,l),t.quadraticCurveTo(o+c,l,o+c,l+p),a==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(o+c,l+A-y),t.quadraticCurveTo(o+c,l+A,o+c-y,l+A),a==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(o+d,l+A),t.quadraticCurveTo(o,l+A,o,l+A-d),a==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(o,l+f),t.quadraticCurveTo(o,l,o+f,l),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=g1[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=iO(this,e),l=Object.assign({},a,this._size),c=rO(t,e,l),A=sO(e,l,c,t);(r._to!==A.x||s._to!==A.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=cA(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),$7(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),ez(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!cS(i,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),o=this._positionChanged(a,e),l=t||!cS(a,s)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,a=g1[s.position].call(this,e,t);return a!==!1&&(i!==a.x||r!==a.y)}}var Mz={id:"tooltip",_element:lO,positioners:g1,afterInit(n,e,t){t&&(n.tooltip=new lO({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Cz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tue=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function nue(n,e,t,i){const r=n.indexOf(e);if(r===-1)return tue(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const iue=(n,e)=>n===null?null:rA(Math.round(n),0,e);function cO(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Tz extends Yy{static id="category";static defaults={ticks:{callback:cO}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ss(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:nue(i,e,mr(t,e),this._addedLabels),iue(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return cO.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function rue(n,e){const t=[],{bounds:r,step:s,min:a,max:o,precision:l,count:c,maxTicks:A,maxDigits:f,includeBounds:p}=n,d=s||1,y=A-1,{min:x,max:w}=e,b=!Ss(a),_=!Ss(o),E=!Ss(c),C=(w-x)/(f+1);let T=lD((w-x)/y/d)*d,M,F,L,N;if(T<1e-14&&!b&&!_)return[{value:x},{value:w}];N=Math.ceil(w/T)-Math.floor(x/T),N>y&&(T=lD(N*T/y/d)*d),Ss(l)||(M=Math.pow(10,l),T=Math.ceil(T*M)/M),r==="ticks"?(F=Math.floor(x/T)*T,L=Math.ceil(w/T)*T):(F=x,L=w),b&&_&&s&&Tae((o-a)/s,T/1e3)?(N=Math.round(Math.min((o-a)/T,A)),T=(o-a)/N,F=a,L=o):E?(F=b?a:F,L=_?o:L,N=c-1,T=(L-F)/N):(N=(L-F)/T,P1(N,Math.round(N),T/1e3)?N=Math.round(N):N=Math.ceil(N));const R=Math.max(cD(T),cD(F));M=Math.pow(10,Ss(l)?R:l),F=Math.round(F*M)/M,L=Math.round(L*M)/M;let k=0;for(b&&(p&&F!==a?(t.push({value:a}),F<a&&k++,P1(Math.round((F+k*T)*M)/M,a,uO(a,C,n))&&k++):F<a&&k++);k<N;++k){const Q=Math.round((F+k*T)*M)/M;if(_&&Q>o)break;t.push({value:Q})}return _&&p&&L!==o?t.length&&P1(t[t.length-1].value,o,uO(o,C,n))?t[t.length-1].value=o:t.push({value:o}):(!_||L===o)&&t.push({value:L}),t}function uO(n,e,{horizontal:t,minRotation:i}){const r=tg(i),s=(t?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class sue extends Yy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ss(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=l=>r=t?r:l,o=l=>s=i?s:l;if(e){const l=Dy(r),c=Dy(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=rue(r,s);return e.bounds==="ticks"&&Uae(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return V7(e,this.chart.options.locale,this.options.ticks.format)}}class Uz extends sue{static id="linear";static defaults={ticks:{callback:G7.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Tl(e)?e:0,this.max=Tl(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=tg(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const ME={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zc=Object.keys(ME);function AO(n,e){return n-e}function fO(n,e){if(Ss(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Tl(a)||(a=typeof i=="string"?t.parse(a,i):t.parse(a)),a===null?null:(r&&(a=r==="week"&&(mx(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,r)),+a)}function hO(n,e,t,i){const r=zc.length;for(let s=zc.indexOf(n);s<r-1;++s){const a=ME[zc[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=i)return zc[s]}return zc[r-1]}function aue(n,e,t,i,r){for(let s=zc.length-1;s>=zc.indexOf(t);s--){const a=zc[s];if(ME[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return zc[t?zc.indexOf(t):0]}function oue(n){for(let e=zc.indexOf(n)+1,t=zc.length;e<t;++e)if(ME[zc[e]].common)return zc[e]}function dO(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=XU(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function lue(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+r.add(o,1,i))l=t[o],l>=0&&(e[l].major=!0);return e}function pO(n,e,t){const i=[],r={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],r[o]=a,i.push({value:o,major:!1});return s===0||!t?i:lue(n,i,r,t)}class mO extends Yy{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new sle._date(e.adapters.date);r.init(t),O1(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:fO(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Tl(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Tl(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,o=Dae(r,s,a);return this._unit=t.unit||(i.autoSkip?hO(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):aue(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:oue(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),pO(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=rA(t,0,a),i=rA(i,0,a),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||hO(s.minUnit,t,i,this._getLabelCapacity(t)),o=mr(r.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=mx(l)||l===!0,A={};let f=t,p,d;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":a),e.diff(i,t,a)>1e5*o)throw new Error(t+" and "+i+" are too far apart with stepSize of "+o+" "+a);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(p=f,d=0;p<i;p=+e.add(p,o,a),d++)dO(A,p,y);return(p===i||r.bounds==="ticks"||d===1)&&dO(A,p,y),Object.keys(A).sort(AO).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,i,r){const s=this.options,a=s.ticks.callback;if(a)return Ns(a,[e,t,i],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,A=l&&o[l],f=c&&o[c],p=i[t],d=c&&f&&p&&p.major;return this._adapter.format(e,r||(d?f:A))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=tg(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*a,h:i*a+o*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,pO(this,[e],this._majorUnit),r),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(fO(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Pae(e.sort(AO))}}function zw(n,e,t){let i=0,r=n.length-1,s,a,o,l;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=ng(n,"pos",e)),{pos:s,time:o}=n[i],{pos:a,time:l}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=ng(n,"time",e)),{time:s,pos:o}=n[i],{time:a,pos:l}=n[r]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class xbe extends mO{static id="timeseries";static defaults=mO.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=zw(t,this.min),this._tableRange=zw(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,o,l,c,A;for(a=0,o=e.length;a<o;++a)c=e[a],c>=t&&c<=i&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,o=r.length;a<o;++a)A=r[a+1],l=r[a-1],c=r[a],Math.round((A+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(zw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return zw(this._table,i*this._tableRange+this._minPos,!0)}}const Nz="label";function gO(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function cue(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Fz(n,e){n.labels=e}function Iz(n,e,t=Nz){const i=[];n.datasets=e.map(r=>{const s=n.datasets.find(a=>a[t]===r[t]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function uue(n,e=Nz){const t={labels:[],datasets:[]};return Fz(t,n.labels),Iz(t,n.datasets,e),t}function Aue(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:A,updateMode:f,...p}=n,d=ct.useRef(null),y=ct.useRef(null),x=()=>{d.current&&(y.current=new Zy(d.current,{type:a,data:uue(o,s),options:l&&{...l},plugins:c}),gO(e,y.current))},w=()=>{gO(e,null),y.current&&(y.current.destroy(),y.current=null)};return ct.useEffect(()=>{!r&&y.current&&l&&cue(y.current,l)},[r,l]),ct.useEffect(()=>{!r&&y.current&&Fz(y.current.config.data,o.labels)},[r,o.labels]),ct.useEffect(()=>{!r&&y.current&&o.datasets&&Iz(y.current.config.data,o.datasets,s)},[r,o.datasets]),ct.useEffect(()=>{y.current&&(r?(w(),setTimeout(x)):y.current.update(f))},[r,l,o.labels,o.datasets,f]),ct.useEffect(()=>{y.current&&(w(),setTimeout(x))},[a]),ct.useEffect(()=>(x(),()=>w()),[]),I.jsx("canvas",{ref:d,role:"img",height:t,width:i,...p,children:A})}const fue=ct.forwardRef(Aue);function hue(n,e){return Zy.register(e),ct.forwardRef((t,i)=>I.jsx(fue,{...t,ref:i,type:n}))}const wp=hue("line",rle);Zy.register(Tz,Uz,vz,Xx,Bz,Mz,Sz,wz);const Lz=({open:n,onClose:e,phase:t,dataKey:i,unit:r,phaseData:s,label:a,anchorRect:o=null,mode:l="modal"})=>{const c=ct.useRef(null),A=ct.useRef({labels:[],values:[]}),f=ct.useRef(null);if(ct.useEffect(()=>{if(!n)return;const y=A.current,x=60,w=s?.[i]??0;y.values=Array(10).fill(w),y.labels=Array(10).fill().map(()=>new Date().toLocaleTimeString("es-ES")),c.current&&c.current.update("none");const b=setInterval(()=>{const E=s?.[i]??0;y.values.push(E),y.labels.push(new Date().toLocaleTimeString("es-ES")),y.values.length>x&&(y.values.shift(),y.labels.shift()),c.current&&c.current.update("none")},1e3);function _(E){l==="popover"&&f.current&&(f.current.contains(E.target)||e())}return document.addEventListener("mousedown",_),document.addEventListener("touchstart",_),()=>{clearInterval(b),document.removeEventListener("mousedown",_),document.removeEventListener("touchstart",_)}},[n,s,i,l,e]),!n)return null;const p={labels:A.current.labels,datasets:[{label:`${a} ${t}`,data:A.current.values,borderColor:"#8b5cf6",backgroundColor:"rgba(139,92,246,0.12)",fill:!0,tension:.3,pointRadius:0}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:`${a} - Fase ${t}`,color:"#f3f4f6"},tooltip:{backgroundColor:"rgba(17,24,39,0.95)"}},scales:{x:{ticks:{color:"#9ca3af"},grid:{color:"rgba(139,92,246,0.06)"}},y:{ticks:{color:"#9ca3af"},grid:{color:"rgba(139,92,246,0.06)"}}}};if(l==="popover"&&o){let w=o.left+window.scrollX,b=o.top+window.scrollY-200-8;w+320>window.innerWidth-8&&(w=window.innerWidth-320-8),w<8&&(w=8),b<8&&(b=o.bottom+window.scrollY+8),b+200>window.innerHeight-8&&(b=window.innerHeight-200-8);const _={position:"fixed",left:`${w}px`,top:`${b}px`,width:"320px",height:"200px",zIndex:9999},E=I.jsxs("div",{ref:f,style:_,className:"glass-card p-2",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("h4",{className:"text-sm font-semibold text-white",children:[a," - Fase ",t]}),I.jsx("button",{onClick:e,className:"p-1 rounded text-gray-300 hover:text-white",children:I.jsx(dg,{className:"w-4 h-4"})})]}),I.jsx("div",{className:"h-[calc(100%-36px)]",children:I.jsx(wp,{ref:c,data:p,options:d})})]});return Xse.createPortal(E,document.body)}return I.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[I.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),I.jsxs("div",{className:"relative w-[94%] lg:w-3/4 h-[78%] glass-card p-4 z-10",children:[I.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.jsxs("h3",{className:"text-lg font-bold text-white",children:[a," - Fase ",t]}),I.jsx("button",{onClick:e,className:"p-1 rounded text-gray-300 hover:text-white",children:I.jsx(dg,{className:"w-5 h-5"})})]}),I.jsx("div",{className:"h-[calc(100%-48px)]",children:I.jsx(wp,{ref:c,data:p,options:d})})]})]})},t3=({icon:n,label:e,value:t,unit:i,color:r,isCritical:s,isWarning:a,onClick:o})=>I.jsx("div",{onClick:o,className:`glass-card p-2 relative cursor-pointer hover:border-purple-500 transition-all ${s?"animate-pulse border-2 border-red-500":a?"border-2 border-yellow-500":""}`,children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsxs("div",{className:`p-2 rounded-lg bg-gradient-to-br ${r} relative flex-shrink-0`,children:[I.jsx(n,{className:"w-4 h-4 text-white"}),s&&I.jsx("div",{className:"absolute -top-1 -right-1 bg-red-600 rounded-full p-0.5 animate-bounce",children:I.jsx(ba,{className:"w-2 h-2 text-white"})}),a&&!s&&I.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 rounded-full p-0.5",children:I.jsx(zf,{className:"w-2 h-2 text-white"})})]}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-wide truncate",children:e}),I.jsxs("p",{className:`text-base font-bold leading-tight ${s?"text-red-400":a?"text-yellow-400":"text-white"}`,children:[typeof t=="number"?t.toFixed(1):t,I.jsx("span",{className:"text-xs ml-0.5",children:i})]})]})]})}),yO=()=>{const{generalData:n,thresholds:e}=Cu(),[t,i]=ct.useState({open:!1}),r=(f,p,d,y=null)=>i({open:!0,key:f,label:p,unit:d,anchorRect:y,mode:"popover"}),s=n.temperatura>e.temp_critical,a=n.temperatura>e.temp_warning&&!s,o=n.rpm>e.rpm_critical,l=n.rpm>e.rpm_warning&&!o,c=n.vibracion>e.vibration_critical,A=n.vibracion>e.vibration_warning&&!c;return I.jsxs(I.Fragment,{children:[I.jsx(t3,{icon:ex,label:"Temp",value:n.temperatura,unit:"C",color:"from-red-500 to-orange-500",isCritical:s,isWarning:a,onClick:f=>r("temperatura","Temperatura","C",f.currentTarget.getBoundingClientRect())}),I.jsx(t3,{icon:$1,label:"RPM",value:n.rpm,unit:"",color:"from-purple-500 to-pink-500",isCritical:o,isWarning:l,onClick:f=>r("rpm","Velocidad","RPM",f.currentTarget.getBoundingClientRect())}),I.jsx(t3,{icon:JA,label:"Vib",value:n.vibracion||0,unit:"mm/s",color:"from-cyan-500 to-blue-500",isCritical:c,isWarning:A,onClick:f=>r("vibracion","Vibracin","mm/s",f.currentTarget.getBoundingClientRect())}),I.jsx(Lz,{open:!!t?.open,onClose:()=>i({open:!1}),phase:"General",dataKey:t?.key,unit:t?.unit,phaseData:n,label:t?.label,anchorRect:t?.anchorRect,mode:t?.mode})]})};Zy.register(Tz,Uz,vz,Xx,Bz,Mz,Sz,wz);const R0=({title:n,phaseData:e,dataKey:t,unit:i})=>{const r=ct.useRef(null),s=ct.useRef({A:[],B:[],C:[],labels:[]}),[a,o]=ct.useState(!1);ct.useEffect(()=>{const A=s.current,f=20;A.A.push(e.A[t]),A.B.push(e.B[t]),A.C.push(e.C[t]),A.labels.push(new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),A.A.length>f&&(A.A.shift(),A.B.shift(),A.C.shift(),A.labels.shift()),r.current&&r.current.update("none")},[e,t]);const l={labels:s.current.labels,datasets:[{label:"Fase A",data:s.current.A,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4},{label:"Fase B",data:s.current.B,borderColor:"#eab308",backgroundColor:"rgba(234, 179, 8, 0.1)",borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4},{label:"Fase C",data:s.current.C,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4}]},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#e5e7eb",font:{size:11},padding:10,usePointStyle:!0}},title:{display:!0,text:n,color:"#f3f4f6",font:{size:14,weight:"bold"},padding:{bottom:10}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.9)",titleColor:"#f3f4f6",bodyColor:"#e5e7eb",borderColor:"rgba(139, 92, 246, 0.3)",borderWidth:1,padding:10,displayColors:!0,callbacks:{label:A=>`${A.dataset.label}: ${A.parsed.y.toFixed(2)} ${i}`}}},scales:{x:{display:!0,grid:{color:"rgba(139, 92, 246, 0.1)",drawBorder:!1},ticks:{color:"#9ca3af",font:{size:10},maxRotation:45,minRotation:45}},y:{display:!0,grid:{color:"rgba(139, 92, 246, 0.1)",drawBorder:!1},ticks:{color:"#9ca3af",font:{size:10},callback:A=>`${A} ${i}`}}},interaction:{intersect:!1,mode:"index"},animation:{duration:0}};return I.jsxs("div",{className:`glass-card p-3 h-full transition-all ${a?"lg:col-span-3 z-40":""}`,children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsx("h4",{className:"text-sm font-semibold text-white",children:n}),I.jsx("button",{onClick:()=>o(A=>!A),className:"text-gray-300 hover:text-white p-1 rounded focus:outline-none","aria-label":a?"Contraer":"Expandir",children:a?I.jsx(fW,{className:"w-4 h-4"}):I.jsx(lW,{className:"w-4 h-4"})})]}),I.jsx("div",{className:`${a?"h-[56vh]":"h-[220px]"}`,children:I.jsx(wp,{ref:r,data:l,options:c})})]})},D0=({label:n,value:e,unit:t,isCritical:i,isWarning:r,onClick:s})=>I.jsxs("div",{onClick:s,className:`bg-primary-secondary/50 p-2 rounded-lg border transition-colors relative cursor-pointer ${i?"border-red-500 animate-pulse":r?"border-yellow-500":"border-purple-main/10 hover:border-purple-main/30"}`,children:[I.jsx("p",{className:"text-[10px] md:text-xs text-gray-400 uppercase tracking-tight md:tracking-wide mb-1 truncate",children:n}),I.jsxs("p",{className:`text-sm md:text-base font-bold leading-tight ${i?"text-red-400":r?"text-yellow-400":"text-white"}`,children:[typeof e=="number"?e.toFixed(2):e," ",I.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:t})]}),(i||r)&&I.jsx("div",{className:"absolute top-1 right-1",children:I.jsx(zf,{className:`w-3 h-3 ${i?"text-red-500 animate-bounce":"text-yellow-500"}`})})]}),O0=({phase:n,data:e,color:t})=>{const[i,r]=ct.useState({open:!1}),s=(M,F,L,N=null,R="modal")=>r({open:!0,key:M,label:F,unit:L,anchorRect:N,mode:R}),a={A:"from-red-500/20 to-red-600/20 border-red-500/30",B:"from-yellow-500/20 to-yellow-600/20 border-yellow-500/30",C:"from-blue-500/20 to-blue-600/20 border-blue-500/30"},o={A:"bg-red-500 shadow-red-500/50",B:"bg-yellow-500 shadow-yellow-500/50",C:"bg-blue-500 shadow-blue-500/50"},l=e.voltaje>240||e.voltaje<200,c=e.voltaje>230&&e.voltaje<=240||e.voltaje>=200&&e.voltaje<210,A=e.corriente>20,f=e.corriente>15&&!A,p=e.potencia>4e3,d=e.potencia>3e3&&!p,y=e.energia>1e3,x=e.energia>500&&!y,w=e.frecuencia>65||e.frecuencia<45,b=e.frecuencia>62&&e.frecuencia<=65||e.frecuencia>=45&&e.frecuencia<48,_=e.factorPotencia<.7,E=e.factorPotencia>=.7&&e.factorPotencia<.85,C=[l,A,p,y,w,_].filter(Boolean).length,T=[c,f,d,x,b,E].filter(Boolean).length;return I.jsxs("div",{className:`glass-card p-2 sm:p-3 bg-gradient-to-br ${a[n]} ${C>0?"border-2 border-red-500":""}`,children:[I.jsxs("div",{className:"flex items-center justify-between mb-2 flex-wrap gap-1",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsxs("h3",{className:"text-lg font-bold text-white",children:["FASE ",n]}),C>0&&I.jsxs("span",{className:"bg-red-600 text-white text-xs font-bold px-2 py-1 rounded animate-pulse",children:[C," CRTICO",C>1?"S":""]}),T>0&&C===0&&I.jsxs("span",{className:"bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded",children:[T," ALERTA",T>1?"S":""]})]}),I.jsx("div",{className:`phase-indicator ${o[n]} ${C>0?"animate-ping":""}`})]}),I.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[I.jsx(D0,{label:"Voltaje",value:e.voltaje,unit:"V",isCritical:l,isWarning:c,onClick:M=>s("voltaje","Voltaje","V",M.currentTarget.getBoundingClientRect(),"popover")}),I.jsx(D0,{label:"Corriente",value:e.corriente,unit:"A",isCritical:A,isWarning:f,onClick:M=>s("corriente","Corriente","A",M.currentTarget.getBoundingClientRect(),"popover")}),I.jsx(D0,{label:"Potencia",value:e.potencia,unit:"W",isCritical:p,isWarning:d,onClick:M=>s("potencia","Potencia","W",M.currentTarget.getBoundingClientRect(),"popover")}),I.jsx(D0,{label:"Energa",value:e.energia,unit:"kWh",isCritical:y,isWarning:x,onClick:M=>s("energia","Energa","kWh",M.currentTarget.getBoundingClientRect(),"popover")}),I.jsx(D0,{label:"Frecuencia",value:e.frecuencia,unit:"Hz",isCritical:w,isWarning:b,onClick:M=>s("frecuencia","Frecuencia","Hz",M.currentTarget.getBoundingClientRect(),"popover")}),I.jsx(D0,{label:"Factor P.",value:e.factorPotencia,unit:"",isCritical:_,isWarning:E,onClick:M=>s("factorPotencia","Factor P.","",M.currentTarget.getBoundingClientRect(),"popover")})]}),I.jsx(Lz,{open:!!i?.open,onClose:()=>r({open:!1}),phase:n,dataKey:i?.key,unit:i?.unit,phaseData:e,label:i?.label,anchorRect:i?.anchorRect,mode:i?.mode})]})},due=()=>{const[n,e]=ct.useState([]),[t,i]=ct.useState(!1),[r,s]=ct.useState(!1);return ct.useEffect(()=>{const a=async()=>{try{console.log("AIStatus: Consultando backend en:",`${Ad}api/alerts/active`);const l=await fetch(`${Ad}api/alerts/active`);if(l.ok){const A=(await l.json()).filter(f=>f.category==="ml_anomaly"&&!f.resolved);e(A),i(A.length>0)}}catch(l){console.error("Error al obtener alertas de IA:",l)}};a();const o=setInterval(a,3e3);return()=>clearInterval(o)},[]),I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:`fixed bottom-24 md:bottom-6 right-6 z-50 cursor-pointer transition-all duration-300 ${r?"scale-0":"scale-100"}`,onClick:()=>s(!0),children:[I.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center shadow-2xl ${t?"bg-red-500 animate-pulse":"bg-green-500"}`,children:I.jsx(zI,{className:"w-7 h-7 text-white"})}),t&&I.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 rounded-full w-5 h-5 flex items-center justify-center animate-bounce",children:I.jsx("span",{className:"text-white text-xs font-bold",children:n.length})})]}),r&&I.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",onClick:()=>s(!1),children:I.jsxs("div",{className:"bg-primary-dark rounded-xl p-6 max-w-md w-full relative",onClick:a=>a.stopPropagation(),children:[I.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 p-2 hover:bg-purple-500/20 rounded-lg transition-colors",children:I.jsx(dg,{className:"w-5 h-5 text-white"})}),I.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[I.jsx("div",{className:`p-3 rounded-lg ${t?"bg-red-500":"bg-green-500"}`,children:I.jsx(zI,{className:"w-6 h-6 text-white"})}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-bold text-white",children:"Inteligencia Artificial"}),I.jsx("p",{className:"text-sm text-gray-400",children:t?I.jsx("span",{className:"text-red-400 font-semibold",children:" Anomala detectada"}):I.jsx("span",{className:"text-green-400",children:" Operacin normal"})})]})]}),t&&n.length>0&&I.jsxs("div",{className:"mt-4 space-y-2",children:[I.jsx("p",{className:"text-sm font-semibold text-yellow-400",children:"Alertas activas:"}),n.slice(0,3).map((a,o)=>I.jsxs("div",{className:"p-2 bg-red-900/30 rounded-lg border border-red-500/30",children:[I.jsx("p",{className:"text-sm text-white",children:a.message}),I.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(a.timestamp).toLocaleString("es-ES")})]},o)),n.length>3&&I.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["+",n.length-3," alertas ms"]})]}),I.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:I.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-gray-400 text-xs",children:"Modelo"}),I.jsx("p",{className:"text-purple-light font-semibold",children:"Isolation Forest"})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-gray-400 text-xs",children:"Estado"}),I.jsx("p",{className:"text-green-400 font-semibold",children:" Activo"})]})]})})]})})]})},pue=()=>{const{sendMQTTCommand:n}=Cu(),[e,t]=ct.useState(!1),i=async()=>{if(!e){t(!0);try{await n("motor/control/start","1"),console.log(" Comando START enviado")}catch(s){console.error(" Error enviando START:",s)}finally{setTimeout(()=>t(!1),1e3)}}},r=async()=>{if(!e){t(!0);try{await n("motor/control/stop","0"),console.log(" Comando STOP enviado")}catch(s){console.error(" Error enviando STOP:",s)}finally{setTimeout(()=>t(!1),1e3)}}};return I.jsxs("div",{className:"lg:hidden fixed bottom-6 left-6 z-50 flex gap-3",children:[I.jsxs("button",{onClick:i,disabled:e,className:"w-16 h-16 rounded-full bg-green-600 hover:bg-green-700 active:bg-green-800 text-white shadow-2xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center group relative","aria-label":"Encender Motor",children:[I.jsx(eH,{className:"w-7 h-7"}),e&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:I.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),I.jsx("span",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Encender Motor"})]}),I.jsxs("button",{onClick:r,disabled:e,className:"w-16 h-16 rounded-full bg-red-600 hover:bg-red-700 active:bg-red-800 text-white shadow-2xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center group relative","aria-label":"Apagar Motor",children:[I.jsx($k,{className:"w-7 h-7"}),e&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:I.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),I.jsx("span",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Apagar Motor"})]})]})},vO=()=>{const{phaseData:n}=Cu(),[e,t]=ct.useState({open:!1,type:null}),i=s=>t({open:!0,type:s}),r=()=>t({open:!1,type:null});return I.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 flex-1 overflow-hidden",children:[e.open&&I.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4",onClick:r,children:I.jsxs("div",{className:"bg-primary-dark rounded-xl p-4 max-w-2xl w-full relative",onClick:s=>s.stopPropagation(),children:[I.jsx("button",{onClick:r,className:"absolute top-2 right-2 p-2 hover:bg-purple-500/20 rounded-lg transition-colors",children:I.jsx(dg,{className:"w-5 h-5 text-white"})}),e.type==="voltaje"&&I.jsx(R0,{title:"Voltaje por Fase",phaseData:n,dataKey:"voltaje",unit:"V"}),e.type==="corriente"&&I.jsx(R0,{title:"Corriente por Fase",phaseData:n,dataKey:"corriente",unit:"A"})]})}),I.jsxs("div",{className:"hidden lg:grid lg:grid-cols-[320px_1fr] gap-3 h-[calc(100vh-120px)] overflow-hidden",children:[I.jsxs("div",{className:"flex flex-col gap-3 h-full overflow-hidden",children:[I.jsx("div",{id:"motor-3d",className:"flex-shrink-0",style:{height:"440px"},children:I.jsx(Wse,{})}),I.jsx("div",{id:"stats-section",className:"flex flex-col gap-3 flex-1 min-h-0",children:I.jsx(yO,{})})]}),I.jsxs("div",{className:"flex flex-col gap-5 h-full overflow-hidden",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-shrink-0",style:{height:"42%"},children:[I.jsx("div",{id:"combined-chart",className:"h-full",children:I.jsx(R0,{title:"Voltaje por Fase",phaseData:n,dataKey:"voltaje",unit:"V"})}),I.jsx("div",{id:"phase-chart",className:"h-full",children:I.jsx(R0,{title:"Corriente por Fase",phaseData:n,dataKey:"corriente",unit:"A"})})]}),I.jsxs("div",{id:"phase-panels",className:"flex-1 flex flex-col gap-3 overflow-auto min-h-0",children:[I.jsx("div",{id:"phase-a",children:I.jsx(O0,{phase:"A",data:n.A,color:"#ef4444"})}),I.jsx("div",{id:"phase-b",children:I.jsx(O0,{phase:"B",data:n.B,color:"#eab308"})}),I.jsx("div",{id:"phase-c",children:I.jsx(O0,{phase:"C",data:n.C,color:"#3b82f6"})})]})]})]}),I.jsxs("div",{className:"lg:hidden h-[calc(100vh-140px)] flex flex-col gap-2 overflow-hidden",children:[I.jsx("div",{className:"flex-shrink-0",children:I.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[I.jsx("div",{className:"glass-card p-3 cursor-pointer hover:border-purple-500 transition-all",onClick:()=>i("voltaje"),children:I.jsx("div",{className:"h-60 sm:h-64",children:I.jsx(R0,{title:" Voltaje 3",phaseData:n,dataKey:"voltaje",unit:"V"})})}),I.jsx("div",{className:"glass-card p-3 cursor-pointer hover:border-purple-500 transition-all",onClick:()=>i("corriente"),children:I.jsx("div",{className:"h-60 sm:h-64",children:I.jsx(R0,{title:" Corriente 3",phaseData:n,dataKey:"corriente",unit:"A"})})})]})}),I.jsx("div",{className:"flex-shrink-0",children:I.jsx("div",{className:"grid grid-cols-3 gap-2",children:I.jsx(yO,{})})}),I.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-2 pb-2",children:[I.jsx(O0,{phase:"A",data:n.A,color:"#ef4444"}),I.jsx(O0,{phase:"B",data:n.B,color:"#eab308"}),I.jsx(O0,{phase:"C",data:n.C,color:"#3b82f6"})]})]}),I.jsx(due,{}),I.jsx(pue,{})]})};function mue({data:n}){const{arms:e=0,apico:t=0,picoPico:i=0,vrms:r=0}=n,a=(o=>o<2.8?{color:"text-green-400",bg:"bg-green-500/20",status:"Excelente"}:o<7.1?{color:"text-yellow-400",bg:"bg-yellow-500/20",status:"Aceptable"}:{color:"text-red-400",bg:"bg-red-500/20",status:"Inaceptable"})(r);return I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{className:`p-4 rounded-lg border ${a.bg} border-gray-700`,children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(JA,{className:a.color,size:20}),I.jsx("h3",{className:"text-white font-semibold",children:"VRMS (Velocidad)"})]}),I.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.bg} ${a.color}`,children:a.status})]}),I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsx("span",{className:`text-3xl font-bold ${a.color}`,children:r.toFixed(2)}),I.jsx("span",{className:"text-gray-400",children:"mm/s"})]}),I.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Velocidad RMS segn ISO 10816. Indica el nivel general de vibracin del motor."}),I.jsxs("div",{className:"mt-3 space-y-1 text-xs",children:[I.jsxs("div",{className:"flex justify-between",children:[I.jsx("span",{className:"text-green-400",children:" Excelente"}),I.jsx("span",{className:"text-gray-400",children:"< 2.8 mm/s"})]}),I.jsxs("div",{className:"flex justify-between",children:[I.jsx("span",{className:"text-yellow-400",children:" Aceptable"}),I.jsx("span",{className:"text-gray-400",children:"2.8 - 7.1 mm/s"})]}),I.jsxs("div",{className:"flex justify-between",children:[I.jsx("span",{className:"text-red-400",children:" Inaceptable"}),I.jsx("span",{className:"text-gray-400",children:"> 7.1 mm/s"})]})]})]}),I.jsxs("div",{className:"p-4 rounded-lg border bg-blue-500/10 border-gray-700",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.jsx(nH,{className:"text-blue-400",size:20}),I.jsx("h3",{className:"text-white font-semibold",children:"ARMS (Aceleracin RMS)"})]}),I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsx("span",{className:"text-3xl font-bold text-blue-400",children:e.toFixed(4)}),I.jsx("span",{className:"text-gray-400",children:"g"})]}),I.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Aceleracin RMS (Root Mean Square). Representa la energa promedio de la vibracin en unidades de gravedad."})]}),I.jsxs("div",{className:"p-4 rounded-lg border bg-purple-500/10 border-gray-700",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.jsx(UW,{className:"text-purple-400",size:20}),I.jsx("h3",{className:"text-white font-semibold",children:"APico (Pico)"})]}),I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsx("span",{className:"text-3xl font-bold text-purple-400",children:t.toFixed(4)}),I.jsx("span",{className:"text-gray-400",children:"g"})]}),I.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Aceleracin pico mxima detectada. til para identificar impactos o eventos transitorios bruscos."})]}),I.jsxs("div",{className:"p-4 rounded-lg border bg-orange-500/10 border-gray-700",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.jsx(JA,{className:"text-orange-400",size:20}),I.jsx("h3",{className:"text-white font-semibold",children:"Pico a Pico"})]}),I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsx("span",{className:"text-3xl font-bold text-orange-400",children:i.toFixed(4)}),I.jsx("span",{className:"text-gray-400",children:"g"})]}),I.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Amplitud total de vibracin (2  APico). Indica el rango completo de movimiento vibratorio del motor."})]})]})}function $r(n){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(n)}var $A=Uint8Array,wu=Uint16Array,rN=Int32Array,sN=new $A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aN=new $A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xO=new $A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rz=function(n,e){for(var t=new wu(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new rN(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},Dz=Rz(sN,2),gue=Dz.b,OT=Dz.r;gue[28]=258,OT[258]=28;var yue=Rz(aN,0),bO=yue.r,PT=new wu(32768);for(var Is=0;Is<32768;++Is){var ap=(Is&43690)>>1|(Is&21845)<<1;ap=(ap&52428)>>2|(ap&13107)<<2,ap=(ap&61680)>>4|(ap&3855)<<4,PT[Is]=((ap&65280)>>8|(ap&255)<<8)>>1}var z1=(function(n,e,t){for(var i=n.length,r=0,s=new wu(e);r<i;++r)n[r]&&++s[n[r]-1];var a=new wu(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(t){o=new wu(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],A=e-n[r],f=a[n[r]-1]++<<A,p=f|(1<<A)-1;f<=p;++f)o[PT[f]>>l]=c}else for(o=new wu(i),r=0;r<i;++r)n[r]&&(o[r]=PT[a[n[r]-1]++]>>15-n[r]);return o}),Sg=new $A(288);for(var Is=0;Is<144;++Is)Sg[Is]=8;for(var Is=144;Is<256;++Is)Sg[Is]=9;for(var Is=256;Is<280;++Is)Sg[Is]=7;for(var Is=280;Is<288;++Is)Sg[Is]=8;var mS=new $A(32);for(var Is=0;Is<32;++Is)mS[Is]=5;var vue=z1(Sg,9,0),xue=z1(mS,5,0),Oz=function(n){return(n+7)/8|0},bue=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new $A(n.subarray(e,t))},Gh=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Jv=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},n3=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:kz,l:0};if(r==1){var a=new $A(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(T,M){return T.f-M.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,A=1,f=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};A!=r-1;)o=t[t[c].f<t[f].f?c++:f++],l=t[c!=A&&t[c].f<t[f].f?c++:f++],t[A++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,i=1;i<r;++i)s[i].s>p&&(p=s[i].s);var d=new wu(p+1),y=kT(t[A-1],d,0);if(y>e){var i=0,x=0,w=y-e,b=1<<w;for(s.sort(function(M,F){return d[F.s]-d[M.s]||M.f-F.f});i<r;++i){var _=s[i].s;if(d[_]>e)x+=b-(1<<y-d[_]),d[_]=e;else break}for(x>>=w;x>0;){var E=s[i].s;d[E]<e?x-=1<<e-d[E]++-1:++i}for(;i>=0&&x;--i){var C=s[i].s;d[C]==e&&(--d[C],++x)}y=e}return{t:new $A(d),l:y}},kT=function(n,e,t){return n.s==-1?Math.max(kT(n.l,e,t+1),kT(n.r,e,t+1)):e[n.s]=t},wO=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new wu(++e),i=0,r=n[0],s=1,a=function(l){t[i++]=l},o=1;o<=e;++o)if(n[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=n[o]}return{c:t.subarray(0,i),n:e}},$v=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},Pz=function(n,e,t){var i=t.length,r=Oz(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},_O=function(n,e,t,i,r,s,a,o,l,c,A){Gh(e,A++,t),++r[256];for(var f=n3(r,15),p=f.t,d=f.l,y=n3(s,15),x=y.t,w=y.l,b=wO(p),_=b.c,E=b.n,C=wO(x),T=C.c,M=C.n,F=new wu(19),L=0;L<_.length;++L)++F[_[L]&31];for(var L=0;L<T.length;++L)++F[T[L]&31];for(var N=n3(F,7),R=N.t,k=N.l,Q=19;Q>4&&!R[xO[Q-1]];--Q);var J=c+5<<3,Y=$v(r,Sg)+$v(s,mS)+a,ne=$v(r,p)+$v(s,x)+a+14+3*Q+$v(F,R)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&J<=Y&&J<=ne)return Pz(e,A,n.subarray(l,l+c));var W,q,$,re;if(Gh(e,A,1+(ne<Y)),A+=2,ne<Y){W=z1(p,d,0),q=p,$=z1(x,w,0),re=x;var V=z1(R,k,0);Gh(e,A,E-257),Gh(e,A+5,M-1),Gh(e,A+10,Q-4),A+=14;for(var L=0;L<Q;++L)Gh(e,A+3*L,R[xO[L]]);A+=3*Q;for(var te=[_,T],z=0;z<2;++z)for(var j=te[z],L=0;L<j.length;++L){var oe=j[L]&31;Gh(e,A,V[oe]),A+=R[oe],oe>15&&(Gh(e,A,j[L]>>5&127),A+=j[L]>>12)}}else W=vue,q=Sg,$=xue,re=mS;for(var L=0;L<o;++L){var fe=i[L];if(fe>255){var oe=fe>>18&31;Jv(e,A,W[oe+257]),A+=q[oe+257],oe>7&&(Gh(e,A,fe>>23&31),A+=sN[oe]);var ue=fe&31;Jv(e,A,$[ue]),A+=re[ue],ue>3&&(Jv(e,A,fe>>5&8191),A+=aN[ue])}else Jv(e,A,W[fe]),A+=q[fe]}return Jv(e,A,W[256]),A+q[256]},wue=new rN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kz=new $A(0),_ue=function(n,e,t,i,r,s){var a=s.z||n.length,o=new $A(i+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(i,o.length-r),c=s.l,A=(s.r||0)&7;if(e){A&&(l[0]=s.r>>3);for(var f=wue[e-1],p=f>>13,d=f&8191,y=(1<<t)-1,x=s.p||new wu(32768),w=s.h||new wu(y+1),b=Math.ceil(t/3),_=2*b,E=function(He){return(n[He]^n[He+1]<<b^n[He+2]<<_)&y},C=new rN(25e3),T=new wu(288),M=new wu(32),F=0,L=0,N=s.i||0,R=0,k=s.w||0,Q=0;N+2<a;++N){var J=E(N),Y=N&32767,ne=w[J];if(x[Y]=ne,w[J]=Y,k<=N){var W=a-N;if((F>7e3||R>24576)&&(W>423||!c)){A=_O(n,l,0,C,T,M,L,R,Q,N-Q,A),R=F=L=0,Q=N;for(var q=0;q<286;++q)T[q]=0;for(var q=0;q<30;++q)M[q]=0}var $=2,re=0,V=d,te=Y-ne&32767;if(W>2&&J==E(N-te))for(var z=Math.min(p,W)-1,j=Math.min(32767,N),oe=Math.min(258,W);te<=j&&--V&&Y!=ne;){if(n[N+$]==n[N+$-te]){for(var fe=0;fe<oe&&n[N+fe]==n[N+fe-te];++fe);if(fe>$){if($=fe,re=te,fe>z)break;for(var ue=Math.min(te,fe-2),Ae=0,q=0;q<ue;++q){var he=N-te+q&32767,_e=x[he],be=he-_e&32767;be>Ae&&(Ae=be,ne=he)}}}Y=ne,ne=x[Y],te+=Y-ne&32767}if(re){C[R++]=268435456|OT[$]<<18|bO[re];var Ne=OT[$]&31,ze=bO[re]&31;L+=sN[Ne]+aN[ze],++T[257+Ne],++M[ze],k=N+$,++F}else C[R++]=n[N],++T[n[N]]}}for(N=Math.max(N,k);N<a;++N)C[R++]=n[N],++T[n[N]];A=_O(n,l,c,C,T,M,L,R,Q,N-Q,A),c||(s.r=A&7|l[A/8|0]<<3,A-=7,s.h=w,s.p=x,s.i=N,s.w=k)}else{for(var N=s.w||0;N<a+c;N+=65535){var $e=N+65535;$e>=a&&(l[A/8|0]=c,$e=a),A=Pz(l,A+1,n.subarray(N,$e))}s.i=a}return bue(o,0,i+Oz(A)+r)},Hz=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=i+=t[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Sue=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new $A(s.length+n.length);a.set(s),a.set(n,s.length),n=a,r.w=s.length}return _ue(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},Qz=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Eue=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=Hz();r.p(e.dictionary),Qz(n,2,r.d())}};function HT(n,e){e||(e={});var t=Hz();t.p(n);var i=Sue(n,e,e.dictionary?6:2,4);return Eue(i,e),Qz(i,i.length-4,t.d()),i}var Bue=typeof TextDecoder<"u"&&new TextDecoder,Cue=0;try{Bue.decode(kz,{stream:!0}),Cue=1}catch{}function Mue(n){if(Array.isArray(n))return n}function Tue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(A){c=!0,r=A}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}function SO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Uue(n,e){if(n){if(typeof n=="string")return SO(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SO(n,e):void 0}}function Nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EO(n,e){return Mue(n)||Tue(n,e)||Uue(n,e)||Nue()}function BO(n,e="utf8"){return new TextDecoder(e).decode(n)}const Fue=new TextEncoder;function Iue(n){return Fue.encode(n)}const Lue=1024*8,Rue=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),i3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class oN{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Lue,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof oN)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=i3[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===Rue&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const l=new i3[t](o.buffer);return this.offset+=i,l.reverse(),l}const a=new i3[t](s);return this.offset+=i,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return BO(this.readBytes(e))}decodeText(e=1,t="utf8"){return BO(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Iue(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jy(n){let e=n.length;for(;--e>=0;)n[e]=0}const Due=3,Oue=258,zz=29,Pue=256,kue=Pue+1+zz,jz=30,Hue=512,Que=new Array((kue+2)*2);Jy(Que);const zue=new Array(jz*2);Jy(zue);const jue=new Array(Hue);Jy(jue);const Vue=new Array(Oue-Due+1);Jy(Vue);const Gue=new Array(zz);Jy(Gue);const Kue=new Array(jz);Jy(Kue);const que=(n,e,t,i)=>{let r=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+e[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var QT=que;const Wue=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Xue=new Uint32Array(Wue()),Yue=(n,e,t,i)=>{const r=Xue,s=i+t;n^=-1;for(let a=i;a<s;a++)n=n>>>8^r[(n^e[a])&255];return n^-1};var Lf=Yue,zT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vz={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Zue=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Jue=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)Zue(t,i)&&(n[i]=t[i])}}return n},$ue=n=>{let e=0;for(let i=0,r=n.length;i<r;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,r=0,s=n.length;i<s;i++){let a=n[i];t.set(a,r),r+=a.length}return t},Gz={assign:Jue,flattenChunks:$ue};let Kz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Kz=!1}const xx=new Uint8Array(256);for(let n=0;n<256;n++)xx[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;xx[254]=xx[254]=1;var eAe=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,r,s,a=n.length,o=0;for(r=0;r<a;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const tAe=(n,e)=>{if(e<65534&&n.subarray&&Kz)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var nAe=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,r;const s=new Array(t*2);for(r=0,i=0;i<t;){let a=n[i++];if(a<128){s[r++]=a;continue}let o=xx[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<t;)a=a<<6|n[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return tAe(s,r)},iAe=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+xx[n[t]]>e?t:e},jT={string2buf:eAe,buf2string:nAe,utf8border:iAe};function rAe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sAe=rAe;const jw=16209,aAe=16191;var oAe=function(e,t){let i,r,s,a,o,l,c,A,f,p,d,y,x,w,b,_,E,C,T,M,F,L,N,R;const k=e.state;i=e.next_in,N=e.input,r=i+(e.avail_in-5),s=e.next_out,R=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=k.dmax,c=k.wsize,A=k.whave,f=k.wnext,p=k.window,d=k.hold,y=k.bits,x=k.lencode,w=k.distcode,b=(1<<k.lenbits)-1,_=(1<<k.distbits)-1;e:do{y<15&&(d+=N[i++]<<y,y+=8,d+=N[i++]<<y,y+=8),E=x[d&b];t:for(;;){if(C=E>>>24,d>>>=C,y-=C,C=E>>>16&255,C===0)R[s++]=E&65535;else if(C&16){T=E&65535,C&=15,C&&(y<C&&(d+=N[i++]<<y,y+=8),T+=d&(1<<C)-1,d>>>=C,y-=C),y<15&&(d+=N[i++]<<y,y+=8,d+=N[i++]<<y,y+=8),E=w[d&_];n:for(;;){if(C=E>>>24,d>>>=C,y-=C,C=E>>>16&255,C&16){if(M=E&65535,C&=15,y<C&&(d+=N[i++]<<y,y+=8,y<C&&(d+=N[i++]<<y,y+=8)),M+=d&(1<<C)-1,M>l){e.msg="invalid distance too far back",k.mode=jw;break e}if(d>>>=C,y-=C,C=s-a,M>C){if(C=M-C,C>A&&k.sane){e.msg="invalid distance too far back",k.mode=jw;break e}if(F=0,L=p,f===0){if(F+=c-C,C<T){T-=C;do R[s++]=p[F++];while(--C);F=s-M,L=R}}else if(f<C){if(F+=c+f-C,C-=f,C<T){T-=C;do R[s++]=p[F++];while(--C);if(F=0,f<T){C=f,T-=C;do R[s++]=p[F++];while(--C);F=s-M,L=R}}}else if(F+=f-C,C<T){T-=C;do R[s++]=p[F++];while(--C);F=s-M,L=R}for(;T>2;)R[s++]=L[F++],R[s++]=L[F++],R[s++]=L[F++],T-=3;T&&(R[s++]=L[F++],T>1&&(R[s++]=L[F++]))}else{F=s-M;do R[s++]=R[F++],R[s++]=R[F++],R[s++]=R[F++],T-=3;while(T>2);T&&(R[s++]=R[F++],T>1&&(R[s++]=R[F++]))}}else if((C&64)===0){E=w[(E&65535)+(d&(1<<C)-1)];continue n}else{e.msg="invalid distance code",k.mode=jw;break e}break}}else if((C&64)===0){E=x[(E&65535)+(d&(1<<C)-1)];continue t}else if(C&32){k.mode=aAe;break e}else{e.msg="invalid literal/length code",k.mode=jw;break e}break}}while(i<r&&s<o);T=y>>3,i-=T,y-=T<<3,d&=(1<<y)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<o?257+(o-s):257-(s-o),k.hold=d,k.bits=y};const P0=15,CO=852,MO=592,TO=0,r3=1,UO=2,lAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),AAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fAe=(n,e,t,i,r,s,a,o)=>{const l=o.bits;let c=0,A=0,f=0,p=0,d=0,y=0,x=0,w=0,b=0,_=0,E,C,T,M,F,L=null,N;const R=new Uint16Array(P0+1),k=new Uint16Array(P0+1);let Q=null,J,Y,ne;for(c=0;c<=P0;c++)R[c]=0;for(A=0;A<i;A++)R[e[t+A]]++;for(d=l,p=P0;p>=1&&R[p]===0;p--);if(d>p&&(d=p),p===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&R[f]===0;f++);for(d<f&&(d=f),w=1,c=1;c<=P0;c++)if(w<<=1,w-=R[c],w<0)return-1;if(w>0&&(n===TO||p!==1))return-1;for(k[1]=0,c=1;c<P0;c++)k[c+1]=k[c]+R[c];for(A=0;A<i;A++)e[t+A]!==0&&(a[k[e[t+A]]++]=A);if(n===TO?(L=Q=a,N=20):n===r3?(L=lAe,Q=cAe,N=257):(L=uAe,Q=AAe,N=0),_=0,A=0,c=f,F=s,y=d,x=0,T=-1,b=1<<d,M=b-1,n===r3&&b>CO||n===UO&&b>MO)return 1;for(;;){J=c-x,a[A]+1<N?(Y=0,ne=a[A]):a[A]>=N?(Y=Q[a[A]-N],ne=L[a[A]-N]):(Y=96,ne=0),E=1<<c-x,C=1<<y,f=C;do C-=E,r[F+(_>>x)+C]=J<<24|Y<<16|ne|0;while(C!==0);for(E=1<<c-1;_&E;)E>>=1;if(E!==0?(_&=E-1,_+=E):_=0,A++,--R[c]===0){if(c===p)break;c=e[t+a[A]]}if(c>d&&(_&M)!==T){for(x===0&&(x=d),F+=f,y=c-x,w=1<<y;y+x<p&&(w-=R[y+x],!(w<=0));)y++,w<<=1;if(b+=1<<y,n===r3&&b>CO||n===UO&&b>MO)return 1;T=_&M,r[T]=d<<24|y<<16|F-s|0}}return _!==0&&(r[F+_]=c-x<<24|64<<16|0),o.bits=d,0};var j1=fAe;const hAe=0,qz=1,Wz=2,{Z_FINISH:NO,Z_BLOCK:dAe,Z_TREES:Vw,Z_OK:Eg,Z_STREAM_END:pAe,Z_NEED_DICT:mAe,Z_STREAM_ERROR:uA,Z_DATA_ERROR:Xz,Z_MEM_ERROR:Yz,Z_BUF_ERROR:gAe,Z_DEFLATED:FO}=Vz,TE=16180,IO=16181,LO=16182,RO=16183,DO=16184,OO=16185,PO=16186,kO=16187,HO=16188,QO=16189,gS=16190,Kh=16191,s3=16192,zO=16193,a3=16194,jO=16195,VO=16196,GO=16197,KO=16198,Gw=16199,Kw=16200,qO=16201,WO=16202,XO=16203,YO=16204,ZO=16205,o3=16206,JO=16207,$O=16208,zs=16209,Zz=16210,Jz=16211,yAe=852,vAe=592,xAe=15,bAe=xAe,e6=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function wAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rg=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<TE||e.mode>Jz?1:0},$z=n=>{if(Rg(n))return uA;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=TE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(yAe),e.distcode=e.distdyn=new Int32Array(vAe),e.sane=1,e.back=-1,Eg},ej=n=>{if(Rg(n))return uA;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,$z(n)},tj=(n,e)=>{let t;if(Rg(n))return uA;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?uA:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,ej(n))},nj=(n,e)=>{if(!n)return uA;const t=new wAe;n.state=t,t.strm=n,t.window=null,t.mode=TE;const i=tj(n,e);return i!==Eg&&(n.state=null),i},_Ae=n=>nj(n,bAe);let t6=!0,l3,c3;const SAe=n=>{if(t6){l3=new Int32Array(512),c3=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(j1(qz,n.lens,0,288,l3,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;j1(Wz,n.lens,0,32,c3,0,n.work,{bits:5}),t6=!1}n.lencode=l3,n.lenbits=9,n.distcode=c3,n.distbits=5},ij=(n,e,t,i)=>{let r;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(t-i,t-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},EAe=(n,e)=>{let t,i,r,s,a,o,l,c,A,f,p,d,y,x,w=0,b,_,E,C,T,M,F,L;const N=new Uint8Array(4);let R,k;const Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Rg(n)||!n.output||!n.input&&n.avail_in!==0)return uA;t=n.state,t.mode===Kh&&(t.mode=s3),a=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,c=t.hold,A=t.bits,f=o,p=l,L=Eg;e:for(;;)switch(t.mode){case TE:if(t.wrap===0){t.mode=s3;break}for(;A<16;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,N[0]=c&255,N[1]=c>>>8&255,t.check=Lf(t.check,N,2,0),c=0,A=0,t.mode=IO;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=zs;break}if((c&15)!==FO){n.msg="unknown compression method",t.mode=zs;break}if(c>>>=4,A-=4,F=(c&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){n.msg="invalid window size",t.mode=zs;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?QO:Kh,c=0,A=0;break;case IO:for(;A<16;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(t.flags=c,(t.flags&255)!==FO){n.msg="unknown compression method",t.mode=zs;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=zs;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,t.check=Lf(t.check,N,2,0)),c=0,A=0,t.mode=LO;case LO:for(;A<32;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,t.check=Lf(t.check,N,4,0)),c=0,A=0,t.mode=RO;case RO:for(;A<16;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,t.check=Lf(t.check,N,2,0)),c=0,A=0,t.mode=DO;case DO:if(t.flags&1024){for(;A<16;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,t.check=Lf(t.check,N,2,0)),c=0,A=0}else t.head&&(t.head.extra=null);t.mode=OO;case OO:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+d),F)),t.flags&512&&t.wrap&4&&(t.check=Lf(t.check,i,d,s)),o-=d,s+=d,t.length-=d),t.length))break e;t.length=0,t.mode=PO;case PO:if(t.flags&2048){if(o===0)break e;d=0;do F=i[s+d++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=Lf(t.check,i,d,s)),o-=d,s+=d,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=kO;case kO:if(t.flags&4096){if(o===0)break e;d=0;do F=i[s+d++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=Lf(t.check,i,d,s)),o-=d,s+=d,F)break e}else t.head&&(t.head.comment=null);t.mode=HO;case HO:if(t.flags&512){for(;A<16;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=zs;break}c=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Kh;break;case QO:for(;A<32;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}n.adler=t.check=e6(c),c=0,A=0,t.mode=gS;case gS:if(t.havedict===0)return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=A,mAe;n.adler=t.check=1,t.mode=Kh;case Kh:if(e===dAe||e===Vw)break e;case s3:if(t.last){c>>>=A&7,A-=A&7,t.mode=o3;break}for(;A<3;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}switch(t.last=c&1,c>>>=1,A-=1,c&3){case 0:t.mode=zO;break;case 1:if(SAe(t),t.mode=Gw,e===Vw){c>>>=2,A-=2;break e}break;case 2:t.mode=VO;break;case 3:n.msg="invalid block type",t.mode=zs}c>>>=2,A-=2;break;case zO:for(c>>>=A&7,A-=A&7;A<32;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=zs;break}if(t.length=c&65535,c=0,A=0,t.mode=a3,e===Vw)break e;case a3:t.mode=jO;case jO:if(d=t.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;r.set(i.subarray(s,s+d),a),o-=d,s+=d,l-=d,a+=d,t.length-=d;break}t.mode=Kh;break;case VO:for(;A<14;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(t.nlen=(c&31)+257,c>>>=5,A-=5,t.ndist=(c&31)+1,c>>>=5,A-=5,t.ncode=(c&15)+4,c>>>=4,A-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=zs;break}t.have=0,t.mode=GO;case GO:for(;t.have<t.ncode;){for(;A<3;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}t.lens[Q[t.have++]]=c&7,c>>>=3,A-=3}for(;t.have<19;)t.lens[Q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,R={bits:t.lenbits},L=j1(hAe,t.lens,0,19,t.lencode,0,t.work,R),t.lenbits=R.bits,L){n.msg="invalid code lengths set",t.mode=zs;break}t.have=0,t.mode=KO;case KO:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[c&(1<<t.lenbits)-1],b=w>>>24,_=w>>>16&255,E=w&65535,!(b<=A);){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(E<16)c>>>=b,A-=b,t.lens[t.have++]=E;else{if(E===16){for(k=b+2;A<k;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(c>>>=b,A-=b,t.have===0){n.msg="invalid bit length repeat",t.mode=zs;break}F=t.lens[t.have-1],d=3+(c&3),c>>>=2,A-=2}else if(E===17){for(k=b+3;A<k;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}c>>>=b,A-=b,F=0,d=3+(c&7),c>>>=3,A-=3}else{for(k=b+7;A<k;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}c>>>=b,A-=b,F=0,d=11+(c&127),c>>>=7,A-=7}if(t.have+d>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=zs;break}for(;d--;)t.lens[t.have++]=F}}if(t.mode===zs)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=zs;break}if(t.lenbits=9,R={bits:t.lenbits},L=j1(qz,t.lens,0,t.nlen,t.lencode,0,t.work,R),t.lenbits=R.bits,L){n.msg="invalid literal/lengths set",t.mode=zs;break}if(t.distbits=6,t.distcode=t.distdyn,R={bits:t.distbits},L=j1(Wz,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,R),t.distbits=R.bits,L){n.msg="invalid distances set",t.mode=zs;break}if(t.mode=Gw,e===Vw)break e;case Gw:t.mode=Kw;case Kw:if(o>=6&&l>=258){n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=A,oAe(n,p),a=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,c=t.hold,A=t.bits,t.mode===Kh&&(t.back=-1);break}for(t.back=0;w=t.lencode[c&(1<<t.lenbits)-1],b=w>>>24,_=w>>>16&255,E=w&65535,!(b<=A);){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(_&&(_&240)===0){for(C=b,T=_,M=E;w=t.lencode[M+((c&(1<<C+T)-1)>>C)],b=w>>>24,_=w>>>16&255,E=w&65535,!(C+b<=A);){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}c>>>=C,A-=C,t.back+=C}if(c>>>=b,A-=b,t.back+=b,t.length=E,_===0){t.mode=ZO;break}if(_&32){t.back=-1,t.mode=Kh;break}if(_&64){n.msg="invalid literal/length code",t.mode=zs;break}t.extra=_&15,t.mode=qO;case qO:if(t.extra){for(k=t.extra;A<k;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=WO;case WO:for(;w=t.distcode[c&(1<<t.distbits)-1],b=w>>>24,_=w>>>16&255,E=w&65535,!(b<=A);){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if((_&240)===0){for(C=b,T=_,M=E;w=t.distcode[M+((c&(1<<C+T)-1)>>C)],b=w>>>24,_=w>>>16&255,E=w&65535,!(C+b<=A);){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}c>>>=C,A-=C,t.back+=C}if(c>>>=b,A-=b,t.back+=b,_&64){n.msg="invalid distance code",t.mode=zs;break}t.offset=E,t.extra=_&15,t.mode=XO;case XO:if(t.extra){for(k=t.extra;A<k;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=zs;break}t.mode=YO;case YO:if(l===0)break e;if(d=p-l,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=zs;break}d>t.wnext?(d-=t.wnext,y=t.wsize-d):y=t.wnext-d,d>t.length&&(d=t.length),x=t.window}else x=r,y=a-t.offset,d=t.length;d>l&&(d=l),l-=d,t.length-=d;do r[a++]=x[y++];while(--d);t.length===0&&(t.mode=Kw);break;case ZO:if(l===0)break e;r[a++]=t.length,l--,t.mode=Kw;break;case o3:if(t.wrap){for(;A<32;){if(o===0)break e;o--,c|=i[s++]<<A,A+=8}if(p-=l,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?Lf(t.check,r,p,a-p):QT(t.check,r,p,a-p)),p=l,t.wrap&4&&(t.flags?c:e6(c))!==t.check){n.msg="incorrect data check",t.mode=zs;break}c=0,A=0}t.mode=JO;case JO:if(t.wrap&&t.flags){for(;A<32;){if(o===0)break e;o--,c+=i[s++]<<A,A+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=zs;break}c=0,A=0}t.mode=$O;case $O:L=pAe;break e;case zs:L=Xz;break e;case Zz:return Yz;case Jz:default:return uA}return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=A,(t.wsize||p!==n.avail_out&&t.mode<zs&&(t.mode<o3||e!==NO))&&ij(n,n.output,n.next_out,p-n.avail_out),f-=n.avail_in,p-=n.avail_out,n.total_in+=f,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?Lf(t.check,r,p,n.next_out-p):QT(t.check,r,p,n.next_out-p)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Kh?128:0)+(t.mode===Gw||t.mode===a3?256:0),(f===0&&p===0||e===NO)&&L===Eg&&(L=gAe),L},BAe=n=>{if(Rg(n))return uA;let e=n.state;return e.window&&(e.window=null),n.state=null,Eg},CAe=(n,e)=>{if(Rg(n))return uA;const t=n.state;return(t.wrap&2)===0?uA:(t.head=e,e.done=!1,Eg)},MAe=(n,e)=>{const t=e.length;let i,r,s;return Rg(n)||(i=n.state,i.wrap!==0&&i.mode!==gS)?uA:i.mode===gS&&(r=1,r=QT(r,e,t,0),r!==i.check)?Xz:(s=ij(n,e,t,t),s?(i.mode=Zz,Yz):(i.havedict=1,Eg))};var TAe=ej,UAe=tj,NAe=$z,FAe=_Ae,IAe=nj,LAe=EAe,RAe=BAe,DAe=CAe,OAe=MAe,PAe="pako inflate (from Nodeca project)",id={inflateReset:TAe,inflateReset2:UAe,inflateResetKeep:NAe,inflateInit:FAe,inflateInit2:IAe,inflate:LAe,inflateEnd:RAe,inflateGetHeader:DAe,inflateSetDictionary:OAe,inflateInfo:PAe};function kAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var HAe=kAe;const rj=Object.prototype.toString,{Z_NO_FLUSH:QAe,Z_FINISH:zAe,Z_OK:bx,Z_STREAM_END:u3,Z_NEED_DICT:A3,Z_STREAM_ERROR:jAe,Z_DATA_ERROR:n6,Z_MEM_ERROR:VAe}=Vz;function Yx(n){this.options=Gz.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sAe,this.strm.avail_out=0;let t=id.inflateInit2(this.strm,e.windowBits);if(t!==bx)throw new Error(zT[t]);if(this.header=new HAe,id.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=jT.string2buf(e.dictionary):rj.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=id.inflateSetDictionary(this.strm,e.dictionary),t!==bx)))throw new Error(zT[t])}Yx.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?zAe:QAe,rj.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=id.inflate(t,a),s===A3&&r&&(s=id.inflateSetDictionary(t,r),s===bx?s=id.inflate(t,a):s===n6&&(s=A3));t.avail_in>0&&s===u3&&t.state.wrap>0&&n[t.next_in]!==0;)id.inflateReset(t),s=id.inflate(t,a);switch(s){case jAe:case n6:case A3:case VAe:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===u3))if(this.options.to==="string"){let l=jT.utf8border(t.output,t.next_out),c=t.next_out-l,A=jT.buf2string(t.output,l);t.next_out=c,t.avail_out=i-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===bx&&o===0)){if(s===u3)return s=id.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Yx.prototype.onData=function(n){this.chunks.push(n)};Yx.prototype.onEnd=function(n){n===bx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gz.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function GAe(n,e){const t=new Yx(e);if(t.push(n),t.err)throw t.msg||zT[t.err];return t.result}var KAe=Yx,qAe=GAe,WAe={Inflate:KAe,inflate:qAe};const{Inflate:XAe,inflate:YAe}=WAe;var i6=XAe,ZAe=YAe;const sj=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;sj[n]=e}const r6=4294967295;function JAe(n,e,t){let i=n;for(let r=0;r<t;r++)i=sj[(i^e[r])&255]^i>>>8;return i}function $Ae(n,e){return(JAe(r6,n,e)^r6)>>>0}function s6(n,e,t){const i=n.readUint32(),r=$Ae(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${r}`)}function aj(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function oj(n,e,t,i){let r=0;for(;r<i;r++)e[r]=n[r];for(;r<t;r++)e[r]=n[r]+e[r-i]&255}function lj(n,e,t,i){let r=0;if(t.length===0)for(;r<i;r++)e[r]=n[r];else for(;r<i;r++)e[r]=n[r]+t[r]&255}function cj(n,e,t,i,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=n[s];for(;s<i;s++)e[s]=n[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<i;s++)e[s]=n[s]+(e[s-r]+t[s]>>1)&255}}function uj(n,e,t,i,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=n[s];for(;s<i;s++)e[s]=n[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=n[s]+t[s]&255;for(;s<i;s++)e[s]=n[s]+efe(e[s-r],t[s],t[s-r])&255}}function efe(n,e,t){const i=n+e-t,r=Math.abs(i-n),s=Math.abs(i-e),a=Math.abs(i-t);return r<=s&&r<=a?n:s<=a?e:t}function tfe(n,e,t,i,r,s){switch(n){case 0:aj(e,t,r);break;case 1:oj(e,t,r,s);break;case 2:lj(e,t,i,r);break;case 3:cj(e,t,i,r,s);break;case 4:uj(e,t,i,r,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const nfe=new Uint16Array([255]),ife=new Uint8Array(nfe.buffer),rfe=ife[0]===255;function sfe(n){const{data:e,width:t,height:i,channels:r,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,l=new Uint8Array(i*t*o);let c=0;for(let A=0;A<7;A++){const f=a[A],p=Math.ceil((t-f.x)/f.xStep),d=Math.ceil((i-f.y)/f.yStep);if(p<=0||d<=0)continue;const y=p*o,x=new Uint8Array(y);for(let w=0;w<d;w++){const b=e[c++],_=e.subarray(c,c+y);c+=y;const E=new Uint8Array(y);tfe(b,_,E,x,y,o),x.set(E);for(let C=0;C<p;C++){const T=f.x+C*f.xStep,M=f.y+w*f.yStep;if(!(T>=t||M>=i))for(let F=0;F<o;F++)l[(M*t+T)*o+F]=E[C*o+F]}}}if(s===16){const A=new Uint16Array(l.buffer);if(rfe)for(let f=0;f<A.length;f++)A[f]=afe(A[f]);return A}else return l}function afe(n){return(n&255)<<8|n>>8&255}const ofe=new Uint16Array([255]),lfe=new Uint8Array(ofe.buffer),cfe=lfe[0]===255,ufe=new Uint8Array(0);function a6(n){const{data:e,width:t,height:i,channels:r,depth:s}=n,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*t),l=new Uint8Array(i*o);let c=ufe,A=0,f,p;for(let d=0;d<i;d++){switch(f=e.subarray(A+1,A+1+o),p=l.subarray(d*o,(d+1)*o),e[A]){case 0:aj(f,p,o);break;case 1:oj(f,p,o,a);break;case 2:lj(f,p,c,o);break;case 3:cj(f,p,c,o,a);break;case 4:uj(f,p,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}c=p,A+=o+1}if(s===16){const d=new Uint16Array(l.buffer);if(cfe)for(let y=0;y<d.length;y++)d[y]=Afe(d[y]);return d}else return l}function Afe(n){return(n&255)<<8|n>>8&255}const n_=Uint8Array.of(137,80,78,71,13,10,26,10);function o6(n){if(!ffe(n.readBytes(n_.length)))throw new Error("wrong PNG signature")}function ffe(n){if(n.length<n_.length)return!1;for(let e=0;e<n_.length;e++)if(n[e]!==n_[e])return!1;return!0}const hfe="tEXt",dfe=0,Aj=new TextDecoder("latin1");function pfe(n){if(gfe(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const mfe=/^[\u0000-\u00FF]*$/;function gfe(n){if(!mfe.test(n))throw new Error("invalid latin1 text")}function yfe(n,e,t){const i=fj(e);n[i]=vfe(e,t-i.length-1)}function fj(n){for(n.mark();n.readByte()!==dfe;);const e=n.offset;n.reset();const t=Aj.decode(n.readBytes(e-n.offset-1));return n.skip(1),pfe(t),t}function vfe(n,e){return Aj.decode(n.readBytes(e))}const yu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},f3={UNKNOWN:-1,DEFLATE:0},l6={UNKNOWN:-1,ADAPTIVE:0},h3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},qw={NONE:0,BACKGROUND:1,PREVIOUS:2},d3={SOURCE:0,OVER:1};class xfe extends oN{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new i6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=f3.UNKNOWN,this._filterMethod=l6.UNKNOWN,this._interlaceMethod=h3.UNKNOWN,this._colorType=yu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(o6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case hfe:yfe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?s6(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?s6(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=bfe(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case yu.GREYSCALE:i=1;break;case yu.TRUECOLOUR:i=3;break;case yu.INDEXED_COLOUR:i=1;break;case yu.GREYSCALE_ALPHA:i=2;break;case yu.TRUECOLOUR_ALPHA:i=4;break;case yu.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==f3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let r=0;r<t;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case yu.GREYSCALE:case yu.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case yu.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case yu.UNKNOWN:case yu.GREYSCALE_ALPHA:case yu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=fj(this),i=this.readUint8();if(i!==f3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:ZAe(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=a6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(i,r,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case qw.NONE:break;case qw.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let s=0;s<this._png.width;s++){const a=(r*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)i.data[a+o]=0}break;case qw.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,r=(s,a)=>{const o=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,l=(s*t.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(t.blendOp){case d3.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:l}=r(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=t.data[l+c]}break;case d3.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:l}=r(s,a);for(let c=0;c<this._png.channels;c++){const A=t.data[l+this._png.channels-1]/i,f=c%(this._png.channels-1)===0?1:t.data[l+c],p=Math.floor(A*f+(1-A)*e.data[o+c]);e.data[o+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==l6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===h3.NO_INTERLACE)this._png.data=a6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===h3.ADAM7)this._png.data=sfe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:qw.NONE,blendOp:d3.SOURCE,data:e}),this._inflator=new i6,this._writingDataChunks=!1}}function bfe(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var c6;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(c6||(c6={}));function wfe(n,e){return new xfe(n,e).decode()}var xi=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function p3(){xi.console&&typeof xi.console.log=="function"&&xi.console.log.apply(xi.console,arguments)}var ps={log:p3,warn:function(n){xi.console&&(typeof xi.console.warn=="function"?xi.console.warn.apply(xi.console,arguments):p3.call(null,arguments))},error:function(n){xi.console&&(typeof xi.console.error=="function"?xi.console.error.apply(xi.console,arguments):p3(n))}};function m3(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){jm(i.response,e,t)},i.onerror=function(){ps.error("could not download file")},i.send()}function u6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ww(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var jm=xi.saveAs||((typeof window>"u"?"undefined":$r(window))!=="object"||window!==xi?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=xi.URL||xi.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?u6(r.href)?m3(n,e,t):Ww(r,r.target="_blank"):Ww(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ww(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(u6(n))m3(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Ww(i)})}else navigator.msSaveOrOpenBlob((function(r,s){return s===void 0?s={autoBom:!1}:$r(s)!=="object"&&(ps.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return m3(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(xi.HTMLElement)||xi.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":$r(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var A=o.result;A=a?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=A:location=A,i=null},o.readAsDataURL(n)}else{var l=xi.URL||xi.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function hj(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,a=r.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var i_=xi.atob.bind(xi),A6=xi.btoa.bind(xi);function g3(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=xl(t,i,r,s,e[0],7,-680876936),s=xl(s,t,i,r,e[1],12,-389564586),r=xl(r,s,t,i,e[2],17,606105819),i=xl(i,r,s,t,e[3],22,-1044525330),t=xl(t,i,r,s,e[4],7,-176418897),s=xl(s,t,i,r,e[5],12,1200080426),r=xl(r,s,t,i,e[6],17,-1473231341),i=xl(i,r,s,t,e[7],22,-45705983),t=xl(t,i,r,s,e[8],7,1770035416),s=xl(s,t,i,r,e[9],12,-1958414417),r=xl(r,s,t,i,e[10],17,-42063),i=xl(i,r,s,t,e[11],22,-1990404162),t=xl(t,i,r,s,e[12],7,1804603682),s=xl(s,t,i,r,e[13],12,-40341101),r=xl(r,s,t,i,e[14],17,-1502002290),t=bl(t,i=xl(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=bl(s,t,i,r,e[6],9,-1069501632),r=bl(r,s,t,i,e[11],14,643717713),i=bl(i,r,s,t,e[0],20,-373897302),t=bl(t,i,r,s,e[5],5,-701558691),s=bl(s,t,i,r,e[10],9,38016083),r=bl(r,s,t,i,e[15],14,-660478335),i=bl(i,r,s,t,e[4],20,-405537848),t=bl(t,i,r,s,e[9],5,568446438),s=bl(s,t,i,r,e[14],9,-1019803690),r=bl(r,s,t,i,e[3],14,-187363961),i=bl(i,r,s,t,e[8],20,1163531501),t=bl(t,i,r,s,e[13],5,-1444681467),s=bl(s,t,i,r,e[2],9,-51403784),r=bl(r,s,t,i,e[7],14,1735328473),t=wl(t,i=bl(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=wl(s,t,i,r,e[8],11,-2022574463),r=wl(r,s,t,i,e[11],16,1839030562),i=wl(i,r,s,t,e[14],23,-35309556),t=wl(t,i,r,s,e[1],4,-1530992060),s=wl(s,t,i,r,e[4],11,1272893353),r=wl(r,s,t,i,e[7],16,-155497632),i=wl(i,r,s,t,e[10],23,-1094730640),t=wl(t,i,r,s,e[13],4,681279174),s=wl(s,t,i,r,e[0],11,-358537222),r=wl(r,s,t,i,e[3],16,-722521979),i=wl(i,r,s,t,e[6],23,76029189),t=wl(t,i,r,s,e[9],4,-640364487),s=wl(s,t,i,r,e[12],11,-421815835),r=wl(r,s,t,i,e[15],16,530742520),t=_l(t,i=wl(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=_l(s,t,i,r,e[7],10,1126891415),r=_l(r,s,t,i,e[14],15,-1416354905),i=_l(i,r,s,t,e[5],21,-57434055),t=_l(t,i,r,s,e[12],6,1700485571),s=_l(s,t,i,r,e[3],10,-1894986606),r=_l(r,s,t,i,e[10],15,-1051523),i=_l(i,r,s,t,e[1],21,-2054922799),t=_l(t,i,r,s,e[8],6,1873313359),s=_l(s,t,i,r,e[15],10,-30611744),r=_l(r,s,t,i,e[6],15,-1560198380),i=_l(i,r,s,t,e[13],21,1309151649),t=_l(t,i,r,s,e[4],6,-145523070),s=_l(s,t,i,r,e[11],10,-1120210379),r=_l(r,s,t,i,e[2],15,718787259),i=_l(i,r,s,t,e[9],21,-343485551),n[0]=_p(t,n[0]),n[1]=_p(i,n[1]),n[2]=_p(r,n[2]),n[3]=_p(s,n[3])}function UE(n,e,t,i,r,s){return e=_p(_p(e,n),_p(i,s)),_p(e<<r|e>>>32-r,t)}function xl(n,e,t,i,r,s,a){return UE(e&t|~e&i,n,e,r,s,a)}function bl(n,e,t,i,r,s,a){return UE(e&i|t&~i,n,e,r,s,a)}function wl(n,e,t,i,r,s,a){return UE(e^t^i,n,e,r,s,a)}function _l(n,e,t,i,r,s,a){return UE(t^(e|~i),n,e,r,s,a)}function dj(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)g3(i,_fe(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(g3(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,g3(i,r),i}function _fe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var f6="0123456789abcdef".split("");function Sfe(n){for(var e="",t=0;t<4;t++)e+=f6[n>>8*t+4&15]+f6[n>>8*t&15];return e}function Efe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function VT(n){return dj(n).map(Efe).join("")}var Bfe=(function(n){for(var e=0;e<n.length;e++)n[e]=Sfe(n[e]);return n.join("")})(dj("hello"))!="5d41402abc4b2a76b9719d911017c592";function _p(n,e){if(Bfe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function GT(n,e){var t,i,r,s;if(n!==t){for(var a=(r=n,s=1+(256/n.length|0),new Array(s+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var A=o[l];c=(c+A+a.charCodeAt(l))%256,o[l]=o[c],o[c]=A}t=n,i=o}else o=i;var f=e.length,p=0,d=0,y="";for(l=0;l<f;l++)d=(d+(A=o[p=(p+1)%256]))%256,o[p]=o[d],o[d]=A,a=o[(o[p]+o[d])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}var h6={print:4,modify:8,copy:16,"annot-forms":32};function $0(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(o){if(h6.perm!==void 0)throw new Error("Invalid permission: "+o);r+=h6[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=VT(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=GT(this.encryptionKey,this.padding)}function ey(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return e}function d6(n){if($r(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,i)}catch(o){xi.console&&ps.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yS(n){if(!(this instanceof yS))return new yS(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function pj(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Gm(n,e,t,i,r){if(!(this instanceof Gm))return new Gm(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,pj.call(this,i,r)}function sy(n,e,t,i,r){if(!(this instanceof sy))return new sy(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,pj.call(this,i,r)}function Zn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",A=null;$r(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(A=n.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=d6;var y="1.3",x=d.__private__.getPdfVersion=function(){return y};d.__private__.setPdfVersion=function(ee){y=ee};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return w};var b=d.__private__.getPageFormat=function(ee){return w[ee]};r=r||"a4";var _="compat",E="advanced",C=_;function T(){this.saveGraphicsState(),K(new Be(Re,0,0,-Re,0,Ac()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),c="n",C=E}function M(){this.restoreGraphicsState(),c="S",C=_}var F=d.__private__.combineFontStyleAndFontWeight=function(ee,ye){if(ee=="bold"&&ye=="normal"||ee=="bold"&&ye==400||ee=="normal"&&ye=="italic"||ee=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(ee=ye==400||ye==="normal"?ee==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||ee!=="normal"?(ye==700?"bold":ye)+""+ee:"bold"),ee};d.advancedAPI=function(ee){var ye=C===_;return ye&&T.call(this),typeof ee!="function"||(ee(this),ye&&M.call(this)),this},d.compatAPI=function(ee){var ye=C===E;return ye&&M.call(this),typeof ee!="function"||(ee(this),ye&&T.call(this)),this},d.isAdvancedAPI=function(){return C===E};var L,N=function(ee){if(C!==E)throw new Error(ee+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=d.roundToPrecision=d.__private__.roundToPrecision=function(ee,ye){var qe=e||ye;if(isNaN(ee)||isNaN(qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ee.toFixed(qe).replace(/0+$/,"")};L=d.hpf=d.__private__.hpf=typeof l=="number"?function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return R(ee,l)}:l==="smart"?function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return R(ee,ee>-1&&ee<1?16:5)}:function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return R(ee,16)};var k=d.f2=d.__private__.f2=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.f2");return R(ee,2)},Q=d.__private__.f3=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.f3");return R(ee,3)},J=d.scale=d.__private__.scale=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.scale");return C===_?ee*Re:C===E?ee:void 0},Y=function(ee){return J((function(ye){return C===_?Ac()-ye:C===E?ye:void 0})(ee))};d.__private__.setPrecision=d.setPrecision=function(ee){typeof parseInt(ee,10)=="number"&&(e=parseInt(ee,10))};var ne,W="00000000000000000000000000000000",q=d.__private__.getFileId=function(){return W},$=d.__private__.setFileId=function(ee){return W=ee!==void 0&&/^[a-fA-F0-9]{32}$/.test(ee)?ee.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&($n=new $0(A.userPermissions,A.userPassword,A.ownerPassword,W)),W};d.setFileId=function(ee){return $(ee),this},d.getFileId=function(){return q()};var re=d.__private__.convertDateToPDFDate=function(ee){var ye=ee.getTimezoneOffset(),qe=ye<0?"+":"-",lt=Math.floor(Math.abs(ye/60)),mt=Math.abs(ye%60),Gt=[qe,oe(lt),"'",oe(mt),"'"].join("");return["D:",ee.getFullYear(),oe(ee.getMonth()+1),oe(ee.getDate()),oe(ee.getHours()),oe(ee.getMinutes()),oe(ee.getSeconds()),Gt].join("")},V=d.__private__.convertPDFDateToDate=function(ee){var ye=parseInt(ee.substr(2,4),10),qe=parseInt(ee.substr(6,2),10)-1,lt=parseInt(ee.substr(8,2),10),mt=parseInt(ee.substr(10,2),10),Gt=parseInt(ee.substr(12,2),10),rn=parseInt(ee.substr(14,2),10);return new Date(ye,qe,lt,mt,Gt,rn,0)},te=d.__private__.setCreationDate=function(ee){var ye;if(ee===void 0&&(ee=new Date),ee instanceof Date)ye=re(ee);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ee))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=ee}return ne=ye},z=d.__private__.getCreationDate=function(ee){var ye=ne;return ee==="jsDate"&&(ye=V(ne)),ye};d.setCreationDate=function(ee){return te(ee),this},d.getCreationDate=function(ee){return z(ee)};var j,oe=d.__private__.padd2=function(ee){return("0"+parseInt(ee)).slice(-2)},fe=d.__private__.padd2Hex=function(ee){return("00"+(ee=ee.toString())).substr(ee.length)},ue=0,Ae=[],he=[],_e=0,be=[],Ne=[],ze=!1,$e=he;d.__private__.setCustomOutputDestination=function(ee){ze=!0,$e=ee};var He=function(ee){ze||($e=ee)};d.__private__.resetCustomOutputDestination=function(){ze=!1,$e=he};var K=d.__private__.out=function(ee){return ee=ee.toString(),_e+=ee.length+1,$e.push(ee),$e},xe=d.__private__.write=function(ee){return K(arguments.length===1?ee.toString():Array.prototype.join.call(arguments," "))},Pe=d.__private__.getArrayBuffer=function(ee){for(var ye=ee.length,qe=new ArrayBuffer(ye),lt=new Uint8Array(qe);ye--;)lt[ye]=ee.charCodeAt(ye);return qe},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return We};var Le=n.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(ee){return Le=C===E?ee/Re:ee,this};var tt,Ee=d.__private__.getFontSize=d.getFontSize=function(){return C===_?Le:Le*Re},et=n.R2L||!1;d.__private__.setR2L=d.setR2L=function(ee){return et=ee,this},d.__private__.getR2L=d.getR2L=function(){return et};var me,le=d.__private__.setZoomMode=function(ee){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ee))tt=ee;else if(isNaN(ee)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ee)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ee+'" is not recognized.');tt=ee}else tt=parseInt(ee,10)};d.__private__.getZoomMode=function(){return tt};var Je,P=d.__private__.setPageMode=function(ee){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ee)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ee+'" is not recognized.');me=ee};d.__private__.getPageMode=function(){return me};var Z=d.__private__.setLayoutMode=function(ee){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ee)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ee+'" is not recognized.');Je=ee};d.__private__.getLayoutMode=function(){return Je},d.__private__.setDisplayMode=d.setDisplayMode=function(ee,ye,qe){return le(ee),Z(ye),P(qe),this};var se={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(ee){if(Object.keys(se).indexOf(ee)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return se[ee]},d.__private__.getDocumentProperties=function(){return se},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(ee){for(var ye in se)se.hasOwnProperty(ye)&&ee[ye]&&(se[ye]=ee[ye]);return this},d.__private__.setDocumentProperty=function(ee,ye){if(Object.keys(se).indexOf(ee)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return se[ee]=ye};var we,Re,Ze,dt,Me,Oe={},bt={},Fe=[],Xe={},ht={},Qe={},ot={},Dt=null,Rt=0,Et=[],Ct=new d6(d),an=n.hotfixes||[],pn={},Xn={},Vn=[],Be=function ee(ye,qe,lt,mt,Gt,rn){if(!(this instanceof ee))return new ee(ye,qe,lt,mt,Gt,rn);isNaN(ye)&&(ye=1),isNaN(qe)&&(qe=0),isNaN(lt)&&(lt=0),isNaN(mt)&&(mt=1),isNaN(Gt)&&(Gt=0),isNaN(rn)&&(rn=0),this._matrix=[ye,qe,lt,mt,Gt,rn]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ee){this._matrix[0]=ee}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ee){this._matrix[1]=ee}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ee){this._matrix[2]=ee}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ee){this._matrix[3]=ee}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ee){this._matrix[4]=ee}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ee){this._matrix[5]=ee}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(ee){this._matrix[0]=ee}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(ee){this._matrix[1]=ee}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(ee){this._matrix[2]=ee}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(ee){this._matrix[3]=ee}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(ee){this._matrix[4]=ee}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(ee){this._matrix[5]=ee}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(ee){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(ee)},Be.prototype.multiply=function(ee){var ye=ee.sx*this.sx+ee.shy*this.shx,qe=ee.sx*this.shy+ee.shy*this.sy,lt=ee.shx*this.sx+ee.sy*this.shx,mt=ee.shx*this.shy+ee.sy*this.sy,Gt=ee.tx*this.sx+ee.ty*this.shx+this.tx,rn=ee.tx*this.shy+ee.ty*this.sy+this.ty;return new Be(ye,qe,lt,mt,Gt,rn)},Be.prototype.decompose=function(){var ee=this.sx,ye=this.shy,qe=this.shx,lt=this.sy,mt=this.tx,Gt=this.ty,rn=Math.sqrt(ee*ee+ye*ye),Fn=(ee/=rn)*qe+(ye/=rn)*lt;qe-=ee*Fn,lt-=ye*Fn;var Hn=Math.sqrt(qe*qe+lt*lt);return Fn/=Hn,ee*(lt/=Hn)<ye*(qe/=Hn)&&(ee=-ee,ye=-ye,Fn=-Fn,rn=-rn),{scale:new Be(rn,0,0,Hn,0,0),translate:new Be(1,0,0,1,mt,Gt),rotate:new Be(ee,ye,-ye,ee,0,0),skew:new Be(1,0,Fn,1,0,0)}},Be.prototype.toString=function(ee){return this.join(" ")},Be.prototype.inversed=function(){var ee=this.sx,ye=this.shy,qe=this.shx,lt=this.sy,mt=this.tx,Gt=this.ty,rn=1/(ee*lt-ye*qe),Fn=lt*rn,Hn=-ye*rn,ri=-qe*rn,mi=ee*rn;return new Be(Fn,Hn,ri,mi,-Fn*mt-ri*Gt,-Hn*mt-mi*Gt)},Be.prototype.applyToPoint=function(ee){var ye=ee.x*this.sx+ee.y*this.shx+this.tx,qe=ee.x*this.shy+ee.y*this.sy+this.ty;return new Po(ye,qe)},Be.prototype.applyToRectangle=function(ee){var ye=this.applyToPoint(ee),qe=this.applyToPoint(new Po(ee.x+ee.w,ee.y+ee.h));return new io(ye.x,ye.y,qe.x-ye.x,qe.y-ye.y)},Be.prototype.clone=function(){var ee=this.sx,ye=this.shy,qe=this.shx,lt=this.sy,mt=this.tx,Gt=this.ty;return new Be(ee,ye,qe,lt,mt,Gt)},d.Matrix=Be;var Ke=d.matrixMult=function(ee,ye){return ye.multiply(ee)},tn=new Be(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=tn;var cn=function(ee,ye){if(!ht[ee]){var qe=(ye instanceof Gm?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);ye.id=qe,ht[ee]=qe,Xe[qe]=ye,Ct.publish("addPattern",ye)}};d.ShadingPattern=Gm,d.TilingPattern=sy,d.addShadingPattern=function(ee,ye){return N("addShadingPattern()"),cn(ee,ye),this},d.beginTilingPattern=function(ee){N("beginTilingPattern()"),Uu(ee.boundingBox[0],ee.boundingBox[1],ee.boundingBox[2]-ee.boundingBox[0],ee.boundingBox[3]-ee.boundingBox[1],ee.matrix)},d.endTilingPattern=function(ee,ye){N("endTilingPattern()"),ye.stream=Ne[j].join(`
`),cn(ee,ye),Ct.publish("endTilingPattern",ye),Vn.pop().restore()};var An,On=d.__private__.newObject=function(){var ee=li();return ui(ee,!0),ee},li=d.__private__.newObjectDeferred=function(){return ue++,Ae[ue]=function(){return _e},ue},ui=function(ee,ye){return ye=typeof ye=="boolean"&&ye,Ae[ee]=_e,ye&&K(ee+" 0 obj"),ee},Pn=d.__private__.newAdditionalObject=function(){var ee={objId:li(),content:""};return be.push(ee),ee},er=li(),Gn=li(),pe=d.__private__.decodeColorString=function(ee){var ye=ee.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length!==5||ye[4]!=="k"&&ye[4]!=="K"||(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var qe=parseFloat(ye[0]);ye=[qe,qe,qe,"r"]}for(var lt="#",mt=0;mt<3;mt++)lt+=("0"+Math.floor(255*parseFloat(ye[mt])).toString(16)).slice(-2);return lt},Ue=d.__private__.encodeColorString=function(ee){var ye;typeof ee=="string"&&(ee={ch1:ee});var qe=ee.ch1,lt=ee.ch2,mt=ee.ch3,Gt=ee.ch4,rn=ee.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof qe=="string"&&qe.charAt(0)!=="#"){var Fn=new hj(qe);if(Fn.ok)qe=Fn.toHex();else if(!/^\d*\.?\d*$/.test(qe))throw new Error('Invalid color "'+qe+'" passed to jsPDF.encodeColorString.')}if(typeof qe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(qe)&&(qe="#"+qe[1]+qe[1]+qe[2]+qe[2]+qe[3]+qe[3]),typeof qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(qe)){var Hn=parseInt(qe.substr(1),16);qe=Hn>>16&255,lt=Hn>>8&255,mt=255&Hn}if(lt===void 0||Gt===void 0&&qe===lt&&lt===mt)ye=typeof qe=="string"?qe+" "+rn[0]:ee.precision===2?k(qe/255)+" "+rn[0]:Q(qe/255)+" "+rn[0];else if(Gt===void 0||$r(Gt)==="object"){if(Gt&&!isNaN(Gt.a)&&Gt.a===0)return["1.","1.","1.",rn[1]].join(" ");ye=typeof qe=="string"?[qe,lt,mt,rn[1]].join(" "):ee.precision===2?[k(qe/255),k(lt/255),k(mt/255),rn[1]].join(" "):[Q(qe/255),Q(lt/255),Q(mt/255),rn[1]].join(" ")}else ye=typeof qe=="string"?[qe,lt,mt,Gt,rn[2]].join(" "):ee.precision===2?[k(qe),k(lt),k(mt),k(Gt),rn[2]].join(" "):[Q(qe),Q(lt),Q(mt),Q(Gt),rn[2]].join(" ");return ye},it=d.__private__.getFilters=function(){return a},wt=d.__private__.putStream=function(ee){var ye=(ee=ee||{}).data||"",qe=ee.filters||it(),lt=ee.alreadyAppliedFilters||[],mt=ee.addLength1||!1,Gt=ye.length,rn=ee.objectId,Fn=function(Ir){return Ir};if(A!==null&&rn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Fn=$n.encryptor(rn,0));var Hn={};qe===!0&&(qe=["FlateEncode"]);var ri=ee.additionalKeyValues||[],mi=(Hn=Zn.API.processDataByFilters!==void 0?Zn.API.processDataByFilters(ye,qe):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(lt)?lt.join(" "):lt.toString());if(Hn.data.length!==0&&(ri.push({key:"Length",value:Hn.data.length}),mt===!0&&ri.push({key:"Length1",value:Gt})),mi.length!=0)if(mi.split("/").length-1==1)ri.push({key:"Filter",value:mi});else{ri.push({key:"Filter",value:"["+mi+"]"});for(var Vi=0;Vi<ri.length;Vi+=1)if(ri[Vi].key==="DecodeParms"){for(var es=[],cs=0;cs<Hn.reverseChain.split("/").length-1;cs+=1)es.push("null");es.push(ri[Vi].value),ri[Vi].value="["+es.join(" ")+"]"}}K("<<");for(var Fr=0;Fr<ri.length;Fr++)K("/"+ri[Fr].key+" "+ri[Fr].value);K(">>"),Hn.data.length!==0&&(K("stream"),K(Fn(Hn.data)),K("endstream"))},Lt=d.__private__.putPage=function(ee){var ye=ee.number,qe=ee.data,lt=ee.objId,mt=ee.contentsObjId;ui(lt,!0),K("<</Type /Page"),K("/Parent "+ee.rootDictionaryObjId+" 0 R"),K("/Resources "+ee.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(L(ee.mediaBox.bottomLeftX))+" "+parseFloat(L(ee.mediaBox.bottomLeftY))+" "+L(ee.mediaBox.topRightX)+" "+L(ee.mediaBox.topRightY)+"]"),ee.cropBox!==null&&K("/CropBox ["+L(ee.cropBox.bottomLeftX)+" "+L(ee.cropBox.bottomLeftY)+" "+L(ee.cropBox.topRightX)+" "+L(ee.cropBox.topRightY)+"]"),ee.bleedBox!==null&&K("/BleedBox ["+L(ee.bleedBox.bottomLeftX)+" "+L(ee.bleedBox.bottomLeftY)+" "+L(ee.bleedBox.topRightX)+" "+L(ee.bleedBox.topRightY)+"]"),ee.trimBox!==null&&K("/TrimBox ["+L(ee.trimBox.bottomLeftX)+" "+L(ee.trimBox.bottomLeftY)+" "+L(ee.trimBox.topRightX)+" "+L(ee.trimBox.topRightY)+"]"),ee.artBox!==null&&K("/ArtBox ["+L(ee.artBox.bottomLeftX)+" "+L(ee.artBox.bottomLeftY)+" "+L(ee.artBox.topRightX)+" "+L(ee.artBox.topRightY)+"]"),typeof ee.userUnit=="number"&&ee.userUnit!==1&&K("/UserUnit "+ee.userUnit),Ct.publish("putPage",{objId:lt,pageContext:Et[ye],pageNumber:ye,page:qe}),K("/Contents "+mt+" 0 R"),K(">>"),K("endobj");var Gt=qe.join(`
`);return C===E&&(Gt+=`
Q`),ui(mt,!0),wt({data:Gt,filters:it(),objectId:mt}),K("endobj"),lt},Mt=d.__private__.putPages=function(){var ee,ye,qe=[];for(ee=1;ee<=Rt;ee++)Et[ee].objId=li(),Et[ee].contentsObjId=li();for(ee=1;ee<=Rt;ee++)qe.push(Lt({number:ee,data:Ne[ee],objId:Et[ee].objId,contentsObjId:Et[ee].contentsObjId,mediaBox:Et[ee].mediaBox,cropBox:Et[ee].cropBox,bleedBox:Et[ee].bleedBox,trimBox:Et[ee].trimBox,artBox:Et[ee].artBox,userUnit:Et[ee].userUnit,rootDictionaryObjId:er,resourceDictionaryObjId:Gn}));ui(er,!0),K("<</Type /Pages");var lt="/Kids [";for(ye=0;ye<Rt;ye++)lt+=qe[ye]+" 0 R ";K(lt+"]"),K("/Count "+Rt),K(">>"),K("endobj"),Ct.publish("postPutPages")},Zt=function(ee){Ct.publish("putFont",{font:ee,out:K,newObject:On,putStream:wt}),ee.isAlreadyPutted!==!0&&(ee.objectNumber=On(),K("<<"),K("/Type /Font"),K("/BaseFont /"+ey(ee.postScriptName)),K("/Subtype /Type1"),typeof ee.encoding=="string"&&K("/Encoding /"+ee.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},nn=function(ee){ee.objectNumber=On();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[L(ee.x),L(ee.y),L(ee.x+ee.width),L(ee.y+ee.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+ee.matrix.toString()+"]"});var qe=ee.pages[1].join(`
`);wt({data:qe,additionalKeyValues:ye,objectId:ee.objectNumber}),K("endobj")},sn=function(ee,ye){ye||(ye=21);var qe=On(),lt=(function(rn,Fn){var Hn,ri=[],mi=1/(Fn-1);for(Hn=0;Hn<1;Hn+=mi)ri.push(Hn);if(ri.push(1),rn[0].offset!=0){var Vi={offset:0,color:rn[0].color};rn.unshift(Vi)}if(rn[rn.length-1].offset!=1){var es={offset:1,color:rn[rn.length-1].color};rn.push(es)}for(var cs="",Fr=0,Ir=0;Ir<ri.length;Ir++){for(Hn=ri[Ir];Hn>rn[Fr+1].offset;)Fr++;var gs=rn[Fr].offset,Sa=(Hn-gs)/(rn[Fr+1].offset-gs),fc=rn[Fr].color,la=rn[Fr+1].color;cs+=fe(Math.round((1-Sa)*fc[0]+Sa*la[0]).toString(16))+fe(Math.round((1-Sa)*fc[1]+Sa*la[1]).toString(16))+fe(Math.round((1-Sa)*fc[2]+Sa*la[2]).toString(16))}return cs.trim()})(ee.colors,ye),mt=[];mt.push({key:"FunctionType",value:"0"}),mt.push({key:"Domain",value:"[0.0 1.0]"}),mt.push({key:"Size",value:"["+ye+"]"}),mt.push({key:"BitsPerSample",value:"8"}),mt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt({data:lt,additionalKeyValues:mt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:qe}),K("endobj"),ee.objectNumber=On(),K("<< /ShadingType "+ee.type),K("/ColorSpace /DeviceRGB");var Gt="/Coords ["+L(parseFloat(ee.coords[0]))+" "+L(parseFloat(ee.coords[1]))+" ";ee.type===2?Gt+=L(parseFloat(ee.coords[2]))+" "+L(parseFloat(ee.coords[3])):Gt+=L(parseFloat(ee.coords[2]))+" "+L(parseFloat(ee.coords[3]))+" "+L(parseFloat(ee.coords[4]))+" "+L(parseFloat(ee.coords[5])),K(Gt+="]"),ee.matrix&&K("/Matrix ["+ee.matrix.toString()+"]"),K("/Function "+qe+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},ge=function(ee,ye){var qe=li(),lt=On();ye.push({resourcesOid:qe,objectOid:lt}),ee.objectNumber=lt;var mt=[];mt.push({key:"Type",value:"/Pattern"}),mt.push({key:"PatternType",value:"1"}),mt.push({key:"PaintType",value:"1"}),mt.push({key:"TilingType",value:"1"}),mt.push({key:"BBox",value:"["+ee.boundingBox.map(L).join(" ")+"]"}),mt.push({key:"XStep",value:L(ee.xStep)}),mt.push({key:"YStep",value:L(ee.yStep)}),mt.push({key:"Resources",value:qe+" 0 R"}),ee.matrix&&mt.push({key:"Matrix",value:"["+ee.matrix.toString()+"]"}),wt({data:ee.stream,additionalKeyValues:mt,objectId:ee.objectNumber}),K("endobj")},Ye=function(ee){for(var ye in ee.objectNumber=On(),K("<<"),ee)switch(ye){case"opacity":K("/ca "+k(ee[ye]));break;case"stroke-opacity":K("/CA "+k(ee[ye]))}K(">>"),K("endobj")},rt=function(ee){ui(ee.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ye in K("/Font <<"),Oe)Oe.hasOwnProperty(ye)&&(f===!1||f===!0&&p.hasOwnProperty(ye))&&K("/"+ye+" "+Oe[ye].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(Xe).length>0){for(var ye in K("/Shading <<"),Xe)Xe.hasOwnProperty(ye)&&Xe[ye]instanceof Gm&&Xe[ye].objectNumber>=0&&K("/"+ye+" "+Xe[ye].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),K(">>")}})(),(function(ye){if(Object.keys(Xe).length>0){for(var qe in K("/Pattern <<"),Xe)Xe.hasOwnProperty(qe)&&Xe[qe]instanceof d.TilingPattern&&Xe[qe].objectNumber>=0&&Xe[qe].objectNumber<ye&&K("/"+qe+" "+Xe[qe].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),K(">>")}})(ee.objectOid),(function(){if(Object.keys(Qe).length>0){var ye;for(ye in K("/ExtGState <<"),Qe)Qe.hasOwnProperty(ye)&&Qe[ye].objectNumber>=0&&K("/"+ye+" "+Qe[ye].objectNumber+" 0 R");Ct.publish("putGStateDict"),K(">>")}})(),(function(){for(var ye in K("/XObject <<"),pn)pn.hasOwnProperty(ye)&&pn[ye].objectNumber>=0&&K("/"+ye+" "+pn[ye].objectNumber+" 0 R");Ct.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},pt=function(ee){bt[ee.fontName]=bt[ee.fontName]||{},bt[ee.fontName][ee.fontStyle]=ee.id},nt=function(ee,ye,qe,lt,mt){var Gt={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:ee,fontName:ye,fontStyle:qe,encoding:lt,isStandardFont:mt||!1,metadata:{}};return Ct.publish("addFont",{font:Gt,instance:this}),Oe[Gt.id]=Gt,pt(Gt),Gt.id},Ut=d.__private__.pdfEscape=d.pdfEscape=function(ee,ye){return(function(qe,lt){var mt,Gt,rn,Fn,Hn,ri,mi,Vi,es;if(rn=(lt=lt||{}).sourceEncoding||"Unicode",Hn=lt.outputEncoding,(lt.autoencode||Hn)&&Oe[we].metadata&&Oe[we].metadata[rn]&&Oe[we].metadata[rn].encoding&&(Fn=Oe[we].metadata[rn].encoding,!Hn&&Oe[we].encoding&&(Hn=Oe[we].encoding),!Hn&&Fn.codePages&&(Hn=Fn.codePages[0]),typeof Hn=="string"&&(Hn=Fn[Hn]),Hn)){for(mi=!1,ri=[],mt=0,Gt=qe.length;mt<Gt;mt++)(Vi=Hn[qe.charCodeAt(mt)])?ri.push(String.fromCharCode(Vi)):ri.push(qe[mt]),ri[mt].charCodeAt(0)>>8&&(mi=!0);qe=ri.join("")}for(mt=qe.length;mi===void 0&&mt!==0;)qe.charCodeAt(mt-1)>>8&&(mi=!0),mt--;if(!mi)return qe;for(ri=lt.noBOM?[]:[254,255],mt=0,Gt=qe.length;mt<Gt;mt++){if((es=(Vi=qe.charCodeAt(mt))>>8)>>8)throw new Error("Character at position "+mt+" of string '"+qe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ri.push(es),ri.push(Vi-(es<<8))}return String.fromCharCode.apply(void 0,ri)})(ee,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jt=d.__private__.beginPage=function(ee){Ne[++Rt]=[],Et[Rt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ee[0]),topRightY:Number(ee[1])}},dn(Rt),He(Ne[j])},$t=function(ee,ye){var qe,lt,mt;switch(t=ye||t,typeof ee=="string"&&(qe=b(ee.toLowerCase()),Array.isArray(qe)&&(lt=qe[0],mt=qe[1])),Array.isArray(ee)&&(lt=ee[0]*Re,mt=ee[1]*Re),isNaN(lt)&&(lt=r[0],mt=r[1]),(lt>14400||mt>14400)&&(ps.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),lt=Math.min(14400,lt),mt=Math.min(14400,mt)),r=[lt,mt],t.substr(0,1)){case"l":mt>lt&&(r=[mt,lt]);break;case"p":lt>mt&&(r=[mt,lt])}jt(r),ei(Mu),K(Oo),gA!==0&&K(gA+" J"),Ls!==0&&K(Ls+" j"),Ct.publish("addPage",{pageNumber:Rt})},on=function(ee){ee>0&&ee<=Rt&&(Ne.splice(ee,1),Et.splice(ee,1),Rt--,j>Rt&&(j=Rt),this.setPage(j))},dn=function(ee){ee>0&&ee<=Rt&&(j=ee)},vn=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Ne.length-1},yn=function(ee,ye,qe){var lt,mt=void 0;return qe=qe||{},ee=ee!==void 0?ee:Oe[we].fontName,ye=ye!==void 0?ye:Oe[we].fontStyle,lt=ee.toLowerCase(),bt[lt]!==void 0&&bt[lt][ye]!==void 0?mt=bt[lt][ye]:bt[ee]!==void 0&&bt[ee][ye]!==void 0?mt=bt[ee][ye]:qe.disableWarning===!1&&ps.warn("Unable to look up font label for font '"+ee+"', '"+ye+"'. Refer to getFontList() for available fonts."),mt||qe.noFallback||(mt=bt.times[ye])==null&&(mt=bt.times.normal),mt},gn=d.__private__.putInfo=function(){var ee=On(),ye=function(lt){return lt};for(var qe in A!==null&&(ye=$n.encryptor(ee,0)),K("<<"),K("/Producer ("+Ut(ye("jsPDF "+Zn.version))+")"),se)se.hasOwnProperty(qe)&&se[qe]&&K("/"+qe.substr(0,1).toUpperCase()+qe.substr(1)+" ("+Ut(ye(se[qe]))+")");K("/CreationDate ("+Ut(ye(ne))+")"),K(">>"),K("endobj")},ii=d.__private__.putCatalog=function(ee){var ye=(ee=ee||{}).rootDictionaryObjId||er;switch(On(),K("<<"),K("/Type /Catalog"),K("/Pages "+ye+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var qe=""+tt;qe.substr(qe.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&K("/OpenAction [3 0 R /XYZ null null "+k(tt)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}me&&K("/PageMode /"+me),Ct.publish("putCatalog"),K(">>"),K("endobj")},Dn=d.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ue+1)),K("/Root "+ue+" 0 R"),K("/Info "+(ue-1)+" 0 R"),A!==null&&K("/Encrypt "+$n.oid+" 0 R"),K("/ID [ <"+W+"> <"+W+"> ]"),K(">>")},xn=d.__private__.putHeader=function(){K("%PDF-"+y),K("%")},gi=d.__private__.putXRef=function(){var ee="0000000000";K("xref"),K("0 "+(ue+1)),K("0000000000 65535 f ");for(var ye=1;ye<=ue;ye++)typeof Ae[ye]=="function"?K((ee+Ae[ye]()).slice(-10)+" 00000 n "):Ae[ye]!==void 0?K((ee+Ae[ye]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},En=d.__private__.buildDocument=function(){var ee;ue=0,_e=0,he=[],Ae=[],be=[],er=li(),Gn=li(),He(he),Ct.publish("buildDocument"),xn(),Mt(),(function(){Ct.publish("putAdditionalObjects");for(var qe=0;qe<be.length;qe++){var lt=be[qe];ui(lt.objId,!0),K(lt.content),K("endobj")}Ct.publish("postPutAdditionalObjects")})(),ee=[],(function(){for(var qe in Oe)Oe.hasOwnProperty(qe)&&(f===!1||f===!0&&p.hasOwnProperty(qe))&&Zt(Oe[qe])})(),(function(){var qe;for(qe in Qe)Qe.hasOwnProperty(qe)&&Ye(Qe[qe])})(),(function(){for(var qe in pn)pn.hasOwnProperty(qe)&&nn(pn[qe])})(),(function(qe){var lt;for(lt in Xe)Xe.hasOwnProperty(lt)&&(Xe[lt]instanceof Gm?sn(Xe[lt]):Xe[lt]instanceof sy&&ge(Xe[lt],qe))})(ee),Ct.publish("putResources"),ee.forEach(rt),rt({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources"),A!==null&&($n.oid=On(),K("<<"),K("/Filter /Standard"),K("/V "+$n.v),K("/R "+$n.r),K("/U <"+$n.toHexString($n.U)+">"),K("/O <"+$n.toHexString($n.O)+">"),K("/P "+$n.P),K(">>"),K("endobj")),gn(),ii();var ye=_e;return gi(),Dn(),K("startxref"),K(""+ye),K("%%EOF"),He(Ne[j]),he.join(`
`)},Ai=d.__private__.getBlob=function(ee){return new Blob([Pe(ee)],{type:"application/pdf"})},Un=d.output=d.__private__.output=(An=function(ee,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",ee){case void 0:return En();case"save":d.save(ye.filename);break;case"arraybuffer":return Pe(En());case"blob":return Ai(En());case"bloburi":case"bloburl":if(xi.URL!==void 0&&typeof xi.URL.createObjectURL=="function")return xi.URL&&xi.URL.createObjectURL(Ai(En()))||void 0;ps.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var qe="",lt=En();try{qe=A6(lt)}catch{qe=A6(unescape(encodeURIComponent(lt)))}return"data:application/pdf;filename="+ye.filename+";base64,"+qe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xi)==="[object Window]"){var mt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(mt=ye.pdfObjectUrl,Gt="");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+mt+'"'+Gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",Fn=xi.open();return Fn!==null&&Fn.document.write(rn),Fn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xi)==="[object Window]"){var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',ri=xi.open();if(ri!==null){ri.document.write(Hn);var mi=this;ri.document.documentElement.querySelector("#pdfViewer").onload=function(){ri.document.title=ye.filename,ri.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mi.output("bloburl"))}}return ri}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xi)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',es=xi.open();if(es!==null&&(es.document.write(Vi),es.document.title=ye.filename),es||typeof safari>"u")return es;break;case"datauri":case"dataurl":return xi.document.location.href=this.output("datauristring",ye);default:return null}},An.foo=function(){try{return An.apply(this,arguments)}catch(qe){var ee=qe.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var ye="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+qe.message;if(!xi.console)throw new Error(ye);xi.console.error(ye,qe),xi.alert&&alert(ye)}},An.foo.bar=An,An.foo),si=function(ee){return Array.isArray(an)===!0&&an.indexOf(ee)>-1};switch(i){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=si("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Re=i}var $n=null;te(),$();var Nn=d.__private__.getPageInfo=d.getPageInfo=function(ee){if(isNaN(ee)||ee%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[ee].objId,pageNumber:ee,pageContext:Et[ee]}},kr=d.__private__.getPageInfoByObjId=function(ee){if(isNaN(ee)||ee%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in Et)if(Et[ye].objId===ee)break;return Nn(ye)},Ri=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Et[j].objId,pageNumber:j,pageContext:Et[j]}};d.addPage=function(){return $t.apply(this,arguments),this},d.setPage=function(){return dn.apply(this,arguments),He.call(this,Ne[j]),this},d.insertPage=function(ee){return this.addPage(),this.movePage(j,ee),this},d.movePage=function(ee,ye){var qe,lt;if(ee>ye){qe=Ne[ee],lt=Et[ee];for(var mt=ee;mt>ye;mt--)Ne[mt]=Ne[mt-1],Et[mt]=Et[mt-1];Ne[ye]=qe,Et[ye]=lt,this.setPage(ye)}else if(ee<ye){qe=Ne[ee],lt=Et[ee];for(var Gt=ee;Gt<ye;Gt++)Ne[Gt]=Ne[Gt+1],Et[Gt]=Et[Gt+1];Ne[ye]=qe,Et[ye]=lt,this.setPage(ye)}return this},d.deletePage=function(){return on.apply(this,arguments),this},d.__private__.text=d.text=function(ee,ye,qe,lt,mt){var Gt,rn,Fn,Hn,ri,mi,Vi,es,cs,Fr=(lt=lt||{}).scope||this;if(typeof ee=="number"&&typeof ye=="number"&&(typeof qe=="string"||Array.isArray(qe))){var Ir=qe;qe=ye,ye=ee,ee=Ir}if(arguments[3]instanceof Be==0?(Fn=arguments[4],Hn=arguments[5],$r(Vi=arguments[3])==="object"&&Vi!==null||(typeof Fn=="string"&&(Hn=Fn,Fn=null),typeof Vi=="string"&&(Hn=Vi,Vi=null),typeof Vi=="number"&&(Fn=Vi,Vi=null),lt={flags:Vi,angle:Fn,align:Hn})):(N("The transform parameter of text() with a Matrix value"),cs=mt),isNaN(ye)||isNaN(qe)||ee==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ee.length===0)return Fr;var gs,Sa="",fc=typeof lt.lineHeightFactor=="number"?lt.lineHeightFactor:Il,la=Fr.internal.scaleFactor;function Ea(Yi){return Yi=Yi.split("	").join(Array(lt.TabLen||9).join(" ")),Ut(Yi,Vi)}function yA(Yi){for(var qi,Hr=Yi.concat(),us=[],As=Hr.length;As--;)typeof(qi=Hr.shift())=="string"?us.push(qi):Array.isArray(Yi)&&(qi.length===1||qi[1]===void 0&&qi[2]===void 0)?us.push(qi[0]):us.push([qi[0],qi[1],qi[2]]);return us}function Fu(Yi,qi){var Hr;if(typeof Yi=="string")Hr=qi(Yi)[0];else if(Array.isArray(Yi)){for(var us,As,tl=Yi.concat(),Ws=[],Af=tl.length;Af--;)typeof(us=tl.shift())=="string"?Ws.push(qi(us)[0]):Array.isArray(us)&&typeof us[0]=="string"&&(As=qi(us[0],us[1],us[2]),Ws.push([As[0],As[1],As[2]]));Hr=Ws}return Hr}var yo=!1,vo=!0;if(typeof ee=="string")yo=!0;else if(Array.isArray(ee)){var ko=ee.concat();rn=[];for(var ts,Bs=ko.length;Bs--;)(typeof(ts=ko.shift())!="string"||Array.isArray(ts)&&typeof ts[0]!="string")&&(vo=!1);yo=vo}if(yo===!1)throw new Error('Type of text must be string or Array. "'+ee+'" is not recognized.');typeof ee=="string"&&(ee=ee.match(/[\r?\n]/)?ee.split(/\r\n|\r|\n/g):[ee]);var Zc=Le/Fr.internal.scaleFactor,hc=Zc*(fc-1);switch(lt.baseline){case"bottom":qe-=hc;break;case"top":qe+=Zc-hc;break;case"hanging":qe+=Zc-2*hc;break;case"middle":qe+=Zc/2-hc}if((mi=lt.maxWidth||0)>0&&(typeof ee=="string"?ee=Fr.splitTextToSize(ee,mi):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Yi,qi){return Yi.concat(Fr.splitTextToSize(qi,mi))},[]))),Gt={text:ee,x:ye,y:qe,options:lt,mutex:{pdfEscape:Ut,activeFontKey:we,fonts:Oe,activeFontSize:Le}},Ct.publish("preProcessText",Gt),ee=Gt.text,Fn=(lt=Gt.options).angle,cs instanceof Be==0&&Fn&&typeof Fn=="number"){Fn*=Math.PI/180,lt.rotationDirection===0&&(Fn=-Fn),C===E&&(Fn=-Fn);var dc=Math.cos(Fn),$o=Math.sin(Fn);cs=new Be(dc,$o,-$o,dc,0,0)}else Fn&&Fn instanceof Be&&(cs=Fn);C!==E||cs||(cs=tn),(ri=lt.charSpace||no)!==void 0&&(Sa+=L(J(ri))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(es=lt.horizontalScale)!==void 0&&(Sa+=L(100*es)+` Tz
`),lt.lang;var ca=-1,pc=lt.renderingMode!==void 0?lt.renderingMode:lt.stroke,ua=Fr.internal.getCurrentPageInfo().pageContext;switch(pc){case 0:case!1:case"fill":ca=0;break;case 1:case!0:case"stroke":ca=1;break;case 2:case"fillThenStroke":ca=2;break;case 3:case"invisible":ca=3;break;case 4:case"fillAndAddForClipping":ca=4;break;case 5:case"strokeAndAddPathForClipping":ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ca=6;break;case 7:case"addToPathForClipping":ca=7}var uf=ua.usedRenderingMode!==void 0?ua.usedRenderingMode:-1;ca!==-1?Sa+=ca+` Tr
`:uf!==-1&&(Sa+=`0 Tr
`),ca!==-1&&(ua.usedRenderingMode=ca),Hn=lt.align||"left";var ro,el=Le*fc,mc=Fr.internal.pageSize.getWidth(),vA=Oe[we];ri=lt.charSpace||no,mi=lt.maxWidth||0,Vi=Object.assign({autoencode:!0,noBOM:!0},lt.flags);var Ho=[],Jc=function(Yi){return Fr.getStringUnitWidth(Yi,{font:vA,charSpace:ri,fontSize:Le,doKerning:!1})*Le/la};if(Object.prototype.toString.call(ee)==="[object Array]"){var Ba;rn=yA(ee),Hn!=="left"&&(ro=rn.map(Jc));var qs,tr=0;if(Hn==="right"){ye-=ro[0],ee=[],Bs=rn.length;for(var gc=0;gc<Bs;gc++)gc===0?(qs=to(ye),Ba=oa(qe)):(qs=J(tr-ro[gc]),Ba=-el),ee.push([rn[gc],qs,Ba]),tr=ro[gc]}else if(Hn==="center"){ye-=ro[0]/2,ee=[],Bs=rn.length;for(var $c=0;$c<Bs;$c++)$c===0?(qs=to(ye),Ba=oa(qe)):(qs=J((tr-ro[$c])/2),Ba=-el),ee.push([rn[$c],qs,Ba]),tr=ro[$c]}else if(Hn==="left"){ee=[],Bs=rn.length;for(var xA=0;xA<Bs;xA++)ee.push(rn[xA])}else if(Hn==="justify"&&vA.encoding==="Identity-H"){ee=[],Bs=rn.length,mi=mi!==0?mi:mc;for(var yc=0,Er=0;Er<Bs;Er++)if(Ba=Er===0?oa(qe):-el,qs=Er===0?to(ye):yc,Er<Bs-1){var fh=J((mi-ro[Er])/(rn[Er].split(" ").length-1)),Dl=rn[Er].split(" ");ee.push([Dl[0]+" ",qs,Ba]),yc=0;for(var ja=1;ja<Dl.length;ja++){var xr=(Jc(Dl[ja-1]+" "+Dl[ja])-Jc(Dl[ja]))*la+fh;ja==Dl.length-1?ee.push([Dl[ja],xr,0]):ee.push([Dl[ja]+" ",xr,0]),yc-=xr}}else ee.push([rn[Er],qs,Ba]);ee.push(["",yc,0])}else{if(Hn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ee=[],Bs=rn.length,mi=mi!==0?mi:mc,Er=0;Er<Bs;Er++){Ba=Er===0?oa(qe):-el,qs=Er===0?to(ye):0;var vc=rn[Er].split(" ").length-1,bA=vc>0?(mi-ro[Er])/vc:0;Er<Bs-1?Ho.push(L(J(bA))):Ho.push(0),ee.push([rn[Er],qs,Ba])}}}(typeof lt.R2L=="boolean"?lt.R2L:et)===!0&&(ee=Fu(ee,function(Yi,qi,Hr){return[Yi.split("").reverse().join(""),qi,Hr]})),Gt={text:ee,x:ye,y:qe,options:lt,mutex:{pdfEscape:Ut,activeFontKey:we,fonts:Oe,activeFontSize:Le}},Ct.publish("postProcessText",Gt),ee=Gt.text,gs=Gt.mutex.isHex||!1;var wA=Oe[we].encoding;wA!=="WinAnsiEncoding"&&wA!=="StandardEncoding"||(ee=Fu(ee,function(Yi,qi,Hr){return[Ea(Yi),qi,Hr]})),rn=yA(ee),ee=[];for(var Ol,Pl,Qo,Iu=Array.isArray(rn[0])?1:0,zo="",xc=function(Yi,qi,Hr){var us="";return Hr instanceof Be?(Hr=typeof lt.angle=="number"?Ke(Hr,new Be(1,0,0,1,Yi,qi)):Ke(new Be(1,0,0,1,Yi,qi),Hr),C===E&&(Hr=Ke(new Be(1,0,0,-1,0,0),Hr)),us=Hr.join(" ")+` Tm
`):us=L(Yi)+" "+L(qi)+` Td
`,us},Ca=0;Ca<rn.length;Ca++){switch(zo="",Iu){case 1:Qo=(gs?"<":"(")+rn[Ca][0]+(gs?">":")"),Ol=parseFloat(rn[Ca][1]),Pl=parseFloat(rn[Ca][2]);break;case 0:Qo=(gs?"<":"(")+rn[Ca]+(gs?">":")"),Ol=to(ye),Pl=oa(qe)}Ho!==void 0&&Ho[Ca]!==void 0&&(zo=Ho[Ca]+` Tw
`),Ca===0?ee.push(zo+xc(Ol,Pl,cs)+Qo):Iu===0?ee.push(zo+Qo):Iu===1&&ee.push(zo+xc(Ol,Pl,cs)+Qo)}ee=Iu===0?ee.join(` Tj
T* `):ee.join(` Tj
`),ee+=` Tj
`;var ys=`BT
/`;return ys+=we+" "+Le+` Tf
`,ys+=L(Le*fc)+` TL
`,ys+=go+`
`,ys+=Sa,ys+=ee,K(ys+="ET"),p[we]=!0,Fr};var ji=d.__private__.clip=d.clip=function(ee){return K(ee==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return ji("evenodd")},d.__private__.discardPath=d.discardPath=function(){return K("n"),this};var Di=d.__private__.isValidStyle=function(ee){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ee)!==-1&&(ye=!0),ye};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(ee){return Di(ee)&&(c=ee),this};var ms=d.__private__.getStyle=d.getStyle=function(ee){var ye=c;switch(ee){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=ee}return ye},qr=d.close=function(){return K("h"),this};d.stroke=function(){return K("S"),this},d.fill=function(ee){return za("f",ee),this},d.fillEvenOdd=function(ee){return za("f*",ee),this},d.fillStroke=function(ee){return za("B",ee),this},d.fillStrokeEvenOdd=function(ee){return za("B*",ee),this};var za=function(ee,ye){$r(ye)==="object"?sh(ye,ee):K(ee)},aa=function(ee){ee===null||C===E&&ee===void 0||(ee=ms(ee),K(ee))};function hA(ee,ye,qe,lt,mt){var Gt=new sy(ye||this.boundingBox,qe||this.xStep,lt||this.yStep,this.gState,mt||this.matrix);Gt.stream=this.stream;var rn=ee+"$$"+this.cloneIndex+++"$$";return cn(rn,Gt),Gt}var sh=function(ee,ye){var qe=ht[ee.key],lt=Xe[qe];if(lt instanceof Gm)K("q"),K(dA(ye)),lt.gState&&d.setGState(lt.gState),K(ee.matrix.toString()+" cm"),K("/"+qe+" sh"),K("Q");else if(lt instanceof sy){var mt=new Be(1,0,0,-1,0,Ac());ee.matrix&&(mt=mt.multiply(ee.matrix||tn),qe=hA.call(lt,ee.key,ee.boundingBox,ee.xStep,ee.yStep,mt).id),K("q"),K("/Pattern cs"),K("/"+qe+" scn"),lt.gState&&d.setGState(lt.gState),K(ye),K("Q")}},dA=function(ee){switch(ee){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},af=d.moveTo=function(ee,ye){return K(L(J(ee))+" "+L(Y(ye))+" m"),this},ah=d.lineTo=function(ee,ye){return K(L(J(ee))+" "+L(Y(ye))+" l"),this},eo=d.curveTo=function(ee,ye,qe,lt,mt,Gt){return K([L(J(ee)),L(Y(ye)),L(J(qe)),L(Y(lt)),L(J(mt)),L(Y(Gt)),"c"].join(" ")),this};d.__private__.line=d.line=function(ee,ye,qe,lt,mt){if(isNaN(ee)||isNaN(ye)||isNaN(qe)||isNaN(lt)||!Di(mt))throw new Error("Invalid arguments passed to jsPDF.line");return C===_?this.lines([[qe-ee,lt-ye]],ee,ye,[1,1],mt||"S"):this.lines([[qe-ee,lt-ye]],ee,ye,[1,1]).stroke()},d.__private__.lines=d.lines=function(ee,ye,qe,lt,mt,Gt){var rn,Fn,Hn,ri,mi,Vi,es,cs,Fr,Ir,gs,Sa;if(typeof ee=="number"&&(Sa=qe,qe=ye,ye=ee,ee=Sa),lt=lt||[1,1],Gt=Gt||!1,isNaN(ye)||isNaN(qe)||!Array.isArray(ee)||!Array.isArray(lt)||!Di(mt)||typeof Gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(af(ye,qe),rn=lt[0],Fn=lt[1],ri=ee.length,Ir=ye,gs=qe,Hn=0;Hn<ri;Hn++)(mi=ee[Hn]).length===2?(Ir=mi[0]*rn+Ir,gs=mi[1]*Fn+gs,ah(Ir,gs)):(Vi=mi[0]*rn+Ir,es=mi[1]*Fn+gs,cs=mi[2]*rn+Ir,Fr=mi[3]*Fn+gs,Ir=mi[4]*rn+Ir,gs=mi[5]*Fn+gs,eo(Vi,es,cs,Fr,Ir,gs));return Gt&&qr(),aa(mt),this},d.path=function(ee){for(var ye=0;ye<ee.length;ye++){var qe=ee[ye],lt=qe.c;switch(qe.op){case"m":af(lt[0],lt[1]);break;case"l":ah(lt[0],lt[1]);break;case"c":eo.apply(this,lt);break;case"h":qr()}}return this},d.__private__.rect=d.rect=function(ee,ye,qe,lt,mt){if(isNaN(ee)||isNaN(ye)||isNaN(qe)||isNaN(lt)||!Di(mt))throw new Error("Invalid arguments passed to jsPDF.rect");return C===_&&(lt=-lt),K([L(J(ee)),L(Y(ye)),L(J(qe)),L(J(lt)),"re"].join(" ")),aa(mt),this},d.__private__.triangle=d.triangle=function(ee,ye,qe,lt,mt,Gt,rn){if(isNaN(ee)||isNaN(ye)||isNaN(qe)||isNaN(lt)||isNaN(mt)||isNaN(Gt)||!Di(rn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[qe-ee,lt-ye],[mt-qe,Gt-lt],[ee-mt,ye-Gt]],ee,ye,[1,1],rn,!0),this},d.__private__.roundedRect=d.roundedRect=function(ee,ye,qe,lt,mt,Gt,rn){if(isNaN(ee)||isNaN(ye)||isNaN(qe)||isNaN(lt)||isNaN(mt)||isNaN(Gt)||!Di(rn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fn=4/3*(Math.SQRT2-1);return mt=Math.min(mt,.5*qe),Gt=Math.min(Gt,.5*lt),this.lines([[qe-2*mt,0],[mt*Fn,0,mt,Gt-Gt*Fn,mt,Gt],[0,lt-2*Gt],[0,Gt*Fn,-mt*Fn,Gt,-mt,Gt],[2*mt-qe,0],[-mt*Fn,0,-mt,-Gt*Fn,-mt,-Gt],[0,2*Gt-lt],[0,-Gt*Fn,mt*Fn,-Gt,mt,-Gt]],ee+mt,ye,[1,1],rn,!0),this},d.__private__.ellipse=d.ellipse=function(ee,ye,qe,lt,mt){if(isNaN(ee)||isNaN(ye)||isNaN(qe)||isNaN(lt)||!Di(mt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gt=4/3*(Math.SQRT2-1)*qe,rn=4/3*(Math.SQRT2-1)*lt;return af(ee+qe,ye),eo(ee+qe,ye-rn,ee+Gt,ye-lt,ee,ye-lt),eo(ee-Gt,ye-lt,ee-qe,ye-rn,ee-qe,ye),eo(ee-qe,ye+rn,ee-Gt,ye+lt,ee,ye+lt),eo(ee+Gt,ye+lt,ee+qe,ye+rn,ee+qe,ye),aa(mt),this},d.__private__.circle=d.circle=function(ee,ye,qe,lt){if(isNaN(ee)||isNaN(ye)||isNaN(qe)||!Di(lt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ee,ye,qe,qe,lt)},d.setFont=function(ee,ye,qe){return qe&&(ye=F(ye,qe)),we=yn(ee,ye,{disableWarning:!1}),this};var Jo=d.__private__.getFont=d.getFont=function(){return Oe[yn.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var ee,ye,qe={};for(ee in bt)if(bt.hasOwnProperty(ee))for(ye in qe[ee]=[],bt[ee])bt[ee].hasOwnProperty(ye)&&qe[ee].push(ye);return qe},d.addFont=function(ee,ye,qe,lt,mt){var Gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Gt.indexOf(arguments[3])!==-1?mt=arguments[3]:arguments[3]&&Gt.indexOf(arguments[3])==-1&&(qe=F(qe,lt)),nt.call(this,ee,ye,qe,mt=mt||"Identity-H")};var Il,Mu=n.lineWidth||.200025,Xc=d.__private__.getLineWidth=d.getLineWidth=function(){return Mu},ei=d.__private__.setLineWidth=d.setLineWidth=function(ee){return Mu=ee,K(L(J(ee))+" w"),this};d.__private__.setLineDash=Zn.API.setLineDash=Zn.API.setLineDashPattern=function(ee,ye){if(ee=ee||[],ye=ye||0,isNaN(ye)||!Array.isArray(ee))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ee=ee.map(function(qe){return L(J(qe))}).join(" "),ye=L(J(ye)),K("["+ee+"] "+ye+" d"),this};var oh=d.__private__.getLineHeight=d.getLineHeight=function(){return Le*Il};d.__private__.getLineHeight=d.getLineHeight=function(){return Le*Il};var of=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(ee){return typeof(ee=ee||1.15)=="number"&&(Il=ee),this},lh=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Il};of(n.lineHeight);var to=d.__private__.getHorizontalCoordinate=function(ee){return J(ee)},oa=d.__private__.getVerticalCoordinate=function(ee){return C===E?ee:Et[j].mediaBox.topRightY-Et[j].mediaBox.bottomLeftY-J(ee)},lf=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(ee){return L(to(ee))},pA=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(ee){return L(oa(ee))},Oo=n.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return pe(Oo)},d.__private__.setStrokeColor=d.setDrawColor=function(ee,ye,qe,lt){return Oo=Ue({ch1:ee,ch2:ye,ch3:qe,ch4:lt,pdfColorType:"draw",precision:2}),K(Oo),this};var Tu=n.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return pe(Tu)},d.__private__.setFillColor=d.setFillColor=function(ee,ye,qe,lt){return Tu=Ue({ch1:ee,ch2:ye,ch3:qe,ch4:lt,pdfColorType:"fill",precision:2}),K(Tu),this};var go=n.textColor||"0 g",cf=d.__private__.getTextColor=d.getTextColor=function(){return pe(go)};d.__private__.setTextColor=d.setTextColor=function(ee,ye,qe,lt){return go=Ue({ch1:ee,ch2:ye,ch3:qe,ch4:lt,pdfColorType:"text",precision:3}),this};var no=n.charSpace,mA=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(no||0)};d.__private__.setCharSpace=d.setCharSpace=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=ee,this};var gA=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(ee){var ye=d.CapJoinStyles[ee];if(ye===void 0)throw new Error("Line cap style of '"+ee+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gA=ye,K(ye+" J"),this};var Ls=0;d.__private__.setLineJoin=d.setLineJoin=function(ee){var ye=d.CapJoinStyles[ee];if(ye===void 0)throw new Error("Line join style of '"+ee+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ls=ye,K(ye+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(ee){if(ee=ee||0,isNaN(ee))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(L(J(ee))+" M"),this},d.GState=yS,d.setGState=function(ee){(ee=typeof ee=="string"?Qe[ot[ee]]:Ll(null,ee)).equals(Dt)||(K("/"+ee.id+" gs"),Dt=ee)};var Ll=function(ee,ye){if(!ee||!ot[ee]){var qe=!1;for(var lt in Qe)if(Qe.hasOwnProperty(lt)&&Qe[lt].equals(ye)){qe=!0;break}if(qe)ye=Qe[lt];else{var mt="GS"+(Object.keys(Qe).length+1).toString(10);Qe[mt]=ye,ye.id=mt}return ee&&(ot[ee]=ye.id),Ct.publish("addGState",ye),ye}};d.addGState=function(ee,ye){return Ll(ee,ye),this},d.saveGraphicsState=function(){return K("q"),Fe.push({key:we,size:Le,color:go}),this},d.restoreGraphicsState=function(){K("Q");var ee=Fe.pop();return we=ee.key,Le=ee.size,go=ee.color,Dt=null,this},d.setCurrentTransformationMatrix=function(ee){return K(ee.toString()+" cm"),this},d.comment=function(ee){return K("#"+ee),this};var Po=function(ee,ye){var qe=ee||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return qe},set:function(Gt){isNaN(Gt)||(qe=parseFloat(Gt))}});var lt=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return lt},set:function(Gt){isNaN(Gt)||(lt=parseFloat(Gt))}});var mt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return mt},set:function(Gt){mt=Gt.toString()}}),this},io=function(ee,ye,qe,lt){Po.call(this,ee,ye),this.type="rect";var mt=qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return mt},set:function(rn){isNaN(rn)||(mt=parseFloat(rn))}});var Gt=lt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gt},set:function(rn){isNaN(rn)||(Gt=parseFloat(rn))}}),this},Yc=function(){this.page=Rt,this.currentPage=j,this.pages=Ne.slice(0),this.pagesContext=Et.slice(0),this.x=Ze,this.y=dt,this.matrix=Me,this.width=cc(j),this.height=ch(j),this.outputDestination=$e,this.id="",this.objectNumber=-1};Yc.prototype.restore=function(){Rt=this.page,j=this.currentPage,Et=this.pagesContext,Ne=this.pages,Ze=this.x,dt=this.y,Me=this.matrix,Nu(j,this.width),Wr(j,this.height),$e=this.outputDestination};var Uu=function(ee,ye,qe,lt,mt){Vn.push(new Yc),Rt=j=0,Ne=[],Ze=ee,dt=ye,Me=mt,jt([qe,lt])};for(var Rl in d.beginFormObject=function(ee,ye,qe,lt,mt){return Uu(ee,ye,qe,lt,mt),this},d.endFormObject=function(ee){return(function(ye){if(Xn[ye])Vn.pop().restore();else{var qe=new Yc,lt="Xo"+(Object.keys(pn).length+1).toString(10);qe.id=lt,Xn[ye]=lt,pn[lt]=qe,Ct.publish("addFormObject",qe),Vn.pop().restore()}})(ee),this},d.doFormObject=function(ee,ye){var qe=pn[Xn[ee]];return K("q"),K(ye.toString()+" cm"),K("/"+qe.id+" Do"),K("Q"),this},d.getFormObject=function(ee){var ye=pn[Xn[ee]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},d.save=function(ee,ye){return ee=ee||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(jm(Ai(En()),ee),typeof jm.unload=="function"&&xi.setTimeout&&setTimeout(jm.unload,911),this):new Promise(function(qe,lt){try{var mt=jm(Ai(En()),ee);typeof jm.unload=="function"&&xi.setTimeout&&setTimeout(jm.unload,911),qe(mt)}catch(Gt){lt(Gt.message)}})},Zn.API)Zn.API.hasOwnProperty(Rl)&&(Rl==="events"&&Zn.API.events.length?(function(ee,ye){var qe,lt,mt;for(mt=ye.length-1;mt!==-1;mt--)qe=ye[mt][0],lt=ye[mt][1],ee.subscribe.apply(ee,[qe].concat(typeof lt=="function"?[lt]:lt))})(Ct,Zn.API.events):d[Rl]=Zn.API[Rl]);function cc(ee){return Et[ee].mediaBox.topRightX-Et[ee].mediaBox.bottomLeftX}function Nu(ee,ye){Et[ee].mediaBox.topRightX=ye+Et[ee].mediaBox.bottomLeftX}function ch(ee){return Et[ee].mediaBox.topRightY-Et[ee].mediaBox.bottomLeftY}function Wr(ee,ye){Et[ee].mediaBox.topRightY=ye+Et[ee].mediaBox.bottomLeftY}var uc=d.getPageWidth=function(ee){return cc(ee=ee||j)/Re},uh=d.setPageWidth=function(ee,ye){Nu(ee,ye*Re)},Ac=d.getPageHeight=function(ee){return ch(ee=ee||j)/Re},Ah=d.setPageHeight=function(ee,ye){Wr(ee,ye*Re)};return d.internal={pdfEscape:Ut,getStyle:ms,getFont:Jo,getFontSize:Ee,getCharSpace:mA,getTextColor:cf,getLineHeight:oh,getLineHeightFactor:lh,getLineWidth:Xc,write:xe,getHorizontalCoordinate:to,getVerticalCoordinate:oa,getCoordinateString:lf,getVerticalCoordinateString:pA,collections:{},newObject:On,newAdditionalObject:Pn,newObjectDeferred:li,newObjectDeferredBegin:ui,getFilters:it,putStream:wt,events:Ct,scaleFactor:Re,pageSize:{getWidth:function(){return uc(j)},setWidth:function(ee){uh(j,ee)},getHeight:function(){return Ac(j)},setHeight:function(ee){Ah(j,ee)}},encryptionOptions:A,encryption:$n,getEncryptor:function(ee){return A!==null?$n.encryptor(ee,0):function(ye){return ye}},output:Un,getNumberOfPages:vn,get pages(){return Ne},out:K,f2:k,f3:Q,getPageInfo:Nn,getPageInfoByObjId:kr,getCurrentPageInfo:Ri,getPDFVersion:x,Point:Po,Rectangle:io,Matrix:Be,hasHotfix:si},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return uc(j)},set:function(ee){uh(j,ee)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Ac(j)},set:function(ee){Ah(j,ee)},enumerable:!0,configurable:!0}),(function(ee){for(var ye=0,qe=We.length;ye<qe;ye++){var lt=nt.call(this,ee[ye][0],ee[ye][1],ee[ye][2],We[ye][3],!0);f===!1&&(p[lt]=!0);var mt=ee[ye][0].split("-");pt({id:lt,fontName:mt[0],fontStyle:mt[1]||""})}Ct.publish("addFonts",{fonts:Oe,dictionary:bt})}).call(d,We),we="F1",$t(r,t),Ct.publish("initialized"),d}$0.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},$0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},$0.prototype.processOwnerPassword=function(n,e){return GT(VT(e).substr(0,5),n)},$0.prototype.encryptor=function(n,e){var t=VT(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return GT(t,i)}},yS.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||$r(n)!==$r(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Zn.API={events:[]},Zn.version="3.0.4";var xa=Zn.API,lN=1,Dg=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},k0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mi=function(n){return n.toFixed(2)},op=function(n){return n.toFixed(5)};xa.__acroform__={};var qc=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},p6=function(n){return n*lN},Of=function(n){var e=new gj,t=zn.internal.getHeight(n)||0,i=zn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Mi(i)),Number(Mi(t))],e},Cfe=xa.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Mfe=xa.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Tfe=xa.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Oa=xa.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tfe(n,e-1)},Pa=xa.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Cfe(n,e-1)},ka=xa.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Mfe(n,e-1)},Ufe=xa.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],a=n[2],o=n[3],l={};return l.lowerLeft_X=t(r)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=t(r+a)||0,l.upperRight_Y=i(s)||0,[Number(Mi(l.lowerLeft_X)),Number(Mi(l.lowerLeft_Y)),Number(Mi(l.upperRight_X)),Number(Mi(l.upperRight_Y))]},Nfe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=KT(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+Mi(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Of(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},KT=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var s=t,a=zn.internal.getHeight(n)||0;a=a<0?-a:a;var o=zn.internal.getWidth(n)||0;o=o<0?-o:o;var l=function(k,Q,J){if(k+1<r.length){var Y=Q+" "+r[k+1][0];return Xw(Y,n,J).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,A,f=Xw("3",n,s).height,p=n.multiline?a-s:(a-f)/2,d=p+=2,y=0,x=0,w=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xw(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var b="",_=0,E=0;E<r.length;E++)if(r.hasOwnProperty(E)){var C=!1;if(r[E].length!==1&&w!==r[E].length-1){if((f+2)*(_+2)+2>a)continue e;b+=r[E][w],C=!0,x=E,E--}else{b=(b+=r[E][w]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var T=parseInt(E),M=l(T,b,s),F=E>=r.length-1;if(M&&!F){b+=" ",w=0;continue}if(M||F){if(F)x=T;else if(n.multiline&&(f+2)*(_+2)+2>a)continue e}else{if(!n.multiline||(f+2)*(_+2)+2>a)continue e;x=T}}for(var L="",N=y;N<=x;N++){var R=r[N];if(n.multiline){if(N===x){L+=R[w]+" ",w=(w+1)%R.length;continue}if(N===y){L+=R[R.length-1]+" ";continue}}L+=R[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,A=Xw(L,n,s).width,n.textAlign){case"right":c=o-A-2;break;case"center":c=(o-A)/2;break;default:c=2}e+=Mi(c)+" "+Mi(d)+` Td
`,e+="("+Dg(L)+`) Tj
`,e+=-Mi(c)+` 0 Td
`,d=-(s+2),A=0,y=C?x:x+1,_++,b=""}break}return i.text=e,i.fontSize=s,i},Xw=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},Ffe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ife=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Lfe=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(nf.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Ffe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lN=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new yj,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Ife(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Ufe(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=zn.createDefaultAppearanceStream(o),$r(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=Nfe(o);l.push({key:"AP",value:"<</N "+A+">>"}),r.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var d=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var y=d[a];typeof y=="function"&&(y=y.call(r,o)),f+="/"+a+" "+y+" ",r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y)}}else typeof(y=d)=="function"&&(y=y.call(r,o)),f+="/"+a+" "+y,r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}s&&(function(x,w){for(var b in x)if(x.hasOwnProperty(b)){var _=b,E=x[b];w.internal.newObjectDeferredBegin(E.objId,!0),$r(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete x[_]}})(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},mj=xa.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),$r(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Dg(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},y3=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Dg(i(n))+")"},Wf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wf.prototype.toString=function(){return this.objId+" 0 R"},Wf.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Wf.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:mj(r,this.objId,this.scope)}):r instanceof Wf?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var gj=function(){Wf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};qc(gj,Wf);var yj=function(){Wf.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Dg(t(n))+")"}},set:function(t){n=t}})};qc(yj,Wf);var nf=function n(){Wf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oa(e,3)},set:function(b){b?this.F=Pa(e,3):this.F=ka(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vS)return;s="FieldObject"+n.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Dg(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/lN:c},set:function(b){c=b}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(b){A=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof vS||this instanceof ug))return y3(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof No==0?y3(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof No==0?b.substr(0,1)==="("?k0(b.substr(1,b.length-2)):k0(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof No==1?k0(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof No==1?"/"+b:b}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof No==0?y3(d,this.objId,this.scope):d},set:function(b){b=b.toString(),d=this instanceof No==0?b.substr(0,1)==="("?k0(b.substr(1,b.length-2)):k0(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof No==1?k0(d.substr(1,d.length-1)):d},set:function(b){b=b.toString(),d=this instanceof No==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,1)},set:function(b){b?this.Ff=Pa(this.Ff,1):this.Ff=ka(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,2)},set:function(b){b?this.Ff=Pa(this.Ff,2):this.Ff=ka(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,3)},set:function(b){b?this.Ff=Pa(this.Ff,3):this.Ff=ka(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');w=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(w){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};qc(nf,Wf);var fy=function(){nf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mj(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,18)},set:function(t){t?this.Ff=Pa(this.Ff,18):this.Ff=ka(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Pa(this.Ff,19):this.Ff=ka(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,20)},set:function(t){t?(this.Ff=Pa(this.Ff,20),e.sort()):this.Ff=ka(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,22)},set:function(t){t?this.Ff=Pa(this.Ff,22):this.Ff=ka(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(t){t?this.Ff=Pa(this.Ff,23):this.Ff=ka(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,27)},set:function(t){t?this.Ff=Pa(this.Ff,27):this.Ff=ka(this.Ff,27)}}),this.hasAppearanceStream=!1};qc(fy,nf);var hy=function(){fy.call(this),this.fontName="helvetica",this.combo=!1};qc(hy,fy);var dy=function(){hy.call(this),this.combo=!0};qc(dy,hy);var r_=function(){dy.call(this),this.edit=!0};qc(r_,dy);var No=function(){nf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,15)},set:function(t){t?this.Ff=Pa(this.Ff,15):this.Ff=ka(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,16)},set:function(t){t?this.Ff=Pa(this.Ff,16):this.Ff=ka(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,17)},set:function(t){t?this.Ff=Pa(this.Ff,17):this.Ff=ka(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(t){t?this.Ff=Pa(this.Ff,26):this.Ff=ka(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Dg(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){$r(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};qc(No,nf);var s_=function(){No.call(this),this.pushButton=!0};qc(s_,No);var py=function(){No.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};qc(py,No);var vS=function(){var n,e;nf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+Dg(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){$r(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qc(vS,nf),py.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},py.prototype.createOption=function(n){var e=new vS;return e.Parent=this,e.optionName=n,this.Kids.push(e),Rfe.call(this.scope,e),e};var a_=function(){No.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zn.CheckBox.createAppearanceStream()};qc(a_,No);var ug=function(){nf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,13)},set:function(e){e?this.Ff=Pa(this.Ff,13):this.Ff=ka(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,21)},set:function(e){e?this.Ff=Pa(this.Ff,21):this.Ff=ka(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(e){e?this.Ff=Pa(this.Ff,23):this.Ff=ka(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,24)},set:function(e){e?this.Ff=Pa(this.Ff,24):this.Ff=ka(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,25)},set:function(e){e?this.Ff=Pa(this.Ff,25):this.Ff=ka(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(e){e?this.Ff=Pa(this.Ff,26):this.Ff=ka(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qc(ug,nf);var o_=function(){ug.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,14)},set:function(n){n?this.Ff=Pa(this.Ff,14):this.Ff=ka(this.Ff,14)}}),this.password=!0};qc(o_,ug);var zn={CheckBox:{createAppearanceStream:function(){return{N:{On:zn.CheckBox.YesNormal},D:{On:zn.CheckBox.YesPushDown,Off:zn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Of(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=KT(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Mi(zn.internal.getWidth(n))+" "+Mi(zn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Mi(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Of(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=zn.internal.getHeight(n),a=zn.internal.getWidth(n),o=KT(n,n.caption);return r.push("1 g"),r.push("0 0 "+Mi(a)+" "+Mi(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Mi(a-1)+" "+Mi(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+Mi(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Of(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Mi(zn.internal.getWidth(n))+" "+Mi(zn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:zn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=zn.RadioButton.Circle.YesNormal,e.D[n]=zn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Of(n);e.scope=n.scope;var t=[],i=zn.internal.getWidth(n)<=zn.internal.getHeight(n)?zn.internal.getWidth(n)/4:zn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=zn.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+op(zn.internal.getWidth(n)/2)+" "+op(zn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Of(n);e.scope=n.scope;var t=[],i=zn.internal.getWidth(n)<=zn.internal.getHeight(n)?zn.internal.getWidth(n)/4:zn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*zn.internal.Bezier_C).toFixed(5)),a=Number((i*zn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+op(zn.internal.getWidth(n)/2)+" "+op(zn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+op(zn.internal.getWidth(n)/2)+" "+op(zn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Of(n);e.scope=n.scope;var t=[],i=zn.internal.getWidth(n)<=zn.internal.getHeight(n)?zn.internal.getWidth(n)/4:zn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*zn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+op(zn.internal.getWidth(n)/2)+" "+op(zn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:zn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=zn.RadioButton.Cross.YesNormal,e.D[n]=zn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Of(n);e.scope=n.scope;var t=[],i=zn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Mi(zn.internal.getWidth(n)-2)+" "+Mi(zn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Mi(i.x1.x)+" "+Mi(i.x1.y)+" m"),t.push(Mi(i.x2.x)+" "+Mi(i.x2.y)+" l"),t.push(Mi(i.x4.x)+" "+Mi(i.x4.y)+" m"),t.push(Mi(i.x3.x)+" "+Mi(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Of(n);e.scope=n.scope;var t=zn.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Mi(zn.internal.getWidth(n))+" "+Mi(zn.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Mi(zn.internal.getWidth(n)-2)+" "+Mi(zn.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Mi(t.x1.x)+" "+Mi(t.x1.y)+" m"),i.push(Mi(t.x2.x)+" "+Mi(t.x2.y)+" l"),i.push(Mi(t.x4.x)+" "+Mi(t.x4.y)+" m"),i.push(Mi(t.x3.x)+" "+Mi(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Of(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Mi(zn.internal.getWidth(n))+" "+Mi(zn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};zn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=zn.internal.getWidth(n),t=zn.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},zn.internal.getWidth=function(n){var e=0;return $r(n)==="object"&&(e=p6(n.Rect[2])),e},zn.internal.getHeight=function(n){var e=0;return $r(n)==="object"&&(e=p6(n.Rect[3])),e};var Rfe=xa.addField=function(n){if(Lfe(this,n),!(n instanceof nf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};xa.AcroFormChoiceField=fy,xa.AcroFormListBox=hy,xa.AcroFormComboBox=dy,xa.AcroFormEditBox=r_,xa.AcroFormButton=No,xa.AcroFormPushButton=s_,xa.AcroFormRadioButton=py,xa.AcroFormCheckBox=a_,xa.AcroFormTextField=ug,xa.AcroFormPasswordField=o_,xa.AcroFormAppearance=zn,xa.AcroForm={ChoiceField:fy,ListBox:hy,ComboBox:dy,EditBox:r_,Button:No,PushButton:s_,RadioButton:py,CheckBox:a_,TextField:ug,PasswordField:o_,Appearance:zn},Zn.AcroForm={ChoiceField:fy,ListBox:hy,ComboBox:dy,EditBox:r_,Button:No,PushButton:s_,RadioButton:py,CheckBox:a_,TextField:ug,PasswordField:o_,Appearance:zn};Zn.AcroForm;function vj(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(k,Q){var J,Y,ne,W,q,$=t;if((Q=Q||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(M(k))for(q in i)for(ne=i[q],J=0;J<ne.length;J+=1){for(W=!0,Y=0;Y<ne[J].length;Y+=1)if(ne[J][Y]!==void 0&&ne[J][Y]!==k[Y]){W=!1;break}if(W===!0){$=q;break}}else for(q in i)for(ne=i[q],J=0;J<ne.length;J+=1){for(W=!0,Y=0;Y<ne[J].length;Y+=1)if(ne[J][Y]!==void 0&&ne[J][Y]!==k.charCodeAt(Y)){W=!1;break}if(W===!0){$=q;break}}return $===t&&Q!==t&&($=Q),$},s=function k(Q){for(var J=this.internal.write,Y=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:Q.width}),W.push({key:"Height",value:Q.height}),Q.colorSpace===b.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===b.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)&&Q.transparency.length>0){for(var q="",$=0,re=Q.transparency.length;$<re;$++)q+=Q.transparency[$]+" "+Q.transparency[$]+" ";W.push({key:"Mask",value:"["+q+"]"})}Q.sMask!==void 0&&W.push({key:"SMask",value:Q.objectId+1+" 0 R"});var V=Q.filter!==void 0?["/"+Q.filter]:void 0;if(Y({data:Q.data,additionalKeyValues:W,alreadyAppliedFilters:V,objectId:Q.objectId}),J("endobj"),"sMask"in Q&&Q.sMask!==void 0){var te,z=(te=Q.sMaskBitsPerComponent)!==null&&te!==void 0?te:Q.bitsPerComponent,j={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:Q.sMask};"filter"in Q&&(j.decodeParameters="/Predictor ".concat(Q.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(Q.width),j.filter=Q.filter),k.call(this,j)}if(Q.colorSpace===b.INDEXED){var oe=this.internal.newObject();Y({data:L(new Uint8Array(Q.palette)),objectId:oe}),J("endobj")}},a=function(){var k=this.internal.collections[e+"images"];for(var Q in k)s.call(this,k[Q])},o=function(){var k,Q=this.internal.collections[e+"images"],J=this.internal.write;for(var Y in Q)J("/I"+(k=Q[Y]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(k){return typeof n["process"+k.toUpperCase()]=="function"},p=function(k){return $r(k)==="object"&&k.nodeType===1},d=function(k,Q){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var J=""+k.getAttribute("src");if(J.indexOf("data:image/")===0)return i_(unescape(J).split("base64,").pop());var Y=n.loadFile(J,!0);if(Y!==void 0)return Y}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ne;switch(Q){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return i_(k.toDataURL(ne,1).split("base64,").pop())}},y=function(k){var Q=this.internal.collections[e+"images"];if(Q){for(var J in Q)if(k===Q[J].alias)return Q[J]}},x=function(k,Q,J){return k||Q||(k=-96,Q=-96),k<0&&(k=-1*J.width*72/k/this.internal.scaleFactor),Q<0&&(Q=-1*J.height*72/Q/this.internal.scaleFactor),k===0&&(k=Q*J.width/J.height),Q===0&&(Q=k*J.height/J.width),[k,Q]},w=function(k,Q,J,Y,ne,W){var q=x.call(this,J,Y,ne),$=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,V=c.call(this);if(J=q[0],Y=q[1],V[ne.index]=ne,W){W*=Math.PI/180;var te=Math.cos(W),z=Math.sin(W),j=function(fe){return fe.toFixed(4)},oe=[j(te),j(z),j(-1*z),j(te),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,$(k),re(Q+Y),"cm"].join(" ")),this.internal.write(oe.join(" ")),this.internal.write([$(J),"0","0",$(Y),"0","0","cm"].join(" "))):this.internal.write([$(J),"0","0",$(Y),$(k),re(Q+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},b=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(k){var Q,J,Y=0;if(typeof k=="string")for(J=k.length,Q=0;Q<J;Q++)Y=(Y<<5)-Y+k.charCodeAt(Q),Y|=0;else if(M(k))for(J=k.byteLength/2,Q=0;Q<J;Q++)Y=(Y<<5)-Y+k[Q],Y|=0;return Y},C=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var Q=!0;return k.length===0&&(Q=!1),k.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(Q=!1),Q},T=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var Q=k.indexOf(",");return Q<0?null:k.substring(0,Q).trim().endsWith("base64")?k.substring(Q+1):null};n.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var M=n.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},F=n.__addimage__.binaryStringToUint8Array=function(k){for(var Q=k.length,J=new Uint8Array(Q),Y=0;Y<Q;Y++)J[Y]=k.charCodeAt(Y);return J},L=n.__addimage__.arrayBufferToBinaryString=function(k){for(var Q="",J=M(k)?k:new Uint8Array(k),Y=0;Y<J.length;Y+=8192)Q+=String.fromCharCode.apply(null,J.subarray(Y,Y+8192));return Q};n.addImage=function(){var k,Q,J,Y,ne,W,q,$,re;if(typeof arguments[1]=="number"?(Q=t,J=arguments[1],Y=arguments[2],ne=arguments[3],W=arguments[4],q=arguments[5],$=arguments[6],re=arguments[7]):(Q=arguments[1],J=arguments[2],Y=arguments[3],ne=arguments[4],W=arguments[5],q=arguments[6],$=arguments[7],re=arguments[8]),$r(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var V=k;k=V.imageData,Q=V.format||Q||t,J=V.x||J||0,Y=V.y||Y||0,ne=V.w||V.width||ne,W=V.h||V.height||W,q=V.alias||q,$=V.compression||$,re=V.rotation||V.angle||re}var te=this.internal.getFilters();if($===void 0&&te.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(J)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var z=N.call(this,k,Q,q,$);return w.call(this,J,Y,ne,W,z,re),this};var N=function(k,Q,J,Y){var ne,W,q;if(typeof k=="string"&&r(k)===t){k=unescape(k);var $=R(k,!1);($!==""||($=n.loadFile(k,!0))!==void 0)&&(k=$)}if(p(k)&&(k=d(k,Q)),Q=r(k,Q),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((q=J)==null||q.length===0)&&(J=(function(re){return typeof re=="string"||M(re)?E(re):M(re.data)?E(re.data):null})(k)),(ne=y.call(this,J))||(k instanceof Uint8Array||Q==="RGBA"||(W=k,k=F(k)),ne=this["process"+Q.toUpperCase()](k,A.call(this),J,(function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in n.image_compression?re:_.NONE})(Y),W)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},R=n.__addimage__.convertBase64ToBinaryString=function(k,Q){Q=typeof Q!="boolean"||Q;var J,Y="";if(typeof k=="string"){var ne;J=(ne=T(k))!==null&&ne!==void 0?ne:k;try{Y=i_(J)}catch(W){if(Q)throw C(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};n.getImageProperties=function(k){var Q,J,Y="";if(p(k)&&(k=d(k)),typeof k=="string"&&r(k)===t&&((Y=R(k,!1))===""&&(Y=n.loadFile(k)||""),k=Y),J=r(k),!f(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(k instanceof Uint8Array||(k=F(k)),!(Q=this["process"+J.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=J,Q}})(Zn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Zn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,A=!1,f=0;f<c.length&&!A;f++)switch((i=c[f]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){i=c[p];var d=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),_=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+d(b(i.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(b(_))+") >>",x.content=s;var E=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+E,i.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var C=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var T=this.annotations._nameMap[i.options.name];i.options.pageNumber=T.page,i.options.top=T.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var M=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+M+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(i),w:l(t+r),h:c(i+s)},options:a,type:"link"})},n.textWithLink=function(t,i,r,s){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var A=this.splitTextToSize(t,o).length;a=Math.ceil(c*A)}else o=l,a=c;return this.text(t,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,o,a,s),l},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Zn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=n.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&r.indexOf(x.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var A=n.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(x){var w=0,b=t,_="",E=0;for(w=0;w<x.length;w+=1)b[x.charCodeAt(w)]!==void 0?(E++,typeof(b=b[x.charCodeAt(w)])=="number"&&(_+=String.fromCharCode(b),b=t,E=0),w===x.length-1&&(b=t,_+=x.charAt(w-(E-1)),w-=E-1,E=0)):(b=t,_+=x.charAt(w-E),w-=E,E=0);return _};n.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&i[x.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(x,w,b){return a(x)?s(x)===!1?-1:!c(x)||!a(w)&&!a(b)||!a(b)&&o(w)||o(x)&&!a(w)||o(x)&&l(w)||o(x)&&o(w)?0:A(x)&&a(w)&&!o(w)&&a(b)&&c(b)?3:o(x)||!a(b)?1:2:-1},d=function(x){var w=0,b=0,_=0,E="",C="",T="",M=(x=x||"").split("\\s+"),F=[];for(w=0;w<M.length;w+=1){for(F.push(""),b=0;b<M[w].length;b+=1)E=M[w][b],C=M[w][b-1],T=M[w][b+1],a(E)?(_=p(E,C,T),F[w]+=_!==-1?String.fromCharCode(e[E.charCodeAt(0)][_]):E):F[w]+=E;F[w]=f(F[w])}return F.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(w)){var _=0;for(b=[],_=0;_<w.length;_+=1)Array.isArray(w[_])?b.push([d(w[_][0]),w[_][1],w[_][2]]):b.push([d(w[_])]);x=b}else x=d(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};n.events.push(["preProcessText",y])})(Zn.API),Zn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Zn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var A=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,d=0,y=0,x=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,C){return E.concat(w.splitTextToSize(C,b))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)d<(x=this.getStringUnitWidth(l[_],{font:f})*A)&&(d=x);return d!==0&&(y=l.length),{w:d/=p,h:Math.max((y*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var c=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-A,l.y+A,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+A,{align:"center",baseline:"top",maxWidth:l.width-A-A}):this.text(l.text,l.x+A,l.y+A,{align:"left",baseline:"top",maxWidth:l.width-A-A})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,A,f,p){if(i.call(this),!A)throw new Error("No data for PDF table.");var d,y,x,w,b=[],_=[],E=[],C={},T={},M=[],F=[],L=(p=p||{}).autoSize||!1,N=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},e),Q=typeof p.padding=="number"?p.padding:3,J=p.headerBackgroundColor||"#c8c8c8",Y=p.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=Y,this.setFontSize(R),f==null)_=b=Object.keys(A[0]),E=b.map(function(){return"left"});else if(Array.isArray(f)&&$r(f[0])==="object")for(b=f.map(function(V){return V.name}),_=f.map(function(V){return V.prompt||V.name||""}),E=f.map(function(V){return V.align||"left"}),d=0;d<f.length;d+=1)T[f[d].name]=.7499990551181103*f[d].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=b=f,E=b.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<b.length;d+=1){for(C[w=b[d]]=A.map(function(V){return V[w]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(_[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=C[w],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)M.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[w]=Math.max.apply(null,M)+Q+Q,M=[]}if(N){var ne={};for(d=0;d<b.length;d+=1)ne[b[d]]={},ne[b[d]].text=_[d],ne[b[d]].align=E[d];var W=o.call(this,ne,T);F=b.map(function(V){return new s(l,c,T[V],W,ne[V].text,void 0,ne[V].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var q=f.reduce(function(V,te){return V[te.name]=te.align,V},{});for(d=0;d<A.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:A[d]},this);var $=o.call(this,A[d],T);for(x=0;x<b.length;x+=1){var re=A[d][b[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:x,data:re},this),a.call(this,new s(l,c,T[b[x]],$,re,d+2,q[b[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var A=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var y=l[d];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[d]-A-A)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/p+A+A},this).reduce(function(d,y){return Math.max(d,y)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){A=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(A.y=this.internal.__cell__.margins.top||0,p.push(A)),A.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,A),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(Zn.API);var xj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qT=vj(bj),wj=[100,200,300,400,500,600,700,800,900],Dfe=vj(wj);function v3(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return xj[s=s||"normal"]?s:"normal"})(n.style),i=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),r=(function(s){return typeof qT[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function m6(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var Ofe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},g6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function y6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function v6(n){return n.trimLeft()}function Pfe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function kfe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Yw,x6,b6,H0,Zw,w6,_6,S6,x3=["times"];function E6(n,e,t,i,r){var s=4,a=C6;switch(r){case Zn.API.image_compression.FAST:s=1,a=B6;break;case Zn.API.image_compression.MEDIUM:s=6,a=M6;break;case Zn.API.image_compression.SLOW:s=9,a=T6}n=(function(l,c,A,f){for(var p,d=l.length/c,y=new Uint8Array(l.length+d),x=[Hfe,B6,C6,M6,T6],w=0;w<d;w+=1){var b=w*c,_=l.subarray(b,b+c);if(f)y.set(f(_,A,p),b+w);else{for(var E=x.length,C=[],T=0;T<E;T+=1)C[T]=x[T](_,A,p);var M=zfe(C.concat());y.set(C[M],b+w)}p=_}return y})(n,e,Math.ceil(t*i/8),a);var o=HT(n,{level:s});return Zn.API.__addimage__.arrayBufferToBinaryString(o)}function Hfe(n){var e=Array.apply([],n);return e.unshift(0),e}function B6(n,e){var t=n.length,i=[];i[0]=1;for(var r=0;r<t;r+=1){var s=n[r-e]||0;i[r+1]=n[r]-s+256&255}return i}function C6(n,e,t){var i=n.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=t&&t[s]||0;r[s+1]=n[s]-a+256&255}return r}function M6(n,e,t){var i=n.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=n[s-e]||0,o=t&&t[s]||0;r[s+1]=n[s]+256-(a+o>>>1)&255}return r}function T6(n,e,t){var i=n.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=Qfe(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);r[s+1]=n[s]-a+256&255}return r}function Qfe(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),r=Math.abs(n-t),s=Math.abs(n+e-t-t);return i<=r&&i<=s?n:r<=s?e:t}function zfe(n){var e=n.map(function(t){return t.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function b3(n,e,t){var i=e*t,r=Math.floor(i/8),s=16-(i-8*r+t),a=(1<<t)-1;return _j(n,r)>>s&a}function U6(n,e,t,i){var r=t*i,s=Math.floor(r/8),a=16-(r-8*s+i),o=(1<<i)-1,l=(e&o)<<a;(function(c,A,f){if(A+1<c.byteLength)c.setUint16(A,f,!1);else{var p=f>>8&255;c.setUint8(A,p)}})(n,s,_j(n,s)&~(o<<a)&65535|l)}function _j(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function jfe(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,a=1<<1+(7&r);n[e++],n[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,A=[],f=0,p=null,d=0,y=null;for(this.width=t,this.height=i;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=n[e++];f=n[e++]|n[e++]<<8,p=n[e++],1&x||(p=null),d=x>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var w=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,C=n[e++],T=C>>6&1,M=1<<1+(7&C),F=o,L=l,N=!1;C>>7&&(N=!0,F=e,L=M,e+=3*M);var R=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}A.push({x:w,y:b,width:_,height:E,has_local_palette:N,palette_offset:F,palette_size:L,data_offset:R,data_length:e-R,transparent_index:p,interlaced:!!T,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return y},this.frameInfo=function(Q){if(Q<0||Q>=A.length)throw new Error("Frame index out of range.");return A[Q]},this.decodeAndBlitFrameBGRA=function(Q,J){var Y=this.frameInfo(Q),ne=Y.width*Y.height,W=new Uint8Array(ne);N6(n,Y.data_offset,W,ne);var q=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var re=Y.width,V=t-re,te=re,z=4*(Y.y*t+Y.x),j=4*((Y.y+Y.height)*t+Y.x),oe=z,fe=4*V;Y.interlaced===!0&&(fe+=4*t*7);for(var ue=8,Ae=0,he=W.length;Ae<he;++Ae){var _e=W[Ae];if(te===0&&(te=re,(oe+=fe)>=j&&(fe=4*V+4*t*(ue-1),oe=z+(re+V)*(ue<<1),ue>>=1)),_e===$)oe+=4;else{var be=n[q+3*_e],Ne=n[q+3*_e+1],ze=n[q+3*_e+2];J[oe++]=ze,J[oe++]=Ne,J[oe++]=be,J[oe++]=255}--te}},this.decodeAndBlitFrameRGBA=function(Q,J){var Y=this.frameInfo(Q),ne=Y.width*Y.height,W=new Uint8Array(ne);N6(n,Y.data_offset,W,ne);var q=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var re=Y.width,V=t-re,te=re,z=4*(Y.y*t+Y.x),j=4*((Y.y+Y.height)*t+Y.x),oe=z,fe=4*V;Y.interlaced===!0&&(fe+=4*t*7);for(var ue=8,Ae=0,he=W.length;Ae<he;++Ae){var _e=W[Ae];if(te===0&&(te=re,(oe+=fe)>=j&&(fe=4*V+4*t*(ue-1),oe=z+(re+V)*(ue<<1),ue>>=1)),_e===$)oe+=4;else{var be=n[q+3*_e],Ne=n[q+3*_e+1],ze=n[q+3*_e+2];J[oe++]=be,J[oe++]=Ne,J[oe++]=ze,J[oe++]=255}--te}}}function N6(n,e,t,i){for(var r=n[e++],s=1<<r,a=s+1,o=a+1,l=r+1,c=(1<<l)-1,A=0,f=0,p=0,d=n[e++],y=new Int32Array(4096),x=null;;){for(;A<16&&d!==0;)f|=n[e++]<<A,A+=8,d===1?d=n[e++]:--d;if(A<l)break;var w=f&c;if(f>>=l,A-=l,w!==s){if(w===a)break;for(var b=w<o?w:x,_=0,E=b;E>s;)E=y[E]>>8,++_;var C=E;if(p+_+(b!==w?1:0)>i)return void ps.log("Warning, gif stream longer than expected.");t[p++]=C;var T=p+=_;for(b!==w&&(t[p++]=C),E=b;_--;)E=y[E],t[--T]=255&E,E>>=8;x!==null&&o<4096&&(y[o++]=x<<8|C,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=w}else o=a+1,c=(1<<(l=r+1))-1,x=null}return p!==i&&ps.log("Warning, gif stream shorter than expected."),t}function w3(n){var e,t,i,r,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),A=new Array(64),f=new Array(65535),p=new Array(65535),d=new Array(64),y=new Array(64),x=[],w=0,b=7,_=new Array(64),E=new Array(64),C=new Array(64),T=new Array(256),M=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(z,j){for(var oe=0,fe=0,ue=new Array,Ae=1;Ae<=16;Ae++){for(var he=1;he<=z[Ae];he++)ue[j[fe]]=[],ue[j[fe]][0]=oe,ue[j[fe]][1]=Ae,fe++,oe++;oe*=2}return ue}function q(z){for(var j=z[0],oe=z[1]-1;oe>=0;)j&1<<oe&&(w|=1<<b),oe--,--b<0&&(w==255?($(255),$(0)):$(w),b=7,w=0)}function $(z){x.push(z)}function re(z){$(z>>8&255),$(255&z)}function V(z,j,oe,fe,ue){for(var Ae,he=ue[0],_e=ue[240],be=(function(Le,tt){var Ee,et,me,le,Je,P,Z,se,we,Re,Ze=0;for(we=0;we<8;++we){Ee=Le[Ze],et=Le[Ze+1],me=Le[Ze+2],le=Le[Ze+3],Je=Le[Ze+4],P=Le[Ze+5],Z=Le[Ze+6];var dt=Ee+(se=Le[Ze+7]),Me=Ee-se,Oe=et+Z,bt=et-Z,Fe=me+P,Xe=me-P,ht=le+Je,Qe=le-Je,ot=dt+ht,Dt=dt-ht,Rt=Oe+Fe,Et=Oe-Fe;Le[Ze]=ot+Rt,Le[Ze+4]=ot-Rt;var Ct=.707106781*(Et+Dt);Le[Ze+2]=Dt+Ct,Le[Ze+6]=Dt-Ct;var an=.382683433*((ot=Qe+Xe)-(Et=bt+Me)),pn=.5411961*ot+an,Xn=1.306562965*Et+an,Vn=.707106781*(Rt=Xe+bt),Be=Me+Vn,Ke=Me-Vn;Le[Ze+5]=Ke+pn,Le[Ze+3]=Ke-pn,Le[Ze+1]=Be+Xn,Le[Ze+7]=Be-Xn,Ze+=8}for(Ze=0,we=0;we<8;++we){Ee=Le[Ze],et=Le[Ze+8],me=Le[Ze+16],le=Le[Ze+24],Je=Le[Ze+32],P=Le[Ze+40],Z=Le[Ze+48];var tn=Ee+(se=Le[Ze+56]),cn=Ee-se,An=et+Z,On=et-Z,li=me+P,ui=me-P,Pn=le+Je,er=le-Je,Gn=tn+Pn,pe=tn-Pn,Ue=An+li,it=An-li;Le[Ze]=Gn+Ue,Le[Ze+32]=Gn-Ue;var wt=.707106781*(it+pe);Le[Ze+16]=pe+wt,Le[Ze+48]=pe-wt;var Lt=.382683433*((Gn=er+ui)-(it=On+cn)),Mt=.5411961*Gn+Lt,Zt=1.306562965*it+Lt,nn=.707106781*(Ue=ui+On),sn=cn+nn,ge=cn-nn;Le[Ze+40]=ge+Mt,Le[Ze+24]=ge-Mt,Le[Ze+8]=sn+Zt,Le[Ze+56]=sn-Zt,Ze++}for(we=0;we<64;++we)Re=Le[we]*tt[we],d[we]=Re>0?Re+.5|0:Re-.5|0;return d})(z,j),Ne=0;Ne<64;++Ne)y[F[Ne]]=be[Ne];var ze=y[0]-oe;oe=y[0],ze==0?q(fe[0]):(q(fe[p[Ae=32767+ze]]),q(f[Ae]));for(var $e=63;$e>0&&y[$e]==0;)$e--;if($e==0)return q(he),oe;for(var He,K=1;K<=$e;){for(var xe=K;y[K]==0&&K<=$e;)++K;var Pe=K-xe;if(Pe>=16){He=Pe>>4;for(var We=1;We<=He;++We)q(_e);Pe&=15}Ae=32767+y[K],q(ue[(Pe<<4)+p[Ae]]),q(f[Ae]),K++}return $e!=63&&q(he),oe}function te(z){z=Math.min(Math.max(z,1),100),s!=z&&((function(j){for(var oe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var ue=a((oe[fe]*j+50)/100);ue=Math.min(Math.max(ue,1),255),o[F[fe]]=ue}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var _e=a((Ae[he]*j+50)/100);_e=Math.min(Math.max(_e,1),255),l[F[he]]=_e}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,ze=0;ze<8;ze++)for(var $e=0;$e<8;$e++)c[Ne]=1/(o[F[Ne]]*be[ze]*be[$e]*8),A[Ne]=1/(l[F[Ne]]*be[ze]*be[$e]*8),Ne++})(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),s=z)}this.encode=function(z,j){j&&te(j),x=new Array,w=0,b=7,re(65496),re(65504),re(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),re(1),re(1),$(0),$(0),(function(){re(65499),re(132),$(0);for(var et=0;et<64;et++)$(o[et]);$(1);for(var me=0;me<64;me++)$(l[me])})(),(function(et,me){re(65472),re(17),$(8),re(me),re(et),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(z.width,z.height),(function(){re(65476),re(418),$(0);for(var et=0;et<16;et++)$(L[et+1]);for(var me=0;me<=11;me++)$(N[me]);$(16);for(var le=0;le<16;le++)$(R[le+1]);for(var Je=0;Je<=161;Je++)$(k[Je]);$(1);for(var P=0;P<16;P++)$(Q[P+1]);for(var Z=0;Z<=11;Z++)$(J[Z]);$(17);for(var se=0;se<16;se++)$(Y[se+1]);for(var we=0;we<=161;we++)$(ne[we])})(),re(65498),re(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var oe=0,fe=0,ue=0;w=0,b=7,this.encode.displayName="_encode_";for(var Ae,he,_e,be,Ne,ze,$e,He,K,xe=z.data,Pe=z.width,We=z.height,Le=4*Pe,tt=0;tt<We;){for(Ae=0;Ae<Le;){for(Ne=Le*tt+Ae,$e=-1,He=0,K=0;K<64;K++)ze=Ne+(He=K>>3)*Le+($e=4*(7&K)),tt+He>=We&&(ze-=Le*(tt+1+He-We)),Ae+$e>=Le&&(ze-=Ae+$e-Le+4),he=xe[ze++],_e=xe[ze++],be=xe[ze++],_[K]=(M[he]+M[_e+256|0]+M[be+512|0]>>16)-128,E[K]=(M[he+768|0]+M[_e+1024|0]+M[be+1280|0]>>16)-128,C[K]=(M[he+1280|0]+M[_e+1536|0]+M[be+1792|0]>>16)-128;oe=V(_,c,oe,e,i),fe=V(E,A,fe,t,r),ue=V(C,A,ue,t,r),Ae+=32}tt+=8}if(b>=0){var Ee=[];Ee[1]=b+1,Ee[0]=(1<<b+1)-1,q(Ee)}return re(65497),new Uint8Array(x)},n=n||50,(function(){for(var z=String.fromCharCode,j=0;j<256;j++)T[j]=z(j)})(),e=W(L,N),t=W(Q,J),i=W(R,k),r=W(Y,ne),(function(){for(var z=1,j=2,oe=1;oe<=15;oe++){for(var fe=z;fe<j;fe++)p[32767+fe]=oe,f[32767+fe]=[],f[32767+fe][1]=oe,f[32767+fe][0]=fe;for(var ue=-(j-1);ue<=-z;ue++)p[32767+ue]=oe,f[32767+ue]=[],f[32767+ue][1]=oe,f[32767+ue][0]=j-1+ue;z<<=1,j<<=1}})(),(function(){for(var z=0;z<256;z++)M[z]=19595*z,M[z+256|0]=38470*z,M[z+512|0]=7471*z+32768,M[z+768|0]=-11059*z,M[z+1024|0]=-21709*z,M[z+1280|0]=32768*z+8421375,M[z+1536|0]=-27439*z,M[z+1792|0]=-5329*z})(),te(n)}function VA(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function F6(n){function e(N){if(!N)throw Error("assert :P")}function t(N,R,k){for(var Q=0;4>Q;Q++)if(N[R+Q]!=k.charCodeAt(Q))return!0;return!1}function i(N,R,k,Q,J){for(var Y=0;Y<J;Y++)N[R+Y]=k[Q+Y]}function r(N,R,k,Q){for(var J=0;J<Q;J++)N[R+J]=k}function s(N){return new Int32Array(N)}function a(N,R){for(var k=[],Q=0;Q<N;Q++)k.push(new R);return k}function o(N,R){var k=[];return(function Q(J,Y,ne){for(var W=ne[Y],q=0;q<W&&(J.push(ne.length>Y+1?[]:new R),!(ne.length<Y+1));q++)Q(J[q],Y+1,ne)})(k,0,N),k}var l=function(){var N=this;function R(U,H){for(var ie=1<<H-1>>>0;U&ie;)ie>>>=1;return ie?(U&ie-1)+ie:U}function k(U,H,ie,ce,ve){e(!(ce%ie));do U[H+(ce-=ie)]=ve;while(0<ce)}function Q(U,H,ie,ce,ve){if(e(2328>=ve),512>=ve)var Se=s(512);else if((Se=s(ve))==null)return 0;return(function(Ce,Ie,ke,Ge,ut,Bt){var Ve,ft,_t=Ie,kt=1<<ke,St=s(16),gt=s(16);for(e(ut!=0),e(Ge!=null),e(Ce!=null),e(0<ke),ft=0;ft<ut;++ft){if(15<Ge[ft])return 0;++St[Ge[ft]]}if(St[0]==ut)return 0;for(gt[1]=0,Ve=1;15>Ve;++Ve){if(St[Ve]>1<<Ve)return 0;gt[Ve+1]=gt[Ve]+St[Ve]}for(ft=0;ft<ut;++ft)Ve=Ge[ft],0<Ge[ft]&&(Bt[gt[Ve]++]=ft);if(gt[15]==1)return(Ge=new J).g=0,Ge.value=Bt[0],k(Ce,_t,1,kt,Ge),kt;var Vt,ln=-1,Jt=kt-1,In=0,Cn=1,hi=1,Ln=1<<ke;for(ft=0,Ve=1,ut=2;Ve<=ke;++Ve,ut<<=1){if(Cn+=hi<<=1,0>(hi-=St[Ve]))return 0;for(;0<St[Ve];--St[Ve])(Ge=new J).g=Ve,Ge.value=Bt[ft++],k(Ce,_t+In,ut,Ln,Ge),In=R(In,Ve)}for(Ve=ke+1,ut=2;15>=Ve;++Ve,ut<<=1){if(Cn+=hi<<=1,0>(hi-=St[Ve]))return 0;for(;0<St[Ve];--St[Ve]){if(Ge=new J,(In&Jt)!=ln){for(_t+=Ln,Vt=1<<(ln=Ve)-ke;15>ln&&!(0>=(Vt-=St[ln]));)++ln,Vt<<=1;kt+=Ln=1<<(Vt=ln-ke),Ce[Ie+(ln=In&Jt)].g=Vt+ke,Ce[Ie+ln].value=_t-Ie-ln}Ge.g=Ve-ke,Ge.value=Bt[ft++],k(Ce,_t+(In>>ke),ut,Ln,Ge),In=R(In,Ve)}}return Cn!=2*gt[15]-1?0:kt})(U,H,ie,ce,ve,Se)}function J(){this.value=this.g=0}function Y(){this.value=this.g=0}function ne(){this.G=a(5,J),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Jc,Y)}function W(U,H,ie,ce){e(U!=null),e(H!=null),e(2147483648>ce),U.Ca=254,U.I=0,U.b=-8,U.Ka=0,U.oa=H,U.pa=ie,U.Jd=H,U.Yc=ie+ce,U.Zc=4<=ce?ie+ce-4+1:ie,he(U)}function q(U,H){for(var ie=0;0<H--;)ie|=be(U,128)<<H;return ie}function $(U,H){var ie=q(U,H);return _e(U)?-ie:ie}function re(U,H,ie,ce){var ve,Se=0;for(e(U!=null),e(H!=null),e(4294967288>ce),U.Sb=ce,U.Ra=0,U.u=0,U.h=0,4<ce&&(ce=4),ve=0;ve<ce;++ve)Se+=H[ie+ve]<<8*ve;U.Ra=Se,U.bb=ce,U.oa=H,U.pa=ie}function V(U){for(;8<=U.u&&U.bb<U.Sb;)U.Ra>>>=8,U.Ra+=U.oa[U.pa+U.bb]<<tr-8>>>0,++U.bb,U.u-=8;fe(U)&&(U.h=1,U.u=0)}function te(U,H){if(e(0<=H),!U.h&&H<=qs){var ie=oe(U)&Ba[H];return U.u+=H,V(U),ie}return U.h=1,U.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function oe(U){return U.Ra>>>(U.u&tr-1)>>>0}function fe(U){return e(U.bb<=U.Sb),U.h||U.bb==U.Sb&&U.u>tr}function ue(U,H){U.u=H,U.h=fe(U)}function Ae(U){U.u>=gc&&(e(U.u>=gc),V(U))}function he(U){e(U!=null&&U.oa!=null),U.pa<U.Zc?(U.I=(U.oa[U.pa++]|U.I<<8)>>>0,U.b+=8):(e(U!=null&&U.oa!=null),U.pa<U.Yc?(U.b+=8,U.I=U.oa[U.pa++]|U.I<<8):U.Ka?U.b=0:(U.I<<=8,U.b+=8,U.Ka=1))}function _e(U){return q(U,1)}function be(U,H){var ie=U.Ca;0>U.b&&he(U);var ce=U.b,ve=ie*H>>>8,Se=(U.I>>>ce>ve)+0;for(Se?(ie-=ve,U.I-=ve+1<<ce>>>0):ie=ve+1,ce=ie,ve=0;256<=ce;)ve+=8,ce>>=8;return ce=7^ve+$c[ce],U.b-=ce,U.Ca=(ie<<ce)-1,Se}function Ne(U,H,ie){U[H+0]=ie>>24&255,U[H+1]=ie>>16&255,U[H+2]=ie>>8&255,U[H+3]=255&ie}function ze(U,H){return U[H+0]|U[H+1]<<8}function $e(U,H){return ze(U,H)|U[H+2]<<16}function He(U,H){return ze(U,H)|ze(U,H+2)<<16}function K(U,H){var ie=1<<H;return e(U!=null),e(0<H),U.X=s(ie),U.X==null?0:(U.Mb=32-H,U.Xa=H,1)}function xe(U,H){e(U!=null),e(H!=null),e(U.Xa==H.Xa),i(H.X,0,U.X,0,1<<H.Xa)}function Pe(){this.X=[],this.Xa=this.Mb=0}function We(U,H,ie,ce){e(ie!=null),e(ce!=null);var ve=ie[0],Se=ce[0];return ve==0&&(ve=(U*Se+H/2)/H),Se==0&&(Se=(H*ve+U/2)/U),0>=ve||0>=Se?0:(ie[0]=ve,ce[0]=Se,1)}function Le(U,H){return U+(1<<H)-1>>>H}function tt(U,H){return((4278255360&U)+(4278255360&H)>>>0&4278255360)+((16711935&U)+(16711935&H)>>>0&16711935)>>>0}function Ee(U,H){N[H]=function(ie,ce,ve,Se,Ce,Ie,ke){var Ge;for(Ge=0;Ge<Ce;++Ge){var ut=N[U](Ie[ke+Ge-1],ve,Se+Ge);Ie[ke+Ge]=tt(ie[ce+Ge],ut)}}}function et(){this.ud=this.hd=this.jd=0}function me(U,H){return((4278124286&(U^H))>>>1)+(U&H)>>>0}function le(U){return 0<=U&&256>U?U:0>U?0:255<U?255:void 0}function Je(U,H){return le(U+(U-H+.5>>1))}function P(U,H,ie){return Math.abs(H-ie)-Math.abs(U-ie)}function Z(U,H,ie,ce,ve,Se,Ce){for(ce=Se[Ce-1],ie=0;ie<ve;++ie)Se[Ce+ie]=ce=tt(U[H+ie],ce)}function se(U,H,ie,ce,ve){var Se;for(Se=0;Se<ie;++Se){var Ce=U[H+Se],Ie=Ce>>8&255,ke=16711935&(ke=(ke=16711935&Ce)+((Ie<<16)+Ie));ce[ve+Se]=(4278255360&Ce)+ke>>>0}}function we(U,H){H.jd=255&U,H.hd=U>>8&255,H.ud=U>>16&255}function Re(U,H,ie,ce,ve,Se){var Ce;for(Ce=0;Ce<ce;++Ce){var Ie=H[ie+Ce],ke=Ie>>>8,Ge=Ie,ut=255&(ut=(ut=Ie>>>16)+((U.jd<<24>>24)*(ke<<24>>24)>>>5));Ge=255&(Ge=(Ge+=(U.hd<<24>>24)*(ke<<24>>24)>>>5)+((U.ud<<24>>24)*(ut<<24>>24)>>>5)),ve[Se+Ce]=(4278255360&Ie)+(ut<<16)+Ge}}function Ze(U,H,ie,ce,ve){N[H]=function(Se,Ce,Ie,ke,Ge,ut,Bt,Ve,ft){for(ke=Bt;ke<Ve;++ke)for(Bt=0;Bt<ft;++Bt)Ge[ut++]=ve(Ie[ce(Se[Ce++])])},N[U]=function(Se,Ce,Ie,ke,Ge,ut,Bt){var Ve=8>>Se.b,ft=Se.Ea,_t=Se.K[0],kt=Se.w;if(8>Ve)for(Se=(1<<Se.b)-1,kt=(1<<Ve)-1;Ce<Ie;++Ce){var St,gt=0;for(St=0;St<ft;++St)St&Se||(gt=ce(ke[Ge++])),ut[Bt++]=ve(_t[gt&kt]),gt>>=Ve}else N["VP8LMapColor"+ie](ke,Ge,_t,kt,ut,Bt,Ce,Ie,ft)}}function dt(U,H,ie,ce,ve){for(ie=H+ie;H<ie;){var Se=U[H++];ce[ve++]=Se>>16&255,ce[ve++]=Se>>8&255,ce[ve++]=255&Se}}function Me(U,H,ie,ce,ve){for(ie=H+ie;H<ie;){var Se=U[H++];ce[ve++]=Se>>16&255,ce[ve++]=Se>>8&255,ce[ve++]=255&Se,ce[ve++]=Se>>24&255}}function Oe(U,H,ie,ce,ve){for(ie=H+ie;H<ie;){var Se=(Ce=U[H++])>>16&240|Ce>>12&15,Ce=240&Ce|Ce>>28&15;ce[ve++]=Se,ce[ve++]=Ce}}function bt(U,H,ie,ce,ve){for(ie=H+ie;H<ie;){var Se=(Ce=U[H++])>>16&248|Ce>>13&7,Ce=Ce>>5&224|Ce>>3&31;ce[ve++]=Se,ce[ve++]=Ce}}function Fe(U,H,ie,ce,ve){for(ie=H+ie;H<ie;){var Se=U[H++];ce[ve++]=255&Se,ce[ve++]=Se>>8&255,ce[ve++]=Se>>16&255}}function Xe(U,H,ie,ce,ve,Se){if(Se==0)for(ie=H+ie;H<ie;)Ne(ce,((Se=U[H++])[0]>>24|Se[1]>>8&65280|Se[2]<<8&16711680|Se[3]<<24)>>>0),ve+=32;else i(ce,ve,U,H,ie)}function ht(U,H){N[H][0]=N[U+"0"],N[H][1]=N[U+"1"],N[H][2]=N[U+"2"],N[H][3]=N[U+"3"],N[H][4]=N[U+"4"],N[H][5]=N[U+"5"],N[H][6]=N[U+"6"],N[H][7]=N[U+"7"],N[H][8]=N[U+"8"],N[H][9]=N[U+"9"],N[H][10]=N[U+"10"],N[H][11]=N[U+"11"],N[H][12]=N[U+"12"],N[H][13]=N[U+"13"],N[H][14]=N[U+"0"],N[H][15]=N[U+"0"]}function Qe(U){return U==hf||U==yd||U==xo||U==mh}function ot(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ot,this.f.kb=new Dt,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function an(U){return alert("todo:WebPSamplerProcessPlane"),U.T}function pn(U,H){var ie=U.T,ce=H.ba.f.RGBA,ve=ce.eb,Se=ce.fb+U.ka*ce.A,Ce=da[H.ba.S],Ie=U.y,ke=U.O,Ge=U.f,ut=U.N,Bt=U.ea,Ve=U.W,ft=H.cc,_t=H.dc,kt=H.Mc,St=H.Nc,gt=U.ka,Vt=U.ka+U.T,ln=U.U,Jt=ln+1>>1;for(gt==0?Ce(Ie,ke,null,null,Ge,ut,Bt,Ve,Ge,ut,Bt,Ve,ve,Se,null,null,ln):(Ce(H.ec,H.fc,Ie,ke,ft,_t,kt,St,Ge,ut,Bt,Ve,ve,Se-ce.A,ve,Se,ln),++ie);gt+2<Vt;gt+=2)ft=Ge,_t=ut,kt=Bt,St=Ve,ut+=U.Rc,Ve+=U.Rc,Se+=2*ce.A,Ce(Ie,(ke+=2*U.fa)-U.fa,Ie,ke,ft,_t,kt,St,Ge,ut,Bt,Ve,ve,Se-ce.A,ve,Se,ln);return ke+=U.fa,U.j+Vt<U.o?(i(H.ec,H.fc,Ie,ke,ln),i(H.cc,H.dc,Ge,ut,Jt),i(H.Mc,H.Nc,Bt,Ve,Jt),ie--):1&Vt||Ce(Ie,ke,null,null,Ge,ut,Bt,Ve,Ge,ut,Bt,Ve,ve,Se+ce.A,null,null,ln),ie}function Xn(U,H,ie){var ce=U.F,ve=[U.J];if(ce!=null){var Se=U.U,Ce=H.ba.S,Ie=Ce==Zs||Ce==xo;H=H.ba.f.RGBA;var ke=[0],Ge=U.ka;ke[0]=U.T,U.Kb&&(Ge==0?--ke[0]:(--Ge,ve[0]-=U.width),U.j+U.ka+U.T==U.o&&(ke[0]=U.o-U.j-Ge));var ut=H.eb;Ge=H.fb+Ge*H.A,U=tu(ce,ve[0],U.width,Se,ke,ut,Ge+(Ie?0:3),H.A),e(ie==ke),U&&Qe(Ce)&&Lu(ut,Ge,Ie,Se,ke,H.A)}return 0}function Vn(U){var H=U.ma,ie=H.ba.S,ce=11>ie,ve=ie==fa||ie==jo||ie==Zs||ie==BA||ie==12||Qe(ie);if(H.memory=null,H.Ib=null,H.Jb=null,H.Nd=null,!mc(H.Oa,U,ve?11:12))return 0;if(ve&&Qe(ie)&&yA(),U.da)alert("todo:use_scaling");else{if(ce){if(H.Ib=an,U.Kb){if(ie=U.U+1>>1,H.memory=s(U.U+2*ie),H.memory==null)return 0;H.ec=H.memory,H.fc=0,H.cc=H.ec,H.dc=H.fc+U.U,H.Mc=H.cc,H.Nc=H.dc+ie,H.Ib=pn,yA()}}else alert("todo:EmitYUV");ve&&(H.Jb=Xn,ce&&la())}if(ce&&!Pu){for(U=0;256>U;++U)pa[U]=89858*(U-128)+sl>>so,Pg[U]=-22014*(U-128)+sl,Wp[U]=-45773*(U-128),xh[U]=113618*(U-128)+sl>>so;for(U=Ou;U<Bc;++U)H=76283*(U-16)+sl>>so,kg[U-Ou]=gn(H,255),Xp[U-Ou]=gn(H+8>>4,15);Pu=1}return 1}function Be(U){var H=U.ma,ie=U.U,ce=U.T;return e(!(1&U.ka)),0>=ie||0>=ce?0:(ie=H.Ib(U,H),H.Jb!=null&&H.Jb(U,H,ie),H.Dc+=ie,1)}function Ke(U){U.ma.memory=null}function tn(U,H,ie,ce){return te(U,8)!=47?0:(H[0]=te(U,14)+1,ie[0]=te(U,14)+1,ce[0]=te(U,1),te(U,3)!=0?0:!U.h)}function cn(U,H){if(4>U)return U+1;var ie=U-2>>1;return(2+(1&U)<<ie)+te(H,ie)+1}function An(U,H){return 120<H?H-120:1<=(ie=((ie=Vo[H-1])>>4)*U+(8-(15&ie)))?ie:1;var ie}function On(U,H,ie){var ce=oe(ie),ve=U[H+=255&ce].g-8;return 0<ve&&(ue(ie,ie.u+8),ce=oe(ie),H+=U[H].value,H+=ce&(1<<ve)-1),ue(ie,ie.u+U[H].g),U[H].value}function li(U,H,ie){return ie.g+=U.g,ie.value+=U.value<<H>>>0,e(8>=ie.g),U.g}function ui(U,H,ie){var ce=U.xc;return e((H=ce==0?0:U.vc[U.md*(ie>>ce)+(H>>ce)])<U.Wb),U.Ya[H]}function Pn(U,H,ie,ce){var ve=U.ab,Se=U.c*H,Ce=U.C;H=Ce+H;var Ie=ie,ke=ce;for(ce=U.Ta,ie=U.Ua;0<ve--;){var Ge=U.gc[ve],ut=Ce,Bt=H,Ve=Ie,ft=ke,_t=(ke=ce,Ie=ie,Ge.Ea);switch(e(ut<Bt),e(Bt<=Ge.nc),Ge.hc){case 2:Er(Ve,ft,(Bt-ut)*_t,ke,Ie);break;case 0:var kt=ut,St=Bt,gt=ke,Vt=Ie,ln=(Ln=Ge).Ea;kt==0&&(xA(Ve,ft,null,null,1,gt,Vt),Z(Ve,ft+1,0,0,ln-1,gt,Vt+1),ft+=ln,Vt+=ln,++kt);for(var Jt=1<<Ln.b,In=Jt-1,Cn=Le(ln,Ln.b),hi=Ln.K,Ln=Ln.w+(kt>>Ln.b)*Cn;kt<St;){var Bi=hi,Xr=Ln,_i=1;for(yc(Ve,ft,gt,Vt-ln,1,gt,Vt);_i<ln;){var Mn=(_i&~In)+Jt;Mn>ln&&(Mn=ln),(0,vc[Bi[Xr++]>>8&15])(Ve,ft+ +_i,gt,Vt+_i-ln,Mn-_i,gt,Vt+_i),_i=Mn}ft+=ln,Vt+=ln,++kt&In||(Ln+=Cn)}Bt!=Ge.nc&&i(ke,Ie-_t,ke,Ie+(Bt-ut-1)*_t,_t);break;case 1:for(_t=Ve,St=ft,ln=(Ve=Ge.Ea)-(Vt=Ve&~(gt=(ft=1<<Ge.b)-1)),kt=Le(Ve,Ge.b),Jt=Ge.K,Ge=Ge.w+(ut>>Ge.b)*kt;ut<Bt;){for(In=Jt,Cn=Ge,hi=new et,Ln=St+Vt,Bi=St+Ve;St<Ln;)we(In[Cn++],hi),bA(hi,_t,St,ft,ke,Ie),St+=ft,Ie+=ft;St<Bi&&(we(In[Cn++],hi),bA(hi,_t,St,ln,ke,Ie),St+=ln,Ie+=ln),++ut&gt||(Ge+=kt)}break;case 3:if(Ve==ke&&ft==Ie&&0<Ge.b){for(St=ke,Ve=_t=Ie+(Bt-ut)*_t-(Vt=(Bt-ut)*Le(Ge.Ea,Ge.b)),ft=ke,gt=Ie,kt=[],Vt=(ln=Vt)-1;0<=Vt;--Vt)kt[Vt]=ft[gt+Vt];for(Vt=ln-1;0<=Vt;--Vt)St[Ve+Vt]=kt[Vt];fh(Ge,ut,Bt,ke,_t,ke,Ie)}else fh(Ge,ut,Bt,Ve,ft,ke,Ie)}Ie=ce,ke=ie}ke!=ie&&i(ce,ie,Ie,ke,Se)}function er(U,H){var ie=U.V,ce=U.Ba+U.c*U.C,ve=H-U.C;if(e(H<=U.l.o),e(16>=ve),0<ve){var Se=U.l,Ce=U.Ta,Ie=U.Ua,ke=Se.width;if(Pn(U,ve,ie,ce),ve=Ie=[Ie],e((ie=U.C)<(ce=H)),e(Se.v<Se.va),ce>Se.o&&(ce=Se.o),ie<Se.j){var Ge=Se.j-ie;ie=Se.j,ve[0]+=Ge*ke}if(ie>=ce?ie=0:(ve[0]+=4*Se.v,Se.ka=ie-Se.j,Se.U=Se.va-Se.v,Se.T=ce-ie,ie=1),ie){if(Ie=Ie[0],11>(ie=U.ca).S){var ut=ie.f.RGBA,Bt=(ce=ie.S,ve=Se.U,Se=Se.T,Ge=ut.eb,ut.A),Ve=Se;for(ut=ut.fb+U.Ma*ut.A;0<Ve--;){var ft=Ce,_t=Ie,kt=ve,St=Ge,gt=ut;switch(ce){case ph:wA(ft,_t,kt,St,gt);break;case fa:Ol(ft,_t,kt,St,gt);break;case hf:Ol(ft,_t,kt,St,gt),Lu(St,gt,0,kt,1,0);break;case Va:Iu(ft,_t,kt,St,gt);break;case jo:Xe(ft,_t,kt,St,gt,1);break;case yd:Xe(ft,_t,kt,St,gt,1),Lu(St,gt,0,kt,1,0);break;case Zs:Xe(ft,_t,kt,St,gt,0);break;case xo:Xe(ft,_t,kt,St,gt,0),Lu(St,gt,1,kt,1,0);break;case BA:Pl(ft,_t,kt,St,gt);break;case mh:Pl(ft,_t,kt,St,gt),Ma(St,gt,kt,1,0);break;case _c:Qo(ft,_t,kt,St,gt);break;default:e(0)}Ie+=ke,ut+=Bt}U.Ma+=Se}else alert("todo:EmitRescaledRowsYUVA");e(U.Ma<=ie.height)}}U.C=H,e(U.C<=U.i)}function Gn(U){var H;if(0<U.ua)return 0;for(H=0;H<U.Wb;++H){var ie=U.Ya[H].G,ce=U.Ya[H].H;if(0<ie[1][ce[1]+0].g||0<ie[2][ce[2]+0].g||0<ie[3][ce[3]+0].g)return 0}return 1}function pe(U,H,ie,ce,ve,Se){if(U.Z!=0){var Ce=U.qd,Ie=U.rd;for(e(ru[U.Z]!=null);H<ie;++H)ru[U.Z](Ce,Ie,ce,ve,ce,ve,Se),Ce=ce,Ie=ve,ve+=Se;U.qd=Ce,U.rd=Ie}}function Ue(U,H){var ie=U.l.ma,ce=ie.Z==0||ie.Z==1?U.l.j:U.C;if(ce=U.C<ce?ce:U.C,e(H<=U.l.o),H>ce){var ve=U.l.width,Se=ie.ca,Ce=ie.tb+ve*ce,Ie=U.V,ke=U.Ba+U.c*ce,Ge=U.gc;e(U.ab==1),e(Ge[0].hc==3),ja(Ge[0],ce,H,Ie,ke,Se,Ce),pe(ie,ce,H,Se,Ce,ve)}U.C=U.Ma=H}function it(U,H,ie,ce,ve,Se,Ce){var Ie=U.$/ce,ke=U.$%ce,Ge=U.m,ut=U.s,Bt=ie+U.$,Ve=Bt;ve=ie+ce*ve;var ft=ie+ce*Se,_t=280+ut.ua,kt=U.Pb?Ie:16777216,St=0<ut.ua?ut.Wa:null,gt=ut.wc,Vt=Bt<ft?ui(ut,ke,Ie):null;e(U.C<Se),e(ft<=ve);var ln=!1;e:for(;;){for(;ln||Bt<ft;){var Jt=0;if(Ie>=kt){var In=Bt-ie;e((kt=U).Pb),kt.wd=kt.m,kt.xd=In,0<kt.s.ua&&xe(kt.s.Wa,kt.s.vb),kt=Ie+Sc}if(ke&gt||(Vt=ui(ut,ke,Ie)),e(Vt!=null),Vt.Qb&&(H[Bt]=Vt.qb,ln=!0),!ln)if(Ae(Ge),Vt.jc){Jt=Ge,In=H;var Cn=Bt,hi=Vt.pd[oe(Jt)&Jc-1];e(Vt.jc),256>hi.g?(ue(Jt,Jt.u+hi.g),In[Cn]=hi.value,Jt=0):(ue(Jt,Jt.u+hi.g-256),e(256<=hi.value),Jt=hi.value),Jt==0&&(ln=!0)}else Jt=On(Vt.G[0],Vt.H[0],Ge);if(Ge.h)break;if(ln||256>Jt){if(!ln)if(Vt.nd)H[Bt]=(Vt.qb|Jt<<8)>>>0;else{if(Ae(Ge),ln=On(Vt.G[1],Vt.H[1],Ge),Ae(Ge),In=On(Vt.G[2],Vt.H[2],Ge),Cn=On(Vt.G[3],Vt.H[3],Ge),Ge.h)break;H[Bt]=(Cn<<24|ln<<16|Jt<<8|In)>>>0}if(ln=!1,++Bt,++ke>=ce&&(ke=0,++Ie,Ce!=null&&Ie<=Se&&!(Ie%16)&&Ce(U,Ie),St!=null))for(;Ve<Bt;)Jt=H[Ve++],St.X[(506832829*Jt&4294967295)>>>St.Mb]=Jt}else if(280>Jt){if(Jt=cn(Jt-256,Ge),In=On(Vt.G[4],Vt.H[4],Ge),Ae(Ge),In=An(ce,In=cn(In,Ge)),Ge.h)break;if(Bt-ie<In||ve-Bt<Jt)break e;for(Cn=0;Cn<Jt;++Cn)H[Bt+Cn]=H[Bt+Cn-In];for(Bt+=Jt,ke+=Jt;ke>=ce;)ke-=ce,++Ie,Ce!=null&&Ie<=Se&&!(Ie%16)&&Ce(U,Ie);if(e(Bt<=ve),ke&gt&&(Vt=ui(ut,ke,Ie)),St!=null)for(;Ve<Bt;)Jt=H[Ve++],St.X[(506832829*Jt&4294967295)>>>St.Mb]=Jt}else{if(!(Jt<_t))break e;for(ln=Jt-280,e(St!=null);Ve<Bt;)Jt=H[Ve++],St.X[(506832829*Jt&4294967295)>>>St.Mb]=Jt;Jt=Bt,e(!(ln>>>(In=St).Xa)),H[Jt]=In.X[ln],ln=!0}ln||e(Ge.h==fe(Ge))}if(U.Pb&&Ge.h&&Bt<ve)e(U.m.h),U.a=5,U.m=U.wd,U.$=U.xd,0<U.s.ua&&xe(U.s.vb,U.s.Wa);else{if(Ge.h)break e;Ce?.(U,Ie>Se?Se:Ie),U.a=0,U.$=Bt-ie}return 1}return U.a=3,0}function wt(U){e(U!=null),U.vc=null,U.yc=null,U.Ya=null;var H=U.Wa;H!=null&&(H.X=null),U.vb=null,e(U!=null)}function Lt(){var U=new ri;return U==null?null:(U.a=0,U.xb=vh,ht("Predictor","VP8LPredictors"),ht("Predictor","VP8LPredictors_C"),ht("PredictorAdd","VP8LPredictorsAdd"),ht("PredictorAdd","VP8LPredictorsAdd_C"),Er=se,bA=Re,wA=dt,Ol=Me,Pl=Oe,Qo=bt,Iu=Fe,N.VP8LMapColor32b=Dl,N.VP8LMapColor8b=xr,U)}function Mt(U,H,ie,ce,ve){var Se=1,Ce=[U],Ie=[H],ke=ce.m,Ge=ce.s,ut=null,Bt=0;e:for(;;){if(ie)for(;Se&&te(ke,1);){var Ve=Ce,ft=Ie,_t=ce,kt=1,St=_t.m,gt=_t.gc[_t.ab],Vt=te(St,2);if(_t.Oc&1<<Vt)Se=0;else{switch(_t.Oc|=1<<Vt,gt.hc=Vt,gt.Ea=Ve[0],gt.nc=ft[0],gt.K=[null],++_t.ab,e(4>=_t.ab),Vt){case 0:case 1:gt.b=te(St,3)+2,kt=Mt(Le(gt.Ea,gt.b),Le(gt.nc,gt.b),0,_t,gt.K),gt.K=gt.K[0];break;case 3:var ln,Jt=te(St,8)+1,In=16<Jt?0:4<Jt?1:2<Jt?2:3;if(Ve[0]=Le(gt.Ea,In),gt.b=In,ln=kt=Mt(Jt,1,0,_t,gt.K)){var Cn,hi=Jt,Ln=gt,Bi=1<<(8>>Ln.b),Xr=s(Bi);if(Xr==null)ln=0;else{var _i=Ln.K[0],Mn=Ln.w;for(Xr[0]=Ln.K[0][0],Cn=1;Cn<1*hi;++Cn)Xr[Cn]=tt(_i[Mn+Cn],Xr[Cn-1]);for(;Cn<4*Bi;++Cn)Xr[Cn]=0;Ln.K[0]=null,Ln.K[0]=Xr,ln=1}}kt=ln;break;case 2:break;default:e(0)}Se=kt}}if(Ce=Ce[0],Ie=Ie[0],Se&&te(ke,1)&&!(Se=1<=(Bt=te(ke,4))&&11>=Bt)){ce.a=3;break e}var mn;if(mn=Se)t:{var fs,ti,Si,nr=ce,Rs=Ce,Na=Ie,zr=Bt,vs=ie,ns=nr.m,Ki=nr.s,di=[null],yi=1,is=0,Ar=wo[zr];n:for(;;){if(vs&&te(ns,1)){var ir=te(ns,3)+2,br=Le(Rs,ir),rr=Le(Na,ir),Cs=br*rr;if(!Mt(br,rr,0,nr,di))break n;for(di=di[0],Ki.xc=ir,fs=0;fs<Cs;++fs){var wr=di[fs]>>8&65535;di[fs]=wr,wr>=yi&&(yi=wr+1)}}if(ns.h)break n;for(ti=0;5>ti;++ti){var Ds=Du[ti];!ti&&0<zr&&(Ds+=1<<zr),is<Ds&&(is=Ds)}var Ms=a(yi*Ar,J),Lr=yi,Wi=a(Lr,ne);if(Wi==null)var Ka=null;else e(65536>=Lr),Ka=Wi;var Rr=s(is);if(Ka==null||Rr==null||Ms==null){nr.a=1;break n}var Qn=Ms;for(fs=Si=0;fs<yi;++fs){var Jn=Ka[fs],sr=Jn.G,_o=Jn.H,qa=0,ao=1,Os=0;for(ti=0;5>ti;++ti){Ds=Du[ti],sr[ti]=Qn,_o[ti]=Si,!ti&&0<zr&&(Ds+=1<<zr);r:{var ku,al=Ds,wd=nr,jr=Rr,Yp=Qn,Zp=Si,_d=0,au=wd.m,nv=te(au,1);if(r(jr,0,0,al),nv){var Jp=te(au,1)+1,$p=te(au,1),Sd=te(au,$p==0?1:8);jr[Sd]=1,Jp==2&&(jr[Sd=te(au,8)]=1);var ma=1}else{var xs=s(19),yf=te(au,4)+4;if(19<yf){wd.a=3;var Hu=0;break r}for(ku=0;ku<yf;++ku)xs[df[ku]]=te(au,3);var vf=void 0,TA=void 0,Cc=wd,Ed=xs,xf=al,bh=jr,wh=0,ou=Cc.m,Bd=8,Cd=a(128,J);i:for(;Q(Cd,0,7,Ed,19);){if(te(ou,1)){var em=2+2*te(ou,3);if((vf=2+te(ou,em))>xf)break i}else vf=xf;for(TA=0;TA<xf&&vf--;){Ae(ou);var _h=Cd[0+(127&oe(ou))];ue(ou,ou.u+_h.g);var Mc=_h.value;if(16>Mc)bh[TA++]=Mc,Mc!=0&&(Bd=Mc);else{var Hg=Mc==16,Qg=Mc-16,zg=Hl[Qg],tm=te(ou,bo[Qg])+zg;if(TA+tm>xf)break i;for(var nm=Hg?Bd:0;0<tm--;)bh[TA++]=nm}}wh=1;break i}wh||(Cc.a=3),ma=wh}(ma=ma&&!au.h)&&(_d=Q(Yp,Zp,8,jr,al)),ma&&_d!=0?Hu=_d:(wd.a=3,Hu=0)}if(Hu==0)break n;if(ao&&gh[ti]==1&&(ao=Qn[Si].g==0),qa+=Qn[Si].g,Si+=Hu,3>=ti){var Qu,Md=Rr[0];for(Qu=1;Qu<Ds;++Qu)Rr[Qu]>Md&&(Md=Rr[Qu]);Os+=Md}}if(Jn.nd=ao,Jn.Qb=0,ao&&(Jn.qb=(sr[3][_o[3]+0].value<<24|sr[1][_o[1]+0].value<<16|sr[2][_o[2]+0].value)>>>0,qa==0&&256>sr[0][_o[0]+0].value&&(Jn.Qb=1,Jn.qb+=sr[0][_o[0]+0].value<<8)),Jn.jc=!Jn.Qb&&6>Os,Jn.jc){var Sh,Tc=Jn;for(Sh=0;Sh<Jc;++Sh){var lu=Sh,cu=Tc.pd[lu],Td=Tc.G[0][Tc.H[0]+lu];256<=Td.value?(cu.g=Td.g+256,cu.value=Td.value):(cu.g=0,cu.value=0,lu>>=li(Td,8,cu),lu>>=li(Tc.G[1][Tc.H[1]+lu],16,cu),lu>>=li(Tc.G[2][Tc.H[2]+lu],0,cu),li(Tc.G[3][Tc.H[3]+lu],24,cu))}}}Ki.vc=di,Ki.Wb=yi,Ki.Ya=Ka,Ki.yc=Ms,mn=1;break t}mn=0}if(!(Se=mn)){ce.a=3;break e}if(0<Bt){if(Ge.ua=1<<Bt,!K(Ge.Wa,Bt)){ce.a=1,Se=0;break e}}else Ge.ua=0;var Ud=ce,UA=Ce,jg=Ie,bf=Ud.s,wf=bf.xc;if(Ud.c=UA,Ud.i=jg,bf.md=Le(UA,wf),bf.wc=wf==0?-1:(1<<wf)-1,ie){ce.xb=Qi;break e}if((ut=s(Ce*Ie))==null){ce.a=1,Se=0;break e}Se=(Se=it(ce,ut,0,Ce,Ie,Ie,null))&&!ke.h;break e}return Se?(ve!=null?ve[0]=ut:(e(ut==null),e(ie)),ce.$=0,ie||wt(Ge)):wt(Ge),Se}function Zt(U,H){var ie=U.c*U.i,ce=ie+H+16*H;return e(U.c<=H),U.V=s(ce),U.V==null?(U.Ta=null,U.Ua=0,U.a=1,0):(U.Ta=U.V,U.Ua=U.Ba+ie+H,1)}function nn(U,H){var ie=U.C,ce=H-ie,ve=U.V,Se=U.Ba+U.c*ie;for(e(H<=U.l.o);0<ce;){var Ce=16<ce?16:ce,Ie=U.l.ma,ke=U.l.width,Ge=ke*Ce,ut=Ie.ca,Bt=Ie.tb+ke*ie,Ve=U.Ta,ft=U.Ua;Pn(U,Ce,ve,Se),Xs(Ve,ft,ut,Bt,Ge),pe(Ie,ie,ie+Ce,ut,Bt,ke),ce-=Ce,ve+=Ce*U.c,ie+=Ce}e(ie==H),U.C=U.Ma=H}function sn(){this.ub=this.yd=this.td=this.Rb=0}function ge(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ye(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function rt(){this.Yb=(function(){var U=[];return(function H(ie,ce,ve){for(var Se=ve[ce],Ce=0;Ce<Se&&(ie.push(ve.length>ce+1?[]:0),!(ve.length<ce+1));Ce++)H(ie[Ce],ce+1,ve)})(U,0,[3,11]),U})()}function pt(){this.jb=s(3),this.Wc=o([4,8],rt),this.Xc=o([4,17],rt)}function nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ut(){this.ld=this.La=this.dd=this.tc=0}function jt(){this.Na=this.la=0}function $t(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function on(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ut),this.Y=0,this.ya=Array(new on),this.aa=0,this.l=new ii}function vn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yn(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new sn,this.Kc=new ge,this.ed=new nt,this.Qa=new Ye,this.Ic=this.$c=this.Aa=0,this.D=new dn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,z),this.ia=0,this.pb=a(4,$t),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vn),this.Hd=0,this.rb=Array(new jt),this.sb=0,this.wa=Array(new Ut),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new on),this.L=this.aa=0,this.gd=o([4,2],Ut),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gn(U,H){return 0>U?0:U>H?H:U}function ii(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dn(){var U=new yn;return U!=null&&(U.a=0,U.sc="OK",U.cb=0,U.Xb=0,Go||(Go=Ai)),U}function xn(U,H,ie){return U.a==0&&(U.a=H,U.sc=ie,U.cb=0),0}function gi(U,H,ie){return 3<=ie&&U[H+0]==157&&U[H+1]==1&&U[H+2]==42}function En(U,H){if(U==null)return 0;if(U.a=0,U.sc="OK",H==null)return xn(U,2,"null VP8Io passed to VP8GetHeaders()");var ie=H.data,ce=H.w,ve=H.ha;if(4>ve)return xn(U,7,"Truncated header.");var Se=ie[ce+0]|ie[ce+1]<<8|ie[ce+2]<<16,Ce=U.Od;if(Ce.Rb=!(1&Se),Ce.td=Se>>1&7,Ce.yd=Se>>4&1,Ce.ub=Se>>5,3<Ce.td)return xn(U,3,"Incorrect keyframe parameters.");if(!Ce.yd)return xn(U,4,"Frame not displayable.");ce+=3,ve-=3;var Ie=U.Kc;if(Ce.Rb){if(7>ve)return xn(U,7,"cannot parse picture header");if(!gi(ie,ce,ve))return xn(U,3,"Bad code word");Ie.c=16383&(ie[ce+4]<<8|ie[ce+3]),Ie.Td=ie[ce+4]>>6,Ie.i=16383&(ie[ce+6]<<8|ie[ce+5]),Ie.Ud=ie[ce+6]>>6,ce+=7,ve-=7,U.za=Ie.c+15>>4,U.Ub=Ie.i+15>>4,H.width=Ie.c,H.height=Ie.i,H.Da=0,H.j=0,H.v=0,H.va=H.width,H.o=H.height,H.da=0,H.ib=H.width,H.hb=H.height,H.U=H.width,H.T=H.height,r((Se=U.Pa).jb,0,255,Se.jb.length),e((Se=U.Qa)!=null),Se.Cb=0,Se.Bb=0,Se.Fb=1,r(Se.Zb,0,0,Se.Zb.length),r(Se.Lb,0,0,Se.Lb)}if(Ce.ub>ve)return xn(U,7,"bad partition length");W(Se=U.m,ie,ce,Ce.ub),ce+=Ce.ub,ve-=Ce.ub,Ce.Rb&&(Ie.Ld=_e(Se),Ie.Kd=_e(Se)),Ie=U.Qa;var ke,Ge=U.Pa;if(e(Se!=null),e(Ie!=null),Ie.Cb=_e(Se),Ie.Cb){if(Ie.Bb=_e(Se),_e(Se)){for(Ie.Fb=_e(Se),ke=0;4>ke;++ke)Ie.Zb[ke]=_e(Se)?$(Se,7):0;for(ke=0;4>ke;++ke)Ie.Lb[ke]=_e(Se)?$(Se,6):0}if(Ie.Bb)for(ke=0;3>ke;++ke)Ge.jb[ke]=_e(Se)?q(Se,8):255}else Ie.Bb=0;if(Se.Ka)return xn(U,3,"cannot parse segment header");if((Ie=U.ed).zd=_e(Se),Ie.Tb=q(Se,6),Ie.wb=q(Se,3),Ie.Pc=_e(Se),Ie.Pc&&_e(Se)){for(Ge=0;4>Ge;++Ge)_e(Se)&&(Ie.vd[Ge]=$(Se,6));for(Ge=0;4>Ge;++Ge)_e(Se)&&(Ie.od[Ge]=$(Se,6))}if(U.L=Ie.Tb==0?0:Ie.zd?1:2,Se.Ka)return xn(U,3,"cannot parse filter header");var ut=ve;if(ve=ke=ce,ce=ke+ut,Ie=ut,U.Xb=(1<<q(U.m,2))-1,ut<3*(Ge=U.Xb))ie=7;else{for(ke+=3*Ge,Ie-=3*Ge,ut=0;ut<Ge;++ut){var Bt=ie[ve+0]|ie[ve+1]<<8|ie[ve+2]<<16;Bt>Ie&&(Bt=Ie),W(U.Jc[+ut],ie,ke,Bt),ke+=Bt,Ie-=Bt,ve+=3}W(U.Jc[+Ge],ie,ke,Ie),ie=ke<ce?0:5}if(ie!=0)return xn(U,ie,"cannot parse partitions");for(ie=q(ke=U.m,7),ve=_e(ke)?$(ke,4):0,ce=_e(ke)?$(ke,4):0,Ie=_e(ke)?$(ke,4):0,Ge=_e(ke)?$(ke,4):0,ke=_e(ke)?$(ke,4):0,ut=U.Qa,Bt=0;4>Bt;++Bt){if(ut.Cb){var Ve=ut.Zb[Bt];ut.Fb||(Ve+=ie)}else{if(0<Bt){U.pb[Bt]=U.pb[0];continue}Ve=ie}var ft=U.pb[Bt];ft.Sc[0]=nl[gn(Ve+ve,127)],ft.Sc[1]=il[gn(Ve+0,127)],ft.Eb[0]=2*nl[gn(Ve+ce,127)],ft.Eb[1]=101581*il[gn(Ve+Ie,127)]>>16,8>ft.Eb[1]&&(ft.Eb[1]=8),ft.Qc[0]=nl[gn(Ve+Ge,117)],ft.Qc[1]=il[gn(Ve+ke,127)],ft.lc=Ve+ke}if(!Ce.Rb)return xn(U,4,"Not a key frame.");for(_e(Se),Ce=U.Pa,ie=0;4>ie;++ie){for(ve=0;8>ve;++ve)for(ce=0;3>ce;++ce)for(Ie=0;11>Ie;++Ie)Ge=be(Se,Qr[ie][ve][ce][Ie])?q(Se,8):yh[ie][ve][ce][Ie],Ce.Wc[ie][ve].Yb[ce][Ie]=Ge;for(ve=0;17>ve;++ve)Ce.Xc[ie][ve]=Ce.Wc[ie][Gi[ve]]}return U.kc=_e(Se),U.kc&&(U.Bd=q(Se,8)),U.cb=1}function Ai(U,H,ie,ce,ve,Se,Ce){var Ie=H[ve].Yb[ie];for(ie=0;16>ve;++ve){if(!be(U,Ie[ie+0]))return ve;for(;!be(U,Ie[ie+1]);)if(Ie=H[++ve].Yb[0],ie=0,ve==16)return 16;var ke=H[ve+1].Yb;if(be(U,Ie[ie+2])){var Ge=U,ut=0;if(be(Ge,(Ve=Ie)[(Bt=ie)+3]))if(be(Ge,Ve[Bt+6])){for(Ie=0,Bt=2*(ut=be(Ge,Ve[Bt+8]))+(Ve=be(Ge,Ve[Bt+9+ut])),ut=0,Ve=Kp[Bt];Ve[Ie];++Ie)ut+=ut+be(Ge,Ve[Ie]);ut+=3+(8<<Bt)}else be(Ge,Ve[Bt+7])?(ut=7+2*be(Ge,165),ut+=be(Ge,145)):ut=5+be(Ge,159);else ut=be(Ge,Ve[Bt+4])?3+be(Ge,Ve[Bt+5]):2;Ie=ke[2]}else ut=1,Ie=ke[1];ke=Ce+vd[ve],0>(Ge=U).b&&he(Ge);var Bt,Ve=Ge.b,ft=(Bt=Ge.Ca>>1)-(Ge.I>>Ve)>>31;--Ge.b,Ge.Ca+=ft,Ge.Ca|=1,Ge.I-=(Bt+1&ft)<<Ve,Se[ke]=((ut^ft)-ft)*ce[(0<ve)+0]}return 16}function Un(U){var H=U.rb[U.sb-1];H.la=0,H.Na=0,r(U.zc,0,0,U.zc.length),U.ja=0}function si(U,H,ie,ce,ve){ve=U[H+ie+32*ce]+(ve>>3),U[H+ie+32*ce]=-256&ve?0>ve?0:255:ve}function $n(U,H,ie,ce,ve,Se){si(U,H,0,ie,ce+ve),si(U,H,1,ie,ce+Se),si(U,H,2,ie,ce-Se),si(U,H,3,ie,ce-ve)}function Nn(U){return(20091*U>>16)+U}function kr(U,H,ie,ce){var ve,Se=0,Ce=s(16);for(ve=0;4>ve;++ve){var Ie=U[H+0]+U[H+8],ke=U[H+0]-U[H+8],Ge=(35468*U[H+4]>>16)-Nn(U[H+12]),ut=Nn(U[H+4])+(35468*U[H+12]>>16);Ce[Se+0]=Ie+ut,Ce[Se+1]=ke+Ge,Ce[Se+2]=ke-Ge,Ce[Se+3]=Ie-ut,Se+=4,H++}for(ve=Se=0;4>ve;++ve)Ie=(U=Ce[Se+0]+4)+Ce[Se+8],ke=U-Ce[Se+8],Ge=(35468*Ce[Se+4]>>16)-Nn(Ce[Se+12]),si(ie,ce,0,0,Ie+(ut=Nn(Ce[Se+4])+(35468*Ce[Se+12]>>16))),si(ie,ce,1,0,ke+Ge),si(ie,ce,2,0,ke-Ge),si(ie,ce,3,0,Ie-ut),Se++,ce+=32}function Ri(U,H,ie,ce){var ve=U[H+0]+4,Se=35468*U[H+4]>>16,Ce=Nn(U[H+4]),Ie=35468*U[H+1]>>16;$n(ie,ce,0,ve+Ce,U=Nn(U[H+1]),Ie),$n(ie,ce,1,ve+Se,U,Ie),$n(ie,ce,2,ve-Se,U,Ie),$n(ie,ce,3,ve-Ce,U,Ie)}function ji(U,H,ie,ce,ve){kr(U,H,ie,ce),ve&&kr(U,H+16,ie,ce+4)}function Di(U,H,ie,ce){xc(U,H+0,ie,ce,1),xc(U,H+32,ie,ce+128,1)}function ms(U,H,ie,ce){var ve;for(U=U[H+0]+4,ve=0;4>ve;++ve)for(H=0;4>H;++H)si(ie,ce,H,ve,U)}function qr(U,H,ie,ce){U[H+0]&&Yi(U,H+0,ie,ce),U[H+16]&&Yi(U,H+16,ie,ce+4),U[H+32]&&Yi(U,H+32,ie,ce+128),U[H+48]&&Yi(U,H+48,ie,ce+128+4)}function za(U,H,ie,ce){var ve,Se=s(16);for(ve=0;4>ve;++ve){var Ce=U[H+0+ve]+U[H+12+ve],Ie=U[H+4+ve]+U[H+8+ve],ke=U[H+4+ve]-U[H+8+ve],Ge=U[H+0+ve]-U[H+12+ve];Se[0+ve]=Ce+Ie,Se[8+ve]=Ce-Ie,Se[4+ve]=Ge+ke,Se[12+ve]=Ge-ke}for(ve=0;4>ve;++ve)Ce=(U=Se[0+4*ve]+3)+Se[3+4*ve],Ie=Se[1+4*ve]+Se[2+4*ve],ke=Se[1+4*ve]-Se[2+4*ve],Ge=U-Se[3+4*ve],ie[ce+0]=Ce+Ie>>3,ie[ce+16]=Ge+ke>>3,ie[ce+32]=Ce-Ie>>3,ie[ce+48]=Ge-ke>>3,ce+=64}function aa(U,H,ie){var ce,ve=H-32,Se=Aa,Ce=255-U[ve-1];for(ce=0;ce<ie;++ce){var Ie,ke=Se,Ge=Ce+U[H-1];for(Ie=0;Ie<ie;++Ie)U[H+Ie]=ke[Ge+U[ve+Ie]];H+=32}}function hA(U,H){aa(U,H,4)}function sh(U,H){aa(U,H,8)}function dA(U,H){aa(U,H,16)}function af(U,H){var ie;for(ie=0;16>ie;++ie)i(U,H+32*ie,U,H-32,16)}function ah(U,H){var ie;for(ie=16;0<ie;--ie)r(U,H,U[H-1],16),H+=32}function eo(U,H,ie){var ce;for(ce=0;16>ce;++ce)r(H,ie+32*ce,U,16)}function Jo(U,H){var ie,ce=16;for(ie=0;16>ie;++ie)ce+=U[H-1+32*ie]+U[H+ie-32];eo(ce>>5,U,H)}function Il(U,H){var ie,ce=8;for(ie=0;16>ie;++ie)ce+=U[H-1+32*ie];eo(ce>>4,U,H)}function Mu(U,H){var ie,ce=8;for(ie=0;16>ie;++ie)ce+=U[H+ie-32];eo(ce>>4,U,H)}function Xc(U,H){eo(128,U,H)}function ei(U,H,ie){return U+2*H+ie+2>>2}function oh(U,H){var ie,ce=H-32;for(ce=new Uint8Array([ei(U[ce-1],U[ce+0],U[ce+1]),ei(U[ce+0],U[ce+1],U[ce+2]),ei(U[ce+1],U[ce+2],U[ce+3]),ei(U[ce+2],U[ce+3],U[ce+4])]),ie=0;4>ie;++ie)i(U,H+32*ie,ce,0,ce.length)}function of(U,H){var ie=U[H-1],ce=U[H-1+32],ve=U[H-1+64],Se=U[H-1+96];Ne(U,H+0,16843009*ei(U[H-1-32],ie,ce)),Ne(U,H+32,16843009*ei(ie,ce,ve)),Ne(U,H+64,16843009*ei(ce,ve,Se)),Ne(U,H+96,16843009*ei(ve,Se,Se))}function lh(U,H){var ie,ce=4;for(ie=0;4>ie;++ie)ce+=U[H+ie-32]+U[H-1+32*ie];for(ce>>=3,ie=0;4>ie;++ie)r(U,H+32*ie,ce,4)}function to(U,H){var ie=U[H-1+0],ce=U[H-1+32],ve=U[H-1+64],Se=U[H-1-32],Ce=U[H+0-32],Ie=U[H+1-32],ke=U[H+2-32],Ge=U[H+3-32];U[H+0+96]=ei(ce,ve,U[H-1+96]),U[H+1+96]=U[H+0+64]=ei(ie,ce,ve),U[H+2+96]=U[H+1+64]=U[H+0+32]=ei(Se,ie,ce),U[H+3+96]=U[H+2+64]=U[H+1+32]=U[H+0+0]=ei(Ce,Se,ie),U[H+3+64]=U[H+2+32]=U[H+1+0]=ei(Ie,Ce,Se),U[H+3+32]=U[H+2+0]=ei(ke,Ie,Ce),U[H+3+0]=ei(Ge,ke,Ie)}function oa(U,H){var ie=U[H+1-32],ce=U[H+2-32],ve=U[H+3-32],Se=U[H+4-32],Ce=U[H+5-32],Ie=U[H+6-32],ke=U[H+7-32];U[H+0+0]=ei(U[H+0-32],ie,ce),U[H+1+0]=U[H+0+32]=ei(ie,ce,ve),U[H+2+0]=U[H+1+32]=U[H+0+64]=ei(ce,ve,Se),U[H+3+0]=U[H+2+32]=U[H+1+64]=U[H+0+96]=ei(ve,Se,Ce),U[H+3+32]=U[H+2+64]=U[H+1+96]=ei(Se,Ce,Ie),U[H+3+64]=U[H+2+96]=ei(Ce,Ie,ke),U[H+3+96]=ei(Ie,ke,ke)}function lf(U,H){var ie=U[H-1+0],ce=U[H-1+32],ve=U[H-1+64],Se=U[H-1-32],Ce=U[H+0-32],Ie=U[H+1-32],ke=U[H+2-32],Ge=U[H+3-32];U[H+0+0]=U[H+1+64]=Se+Ce+1>>1,U[H+1+0]=U[H+2+64]=Ce+Ie+1>>1,U[H+2+0]=U[H+3+64]=Ie+ke+1>>1,U[H+3+0]=ke+Ge+1>>1,U[H+0+96]=ei(ve,ce,ie),U[H+0+64]=ei(ce,ie,Se),U[H+0+32]=U[H+1+96]=ei(ie,Se,Ce),U[H+1+32]=U[H+2+96]=ei(Se,Ce,Ie),U[H+2+32]=U[H+3+96]=ei(Ce,Ie,ke),U[H+3+32]=ei(Ie,ke,Ge)}function pA(U,H){var ie=U[H+0-32],ce=U[H+1-32],ve=U[H+2-32],Se=U[H+3-32],Ce=U[H+4-32],Ie=U[H+5-32],ke=U[H+6-32],Ge=U[H+7-32];U[H+0+0]=ie+ce+1>>1,U[H+1+0]=U[H+0+64]=ce+ve+1>>1,U[H+2+0]=U[H+1+64]=ve+Se+1>>1,U[H+3+0]=U[H+2+64]=Se+Ce+1>>1,U[H+0+32]=ei(ie,ce,ve),U[H+1+32]=U[H+0+96]=ei(ce,ve,Se),U[H+2+32]=U[H+1+96]=ei(ve,Se,Ce),U[H+3+32]=U[H+2+96]=ei(Se,Ce,Ie),U[H+3+64]=ei(Ce,Ie,ke),U[H+3+96]=ei(Ie,ke,Ge)}function Oo(U,H){var ie=U[H-1+0],ce=U[H-1+32],ve=U[H-1+64],Se=U[H-1+96];U[H+0+0]=ie+ce+1>>1,U[H+2+0]=U[H+0+32]=ce+ve+1>>1,U[H+2+32]=U[H+0+64]=ve+Se+1>>1,U[H+1+0]=ei(ie,ce,ve),U[H+3+0]=U[H+1+32]=ei(ce,ve,Se),U[H+3+32]=U[H+1+64]=ei(ve,Se,Se),U[H+3+64]=U[H+2+64]=U[H+0+96]=U[H+1+96]=U[H+2+96]=U[H+3+96]=Se}function Tu(U,H){var ie=U[H-1+0],ce=U[H-1+32],ve=U[H-1+64],Se=U[H-1+96],Ce=U[H-1-32],Ie=U[H+0-32],ke=U[H+1-32],Ge=U[H+2-32];U[H+0+0]=U[H+2+32]=ie+Ce+1>>1,U[H+0+32]=U[H+2+64]=ce+ie+1>>1,U[H+0+64]=U[H+2+96]=ve+ce+1>>1,U[H+0+96]=Se+ve+1>>1,U[H+3+0]=ei(Ie,ke,Ge),U[H+2+0]=ei(Ce,Ie,ke),U[H+1+0]=U[H+3+32]=ei(ie,Ce,Ie),U[H+1+32]=U[H+3+64]=ei(ce,ie,Ce),U[H+1+64]=U[H+3+96]=ei(ve,ce,ie),U[H+1+96]=ei(Se,ve,ce)}function go(U,H){var ie;for(ie=0;8>ie;++ie)i(U,H+32*ie,U,H-32,8)}function cf(U,H){var ie;for(ie=0;8>ie;++ie)r(U,H,U[H-1],8),H+=32}function no(U,H,ie){var ce;for(ce=0;8>ce;++ce)r(H,ie+32*ce,U,8)}function mA(U,H){var ie,ce=8;for(ie=0;8>ie;++ie)ce+=U[H+ie-32]+U[H-1+32*ie];no(ce>>4,U,H)}function gA(U,H){var ie,ce=4;for(ie=0;8>ie;++ie)ce+=U[H+ie-32];no(ce>>3,U,H)}function Ls(U,H){var ie,ce=4;for(ie=0;8>ie;++ie)ce+=U[H-1+32*ie];no(ce>>3,U,H)}function Ll(U,H){no(128,U,H)}function Po(U,H,ie){var ce=U[H-ie],ve=U[H+0],Se=3*(ve-ce)+wc[1020+U[H-2*ie]-U[H+ie]],Ce=EA[112+(Se+4>>3)];U[H-ie]=Aa[255+ce+EA[112+(Se+3>>3)]],U[H+0]=Aa[255+ve-Ce]}function io(U,H,ie,ce){var ve=U[H+0],Se=U[H+ie];return Ys[255+U[H-2*ie]-U[H-ie]]>ce||Ys[255+Se-ve]>ce}function Yc(U,H,ie,ce){return 4*Ys[255+U[H-ie]-U[H+0]]+Ys[255+U[H-2*ie]-U[H+ie]]<=ce}function Uu(U,H,ie,ce,ve){var Se=U[H-3*ie],Ce=U[H-2*ie],Ie=U[H-ie],ke=U[H+0],Ge=U[H+ie],ut=U[H+2*ie],Bt=U[H+3*ie];return 4*Ys[255+Ie-ke]+Ys[255+Ce-Ge]>ce?0:Ys[255+U[H-4*ie]-Se]<=ve&&Ys[255+Se-Ce]<=ve&&Ys[255+Ce-Ie]<=ve&&Ys[255+Bt-ut]<=ve&&Ys[255+ut-Ge]<=ve&&Ys[255+Ge-ke]<=ve}function Rl(U,H,ie,ce){var ve=2*ce+1;for(ce=0;16>ce;++ce)Yc(U,H+ce,ie,ve)&&Po(U,H+ce,ie)}function cc(U,H,ie,ce){var ve=2*ce+1;for(ce=0;16>ce;++ce)Yc(U,H+ce*ie,1,ve)&&Po(U,H+ce*ie,1)}function Nu(U,H,ie,ce){var ve;for(ve=3;0<ve;--ve)Rl(U,H+=4*ie,ie,ce)}function ch(U,H,ie,ce){var ve;for(ve=3;0<ve;--ve)cc(U,H+=4,ie,ce)}function Wr(U,H,ie,ce,ve,Se,Ce,Ie){for(Se=2*Se+1;0<ve--;){if(Uu(U,H,ie,Se,Ce))if(io(U,H,ie,Ie))Po(U,H,ie);else{var ke=U,Ge=H,ut=ie,Bt=ke[Ge-2*ut],Ve=ke[Ge-ut],ft=ke[Ge+0],_t=ke[Ge+ut],kt=ke[Ge+2*ut],St=27*(Vt=wc[1020+3*(ft-Ve)+wc[1020+Bt-_t]])+63>>7,gt=18*Vt+63>>7,Vt=9*Vt+63>>7;ke[Ge-3*ut]=Aa[255+ke[Ge-3*ut]+Vt],ke[Ge-2*ut]=Aa[255+Bt+gt],ke[Ge-ut]=Aa[255+Ve+St],ke[Ge+0]=Aa[255+ft-St],ke[Ge+ut]=Aa[255+_t-gt],ke[Ge+2*ut]=Aa[255+kt-Vt]}H+=ce}}function uc(U,H,ie,ce,ve,Se,Ce,Ie){for(Se=2*Se+1;0<ve--;){if(Uu(U,H,ie,Se,Ce))if(io(U,H,ie,Ie))Po(U,H,ie);else{var ke=U,Ge=H,ut=ie,Bt=ke[Ge-ut],Ve=ke[Ge+0],ft=ke[Ge+ut],_t=EA[112+(4+(kt=3*(Ve-Bt))>>3)],kt=EA[112+(kt+3>>3)],St=_t+1>>1;ke[Ge-2*ut]=Aa[255+ke[Ge-2*ut]+St],ke[Ge-ut]=Aa[255+Bt+kt],ke[Ge+0]=Aa[255+Ve-_t],ke[Ge+ut]=Aa[255+ft-St]}H+=ce}}function uh(U,H,ie,ce,ve,Se){Wr(U,H,ie,1,16,ce,ve,Se)}function Ac(U,H,ie,ce,ve,Se){Wr(U,H,1,ie,16,ce,ve,Se)}function Ah(U,H,ie,ce,ve,Se){var Ce;for(Ce=3;0<Ce;--Ce)uc(U,H+=4*ie,ie,1,16,ce,ve,Se)}function ee(U,H,ie,ce,ve,Se){var Ce;for(Ce=3;0<Ce;--Ce)uc(U,H+=4,1,ie,16,ce,ve,Se)}function ye(U,H,ie,ce,ve,Se,Ce,Ie){Wr(U,H,ve,1,8,Se,Ce,Ie),Wr(ie,ce,ve,1,8,Se,Ce,Ie)}function qe(U,H,ie,ce,ve,Se,Ce,Ie){Wr(U,H,1,ve,8,Se,Ce,Ie),Wr(ie,ce,1,ve,8,Se,Ce,Ie)}function lt(U,H,ie,ce,ve,Se,Ce,Ie){uc(U,H+4*ve,ve,1,8,Se,Ce,Ie),uc(ie,ce+4*ve,ve,1,8,Se,Ce,Ie)}function mt(U,H,ie,ce,ve,Se,Ce,Ie){uc(U,H+4,1,ve,8,Se,Ce,Ie),uc(ie,ce+4,1,ve,8,Se,Ce,Ie)}function Gt(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hn(){this.ua=0,this.Wa=new Pe,this.vb=new Pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new J}function ri(){this.xb=this.a=0,this.l=new ii,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hn,this.ab=0,this.gc=a(4,Fn),this.Oc=0}function mi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ii,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vi(U,H,ie,ce,ve,Se,Ce){for(U=U==null?0:U[H+0],H=0;H<Ce;++H)ve[Se+H]=U+ie[ce+H]&255,U=ve[Se+H]}function es(U,H,ie,ce,ve,Se,Ce){var Ie;if(U==null)Vi(null,null,ie,ce,ve,Se,Ce);else for(Ie=0;Ie<Ce;++Ie)ve[Se+Ie]=U[H+Ie]+ie[ce+Ie]&255}function cs(U,H,ie,ce,ve,Se,Ce){if(U==null)Vi(null,null,ie,ce,ve,Se,Ce);else{var Ie,ke=U[H+0],Ge=ke,ut=ke;for(Ie=0;Ie<Ce;++Ie)Ge=ut+(ke=U[H+Ie])-Ge,ut=ie[ce+Ie]+(-256&Ge?0>Ge?0:255:Ge)&255,Ge=ke,ve[Se+Ie]=ut}}function Fr(U,H,ie,ce){var ve=H.width,Se=H.o;if(e(U!=null&&H!=null),0>ie||0>=ce||ie+ce>Se)return null;if(!U.Cc){if(U.ga==null){var Ce;if(U.ga=new mi,(Ce=U.ga==null)||(Ce=H.width*H.o,e(U.Gb.length==0),U.Gb=s(Ce),U.Uc=0,U.Gb==null?Ce=0:(U.mb=U.Gb,U.nb=U.Uc,U.rc=null,Ce=1),Ce=!Ce),!Ce){Ce=U.ga;var Ie=U.Fa,ke=U.P,Ge=U.qc,ut=U.mb,Bt=U.nb,Ve=ke+1,ft=Ge-1,_t=Ce.l;if(e(Ie!=null&&ut!=null&&H!=null),ru[0]=null,ru[1]=Vi,ru[2]=es,ru[3]=cs,Ce.ca=ut,Ce.tb=Bt,Ce.c=H.width,Ce.i=H.height,e(0<Ce.c&&0<Ce.i),1>=Ge)H=0;else if(Ce.$a=3&Ie[ke+0],Ce.Z=Ie[ke+0]>>2&3,Ce.Lc=Ie[ke+0]>>4&3,ke=Ie[ke+0]>>6&3,0>Ce.$a||1<Ce.$a||4<=Ce.Z||1<Ce.Lc||ke)H=0;else if(_t.put=Be,_t.ac=Vn,_t.bc=Ke,_t.ma=Ce,_t.width=H.width,_t.height=H.height,_t.Da=H.Da,_t.v=H.v,_t.va=H.va,_t.j=H.j,_t.o=H.o,Ce.$a)e:{e(Ce.$a==1),H=Lt();t:for(;;){if(H==null){H=0;break e}if(e(Ce!=null),Ce.mc=H,H.c=Ce.c,H.i=Ce.i,H.l=Ce.l,H.l.ma=Ce,H.l.width=Ce.c,H.l.height=Ce.i,H.a=0,re(H.m,Ie,Ve,ft),!Mt(Ce.c,Ce.i,1,H,null)||(H.ab==1&&H.gc[0].hc==3&&Gn(H.s)?(Ce.ic=1,Ie=H.c*H.i,H.Ta=null,H.Ua=0,H.V=s(Ie),H.Ba=0,H.V==null?(H.a=1,H=0):H=1):(Ce.ic=0,H=Zt(H,Ce.c)),!H))break t;H=1;break e}Ce.mc=null,H=0}else H=ft>=Ce.c*Ce.i;Ce=!H}if(Ce)return null;U.ga.Lc!=1?U.Ga=0:ce=Se-ie}e(U.ga!=null),e(ie+ce<=Se);e:{if(H=(Ie=U.ga).c,Se=Ie.l.o,Ie.$a==0){if(Ve=U.rc,ft=U.Vc,_t=U.Fa,ke=U.P+1+ie*H,Ge=U.mb,ut=U.nb+ie*H,e(ke<=U.P+U.qc),Ie.Z!=0)for(e(ru[Ie.Z]!=null),Ce=0;Ce<ce;++Ce)ru[Ie.Z](Ve,ft,_t,ke,Ge,ut,H),Ve=Ge,ft=ut,ut+=H,ke+=H;else for(Ce=0;Ce<ce;++Ce)i(Ge,ut,_t,ke,H),Ve=Ge,ft=ut,ut+=H,ke+=H;U.rc=Ve,U.Vc=ft}else{if(e(Ie.mc!=null),H=ie+ce,e((Ce=Ie.mc)!=null),e(H<=Ce.i),Ce.C>=H)H=1;else if(Ie.ic||la(),Ie.ic){Ie=Ce.V,Ve=Ce.Ba,ft=Ce.c;var kt=Ce.i,St=(_t=1,ke=Ce.$/ft,Ge=Ce.$%ft,ut=Ce.m,Bt=Ce.s,Ce.$),gt=ft*kt,Vt=ft*H,ln=Bt.wc,Jt=St<Vt?ui(Bt,Ge,ke):null;e(St<=gt),e(H<=kt),e(Gn(Bt));t:for(;;){for(;!ut.h&&St<Vt;){if(Ge&ln||(Jt=ui(Bt,Ge,ke)),e(Jt!=null),Ae(ut),256>(kt=On(Jt.G[0],Jt.H[0],ut)))Ie[Ve+St]=kt,++St,++Ge>=ft&&(Ge=0,++ke<=H&&!(ke%16)&&Ue(Ce,ke));else{if(!(280>kt)){_t=0;break t}kt=cn(kt-256,ut);var In,Cn=On(Jt.G[4],Jt.H[4],ut);if(Ae(ut),!(St>=(Cn=An(ft,Cn=cn(Cn,ut)))&&gt-St>=kt)){_t=0;break t}for(In=0;In<kt;++In)Ie[Ve+St+In]=Ie[Ve+St+In-Cn];for(St+=kt,Ge+=kt;Ge>=ft;)Ge-=ft,++ke<=H&&!(ke%16)&&Ue(Ce,ke);St<Vt&&Ge&ln&&(Jt=ui(Bt,Ge,ke))}e(ut.h==fe(ut))}Ue(Ce,ke>H?H:ke);break t}!_t||ut.h&&St<gt?(_t=0,Ce.a=ut.h?5:3):Ce.$=St,H=_t}else H=it(Ce,Ce.V,Ce.Ba,Ce.c,Ce.i,H,nn);if(!H){ce=0;break e}}ie+ce>=Se&&(U.Cc=1),ce=1}if(!ce)return null;if(U.Cc&&((ce=U.ga)!=null&&(ce.mc=null),U.ga=null,0<U.Ga))return alert("todo:WebPDequantizeLevels"),null}return U.nb+ie*ve}function Ir(U,H,ie,ce,ve,Se){for(;0<ve--;){var Ce,Ie=U,ke=H+(ie?1:0),Ge=U,ut=H+(ie?0:3);for(Ce=0;Ce<ce;++Ce){var Bt=Ge[ut+4*Ce];Bt!=255&&(Bt*=32897,Ie[ke+4*Ce+0]=Ie[ke+4*Ce+0]*Bt>>23,Ie[ke+4*Ce+1]=Ie[ke+4*Ce+1]*Bt>>23,Ie[ke+4*Ce+2]=Ie[ke+4*Ce+2]*Bt>>23)}H+=Se}}function gs(U,H,ie,ce,ve){for(;0<ce--;){var Se;for(Se=0;Se<ie;++Se){var Ce=U[H+2*Se+0],Ie=15&(Ge=U[H+2*Se+1]),ke=4369*Ie,Ge=(240&Ge|Ge>>4)*ke>>16;U[H+2*Se+0]=(240&Ce|Ce>>4)*ke>>16&240|(15&Ce|Ce<<4)*ke>>16>>4&15,U[H+2*Se+1]=240&Ge|Ie}H+=ve}}function Sa(U,H,ie,ce,ve,Se,Ce,Ie){var ke,Ge,ut=255;for(Ge=0;Ge<ve;++Ge){for(ke=0;ke<ce;++ke){var Bt=U[H+ke];Se[Ce+4*ke]=Bt,ut&=Bt}H+=ie,Ce+=Ie}return ut!=255}function fc(U,H,ie,ce,ve){var Se;for(Se=0;Se<ve;++Se)ie[ce+Se]=U[H+Se]>>8}function la(){Lu=Ir,Ma=gs,tu=Sa,Xs=fc}function Ea(U,H,ie){N[U]=function(ce,ve,Se,Ce,Ie,ke,Ge,ut,Bt,Ve,ft,_t,kt,St,gt,Vt,ln){var Jt,In=ln-1>>1,Cn=Ie[ke+0]|Ge[ut+0]<<16,hi=Bt[Ve+0]|ft[_t+0]<<16;e(ce!=null);var Ln=3*Cn+hi+131074>>2;for(H(ce[ve+0],255&Ln,Ln>>16,kt,St),Se!=null&&(Ln=3*hi+Cn+131074>>2,H(Se[Ce+0],255&Ln,Ln>>16,gt,Vt)),Jt=1;Jt<=In;++Jt){var Bi=Ie[ke+Jt]|Ge[ut+Jt]<<16,Xr=Bt[Ve+Jt]|ft[_t+Jt]<<16,_i=Cn+Bi+hi+Xr+524296,Mn=_i+2*(Bi+hi)>>3;Ln=Mn+Cn>>1,Cn=(_i=_i+2*(Cn+Xr)>>3)+Bi>>1,H(ce[ve+2*Jt-1],255&Ln,Ln>>16,kt,St+(2*Jt-1)*ie),H(ce[ve+2*Jt-0],255&Cn,Cn>>16,kt,St+(2*Jt-0)*ie),Se!=null&&(Ln=_i+hi>>1,Cn=Mn+Xr>>1,H(Se[Ce+2*Jt-1],255&Ln,Ln>>16,gt,Vt+(2*Jt-1)*ie),H(Se[Ce+2*Jt+0],255&Cn,Cn>>16,gt,Vt+(2*Jt+0)*ie)),Cn=Bi,hi=Xr}1&ln||(Ln=3*Cn+hi+131074>>2,H(ce[ve+ln-1],255&Ln,Ln>>16,kt,St+(ln-1)*ie),Se!=null&&(Ln=3*hi+Cn+131074>>2,H(Se[Ce+ln-1],255&Ln,Ln>>16,gt,Vt+(ln-1)*ie)))}}function yA(){da[ph]=CA,da[fa]=pf,da[Va]=qp,da[jo]=xd,da[Zs]=Ec,da[BA]=Ta,da[_c]=su,da[hf]=pf,da[yd]=xd,da[xo]=Ec,da[mh]=Ta}function Fu(U){return U&-16384?0>U?0:255:U>>mf}function yo(U,H){return Fu((19077*U>>8)+(26149*H>>8)-14234)}function vo(U,H,ie){return Fu((19077*U>>8)-(6419*H>>8)-(13320*ie>>8)+8708)}function ko(U,H){return Fu((19077*U>>8)+(33050*H>>8)-17685)}function ts(U,H,ie,ce,ve){ce[ve+0]=yo(U,ie),ce[ve+1]=vo(U,H,ie),ce[ve+2]=ko(U,H)}function Bs(U,H,ie,ce,ve){ce[ve+0]=ko(U,H),ce[ve+1]=vo(U,H,ie),ce[ve+2]=yo(U,ie)}function Zc(U,H,ie,ce,ve){var Se=vo(U,H,ie);H=Se<<3&224|ko(U,H)>>3,ce[ve+0]=248&yo(U,ie)|Se>>5,ce[ve+1]=H}function hc(U,H,ie,ce,ve){var Se=240&ko(U,H)|15;ce[ve+0]=240&yo(U,ie)|vo(U,H,ie)>>4,ce[ve+1]=Se}function dc(U,H,ie,ce,ve){ce[ve+0]=255,ts(U,H,ie,ce,ve+1)}function $o(U,H,ie,ce,ve){Bs(U,H,ie,ce,ve),ce[ve+3]=255}function ca(U,H,ie,ce,ve){ts(U,H,ie,ce,ve),ce[ve+3]=255}function pc(U,H,ie){N[U]=function(ce,ve,Se,Ce,Ie,ke,Ge,ut,Bt){for(var Ve=ut+(-2&Bt)*ie;ut!=Ve;)H(ce[ve+0],Se[Ce+0],Ie[ke+0],Ge,ut),H(ce[ve+1],Se[Ce+0],Ie[ke+0],Ge,ut+ie),ve+=2,++Ce,++ke,ut+=2*ie;1&Bt&&H(ce[ve+0],Se[Ce+0],Ie[ke+0],Ge,ut)}}function ua(U,H,ie){return ie==0?U==0?H==0?6:5:H==0?4:0:ie}function uf(U,H,ie,ce,ve){switch(U>>>30){case 3:xc(H,ie,ce,ve,0);break;case 2:Ca(H,ie,ce,ve);break;case 1:Yi(H,ie,ce,ve)}}function ro(U,H){var ie,ce,ve=H.M,Se=H.Nb,Ce=U.oc,Ie=U.pc+40,ke=U.oc,Ge=U.pc+584,ut=U.oc,Bt=U.pc+600;for(ie=0;16>ie;++ie)Ce[Ie+32*ie-1]=129;for(ie=0;8>ie;++ie)ke[Ge+32*ie-1]=129,ut[Bt+32*ie-1]=129;for(0<ve?Ce[Ie-1-32]=ke[Ge-1-32]=ut[Bt-1-32]=129:(r(Ce,Ie-32-1,127,21),r(ke,Ge-32-1,127,9),r(ut,Bt-32-1,127,9)),ce=0;ce<U.za;++ce){var Ve=H.ya[H.aa+ce];if(0<ce){for(ie=-1;16>ie;++ie)i(Ce,Ie+32*ie-4,Ce,Ie+32*ie+12,4);for(ie=-1;8>ie;++ie)i(ke,Ge+32*ie-4,ke,Ge+32*ie+4,4),i(ut,Bt+32*ie-4,ut,Bt+32*ie+4,4)}var ft=U.Gd,_t=U.Hd+ce,kt=Ve.ad,St=Ve.Hc;if(0<ve&&(i(Ce,Ie-32,ft[_t].y,0,16),i(ke,Ge-32,ft[_t].f,0,8),i(ut,Bt-32,ft[_t].ea,0,8)),Ve.Za){var gt=Ce,Vt=Ie-32+16;for(0<ve&&(ce>=U.za-1?r(gt,Vt,ft[_t].y[15],4):i(gt,Vt,ft[_t+1].y,0,4)),ie=0;4>ie;ie++)gt[Vt+128+ie]=gt[Vt+256+ie]=gt[Vt+384+ie]=gt[Vt+0+ie];for(ie=0;16>ie;++ie,St<<=2)gt=Ce,Vt=Ie+Kn[ie],Br[Ve.Ob[ie]](gt,Vt),uf(St,kt,16*+ie,gt,Vt)}else if(gt=ua(ce,ve,Ve.Ob[0]),Ga[gt](Ce,Ie),St!=0)for(ie=0;16>ie;++ie,St<<=2)uf(St,kt,16*+ie,Ce,Ie+Kn[ie]);for(ie=Ve.Gc,gt=ua(ce,ve,Ve.Dd),rl[gt](ke,Ge),rl[gt](ut,Bt),St=kt,gt=ke,Vt=Ge,255&(Ve=0|ie)&&(170&Ve?ys(St,256,gt,Vt):qi(St,256,gt,Vt)),Ve=ut,St=Bt,255&(ie>>=8)&&(170&ie?ys(kt,320,Ve,St):qi(kt,320,Ve,St)),ve<U.Ub-1&&(i(ft[_t].y,0,Ce,Ie+480,16),i(ft[_t].f,0,ke,Ge+224,8),i(ft[_t].ea,0,ut,Bt+224,8)),ie=8*Se*U.B,ft=U.sa,_t=U.ta+16*ce+16*Se*U.R,kt=U.qa,Ve=U.ra+8*ce+ie,St=U.Ha,gt=U.Ia+8*ce+ie,ie=0;16>ie;++ie)i(ft,_t+ie*U.R,Ce,Ie+32*ie,16);for(ie=0;8>ie;++ie)i(kt,Ve+ie*U.B,ke,Ge+32*ie,8),i(St,gt+ie*U.B,ut,Bt+32*ie,8)}}function el(U,H,ie,ce,ve,Se,Ce,Ie,ke){var Ge=[0],ut=[0],Bt=0,Ve=ke!=null?ke.kd:0,ft=ke??new rn;if(U==null||12>ie)return 7;ft.data=U,ft.w=H,ft.ha=ie,H=[H],ie=[ie],ft.gb=[ft.gb];e:{var _t=H,kt=ie,St=ft.gb;if(e(U!=null),e(kt!=null),e(St!=null),St[0]=0,12<=kt[0]&&!t(U,_t[0],"RIFF")){if(t(U,_t[0]+8,"WEBP")){St=3;break e}var gt=He(U,_t[0]+4);if(12>gt||4294967286<gt){St=3;break e}if(Ve&&gt>kt[0]-8){St=7;break e}St[0]=gt,_t[0]+=12,kt[0]-=12}St=0}if(St!=0)return St;for(gt=0<ft.gb[0],ie=ie[0];;){e:{var Vt=U;kt=H,St=ie;var ln=Ge,Jt=ut,In=_t=[0];if((Ln=Bt=[Bt])[0]=0,8>St[0])St=7;else{if(!t(Vt,kt[0],"VP8X")){if(He(Vt,kt[0]+4)!=10){St=3;break e}if(18>St[0]){St=7;break e}var Cn=He(Vt,kt[0]+8),hi=1+$e(Vt,kt[0]+12);if(2147483648<=hi*(Vt=1+$e(Vt,kt[0]+15))){St=3;break e}In!=null&&(In[0]=Cn),ln!=null&&(ln[0]=hi),Jt!=null&&(Jt[0]=Vt),kt[0]+=18,St[0]-=18,Ln[0]=1}St=0}}if(Bt=Bt[0],_t=_t[0],St!=0)return St;if(kt=!!(2&_t),!gt&&Bt)return 3;if(Se!=null&&(Se[0]=!!(16&_t)),Ce!=null&&(Ce[0]=kt),Ie!=null&&(Ie[0]=0),Ce=Ge[0],_t=ut[0],Bt&&kt&&ke==null){St=0;break}if(4>ie){St=7;break}if(gt&&Bt||!gt&&!Bt&&!t(U,H[0],"ALPH")){ie=[ie],ft.na=[ft.na],ft.P=[ft.P],ft.Sa=[ft.Sa];e:{Cn=U,St=H,gt=ie;var Ln=ft.gb;ln=ft.na,Jt=ft.P,In=ft.Sa,hi=22,e(Cn!=null),e(gt!=null),Vt=St[0];var Bi=gt[0];for(e(ln!=null),e(In!=null),ln[0]=null,Jt[0]=null,In[0]=0;;){if(St[0]=Vt,gt[0]=Bi,8>Bi){St=7;break e}var Xr=He(Cn,Vt+4);if(4294967286<Xr){St=3;break e}var _i=8+Xr+1&-2;if(hi+=_i,0<Ln&&hi>Ln){St=3;break e}if(!t(Cn,Vt,"VP8 ")||!t(Cn,Vt,"VP8L")){St=0;break e}if(Bi[0]<_i){St=7;break e}t(Cn,Vt,"ALPH")||(ln[0]=Cn,Jt[0]=Vt+8,In[0]=Xr),Vt+=_i,Bi-=_i}}if(ie=ie[0],ft.na=ft.na[0],ft.P=ft.P[0],ft.Sa=ft.Sa[0],St!=0)break}ie=[ie],ft.Ja=[ft.Ja],ft.xa=[ft.xa];e:if(Ln=U,St=H,gt=ie,ln=ft.gb[0],Jt=ft.Ja,In=ft.xa,Cn=St[0],Vt=!t(Ln,Cn,"VP8 "),hi=!t(Ln,Cn,"VP8L"),e(Ln!=null),e(gt!=null),e(Jt!=null),e(In!=null),8>gt[0])St=7;else{if(Vt||hi){if(Ln=He(Ln,Cn+4),12<=ln&&Ln>ln-12){St=3;break e}if(Ve&&Ln>gt[0]-8){St=7;break e}Jt[0]=Ln,St[0]+=8,gt[0]-=8,In[0]=hi}else In[0]=5<=gt[0]&&Ln[Cn+0]==47&&!(Ln[Cn+4]>>5),Jt[0]=gt[0];St=0}if(ie=ie[0],ft.Ja=ft.Ja[0],ft.xa=ft.xa[0],H=H[0],St!=0)break;if(4294967286<ft.Ja)return 3;if(Ie==null||kt||(Ie[0]=ft.xa?2:1),Ce=[Ce],_t=[_t],ft.xa){if(5>ie){St=7;break}Ie=Ce,Ve=_t,kt=Se,U==null||5>ie?U=0:5<=ie&&U[H+0]==47&&!(U[H+4]>>5)?(gt=[0],Ln=[0],ln=[0],re(Jt=new j,U,H,ie),tn(Jt,gt,Ln,ln)?(Ie!=null&&(Ie[0]=gt[0]),Ve!=null&&(Ve[0]=Ln[0]),kt!=null&&(kt[0]=ln[0]),U=1):U=0):U=0}else{if(10>ie){St=7;break}Ie=_t,U==null||10>ie||!gi(U,H+3,ie-3)?U=0:(Ve=U[H+0]|U[H+1]<<8|U[H+2]<<16,kt=16383&(U[H+7]<<8|U[H+6]),U=16383&(U[H+9]<<8|U[H+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=ft.Ja||!kt||!U?U=0:(Ce&&(Ce[0]=kt),Ie&&(Ie[0]=U),U=1))}if(!U||(Ce=Ce[0],_t=_t[0],Bt&&(Ge[0]!=Ce||ut[0]!=_t)))return 3;ke!=null&&(ke[0]=ft,ke.offset=H-ke.w,e(4294967286>H-ke.w),e(ke.offset==ke.ha-ie));break}return St==0||St==7&&Bt&&ke==null?(Se!=null&&(Se[0]|=ft.na!=null&&0<ft.na.length),ce!=null&&(ce[0]=Ce),ve!=null&&(ve[0]=_t),0):St}function mc(U,H,ie){var ce=H.width,ve=H.height,Se=0,Ce=0,Ie=ce,ke=ve;if(H.Da=U!=null&&0<U.Da,H.Da&&(Ie=U.cd,ke=U.bd,Se=U.v,Ce=U.j,11>ie||(Se&=-2,Ce&=-2),0>Se||0>Ce||0>=Ie||0>=ke||Se+Ie>ce||Ce+ke>ve))return 0;if(H.v=Se,H.j=Ce,H.va=Se+Ie,H.o=Ce+ke,H.U=Ie,H.T=ke,H.da=U!=null&&0<U.da,H.da){if(!We(Ie,ke,ie=[U.ib],Se=[U.hb]))return 0;H.ib=ie[0],H.hb=Se[0]}return H.ob=U!=null&&U.ob,H.Kb=U==null||!U.Sd,H.da&&(H.ob=H.ib<3*ce/4&&H.hb<3*ve/4,H.Kb=0),1}function vA(U){if(U==null)return 2;if(11>U.S){var H=U.f.RGBA;H.fb+=(U.height-1)*H.A,H.A=-H.A}else H=U.f.kb,U=U.height,H.O+=(U-1)*H.fa,H.fa=-H.fa,H.N+=(U-1>>1)*H.Ab,H.Ab=-H.Ab,H.W+=(U-1>>1)*H.Db,H.Db=-H.Db,H.F!=null&&(H.J+=(U-1)*H.lb,H.lb=-H.lb);return 0}function Ho(U,H,ie,ce){if(ce==null||0>=U||0>=H)return 2;if(ie!=null){if(ie.Da){var ve=ie.cd,Se=ie.bd,Ce=-2&ie.v,Ie=-2&ie.j;if(0>Ce||0>Ie||0>=ve||0>=Se||Ce+ve>U||Ie+Se>H)return 2;U=ve,H=Se}if(ie.da){if(!We(U,H,ve=[ie.ib],Se=[ie.hb]))return 2;U=ve[0],H=Se[0]}}ce.width=U,ce.height=H;e:{var ke=ce.width,Ge=ce.height;if(U=ce.S,0>=ke||0>=Ge||!(U>=ph&&13>U))U=2;else{if(0>=ce.Rd&&ce.sd==null){Ce=Se=ve=H=0;var ut=(Ie=ke*bd[U])*Ge;if(11>U||(Se=(Ge+1)/2*(H=(ke+1)/2),U==12&&(Ce=(ve=ke)*Ge)),(Ge=s(ut+2*Se+Ce))==null){U=1;break e}ce.sd=Ge,11>U?((ke=ce.f.RGBA).eb=Ge,ke.fb=0,ke.A=Ie,ke.size=ut):((ke=ce.f.kb).y=Ge,ke.O=0,ke.fa=Ie,ke.Fd=ut,ke.f=Ge,ke.N=0+ut,ke.Ab=H,ke.Cd=Se,ke.ea=Ge,ke.W=0+ut+Se,ke.Db=H,ke.Ed=Se,U==12&&(ke.F=Ge,ke.J=0+ut+2*Se),ke.Tc=Ce,ke.lb=ve)}if(H=1,ve=ce.S,Se=ce.width,Ce=ce.height,ve>=ph&&13>ve)if(11>ve)U=ce.f.RGBA,H&=(Ie=Math.abs(U.A))*(Ce-1)+Se<=U.size,H&=Ie>=Se*bd[ve],H&=U.eb!=null;else{U=ce.f.kb,Ie=(Se+1)/2,ut=(Ce+1)/2,ke=Math.abs(U.fa),Ge=Math.abs(U.Ab);var Bt=Math.abs(U.Db),Ve=Math.abs(U.lb),ft=Ve*(Ce-1)+Se;H&=ke*(Ce-1)+Se<=U.Fd,H&=Ge*(ut-1)+Ie<=U.Cd,H=(H&=Bt*(ut-1)+Ie<=U.Ed)&ke>=Se&Ge>=Ie&Bt>=Ie,H&=U.y!=null,H&=U.f!=null,H&=U.ea!=null,ve==12&&(H&=Ve>=Se,H&=ft<=U.Tc,H&=U.F!=null)}else H=0;U=H?0:2}}return U!=0||ie!=null&&ie.fd&&(U=vA(ce)),U}var Jc=64,Ba=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qs=24,tr=32,gc=8,$c=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(U){return U},N.Predictor2=function(U,H,ie){return H[ie+0]},N.Predictor3=function(U,H,ie){return H[ie+1]},N.Predictor4=function(U,H,ie){return H[ie-1]},N.Predictor5=function(U,H,ie){return me(me(U,H[ie+1]),H[ie+0])},N.Predictor6=function(U,H,ie){return me(U,H[ie-1])},N.Predictor7=function(U,H,ie){return me(U,H[ie+0])},N.Predictor8=function(U,H,ie){return me(H[ie-1],H[ie+0])},N.Predictor9=function(U,H,ie){return me(H[ie+0],H[ie+1])},N.Predictor10=function(U,H,ie){return me(me(U,H[ie-1]),me(H[ie+0],H[ie+1]))},N.Predictor11=function(U,H,ie){var ce=H[ie+0];return 0>=P(ce>>24&255,U>>24&255,(H=H[ie-1])>>24&255)+P(ce>>16&255,U>>16&255,H>>16&255)+P(ce>>8&255,U>>8&255,H>>8&255)+P(255&ce,255&U,255&H)?ce:U},N.Predictor12=function(U,H,ie){var ce=H[ie+0];return(le((U>>24&255)+(ce>>24&255)-((H=H[ie-1])>>24&255))<<24|le((U>>16&255)+(ce>>16&255)-(H>>16&255))<<16|le((U>>8&255)+(ce>>8&255)-(H>>8&255))<<8|le((255&U)+(255&ce)-(255&H)))>>>0},N.Predictor13=function(U,H,ie){var ce=H[ie-1];return(Je((U=me(U,H[ie+0]))>>24&255,ce>>24&255)<<24|Je(U>>16&255,ce>>16&255)<<16|Je(U>>8&255,ce>>8&255)<<8|Je(255&U,255&ce))>>>0};var xA=N.PredictorAdd0;N.PredictorAdd1=Z,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var yc=N.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(U){return U>>8&255},function(U){return U}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(U){return U},function(U){return U>>8&255});var Er,fh=N.ColorIndexInverseTransform,Dl=N.MapARGB,ja=N.VP8LColorIndexInverseTransformAlpha,xr=N.MapAlpha,vc=N.VP8LPredictorsAdd=[];vc.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var bA,wA,Ol,Pl,Qo,Iu,zo,xc,Ca,ys,Yi,qi,Hr,us,As,tl,Ws,Af,kl,_A,eu,gd,hh,bc,Lu,Ma,tu,Xs,Ru=s(511),dh=s(2041),nu=s(225),ff=s(767),SA=0,wc=dh,EA=nu,Aa=ff,Ys=Ru,ph=0,fa=1,Va=2,jo=3,Zs=4,BA=5,_c=6,hf=7,yd=8,xo=9,mh=10,bo=[2,3,7],Hl=[3,3,11],Du=[280,256,256,256,40],gh=[0,1,1,1,0],df=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sc=8,nl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],il=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Go=null,Kp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ha=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ga=[],Br=[],rl=[],Qi=1,vh=2,ru=[],da=[];Ea("UpsampleRgbLinePair",ts,3),Ea("UpsampleBgrLinePair",Bs,3),Ea("UpsampleRgbaLinePair",ca,4),Ea("UpsampleBgraLinePair",$o,4),Ea("UpsampleArgbLinePair",dc,4),Ea("UpsampleRgba4444LinePair",hc,2),Ea("UpsampleRgb565LinePair",Zc,2);var CA=N.UpsampleRgbLinePair,qp=N.UpsampleBgrLinePair,pf=N.UpsampleRgbaLinePair,xd=N.UpsampleBgraLinePair,Ec=N.UpsampleArgbLinePair,Ta=N.UpsampleRgba4444LinePair,su=N.UpsampleRgb565LinePair,so=16,sl=1<<so-1,Ou=-227,Bc=482,mf=6,Pu=0,pa=s(256),xh=s(256),Wp=s(256),Pg=s(256),kg=s(Bc-Ou),Xp=s(Bc-Ou);pc("YuvToRgbRow",ts,3),pc("YuvToBgrRow",Bs,3),pc("YuvToRgbaRow",ca,4),pc("YuvToBgraRow",$o,4),pc("YuvToArgbRow",dc,4),pc("YuvToRgba4444Row",hc,2),pc("YuvToRgb565Row",Zc,2);var Kn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gf=[0,2,8],Ua=[8,7,6,4,4,2,2,2,1,1,1,1],MA=1;this.WebPDecodeRGBA=function(U,H,ie,ce,ve){var Se=fa,Ce=new Gt,Ie=new Rt;Ce.ba=Ie,Ie.S=Se,Ie.width=[Ie.width],Ie.height=[Ie.height];var ke=Ie.width,Ge=Ie.height,ut=new Et;if(ut==null||U==null)var Bt=2;else e(ut!=null),Bt=el(U,H,ie,ut.width,ut.height,ut.Pd,ut.Qd,ut.format,null);if(Bt!=0?ke=0:(ke!=null&&(ke[0]=ut.width[0]),Ge!=null&&(Ge[0]=ut.height[0]),ke=1),ke){Ie.width=Ie.width[0],Ie.height=Ie.height[0],ce!=null&&(ce[0]=Ie.width),ve!=null&&(ve[0]=Ie.height);e:{if(ce=new ii,(ve=new rn).data=U,ve.w=H,ve.ha=ie,ve.kd=1,H=[0],e(ve!=null),((U=el(ve.data,ve.w,ve.ha,null,null,null,H,null,ve))==0||U==7)&&H[0]&&(U=4),(H=U)==0){if(e(Ce!=null),ce.data=ve.data,ce.w=ve.w+ve.offset,ce.ha=ve.ha-ve.offset,ce.put=Be,ce.ac=Vn,ce.bc=Ke,ce.ma=Ce,ve.xa){if((U=Lt())==null){Ce=1;break e}if((function(Ve,ft){var _t=[0],kt=[0],St=[0];t:for(;;){if(Ve==null)return 0;if(ft==null)return Ve.a=2,0;if(Ve.l=ft,Ve.a=0,re(Ve.m,ft.data,ft.w,ft.ha),!tn(Ve.m,_t,kt,St)){Ve.a=3;break t}if(Ve.xb=vh,ft.width=_t[0],ft.height=kt[0],!Mt(_t[0],kt[0],1,Ve,null))break t;return 1}return e(Ve.a!=0),0})(U,ce)){if(ce=(H=Ho(ce.width,ce.height,Ce.Oa,Ce.ba))==0){t:{ce=U;n:for(;;){if(ce==null){ce=0;break t}if(e(ce.s.yc!=null),e(ce.s.Ya!=null),e(0<ce.s.Wb),e((ie=ce.l)!=null),e((ve=ie.ma)!=null),ce.xb!=0){if(ce.ca=ve.ba,ce.tb=ve.tb,e(ce.ca!=null),!mc(ve.Oa,ie,jo)){ce.a=2;break n}if(!Zt(ce,ie.width)||ie.da)break n;if((ie.da||Qe(ce.ca.S))&&la(),11>ce.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ce.ca.f.kb.F!=null&&la()),ce.Pb&&0<ce.s.ua&&ce.s.vb.X==null&&!K(ce.s.vb,ce.s.Wa.Xa)){ce.a=1;break n}ce.xb=0}if(!it(ce,ce.V,ce.Ba,ce.c,ce.i,ie.o,er))break n;ve.Dc=ce.Ma,ce=1;break t}e(ce.a!=0),ce=0}ce=!ce}ce&&(H=U.a)}else H=U.a}else{if((U=new Dn)==null){Ce=1;break e}if(U.Fa=ve.na,U.P=ve.P,U.qc=ve.Sa,En(U,ce)){if((H=Ho(ce.width,ce.height,Ce.Oa,Ce.ba))==0){if(U.Aa=0,ie=Ce.Oa,e((ve=U)!=null),ie!=null){if(0<(ke=0>(ke=ie.Md)?0:100<ke?255:255*ke/100)){for(Ge=ut=0;4>Ge;++Ge)12>(Bt=ve.pb[Ge]).lc&&(Bt.ia=ke*Ua[0>Bt.lc?0:Bt.lc]>>3),ut|=Bt.ia;ut&&(alert("todo:VP8InitRandom"),ve.ia=1)}ve.Ga=ie.Id,100<ve.Ga?ve.Ga=100:0>ve.Ga&&(ve.Ga=0)}(function(Ve,ft){if(Ve==null)return 0;if(ft==null)return xn(Ve,2,"NULL VP8Io parameter in VP8Decode().");if(!Ve.cb&&!En(Ve,ft))return 0;if(e(Ve.cb),ft.ac==null||ft.ac(ft)){ft.ob&&(Ve.L=0);var _t=gf[Ve.L];if(Ve.L==2?(Ve.yb=0,Ve.zb=0):(Ve.yb=ft.v-_t>>4,Ve.zb=ft.j-_t>>4,0>Ve.yb&&(Ve.yb=0),0>Ve.zb&&(Ve.zb=0)),Ve.Va=ft.o+15+_t>>4,Ve.Hb=ft.va+15+_t>>4,Ve.Hb>Ve.za&&(Ve.Hb=Ve.za),Ve.Va>Ve.Ub&&(Ve.Va=Ve.Ub),0<Ve.L){var kt=Ve.ed;for(_t=0;4>_t;++_t){var St;if(Ve.Qa.Cb){var gt=Ve.Qa.Lb[_t];Ve.Qa.Fb||(gt+=kt.Tb)}else gt=kt.Tb;for(St=0;1>=St;++St){var Vt=Ve.gd[_t][St],ln=gt;if(kt.Pc&&(ln+=kt.vd[0],St&&(ln+=kt.od[0])),0<(ln=0>ln?0:63<ln?63:ln)){var Jt=ln;0<kt.wb&&(Jt=4<kt.wb?Jt>>2:Jt>>1)>9-kt.wb&&(Jt=9-kt.wb),1>Jt&&(Jt=1),Vt.dd=Jt,Vt.tc=2*ln+Jt,Vt.ld=40<=ln?2:15<=ln?1:0}else Vt.tc=0;Vt.La=St}}}_t=0}else xn(Ve,6,"Frame setup failed"),_t=Ve.a;if(_t=_t==0){if(_t){Ve.$c=0,0<Ve.Aa||(Ve.Ic=MA);t:{_t=Ve.Ic,kt=4*(Jt=Ve.za);var In=32*Jt,Cn=Jt+1,hi=0<Ve.L?Jt*(0<Ve.Aa?2:1):0,Ln=(Ve.Aa==2?2:1)*Jt;if((Vt=kt+832+(St=3*(16*_t+gf[Ve.L])/2*In)+(gt=Ve.Fa!=null&&0<Ve.Fa.length?Ve.Kc.c*Ve.Kc.i:0))!=Vt)_t=0;else{if(Vt>Ve.Vb){if(Ve.Vb=0,Ve.Ec=s(Vt),Ve.Fc=0,Ve.Ec==null){_t=xn(Ve,1,"no memory during frame initialization.");break t}Ve.Vb=Vt}Vt=Ve.Ec,ln=Ve.Fc,Ve.Ac=Vt,Ve.Bc=ln,ln+=kt,Ve.Gd=a(In,vn),Ve.Hd=0,Ve.rb=a(Cn+1,jt),Ve.sb=1,Ve.wa=hi?a(hi,Ut):null,Ve.Y=0,Ve.D.Nb=0,Ve.D.wa=Ve.wa,Ve.D.Y=Ve.Y,0<Ve.Aa&&(Ve.D.Y+=Jt),e(!0),Ve.oc=Vt,Ve.pc=ln,ln+=832,Ve.ya=a(Ln,on),Ve.aa=0,Ve.D.ya=Ve.ya,Ve.D.aa=Ve.aa,Ve.Aa==2&&(Ve.D.aa+=Jt),Ve.R=16*Jt,Ve.B=8*Jt,Jt=(In=gf[Ve.L])*Ve.R,In=In/2*Ve.B,Ve.sa=Vt,Ve.ta=ln+Jt,Ve.qa=Ve.sa,Ve.ra=Ve.ta+16*_t*Ve.R+In,Ve.Ha=Ve.qa,Ve.Ia=Ve.ra+8*_t*Ve.B+In,Ve.$c=0,ln+=St,Ve.mb=gt?Vt:null,Ve.nb=gt?ln:null,e(ln+gt<=Ve.Fc+Ve.Vb),Un(Ve),r(Ve.Ac,Ve.Bc,0,kt),_t=1}}if(_t){if(ft.ka=0,ft.y=Ve.sa,ft.O=Ve.ta,ft.f=Ve.qa,ft.N=Ve.ra,ft.ea=Ve.Ha,ft.Vd=Ve.Ia,ft.fa=Ve.R,ft.Rc=Ve.B,ft.F=null,ft.J=0,!SA){for(_t=-255;255>=_t;++_t)Ru[255+_t]=0>_t?-_t:_t;for(_t=-1020;1020>=_t;++_t)dh[1020+_t]=-128>_t?-128:127<_t?127:_t;for(_t=-112;112>=_t;++_t)nu[112+_t]=-16>_t?-16:15<_t?15:_t;for(_t=-255;510>=_t;++_t)ff[255+_t]=0>_t?0:255<_t?255:_t;SA=1}zo=za,xc=ji,ys=Di,Yi=ms,qi=qr,Ca=Ri,Hr=uh,us=Ac,As=ye,tl=qe,Ws=Ah,Af=ee,kl=lt,_A=mt,eu=Rl,gd=cc,hh=Nu,bc=ch,Br[0]=lh,Br[1]=hA,Br[2]=oh,Br[3]=of,Br[4]=to,Br[5]=lf,Br[6]=oa,Br[7]=pA,Br[8]=Tu,Br[9]=Oo,Ga[0]=Jo,Ga[1]=dA,Ga[2]=af,Ga[3]=ah,Ga[4]=Il,Ga[5]=Mu,Ga[6]=Xc,rl[0]=mA,rl[1]=sh,rl[2]=go,rl[3]=cf,rl[4]=Ls,rl[5]=gA,rl[6]=Ll,_t=1}else _t=0}_t&&(_t=(function(Bi,Xr){for(Bi.M=0;Bi.M<Bi.Va;++Bi.M){var _i,Mn=Bi.Jc[Bi.M&Bi.Xb],mn=Bi.m,fs=Bi;for(_i=0;_i<fs.za;++_i){var ti=mn,Si=fs,nr=Si.Ac,Rs=Si.Bc+4*_i,Na=Si.zc,zr=Si.ya[Si.aa+_i];if(Si.Qa.Bb?zr.$b=be(ti,Si.Pa.jb[0])?2+be(ti,Si.Pa.jb[2]):be(ti,Si.Pa.jb[1]):zr.$b=0,Si.kc&&(zr.Ad=be(ti,Si.Bd)),zr.Za=!be(ti,145)+0,zr.Za){var vs=zr.Ob,ns=0;for(Si=0;4>Si;++Si){var Ki,di=Na[0+Si];for(Ki=0;4>Ki;++Ki){di=ha[nr[Rs+Ki]][di];for(var yi=iu[be(ti,di[0])];0<yi;)yi=iu[2*yi+be(ti,di[yi])];di=-yi,nr[Rs+Ki]=di}i(vs,ns,nr,Rs,4),ns+=4,Na[0+Si]=di}}else di=be(ti,156)?be(ti,128)?1:3:be(ti,163)?2:0,zr.Ob[0]=di,r(nr,Rs,di,4),r(Na,0,di,4);zr.Dd=be(ti,142)?be(ti,114)?be(ti,183)?1:3:2:0}if(fs.m.Ka)return xn(Bi,7,"Premature end-of-partition0 encountered.");for(;Bi.ja<Bi.za;++Bi.ja){if(fs=Mn,ti=(mn=Bi).rb[mn.sb-1],nr=mn.rb[mn.sb+mn.ja],_i=mn.ya[mn.aa+mn.ja],Rs=mn.kc?_i.Ad:0)ti.la=nr.la=0,_i.Za||(ti.Na=nr.Na=0),_i.Hc=0,_i.Gc=0,_i.ia=0;else{var is,Ar;if(ti=nr,nr=fs,Rs=mn.Pa.Xc,Na=mn.ya[mn.aa+mn.ja],zr=mn.pb[Na.$b],Si=Na.ad,vs=0,ns=mn.rb[mn.sb-1],di=Ki=0,r(Si,vs,0,384),Na.Za)var ir=0,br=Rs[3];else{yi=s(16);var rr=ti.Na+ns.Na;if(rr=Go(nr,Rs[1],rr,zr.Eb,0,yi,0),ti.Na=ns.Na=(0<rr)+0,1<rr)zo(yi,0,Si,vs);else{var Cs=yi[0]+3>>3;for(yi=0;256>yi;yi+=16)Si[vs+yi]=Cs}ir=1,br=Rs[0]}var wr=15&ti.la,Ds=15&ns.la;for(yi=0;4>yi;++yi){var Ms=1&Ds;for(Cs=Ar=0;4>Cs;++Cs)wr=wr>>1|(Ms=(rr=Go(nr,br,rr=Ms+(1&wr),zr.Sc,ir,Si,vs))>ir)<<7,Ar=Ar<<2|(3<rr?3:1<rr?2:Si[vs+0]!=0),vs+=16;wr>>=4,Ds=Ds>>1|Ms<<7,Ki=(Ki<<8|Ar)>>>0}for(br=wr,ir=Ds>>4,is=0;4>is;is+=2){for(Ar=0,wr=ti.la>>4+is,Ds=ns.la>>4+is,yi=0;2>yi;++yi){for(Ms=1&Ds,Cs=0;2>Cs;++Cs)rr=Ms+(1&wr),wr=wr>>1|(Ms=0<(rr=Go(nr,Rs[2],rr,zr.Qc,0,Si,vs)))<<3,Ar=Ar<<2|(3<rr?3:1<rr?2:Si[vs+0]!=0),vs+=16;wr>>=2,Ds=Ds>>1|Ms<<5}di|=Ar<<4*is,br|=wr<<4<<is,ir|=(240&Ds)<<is}ti.la=br,ns.la=ir,Na.Hc=Ki,Na.Gc=di,Na.ia=43690&di?0:zr.ia,Rs=!(Ki|di)}if(0<mn.L&&(mn.wa[mn.Y+mn.ja]=mn.gd[_i.$b][_i.Za],mn.wa[mn.Y+mn.ja].La|=!Rs),fs.Ka)return xn(Bi,7,"Premature end-of-file encountered.")}if(Un(Bi),mn=Xr,fs=1,_i=(Mn=Bi).D,ti=0<Mn.L&&Mn.M>=Mn.zb&&Mn.M<=Mn.Va,Mn.Aa==0)t:{if(_i.M=Mn.M,_i.uc=ti,ro(Mn,_i),fs=1,_i=(Ar=Mn.D).Nb,ti=(di=gf[Mn.L])*Mn.R,nr=di/2*Mn.B,yi=16*_i*Mn.R,Cs=8*_i*Mn.B,Rs=Mn.sa,Na=Mn.ta-ti+yi,zr=Mn.qa,Si=Mn.ra-nr+Cs,vs=Mn.Ha,ns=Mn.Ia-nr+Cs,Ds=(wr=Ar.M)==0,Ki=wr>=Mn.Va-1,Mn.Aa==2&&ro(Mn,Ar),Ar.uc)for(Ms=(rr=Mn).D.M,e(rr.D.uc),Ar=rr.yb;Ar<rr.Hb;++Ar){ir=Ar,br=Ms;var Lr=(Wi=(Os=rr).D).Nb;is=Os.R;var Wi=Wi.wa[Wi.Y+ir],Ka=Os.sa,Rr=Os.ta+16*Lr*is+16*ir,Qn=Wi.dd,Jn=Wi.tc;if(Jn!=0)if(e(3<=Jn),Os.L==1)0<ir&&gd(Ka,Rr,is,Jn+4),Wi.La&&bc(Ka,Rr,is,Jn),0<br&&eu(Ka,Rr,is,Jn+4),Wi.La&&hh(Ka,Rr,is,Jn);else{var sr=Os.B,_o=Os.qa,qa=Os.ra+8*Lr*sr+8*ir,ao=Os.Ha,Os=Os.Ia+8*Lr*sr+8*ir;Lr=Wi.ld,0<ir&&(us(Ka,Rr,is,Jn+4,Qn,Lr),tl(_o,qa,ao,Os,sr,Jn+4,Qn,Lr)),Wi.La&&(Af(Ka,Rr,is,Jn,Qn,Lr),_A(_o,qa,ao,Os,sr,Jn,Qn,Lr)),0<br&&(Hr(Ka,Rr,is,Jn+4,Qn,Lr),As(_o,qa,ao,Os,sr,Jn+4,Qn,Lr)),Wi.La&&(Ws(Ka,Rr,is,Jn,Qn,Lr),kl(_o,qa,ao,Os,sr,Jn,Qn,Lr))}}if(Mn.ia&&alert("todo:DitherRow"),mn.put!=null){if(Ar=16*wr,wr=16*(wr+1),Ds?(mn.y=Mn.sa,mn.O=Mn.ta+yi,mn.f=Mn.qa,mn.N=Mn.ra+Cs,mn.ea=Mn.Ha,mn.W=Mn.Ia+Cs):(Ar-=di,mn.y=Rs,mn.O=Na,mn.f=zr,mn.N=Si,mn.ea=vs,mn.W=ns),Ki||(wr-=di),wr>mn.o&&(wr=mn.o),mn.F=null,mn.J=null,Mn.Fa!=null&&0<Mn.Fa.length&&Ar<wr&&(mn.J=Fr(Mn,mn,Ar,wr-Ar),mn.F=Mn.mb,mn.F==null&&mn.F.length==0)){fs=xn(Mn,3,"Could not decode alpha data.");break t}Ar<mn.j&&(di=mn.j-Ar,Ar=mn.j,e(!(1&di)),mn.O+=Mn.R*di,mn.N+=Mn.B*(di>>1),mn.W+=Mn.B*(di>>1),mn.F!=null&&(mn.J+=mn.width*di)),Ar<wr&&(mn.O+=mn.v,mn.N+=mn.v>>1,mn.W+=mn.v>>1,mn.F!=null&&(mn.J+=mn.v),mn.ka=Ar-mn.j,mn.U=mn.va-mn.v,mn.T=wr-Ar,fs=mn.put(mn))}_i+1!=Mn.Ic||Ki||(i(Mn.sa,Mn.ta-ti,Rs,Na+16*Mn.R,ti),i(Mn.qa,Mn.ra-nr,zr,Si+8*Mn.B,nr),i(Mn.Ha,Mn.Ia-nr,vs,ns+8*Mn.B,nr))}if(!fs)return xn(Bi,6,"Output aborted.")}return 1})(Ve,ft)),ft.bc!=null&&ft.bc(ft),_t&=1}return _t?(Ve.cb=0,_t):0})(U,ce)||(H=U.a)}}else H=U.a}H==0&&Ce.Oa!=null&&Ce.Oa.fd&&(H=vA(Ce.ba))}Ce=H}Se=Ce!=0?null:11>Se?Ie.f.RGBA.eb:Ie.f.kb.y}else Se=null;return Se};var bd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,R){for(var k="",Q=0;Q<4;Q++)k+=String.fromCharCode(N[R++]);return k}function A(N,R){return N[R+0]|N[R+1]<<8}function f(N,R){return(N[R+0]|N[R+1]<<8|N[R+2]<<16)>>>0}function p(N,R){return(N[R+0]|N[R+1]<<8|N[R+2]<<16|N[R+3]<<24)>>>0}new l;var d=[0],y=[0],x=[],w=new l,b=n,_=(function(N,R){var k={},Q=0,J=!1,Y=0,ne=0;if(k.frames=[],!(function(z,j){for(var oe=0;oe<4;oe++)if(z[j+oe]!="RIFF".charCodeAt(oe))return!0;return!1})(N,R)){for(p(N,R+=4),R+=8;R<N.length;){var W=c(N,R),q=p(N,R+=4);R+=4;var $=q+(1&q);switch(W){case"VP8 ":case"VP8L":k.frames[Q]===void 0&&(k.frames[Q]={}),(te=k.frames[Q]).src_off=J?ne:R-8,te.src_size=Y+q+8,Q++,J&&(J=!1,Y=0,ne=0);break;case"VP8X":(te=k.header={}).feature_flags=N[R];var re=R+4;te.canvas_width=1+f(N,re),re+=3,te.canvas_height=1+f(N,re),re+=3;break;case"ALPH":J=!0,Y=$+8,ne=R-8;break;case"ANIM":(te=k.header).bgcolor=p(N,R),re=R+4,te.loop_count=A(N,re),re+=2;break;case"ANMF":var V,te;(te=k.frames[Q]={}).offset_x=2*f(N,R),R+=3,te.offset_y=2*f(N,R),R+=3,te.width=1+f(N,R),R+=3,te.height=1+f(N,R),R+=3,te.duration=f(N,R),R+=3,V=N[R++],te.dispose=1&V,te.blend=V>>1&1}W!="ANMF"&&(R+=$)}return k}})(b,0);_.response=b,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,C=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,d=[E.canvas_height],y=[E.canvas_width];for(var T=0;T<C.length&&C[T].blend!=0;T++);}var M=C[0],F=w.WebPDecodeRGBA(b,M.src_off,M.src_size,y,d);M.rgba=F,M.imgwidth=y[0],M.imgheight=d[0];for(var L=0;L<y[0]*d[0]*4;L++)x[L]=F[L];return this.width=y,this.height=d,this.data=x,this}(function(n){var e,t,i,r,s,a,o,l,c,A=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new l,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new a,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new a,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new A}]);var f=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=z;Object.defineProperty(this,"pdf",{get:function(){return j}});var oe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return oe},set:function(K){oe=!!K}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(K){fe=!!K}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(K){isNaN(K)||(ue=K)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(K){isNaN(K)||(Ae=K)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(K){var xe;typeof K=="number"?xe=[K,K,K,K]:((xe=new Array(4))[0]=K[0],xe[1]=K.length>=2?K[1]:xe[0],xe[2]=K.length>=3?K[2]:xe[0],xe[3]=K.length>=4?K[3]:xe[1]),c.margin=xe}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(K){he=K}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(K){_e=K}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(K){be=K}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(K){K instanceof A&&(c=K)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(K){c.path=K}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(K){Ne=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var xe;xe=p(K),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var xe=p(K);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var ze=null,$e=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(K){ze=null,$e=null,He=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var xe;if(this.ctx.font=K,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Pe=xe[1];xe[2];var We=xe[3],Le=xe[4];xe[5];var tt=xe[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Ee==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var et=(function(Ze){var dt,Me,Oe=[],bt=Ze.trim();if(bt==="")return x3;if(bt in g6)return[g6[bt]];for(;bt!=="";){switch(Me=null,dt=(bt=v6(bt)).charAt(0)){case'"':case"'":Me=Pfe(bt.substring(1),dt);break;default:Me=kfe(bt)}if(Me===null||(Oe.push(Me[0]),(bt=v6(Me[1]))!==""&&bt.charAt(0)!==","))return x3;bt=bt.replace(/^,/,"")}return Oe})(tt);if(this.fontFaces){var me=(function(Ze,dt){var Me=Ze.getFontList(),Oe=JSON.stringify(Me);if(ze===null||$e!==Oe){var bt=(function(Fe){var Xe=[];return Object.keys(Fe).forEach(function(ht){Fe[ht].forEach(function(Qe){var ot=null;switch(Qe){case"bold":ot={family:ht,weight:"bold"};break;case"italic":ot={family:ht,style:"italic"};break;case"bolditalic":ot={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:ht}}ot!==null&&(ot.ref={name:ht,style:Qe},Xe.push(ot))})}),Xe})(Me);ze=(function(Fe){for(var Xe={},ht=0;ht<Fe.length;++ht){var Qe=v3(Fe[ht]),ot=Qe.family,Dt=Qe.stretch,Rt=Qe.style,Et=Qe.weight;Xe[ot]=Xe[ot]||{},Xe[ot][Dt]=Xe[ot][Dt]||{},Xe[ot][Dt][Rt]=Xe[ot][Dt][Rt]||{},Xe[ot][Dt][Rt][Et]=Qe}return Xe})(bt.concat(dt)),$e=Oe}return ze})(this.pdf,this.fontFaces),le=et.map(function(Ze){return{family:Ze,stretch:"normal",weight:We,style:Pe}}),Je=(function(Ze,dt,Me){for(var Oe=(Me=Me||{}).defaultFontFamily||"times",bt=Object.assign({},Ofe,Me.genericFontFamilies||{}),Fe=null,Xe=null,ht=0;ht<dt.length;++ht)if(bt[(Fe=v3(dt[ht])).family]&&(Fe.family=bt[Fe.family]),Ze.hasOwnProperty(Fe.family)){Xe=Ze[Fe.family];break}if(!(Xe=Xe||Ze[Oe]))throw new Error("Could not find a font-family for the rule '"+y6(Fe)+"' and default family '"+Oe+"'.");if(Xe=(function(Qe,ot){if(ot[Qe])return ot[Qe];var Dt=qT[Qe],Rt=Dt<=qT.normal?-1:1,Et=m6(ot,bj,Dt,Rt);if(!Et)throw new Error("Could not find a matching font-stretch value for "+Qe);return Et})(Fe.stretch,Xe),Xe=(function(Qe,ot){if(ot[Qe])return ot[Qe];for(var Dt=xj[Qe],Rt=0;Rt<Dt.length;++Rt)if(ot[Dt[Rt]])return ot[Dt[Rt]];throw new Error("Could not find a matching font-style for "+Qe)})(Fe.style,Xe),!(Xe=(function(Qe,ot){if(ot[Qe])return ot[Qe];if(Qe===400&&ot[500])return ot[500];if(Qe===500&&ot[400])return ot[400];var Dt=Dfe[Qe],Rt=m6(ot,wj,Dt,Qe<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+Qe);return Rt})(Fe.weight,Xe)))throw new Error("Failed to resolve a font for the rule '"+y6(Fe)+"'.");return Xe})(me,le);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var P="";(We==="bold"||parseInt(We,10)>=700||Pe==="bold")&&(P="bold"),Pe==="italic"&&(P+="italic"),P.length===0&&(P="normal");for(var Z="",se={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},we=0;we<et.length;we++){if(this.pdf.internal.getFont(et[we],P,{noFallback:!0,disableWarning:!0})!==void 0){Z=et[we];break}if(P==="bolditalic"&&this.pdf.internal.getFont(et[we],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Z=et[we],P="bold";else if(this.pdf.internal.getFont(et[we],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Z=et[we],P="normal";break}}if(Z===""){for(var Re=0;Re<et.length;Re++)if(se[et[Re]]){Z=se[et[Re]];break}}Z=Z===""?"Times":Z,this.pdf.setFont(Z,P)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};f.prototype.setLineDash=function(z){this.lineDash=z},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(z,j){if(isNaN(z)||isNaN(j))throw ps.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var oe=this.ctx.transform.applyToPoint(new a(z,j));this.path.push({type:"mt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(z,j)},f.prototype.closePath=function(){var z=new a(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&$r(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){z=new a(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(z.x,z.y)},f.prototype.lineTo=function(z,j){if(isNaN(z)||isNaN(j))throw ps.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var oe=this.ctx.transform.applyToPoint(new a(z,j));this.path.push({type:"lt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(z,j,oe,fe){if(isNaN(oe)||isNaN(fe)||isNaN(z)||isNaN(j))throw ps.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new a(oe,fe)),Ae=this.ctx.transform.applyToPoint(new a(z,j));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},f.prototype.bezierCurveTo=function(z,j,oe,fe,ue,Ae){if(isNaN(ue)||isNaN(Ae)||isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe))throw ps.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(ue,Ae)),_e=this.ctx.transform.applyToPoint(new a(z,j)),be=this.ctx.transform.applyToPoint(new a(oe,fe));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:be.x,y2:be.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},f.prototype.arc=function(z,j,oe,fe,ue,Ae){if(isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe)||isNaN(ue))throw ps.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(z,j));z=he.x,j=he.y;var _e=this.ctx.transform.applyToPoint(new a(0,oe)),be=this.ctx.transform.applyToPoint(new a(0,0));oe=Math.sqrt(Math.pow(_e.x-be.x,2)+Math.pow(_e.y-be.y,2))}Math.abs(ue-fe)>=2*Math.PI&&(fe=0,ue=2*Math.PI),this.path.push({type:"arc",x:z,y:j,radius:oe,startAngle:fe,endAngle:ue,counterclockwise:Ae})},f.prototype.arcTo=function(z,j,oe,fe,ue){throw new Error("arcTo not implemented.")},f.prototype.rect=function(z,j,oe,fe){if(isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe))throw ps.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,j),this.lineTo(z+oe,j),this.lineTo(z+oe,j+fe),this.lineTo(z,j+fe),this.lineTo(z,j),this.lineTo(z+oe,j),this.lineTo(z,j)},f.prototype.fillRect=function(z,j,oe,fe){if(isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe))throw ps.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,j,oe,fe),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},f.prototype.strokeRect=function(z,j,oe,fe){if(isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe))throw ps.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(z,j,oe,fe),this.stroke())},f.prototype.clearRect=function(z,j,oe,fe){if(isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe))throw ps.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,j,oe,fe))},f.prototype.save=function(z){z=typeof z!="boolean"||z;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},f.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("Q");this.pdf.setPage(j),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(z){var j,oe,fe,ue;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))j=0,oe=0,fe=0,ue=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(Ae!==null)j=parseInt(Ae[1]),oe=parseInt(Ae[2]),fe=parseInt(Ae[3]),ue=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)j=parseInt(Ae[1]),oe=parseInt(Ae[2]),fe=parseInt(Ae[3]),ue=parseFloat(Ae[4]);else{if(ue=1,typeof z=="string"&&z.charAt(0)!=="#"){var he=new hj(z);z=he.ok?he.toHex():"#000000"}z.length===4?(j=z.substring(1,2),j+=j,oe=z.substring(2,3),oe+=oe,fe=z.substring(3,4),fe+=fe):(j=z.substring(1,3),oe=z.substring(3,5),fe=z.substring(5,7)),j=parseInt(j,16),oe=parseInt(oe,16),fe=parseInt(fe,16)}}return{r:j,g:oe,b:fe,a:ue,style:z}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(z,j,oe,fe){if(isNaN(j)||isNaN(oe)||typeof z!="string")throw ps.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!d.call(this)){var ue=$(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;Q.call(this,{text:z,x:j,y:oe,scale:Ae,angle:ue,align:this.textAlign,maxWidth:fe})}},f.prototype.strokeText=function(z,j,oe,fe){if(isNaN(j)||isNaN(oe)||typeof z!="string")throw ps.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){fe=isNaN(fe)?void 0:fe;var ue=$(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;Q.call(this,{text:z,x:j,y:oe,scale:Ae,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:fe})}},f.prototype.measureText=function(z){if(typeof z!="string")throw ps.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,oe=this.pdf.internal.scaleFactor,fe=j.internal.getFontSize(),ue=j.getStringUnitWidth(z)*fe/j.internal.scaleFactor;return new function(Ae){var he=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:ue*=Math.round(96*oe/72*1e4)/1e4})},f.prototype.scale=function(z,j){if(isNaN(z)||isNaN(j))throw ps.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var oe=new l(z,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.rotate=function(z){if(isNaN(z))throw ps.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},f.prototype.translate=function(z,j){if(isNaN(z)||isNaN(j))throw ps.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var oe=new l(1,0,0,1,z,j);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.transform=function(z,j,oe,fe,ue,Ae){if(isNaN(z)||isNaN(j)||isNaN(oe)||isNaN(fe)||isNaN(ue)||isNaN(Ae))throw ps.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(z,j,oe,fe,ue,Ae);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(z,j,oe,fe,ue,Ae){z=isNaN(z)?1:z,j=isNaN(j)?0:j,oe=isNaN(oe)?0:oe,fe=isNaN(fe)?1:fe,ue=isNaN(ue)?0:ue,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new l(z,j,oe,fe,ue,Ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(z,j,oe,fe,ue,Ae,he,_e,be){var Ne=this.pdf.getImageProperties(z),ze=1,$e=1,He=1,K=1;fe!==void 0&&_e!==void 0&&(He=_e/fe,K=be/ue,ze=Ne.width/fe*_e/fe,$e=Ne.height/ue*be/ue),Ae===void 0&&(Ae=j,he=oe,j=0,oe=0),fe!==void 0&&_e===void 0&&(_e=fe,be=ue),fe===void 0&&_e===void 0&&(_e=Ne.width,be=Ne.height);var xe=this.ctx.transform.decompose(),Pe=$(xe.rotate.shx),We=new l,Le=(We=(We=(We=We.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale)).applyToRectangle(new o(Ae-j*He,he-oe*K,fe*ze,ue*$e));if(this.autoPaging){for(var tt,Ee=w.call(this,Le),et=[],me=0;me<Ee.length;me+=1)et.indexOf(Ee[me])===-1&&et.push(Ee[me]);E(et);for(var le=et[0],Je=et[et.length-1],P=le;P<Je+1;P++){this.pdf.setPage(P);var Z=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],se=P===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=P===1?0:we+(P-2)*Re;if(this.ctx.clip_path.length!==0){var dt=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(tt,this.posX+this.margin[3],-Ze+se+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=dt}var Me=JSON.parse(JSON.stringify(Le));Me=_([Me],this.posX+this.margin[3],-Ze+se+this.ctx.prevPageLastElemOffset)[0];var Oe=(P>le||P<Je)&&x.call(this);Oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Z,Re,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Pe),Oe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Pe)};var w=function(z,j,oe){var fe=[];j=j||this.pdf.internal.pageSize.width,oe=oe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":fe.push(Math.floor((z.y+ue)/oe)+1);break;case"arc":fe.push(Math.floor((z.y+ue-z.radius)/oe)+1),fe.push(Math.floor((z.y+ue+z.radius)/oe)+1);break;case"qct":var Ae=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);fe.push(Math.floor((Ae.y+ue)/oe)+1),fe.push(Math.floor((Ae.y+Ae.h+ue)/oe)+1);break;case"bct":var he=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);fe.push(Math.floor((he.y+ue)/oe)+1),fe.push(Math.floor((he.y+he.h+ue)/oe)+1);break;case"rect":fe.push(Math.floor((z.y+ue)/oe)+1),fe.push(Math.floor((z.y+z.h+ue)/oe)+1)}for(var _e=0;_e<fe.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<fe[_e];)b.call(this);return fe},b=function(){var z=this.fillStyle,j=this.strokeStyle,oe=this.font,fe=this.lineCap,ue=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=j,this.font=oe,this.lineCap=fe,this.lineWidth=ue,this.lineJoin=Ae},_=function(z,j,oe){for(var fe=0;fe<z.length;fe++)switch(z[fe].type){case"bct":z[fe].x2+=j,z[fe].y2+=oe;case"qct":z[fe].x1+=j,z[fe].y1+=oe;default:z[fe].x+=j,z[fe].y+=oe}return z},E=function(z){return z.sort(function(j,oe){return j-oe})},C=function(z,j){var oe=this.fillStyle,fe=this.strokeStyle,ue=this.lineCap,Ae=this.lineWidth,he=Math.abs(Ae*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var be,Ne,ze=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),He=[],K=0;K<$e.length;K++)if($e[K].x!==void 0)for(var xe=w.call(this,$e[K]),Pe=0;Pe<xe.length;Pe+=1)He.indexOf(xe[Pe])===-1&&He.push(xe[Pe]);for(var We=0;We<He.length;We++)for(;this.pdf.internal.getNumberOfPages()<He[We];)b.call(this);E(He);for(var Le=He[0],tt=He[He.length-1],Ee=Le;Ee<tt+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=oe,this.strokeStyle=fe,this.lineCap=ue,this.lineWidth=he,this.lineJoin=_e;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=Ee===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=Ee===1?0:le+(Ee-2)*Je;if(this.ctx.clip_path.length!==0){var Z=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(be,this.posX+this.margin[3],-P+me+this.ctx.prevPageLastElemOffset),T.call(this,z,!0),this.path=Z}if(Ne=JSON.parse(JSON.stringify(ze)),this.path=_(Ne,this.posX+this.margin[3],-P+me+this.ctx.prevPageLastElemOffset),j===!1||Ee===0){var se=(Ee>Le||Ee<tt)&&x.call(this);se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Je,null).clip().discardPath()),T.call(this,z,j),se&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=ze}else this.lineWidth=he,T.call(this,z,j),this.lineWidth=Ae},T=function(z,j){if((z!=="stroke"||j||!y.call(this))&&(z==="stroke"||j||!d.call(this))){for(var oe,fe,ue=[],Ae=this.path,he=0;he<Ae.length;he++){var _e=Ae[he];switch(_e.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:_e,deltas:[],abs:[]});break;case"lt":var be=ue.length;if(Ae[he-1]&&!isNaN(Ae[he-1].x)&&(oe=[_e.x-Ae[he-1].x,_e.y-Ae[he-1].y],be>0)){for(;be>=0;be--)if(ue[be-1].close!==!0&&ue[be-1].begin!==!0){ue[be-1].deltas.push(oe),ue[be-1].abs.push(_e);break}}break;case"bct":oe=[_e.x1-Ae[he-1].x,_e.y1-Ae[he-1].y,_e.x2-Ae[he-1].x,_e.y2-Ae[he-1].y,_e.x-Ae[he-1].x,_e.y-Ae[he-1].y],ue[ue.length-1].deltas.push(oe);break;case"qct":var Ne=Ae[he-1].x+2/3*(_e.x1-Ae[he-1].x),ze=Ae[he-1].y+2/3*(_e.y1-Ae[he-1].y),$e=_e.x+2/3*(_e.x1-_e.x),He=_e.y+2/3*(_e.y1-_e.y),K=_e.x,xe=_e.y;oe=[Ne-Ae[he-1].x,ze-Ae[he-1].y,$e-Ae[he-1].x,He-Ae[he-1].y,K-Ae[he-1].x,xe-Ae[he-1].y],ue[ue.length-1].deltas.push(oe);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(_e)}}fe=j?null:z==="stroke"?"stroke":"fill";for(var Pe=!1,We=0;We<ue.length;We++)if(ue[We].arc)for(var Le=ue[We].abs,tt=0;tt<Le.length;tt++){var Ee=Le[tt];Ee.type==="arc"?L.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,j,!Pe):J.call(this,Ee.x,Ee.y),Pe=!0}else if(ue[We].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(ue[We].begin!==!0){var et=ue[We].start.x,me=ue[We].start.y;Y.call(this,ue[We].deltas,et,me),Pe=!0}fe&&N.call(this,fe),j&&R.call(this)}},M=function(z){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,oe=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-oe;case"top":return z+j-oe;case"hanging":return z+j-2*oe;case"middle":return z+j/2-oe;default:return z}},F=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(j,oe){this.colorStops.push([j,oe])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(z,j,oe,fe,ue,Ae,he,_e,be){for(var Ne=W.call(this,oe,fe,ue,Ae),ze=0;ze<Ne.length;ze++){var $e=Ne[ze];ze===0&&(be?k.call(this,$e.x1+z,$e.y1+j):J.call(this,$e.x1+z,$e.y1+j)),ne.call(this,z,j,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}_e?R.call(this):N.call(this,he)},N=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(z,j){this.pdf.internal.out(t(z)+" "+i(j)+" m")},Q=function(z){var j;switch(z.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var oe,fe,ue,Ae=this.pdf.getTextDimensions(z.text),he=M.call(this,z.y),_e=F.call(this,he)-Ae.h,be=this.ctx.transform.applyToPoint(new a(z.x,he));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),ze=new l;ze=(ze=(ze=ze.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var $e=this.ctx.transform.applyToRectangle(new o(z.x,he,Ae.w,Ae.h)),He=ze.applyToRectangle(new o(z.x,_e,Ae.w,Ae.h)),K=w.call(this,He),xe=[],Pe=0;Pe<K.length;Pe+=1)xe.indexOf(K[Pe])===-1&&xe.push(K[Pe]);E(xe);for(var We=xe[0],Le=xe[xe.length-1],tt=We;tt<Le+1;tt++){this.pdf.setPage(tt);var Ee=tt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],le=me-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],P=Je-this.margin[3],Z=tt===1?0:et+(tt-2)*le;if(this.ctx.clip_path.length!==0){var se=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(oe,this.posX+this.margin[3],-1*Z+Ee),T.call(this,"fill",!0),this.path=se}var we=_([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Z+Ee+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*z.scale),ue=this.lineWidth,this.lineWidth=ue*z.scale);var Re=this.autoPaging!=="text";if(Re||we.y+we.h<=me){if(Re||we.y>=Ee&&we.x<=Je){var Ze=Re?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Je-we.x)[0],dt=_([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Z+Ee+this.ctx.prevPageLastElemOffset)[0],Me=Re&&(tt>We||tt<Le)&&x.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],P,le,null).clip().discardPath()),this.pdf.text(Ze,dt.x,dt.y,{angle:z.angle,align:j,renderingMode:z.renderingMode}),Me&&this.pdf.restoreGraphicsState()}}else we.y<me&&(this.ctx.prevPageLastElemOffset+=me-we.y);z.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=ue)}}else z.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*z.scale),ue=this.lineWidth,this.lineWidth=ue*z.scale),this.pdf.text(z.text,be.x+this.posX,be.y+this.posY,{angle:z.angle,align:j,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=ue)},J=function(z,j,oe,fe){oe=oe||0,fe=fe||0,this.pdf.internal.out(t(z+oe)+" "+i(j+fe)+" l")},Y=function(z,j,oe){return this.pdf.lines(z,j,oe,null,null)},ne=function(z,j,oe,fe,ue,Ae,he,_e){this.pdf.internal.out([e(r(oe+z)),e(s(fe+j)),e(r(ue+z)),e(s(Ae+j)),e(r(he+z)),e(s(_e+j)),"c"].join(" "))},W=function(z,j,oe,fe){for(var ue=2*Math.PI,Ae=Math.PI/2;j>oe;)j-=ue;var he=Math.abs(oe-j);he<ue&&fe&&(he=ue-he);for(var _e=[],be=fe?-1:1,Ne=j;he>1e-5;){var ze=Ne+be*Math.min(he,Ae);_e.push(q.call(this,z,Ne,ze)),he-=Math.abs(ze-Ne),Ne=ze}return _e},q=function(z,j,oe){var fe=(oe-j)/2,ue=z*Math.cos(fe),Ae=z*Math.sin(fe),he=ue,_e=-Ae,be=he*he+_e*_e,Ne=be+he*ue+_e*Ae,ze=4/3*(Math.sqrt(2*be*Ne)-Ne)/(he*Ae-_e*ue),$e=he-ze*_e,He=_e+ze*he,K=$e,xe=-He,Pe=fe+j,We=Math.cos(Pe),Le=Math.sin(Pe);return{x1:z*Math.cos(j),y1:z*Math.sin(j),x2:$e*We-He*Le,y2:$e*Le+He*We,x3:K*We-xe*Le,y3:K*Le+xe*We,x4:z*Math.cos(oe),y4:z*Math.sin(oe)}},$=function(z){return 180*z/Math.PI},re=function(z,j,oe,fe,ue,Ae){var he=z+.5*(oe-z),_e=j+.5*(fe-j),be=ue+.5*(oe-ue),Ne=Ae+.5*(fe-Ae),ze=Math.min(z,ue,he,be),$e=Math.max(z,ue,he,be),He=Math.min(j,Ae,_e,Ne),K=Math.max(j,Ae,_e,Ne);return new o(ze,He,$e-ze,K-He)},V=function(z,j,oe,fe,ue,Ae,he,_e){var be,Ne,ze,$e,He,K,xe,Pe,We,Le,tt,Ee,et,me,le=oe-z,Je=fe-j,P=ue-oe,Z=Ae-fe,se=he-ue,we=_e-Ae;for(Ne=0;Ne<41;Ne++)We=(xe=(ze=z+(be=Ne/40)*le)+be*((He=oe+be*P)-ze))+be*(He+be*(ue+be*se-He)-xe),Le=(Pe=($e=j+be*Je)+be*((K=fe+be*Z)-$e))+be*(K+be*(Ae+be*we-K)-Pe),Ne==0?(tt=We,Ee=Le,et=We,me=Le):(tt=Math.min(tt,We),Ee=Math.min(Ee,Le),et=Math.max(et,We),me=Math.max(me,Le));return new o(Math.round(tt),Math.round(Ee),Math.round(et-tt),Math.round(me-Ee))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,j,oe=(z=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:j}));this.prevLineDash!==oe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=oe)}}})(Zn.API),(function(n){var e=function(a){var o,l,c,A,f,p,d,y,x,w;for(l=[],c=0,A=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;A>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(w=f%85))/85)-(x=f%85))/85)-(y=f%85))/85)-(d=f%85))/85)%85,l.push(p+33,d+33,y+33,x+33,w+33)):l.push(122);return(function(b,_){for(var E=_;E>0;E--)b.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,c,A,f,p=String,d="length",y=255,x="charCodeAt",w="slice",b="replace";for(a[w](-2),a=a[w](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],A=0,f=(a+=o="uuuuu"[w](a[d]%5||5))[d];f>A;A+=5)l=52200625*(a[x](A)-33)+614125*(a[x](A+1)-33)+7225*(a[x](A+2)-33)+85*(a[x](A+3)-33)+(a[x](A+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(_,E){for(var C=E;C>0;C--)_.pop()})(c,o[d]),p.fromCharCode.apply(p,c)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=HT(o)).reduce(function(c,A){return c+String.fromCharCode(A)},"")};n.processDataByFilters=function(a,o){var l=0,c=a||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:A.reverse().join(" ")}}})(Zn.API),(function(n){n.loadFile=function(e,t,i){return(function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,A){var f=new XMLHttpRequest,p=0,d=function(y){var x=y.length,w=[],b=String.fromCharCode;for(p=0;p<x;p+=1)w.push(b(255&y.charCodeAt(p)));return w.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?A(d(this.responseText)):A(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)})(r,s,a)}catch{}return o})(e,t,i)},n.loadImageFile=n.loadFile})(Zn.API),(function(n){function e(){return(xi.html2canvas?Promise.resolve(xi.html2canvas):HC(()=>Promise.resolve().then(()=>T0e),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(xi.DOMPurify?Promise.resolve(xi.DOMPurify):HC(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var l=$r(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var c=document.createElement(o);for(var A in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[A]=l.style[A];return c},s=function o(l,c){for(var A=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||A.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(A.width=l.width,A.height=l.height,A.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(A.value=l.value),A.addEventListener("load",function(){A.scrollTop=l.scrollTop,A.scrollLeft=l.scrollLeft},!0)),A},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),c);return(A=A.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,A=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=A,A)for(var d=0;d<A.length;++d){var y=A[d],x=y.src.find(function(w){return w.format==="truetype"});x&&c.addFont(x.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,A){return Math.floor(c*A/72*96)}return this.then(function(){(o=o||Zn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,A){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(A,f){return c.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,A),p}).then(A,f).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var A=this;o&&(o=o.bind(A)),l&&(l=l.bind(A));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:a.convert(Object.assign({},A),Promise.prototype),p=c.call(f,o,l);return a.convert(p,A.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Zn.getPageSize=function(o,l,c){if($r(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,c=A.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,x=0,w=0;if(d.hasOwnProperty(p))x=d[p][1]/f,w=d[p][0]/f;else try{x=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>x&&(y=w,w=x,x=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>w&&(y=w,w=x,x=y)}return{width:w,height:x,unit:l,k:f,orientation:o}},n.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(v3):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Zn.API),Zn.API.addJS=function(n){return b6=n,this.internal.events.subscribe("postPutResources",function(){Yw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yw!==void 0&&x6!==void 0&&this.internal.out("/Names <</JavaScript "+Yw+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=i.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,A=[];for(s=0;s<c;s++){var f=t.internal.newObject();A.push(f);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<A.length;s++)t.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])})(Zn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,a,o){var l,c=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(f){for(var p,d=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=d,e.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),x={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}d=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return x})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:r}}return A}})(Zn.API),Zn.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,s=wfe(n,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,A=s.depth;r=c&&l===1?(function(L){for(var N=L.width,R=L.height,k=L.data,Q=L.palette,J=L.depth,Y=!1,ne=[],W=[],q=void 0,$=!1,re=0,V=0;V<Q.length;V++){var te=EO(Q[V],4),z=te[0],j=te[1],oe=te[2],fe=te[3];ne.push(z,j,oe),fe!=null&&(fe===0?(re++,W.length<1&&W.push(V)):fe<255&&($=!0))}if($||re>1){Y=!0,W=void 0;var ue=N*R;q=new Uint8Array(ue);for(var Ae=new DataView(k.buffer),he=0;he<ue;he++){var _e=b3(Ae,he,J),be=EO(Q[_e],4)[3];q[he]=be}}else re===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:k,alphaBytes:q,needSMask:Y,palette:ne,mask:W}})(s):l===2||l===4?(function(L){for(var N=L.data,R=L.width,k=L.height,Q=L.channels,J=L.depth,Y=Q===2?"DeviceGray":"DeviceRGB",ne=Q-1,W=R*k,q=ne,$=W*q,re=1*W,V=Math.ceil($*J/8),te=Math.ceil(re*J/8),z=new Uint8Array(V),j=new Uint8Array(te),oe=new DataView(N.buffer),fe=new DataView(z.buffer),ue=new DataView(j.buffer),Ae=!1,he=0;he<W;he++){for(var _e=he*Q,be=0;be<q;be++)U6(fe,b3(oe,_e+be,J),he*q+be,J);var Ne=b3(oe,_e+q,J);Ne<(1<<J)-1&&(Ae=!0),U6(ue,Ne,1*he,J)}return{colorSpace:Y,colorsPerPixel:ne,sMaskBitsPerComponent:Ae?J:void 0,colorBytes:z,alphaBytes:j,needSMask:Ae}})(s):(function(L){var N=L.data,R=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?(function(k){for(var Q=k.length,J=new Uint8Array(2*Q),Y=new DataView(J.buffer,J.byteOffset,J.byteLength),ne=0;ne<Q;ne++)Y.setUint16(2*ne,k[ne],!1);return J})(N):N,needSMask:!1}})(s);var f,p,d,y=r,x=y.colorSpace,w=y.colorsPerPixel,b=y.sMaskBitsPerComponent,_=y.colorBytes,E=y.alphaBytes,C=y.needSMask,T=y.palette,M=y.mask,F=null;return i!==Zn.API.image_compression.NONE&&typeof HT=="function"?(F=(function(L){var N;switch(L){case Zn.API.image_compression.FAST:N=11;break;case Zn.API.image_compression.MEDIUM:N=13;break;case Zn.API.image_compression.SLOW:N=14;break;default:N=12}return N})(i),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(F," /Colors ").concat(w," /BitsPerComponent ").concat(A," /Columns ").concat(a),n=E6(_,Math.ceil(a*w*A/8),w,A,i),C&&(d=E6(E,Math.ceil(a*b/8),1,b,i))):(f=void 0,p=void 0,n=_,C&&(d=E)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:t,data:n,index:e,filter:f,decodeParameters:p,transparency:M,palette:T,sMask:d,predictor:F,width:a,height:o,bitsPerComponent:A,sMaskBitsPerComponent:b,colorSpace:x}}},(function(n){n.processGIF89A=function(e,t,i,r){var s=new jfe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},A=new w3(100).encode(c,100);return n.processJPEG.call(this,A,t,i,r)},n.processGIF87A=n.processGIF89A})(Zn.API),VA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},VA.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ps.log("bit decode error:"+t)}},VA.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},VA.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},VA.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},VA.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,A=i*this.width*4+4*r;this.data[A]=l,this.data[A+1]=o,this.data[A+2]=a,this.data[A+3]=c}this.pos+=n}},VA.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,A=r*this.width*4+4*s;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=255}this.pos+=n}},VA.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},VA.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=a}},VA.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,r){var s=new VA(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new w3(100).encode(l,100);return n.processJPEG.call(this,c,t,i,r)}})(Zn.API),F6.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,r){var s=new F6(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new w3(100).encode(l,100);return n.processJPEG.call(this,c,t,i,r)}})(Zn.API),Zn.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,l=0,c=0;c<r;c+=4){var A=i[c],f=i[c+1],p=i[c+2],d=i[c+3];s[o++]=A,s[o++]=f,s[o++]=p,a[l++]=d}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Zn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},H0=Zn.API,Zw=H0.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,A=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,d=n.length,y=0,x=o[0]||l,w=[];for(t=0;t<d;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?w.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(p=f&&$r(c[i])==="object"&&!isNaN(parseInt(c[i][y],10))?c[i][y]/A:0,w.push((o[i]||x)/l+p)),y=i;return w},w6=H0.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return H0.processArabic&&(n=H0.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:Zw.apply(this,arguments).reduce(function(s,a){return s+a},0)},_6=function(n,e,t,i){for(var r=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;r.push(n.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>i&&(r.push(n.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&r.push(n.slice(l,s)),r},S6=function(n,e,t){t||(t={});var i,r,s,a,o,l,c,A=[],f=[A],p=t.textIndent||0,d=0,y=0,x=n.split(" "),w=Zw.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var b=Array(l).join(" "),_=[];x.map(function(C){(C=C.split(/\s*\n/)).length>1?_=_.concat(C.map(function(T,M){return(M&&T.length?`
`:"")+T})):_.push(C[0])}),x=_,l=w6.apply(this,[b,t])}for(s=0,a=x.length;s<a;s++){var E=0;if(i=x[s],l&&i[0]==`
`&&(i=i.substr(1),E=1),p+d+(y=(r=Zw.apply(this,[i,t])).reduce(function(C,T){return C+T},0))>e||E){if(y>e){for(o=_6.apply(this,[i,r,e-(p+d),e]),A.push(o.shift()),A=[o.pop()];o.length;)f.push([o.shift()]);y=r.slice(i.length-(A[0]?A[0].length:0)).reduce(function(C,T){return C+T},0)}else A=[i];f.push(A),p=y+l,d=w}else A.push(i),p+=d+y,d=w}return c=l?function(C,T){return(T?b:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(c)},H0.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var f=this.internal.getFont(A.fontName,A.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(S6.apply(this,[i[o],a,s]));return c},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[t[s]]=e[s],r[e[s]]=t[s];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=n.__fontmetrics__.compress=function(p){var d,y,x,w,b=["{"];for(var _ in p){if(d=p[_],isNaN(parseInt(_,10))?y="'"+_+"'":(_=parseInt(_,10),y=(y=a(_).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof d=="number")d<0?(x=a(d).slice(3),w="-"):(x=a(d).slice(2),w=""),x=w+x.slice(0,-1)+r[x.slice(-1)];else{if($r(d)!=="object")throw new Error("Don't know what to do with value type "+$r(d)+".");x=o(d)}b.push(y+x)}return b.push("}"),b.join("")},l=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,y,x,w,b={},_=1,E=b,C=[],T="",M="",F=p.length-1,L=1;L<F;L+=1)(w=p[L])=="'"?d?(x=d.join(""),d=void 0):d=[]:d?d.push(w):w=="{"?(C.push([E,x]),E={},x=void 0):w=="}"?((y=C.pop())[0][y[1]]=E,x=void 0,E=y[0]):w=="-"?_=-1:x===void 0?i.hasOwnProperty(w)?(T+=i[w],x=parseInt(T,16)*_,_=1,T=""):T+=w:i.hasOwnProperty(w)?(M+=i[w],E[x]=parseInt(M,16)*_,_=1,x=void 0,M=""):M+=w;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var d=p.font,y=f.Unicode[d.postScriptName];y&&(d.metadata.Unicode={},d.metadata.Unicode.widths=y.widths,d.metadata.Unicode.kerning=y.kerning);var x=A.Unicode[d.postScriptName];x&&(d.metadata.Unicode.encoding=x,d.encoding=x.codePages[0])}])})(Zn.API),(function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(i_(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])})(Zn),Zn.API.addSvgAsImage=function(n,e,t,i,r,s,a,o){if(isNaN(e)||isNaN(t))throw ps.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw ps.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(xi.canvg?Promise.resolve(xi.canvg):HC(()=>import("./index.es-DsjuSCyH.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(A)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,t,i,r,a,o)})},Zn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Zn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,A=0,f=0;function p(y,x){var w,b=!1;for(w=0;w<y.length;w+=1)y[w]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var d=o.length;for(f=0;f<d;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if($r(n)==="object"){for(r in n)if(s=n[r],p(o,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&p(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(A=0;A<s[c].length;A+=1)typeof s[c][A]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[r].value="["+l.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?x.push("/"+y+" /"+t[y].value):x.push("/"+y+" "+t[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Zn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],A=[""],f=0,p=s.length;f<p;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return A.join("");o=o.toString(16),A.push(c[4-o.length],o)}return A.join("")},i=function(s){var a,o,l,c,A,f,p;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(s).sort(function(d,y){return d-y})).length;f<p;f++)a=o[f],l.length>=100&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,A=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",y=0;y<p.length;y++)d+=String.fromCharCode(p[y]);var x=c();A({data:d,addLength1:!0,objectId:x}),l("endobj");var w=c();A({data:i(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ey(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ey(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+ey(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,A=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",d=0;d<f.length;d++)p+=String.fromCharCode(f[d]);var y=c();A({data:p,addLength1:!0,objectId:y}),l("endobj");var x=c();A({data:i(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ey(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+ey(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",l=s.x,c=s.y,A=s.options||{},f=s.mutex||{},p=f.pdfEscape,d=f.activeFontKey,y=f.fonts,x=d,w="",b=0,_="",E=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:A,mutex:f};for(_=o,x=d,Array.isArray(o)&&(_=o[0]),b=0;b<_.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(a=y[x].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),a||_[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?w+=_[b]:w+="";var C="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?C=p(w,x).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(C=t(w,y[x])),f.isHex=!0,{text:C,x:l,y:c,options:A,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(r(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=r(Object.assign({},l,{text:a})).text}])})(Zn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Zn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,a,o,l,c,A,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var C=function(k){var Q=k.charCodeAt(),J=Q>>8,Y=x[J];return Y!==void 0?f[256*Y+(255&Q)]:J===252||J===253?"AL":b.test(J)?"L":J===8?"R":"N"},T=function(k){for(var Q,J=0;J<k.length;J++){if((Q=C(k.charAt(J)))==="L")return!1;if(Q==="R")return!0}return!1},M=function(k,Q,J,Y){var ne,W,q,$,re=Q[Y];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(re="AN");break;case"AL":_=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":Y<1||Y+1>=Q.length||(ne=J[Y-1])!=="EN"&&ne!=="AN"||(W=Q[Y+1])!=="EN"&&W!=="AN"?re="N":_&&(W="AN"),re=W===ne?W:"N";break;case"ES":re=(ne=Y>0?J[Y-1]:"B")==="EN"&&Y+1<Q.length&&Q[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&J[Y-1]==="EN"){re="EN";break}if(_){re="N";break}for(q=Y+1,$=Q.length;q<$&&Q[q]==="ET";)q++;re=q<$&&Q[q]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for($=Q.length,q=Y+1;q<$&&Q[q]==="NSM";)q++;if(q<$){var V=k[Y],te=V>=1425&&V<=2303||V===64286;if(ne=Q[q],te&&(ne==="R"||ne==="AL")){re="R";break}}}re=Y<1||(ne=Q[Y-1])==="B"?"N":J[Y-1];break;case"B":_=!1,r=!0,re=E;break;case"S":s=!0,re="N"}return re},F=function(k,Q,J){var Y=k.split("");return J&&L(Y,J,{hiLevel:E}),Y.reverse(),Q&&Q.reverse(),Y.join("")},L=function(k,Q,J){var Y,ne,W,q,$,re=-1,V=k.length,te=0,z=[],j=E?d:p,oe=[];for(_=!1,r=!1,s=!1,ne=0;ne<V;ne++)oe[ne]=C(k[ne]);for(W=0;W<V;W++){if($=te,z[W]=M(k,oe,z,W),Y=240&(te=j[$][y[z[W]]]),te&=15,Q[W]=q=j[te][5],Y>0)if(Y===16){for(ne=re;ne<W;ne++)Q[ne]=1;re=-1}else re=-1;if(j[te][6])re===-1&&(re=W);else if(re>-1){for(ne=re;ne<W;ne++)Q[ne]=q;re=-1}oe[W]==="B"&&(Q[W]=0),J.hiLevel|=q}s&&(function(fe,ue,Ae){for(var he=0;he<Ae;he++)if(fe[he]==="S"){ue[he]=E;for(var _e=he-1;_e>=0&&fe[_e]==="WS";_e--)ue[_e]=E}})(oe,Q,V)},N=function(k,Q,J,Y,ne){if(!(ne.hiLevel<k)){if(k===1&&E===1&&!r)return Q.reverse(),void(J&&J.reverse());for(var W,q,$,re,V=Q.length,te=0;te<V;){if(Y[te]>=k){for($=te+1;$<V&&Y[$]>=k;)$++;for(re=te,q=$-1;re<q;re++,q--)W=Q[re],Q[re]=Q[q],Q[q]=W,J&&(W=J[re],J[re]=J[q],J[q]=W);te=$}te++}}},R=function(k,Q,J){var Y=k.split(""),ne={hiLevel:E};return J||(J=[]),L(Y,J,ne),(function(W,q,$){if($.hiLevel!==0&&A)for(var re,V=0;V<W.length;V++)q[V]===1&&(re=w.indexOf(W[V]))>=0&&(W[V]=w[re+1])})(Y,J,ne),N(2,Y,Q,J,ne),N(1,Y,Q,J,ne),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(k,Q,J){if((function(ne,W){if(W)for(var q=0;q<ne.length;q++)W[q]=q;o===void 0&&(o=T(ne)),c===void 0&&(c=T(ne))})(k,Q),a||!l||c)if(a&&l&&o^c)E=o?1:0,k=F(k,Q,J);else if(!a&&l&&c)E=o?1:0,k=R(k,Q,J),k=F(k,Q);else if(!a||o||l||c){if(a&&!l&&o^c)k=F(k,Q),o?(E=0,k=R(k,Q,J)):(E=1,k=R(k,Q,J),k=F(k,Q));else if(a&&o&&!l&&c)E=1,k=R(k,Q,J),k=F(k,Q);else if(!a&&!l&&o^c){var Y=A;o?(E=1,k=R(k,Q,J),E=0,A=!1,k=R(k,Q,J),A=Y):(E=0,k=R(k,Q,J),k=F(k,Q),E=1,A=!1,k=R(k,Q,J),A=Y,k=F(k,Q))}}else E=0,k=R(k,Q,J);else E=o?1:0,k=R(k,Q,J);return k},this.__bidiEngine__.setOptions=function(k){k&&(a=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,c=k.isOutputRtl,A=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([t.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([t.doBidiReorder(r[o])]);i.text=a}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Zn),Zn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Op(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new rhe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Vfe(this.contents),this.head=new Kfe(this),this.name=new Zfe(this),this.cmap=new Sj(this),this.toUnicode={},this.hhea=new qfe(this),this.maxp=new Jfe(this),this.hmtx=new $fe(this),this.post=new Xfe(this),this.os2=new Wfe(this),this.loca=new ihe(this),this.glyf=new ehe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var rf,Op=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,a,o,l;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*a+256*o+l},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n})(),Vfe=(function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,a,o,l,c,A,f,p,d,y,x;for(x in d=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),a=Math.floor(f/l),A=16*d-f,(r=new Op).writeInt(this.scalarType),r.writeShort(d),r.writeShort(f),r.writeShort(a),r.writeShort(A),s=16*d,c=r.pos+s,o=null,y=[],t)for(p=t[x],r.writeString(x),r.writeInt(n(p)),r.writeInt(c),r.writeInt(p.length),y=y.concat(p),x==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return r.write(y),i=2981146554-n(r.data),r.pos=o+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,a;for(t=Ej.call(t);t.length%4;)t.push(0);for(s=new Op(t),r=0,i=0,a=t.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},e})(),Gfe={}.hasOwnProperty,nh=function(n,e){for(var t in e)Gfe.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};rf=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Kfe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Op).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),I6=(function(){function n(e,t){var i,r,s,a,o,l,c,A,f,p,d,y,x,w,b,_,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),p=d/2,e.pos+=6,s=(function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T})(),e.pos+=2,x=(function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T})(),c=(function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T})(),A=(function(){var C,T;for(T=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)T.push(e.readUInt16());return T})(),r=(this.length-e.pos+this.offset)/2,o=(function(){var C,T;for(T=[],l=C=0;0<=r?C<r:C>r;l=0<=r?++C:--C)T.push(e.readUInt16());return T})(),l=b=0,E=s.length;b<E;l=++b)for(w=s[l],i=_=y=x[l];y<=w?_<=w:_>=w;i=y<=w?++_:--_)A[l]===0?a=i+c[l]:(a=o[A[l]/2+(i-y)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[i]=65535&a}e.pos=f}return n.encode=function(e,t){var i,r,s,a,o,l,c,A,f,p,d,y,x,w,b,_,E,C,T,M,F,L,N,R,k,Q,J,Y,ne,W,q,$,re,V,te,z,j,oe,fe,ue,Ae,he,_e,be,Ne,ze;switch(Y=new Op,a=Object.keys(e).sort(function($e,He){return $e-He}),t){case"macroman":for(x=0,w=(function(){var $e=[];for(y=0;y<256;++y)$e.push(0);return $e})(),_={0:0},s={},ne=0,re=a.length;ne<re;ne++)_[_e=e[r=a[ne]]]==null&&(_[_e]=++x),s[r]={old:e[r],new:_[e[r]]},w[r]=_[e[r]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(w),{charMap:s,subtable:Y.data,maxGlyphID:x+1};case"unicode":for(Q=[],f=[],E=0,_={},i={},b=c=null,W=0,V=a.length;W<V;W++)_[T=e[r=a[W]]]==null&&(_[T]=++E),i[r]={old:T,new:_[T]},o=_[T]-r,b!=null&&o===c||(b&&f.push(b),Q.push(r),c=o),b=r;for(b&&f.push(b),f.push(65535),Q.push(65535),R=2*(N=Q.length),L=2*Math.pow(Math.log(N)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,F=2*N-L,l=[],M=[],d=[],y=q=0,te=Q.length;q<te;y=++q){if(k=Q[y],A=f[y],k===65535){l.push(0),M.push(0);break}if(k-(J=i[k].new)>=32768)for(l.push(0),M.push(2*(d.length+N-y)),r=$=k;k<=A?$<=A:$>=A;r=k<=A?++$:--$)d.push(i[r].new);else l.push(J-k),M.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*N+2*d.length),Y.writeUInt16(0),Y.writeUInt16(R),Y.writeUInt16(L),Y.writeUInt16(p),Y.writeUInt16(F),Ae=0,z=f.length;Ae<z;Ae++)r=f[Ae],Y.writeUInt16(r);for(Y.writeUInt16(0),he=0,j=Q.length;he<j;he++)r=Q[he],Y.writeUInt16(r);for(be=0,oe=l.length;be<oe;be++)o=l[be],Y.writeUInt16(o);for(Ne=0,fe=M.length;Ne<fe;Ne++)C=M[Ne],Y.writeUInt16(C);for(ze=0,ue=d.length;ze<ue;ze++)x=d[ze],Y.writeUInt16(x);return{charMap:i,subtable:Y.data,maxGlyphID:E+1}}},n})(),Sj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)t=new I6(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,r;return t==null&&(t="macroman"),i=I6.encode(e,t),(r=new Op).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},n})(),qfe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Wfe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Xfe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},n})(),Yfe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Zfe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,r,s,a,o,l,c,A,f,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),i=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=A=0,f=i.length;A<f;s=++A)r=i[s],e.pos=r.offset,c=e.readString(r.length),a=new Yfe(c,r),l[p=r.nameID]==null&&(l[p]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),Jfe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),$fe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,r,s,a,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,A;for(A=[],t=c=0;0<=r?c<r:c>r;t=0<=r?++c:--c)A.push(e.readInt16());return A})(),this.widths=(function(){var c,A,f,p;for(p=[],c=0,A=(f=this.metrics).length;c<A;c++)s=f[c],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],l=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)l.push(this.widths.push(i));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),Ej=[].slice,ehe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,r,s,a,o,l,c,A,f;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,a=(o=new Op(t.read(r))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),A=o.readShort(),this.cache[e]=a===-1?new nhe(o,c,f,l,A):new the(o,a,c,f,l,A),this.cache[e]))},n.prototype.encode=function(e,t,i){var r,s,a,o,l;for(a=[],s=[],o=0,l=t.length;o<l;o++)r=e[t[o]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},n})(),the=(function(){function n(e,t,i,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),nhe=(function(){function n(e,t,i,r,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Op(Ej.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),ihe=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nh(n,rf),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<t.length&&t[s]==a){++s,i[a]=r;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(r+=l)}for(var c=new Array(4*i.length),A=0;A<i.length;++A)c[4*A+3]=255&i[A],c[4*A+2]=(65280&i[A])>>8,c[4*A+1]=(16711680&i[A])>>16,c[4*A]=(4278190080&i[A])>>24;return c},n})(),rhe=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,a,o,l;for(r={},a=0,o=e.length;a<o;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i=l[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,a,o,l,c,A,f,p,d,y,x,w,b;for(r in i=Sj.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},b=i.charMap)d[(l=b[r]).old]=l.new;for(y in p=i.maxGlyphID,a)y in d||(d[y]=p++);return A=(function(_){var E,C;for(E in C={},_)C[_[E]]=E;return C})(d),f=Object.keys(A).sort(function(_,E){return _-E}),x=(function(){var _,E,C;for(C=[],_=0,E=f.length;_<E;_++)o=f[_],C.push(A[o]);return C})(),s=this.font.glyf.encode(a,x,d),c=this.font.loca.encode(s.offsets,x),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},n})();Zn.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,a;if(Array.isArray(t))return"["+(function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)i=t[o],c.push(e.convert(i));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)a=t[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();var WT=function(n,e){return WT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},WT(n,e)};function sf(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");WT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var XT=function(){return XT=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},XT.apply(this,arguments)};function tc(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(A){try{c(i.next(A))}catch(f){a(f)}}function l(A){try{c(i.throw(A))}catch(f){a(f)}}function c(A){A.done?s(A.value):r(A.value).then(o,l)}c((i=i.apply(n,[])).next())})}function El(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(A){return l([c,A])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(A){c=[6,A],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Jw(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var hd=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),NE=function(n,e){return hd.fromClientRect(n,e.getBoundingClientRect())},she=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new hd(0,0,i,r)},FE=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Da=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},L6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ahe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $w=0;$w<L6.length;$w++)ahe[L6.charCodeAt($w)]=$w;var R6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var e2=0;e2<R6.length;e2++)y1[R6.charCodeAt(e2)]=e2;var ohe=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(c)?c:new Uint8Array(c);for(i=0;i<t;i+=4)s=y1[n.charCodeAt(i)],a=y1[n.charCodeAt(i+1)],o=y1[n.charCodeAt(i+2)],l=y1[n.charCodeAt(i+3)],A[r++]=s<<2|a>>4,A[r++]=(a&15)<<4|o>>2,A[r++]=(o&3)<<6|l&63;return c},lhe=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},che=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},Ag=5,cN=11,_3=2,uhe=cN-Ag,Bj=65536>>Ag,Ahe=1<<Ag,S3=Ahe-1,fhe=1024>>Ag,hhe=Bj+fhe,dhe=hhe,phe=32,mhe=dhe+phe,ghe=65536>>cN,yhe=1<<uhe,vhe=yhe-1,D6=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},xhe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},bhe=function(n,e){var t=ohe(n),i=Array.isArray(t)?che(t):new Uint32Array(t),r=Array.isArray(t)?lhe(t):new Uint16Array(t),s=24,a=D6(r,s/2,i[4]/2),o=i[5]===2?D6(r,(s+i[4])/2):xhe(i,Math.ceil((s+i[4])/4));return new whe(i[0],i[1],i[2],i[3],a,o)},whe=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Ag],t=(t<<_3)+(e&S3),this.data[t];if(e<=65535)return t=this.index[Bj+(e-55296>>Ag)],t=(t<<_3)+(e&S3),this.data[t];if(e<this.highStart)return t=mhe-ghe+(e>>cN),t=this.index[t],t+=e>>Ag&vhe,t=this.index[t],t=(t<<_3)+(e&S3),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),O6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_he=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t2=0;t2<O6.length;t2++)_he[O6.charCodeAt(t2)]=t2;var She="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",P6=50,Ehe=1,Cj=2,Mj=3,Bhe=4,Che=5,k6=7,Tj=8,H6=9,Sp=10,YT=11,Q6=12,ZT=13,Mhe=14,v1=15,JT=16,n2=17,e1=18,The=19,z6=20,$T=21,t1=22,E3=23,Q0=24,vu=25,x1=26,b1=27,z0=28,Uhe=29,Km=30,Nhe=31,i2=32,r2=33,e4=34,t4=35,n4=36,_x=37,i4=38,l_=39,c_=40,B3=41,Uj=42,Fhe=43,Ihe=[9001,65288],Nj="!",cr="",s2="",r4=bhe(She),qh=[Km,n4],s4=[Ehe,Cj,Mj,Che],Fj=[Sp,Tj],j6=[b1,x1],Lhe=s4.concat(Fj),V6=[i4,l_,c_,e4,t4],Rhe=[v1,ZT],Dhe=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=r4.get(s);if(o>P6?(r.push(!0),o-=P6):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(JT);if(o===Bhe||o===YT){if(a===0)return i.push(a),t.push(Km);var l=t[a-1];return Lhe.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(Km))}if(i.push(a),o===Nhe)return t.push(e==="strict"?$T:_x);if(o===Uj||o===Uhe)return t.push(Km);if(o===Fhe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(_x):t.push(Km);t.push(o)}),[i,t,r]},C3=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==Sp)break}if(r===Sp)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==Sp)break}if(o!==Sp)break}return!1},G6=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===Sp)t--;else return i}return 0},Ohe=function(n,e,t,i,r){if(t[i]===0)return cr;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return cr;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,A=e[o];if(l===Cj&&A===Mj)return cr;if(s4.indexOf(l)!==-1)return Nj;if(s4.indexOf(A)!==-1||Fj.indexOf(A)!==-1)return cr;if(G6(s,e)===Tj)return s2;if(r4.get(n[s])===YT||(l===i2||l===r2)&&r4.get(n[o])===YT||l===k6||A===k6||l===H6||[Sp,ZT,v1].indexOf(l)===-1&&A===H6||[n2,e1,The,Q0,z0].indexOf(A)!==-1||G6(s,e)===t1||C3(E3,t1,s,e)||C3([n2,e1],$T,s,e)||C3(Q6,Q6,s,e))return cr;if(l===Sp)return s2;if(l===E3||A===E3)return cr;if(A===JT||l===JT)return s2;if([ZT,v1,$T].indexOf(A)!==-1||l===Mhe||c===n4&&Rhe.indexOf(l)!==-1||l===z0&&A===n4||A===z6||qh.indexOf(A)!==-1&&l===vu||qh.indexOf(l)!==-1&&A===vu||l===b1&&[_x,i2,r2].indexOf(A)!==-1||[_x,i2,r2].indexOf(l)!==-1&&A===x1||qh.indexOf(l)!==-1&&j6.indexOf(A)!==-1||j6.indexOf(l)!==-1&&qh.indexOf(A)!==-1||[b1,x1].indexOf(l)!==-1&&(A===vu||[t1,v1].indexOf(A)!==-1&&e[o+1]===vu)||[t1,v1].indexOf(l)!==-1&&A===vu||l===vu&&[vu,z0,Q0].indexOf(A)!==-1)return cr;if([vu,z0,Q0,n2,e1].indexOf(A)!==-1)for(var f=s;f>=0;){var p=e[f];if(p===vu)return cr;if([z0,Q0].indexOf(p)!==-1)f--;else break}if([b1,x1].indexOf(A)!==-1)for(var f=[n2,e1].indexOf(l)!==-1?a:s;f>=0;){var p=e[f];if(p===vu)return cr;if([z0,Q0].indexOf(p)!==-1)f--;else break}if(i4===l&&[i4,l_,e4,t4].indexOf(A)!==-1||[l_,e4].indexOf(l)!==-1&&[l_,c_].indexOf(A)!==-1||[c_,t4].indexOf(l)!==-1&&A===c_||V6.indexOf(l)!==-1&&[z6,x1].indexOf(A)!==-1||V6.indexOf(A)!==-1&&l===b1||qh.indexOf(l)!==-1&&qh.indexOf(A)!==-1||l===Q0&&qh.indexOf(A)!==-1||qh.concat(vu).indexOf(l)!==-1&&A===t1&&Ihe.indexOf(n[o])===-1||qh.concat(vu).indexOf(A)!==-1&&l===e1)return cr;if(l===B3&&A===B3){for(var d=t[s],y=1;d>0&&(d--,e[d]===B3);)y++;if(y%2!==0)return cr}return l===i2&&A===r2?cr:s2},Phe=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Dhe(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[vu,Km,Uj].indexOf(o)!==-1?_x:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},khe=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===Nj,this.start=i,this.end=r}return n.prototype.slice=function(){return Da.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Hhe=function(n,e){var t=FE(n),i=Phe(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var A=cr;c<o&&(A=Ohe(t,s,r,++c,a))===cr;);if(A!==cr||c===o){var f=new khe(t,A,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},Qhe=1,zhe=2,Zx=4,K6=8,xS=10,q6=47,V1=92,jhe=9,Vhe=32,a2=34,n1=61,Ghe=35,Khe=36,qhe=37,o2=39,l2=40,i1=41,Whe=95,Hc=45,Xhe=33,Yhe=60,Zhe=62,Jhe=64,$he=91,ede=93,tde=61,nde=123,c2=63,ide=125,W6=124,rde=126,sde=128,X6=65533,M3=42,ig=43,ade=44,ode=58,lde=59,Sx=46,cde=0,ude=8,Ade=11,fde=14,hde=31,dde=127,Rf=-1,Ij=48,Lj=97,Rj=101,pde=102,mde=117,gde=122,Dj=65,Oj=69,Pj=70,yde=85,vde=90,Cl=function(n){return n>=Ij&&n<=57},xde=function(n){return n>=55296&&n<=57343},j0=function(n){return Cl(n)||n>=Dj&&n<=Pj||n>=Lj&&n<=pde},bde=function(n){return n>=Lj&&n<=gde},wde=function(n){return n>=Dj&&n<=vde},_de=function(n){return bde(n)||wde(n)},Sde=function(n){return n>=sde},u2=function(n){return n===xS||n===jhe||n===Vhe},bS=function(n){return _de(n)||Sde(n)||n===Whe},Y6=function(n){return bS(n)||Cl(n)||n===Hc},Ede=function(n){return n>=cde&&n<=ude||n===Ade||n>=fde&&n<=hde||n===dde},pp=function(n,e){return n!==V1?!1:e!==xS},A2=function(n,e,t){return n===Hc?bS(e)||pp(e,t):bS(n)?!0:!!(n===V1&&pp(n,e))},T3=function(n,e,t){return n===ig||n===Hc?Cl(e)?!0:e===Sx&&Cl(t):Cl(n===Sx?e:n)},Bde=function(n){var e=0,t=1;(n[e]===ig||n[e]===Hc)&&(n[e]===Hc&&(t=-1),e++);for(var i=[];Cl(n[e]);)i.push(n[e++]);var r=i.length?parseInt(Da.apply(void 0,i),10):0;n[e]===Sx&&e++;for(var s=[];Cl(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(Da.apply(void 0,s),10):0;(n[e]===Oj||n[e]===Rj)&&e++;var l=1;(n[e]===ig||n[e]===Hc)&&(n[e]===Hc&&(l=-1),e++);for(var c=[];Cl(n[e]);)c.push(n[e++]);var A=c.length?parseInt(Da.apply(void 0,c),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*A)},Cde={type:2},Mde={type:3},Tde={type:4},Ude={type:13},Nde={type:8},Fde={type:21},Ide={type:9},Lde={type:10},Rde={type:11},Dde={type:12},Ode={type:14},f2={type:23},Pde={type:1},kde={type:25},Hde={type:24},Qde={type:26},zde={type:27},jde={type:28},Vde={type:29},Gde={type:31},a4={type:32},kj=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(FE(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==a4;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case a2:return this.consumeStringToken(a2);case Ghe:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Y6(t)||pp(i,r)){var s=A2(t,i,r)?zhe:Qhe,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Khe:if(this.peekCodePoint(0)===n1)return this.consumeCodePoint(),Ude;break;case o2:return this.consumeStringToken(o2);case l2:return Cde;case i1:return Mde;case M3:if(this.peekCodePoint(0)===n1)return this.consumeCodePoint(),Ode;break;case ig:if(T3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ade:return Tde;case Hc:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(T3(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(A2(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Hc&&c===Zhe)return this.consumeCodePoint(),this.consumeCodePoint(),Hde;break;case Sx:if(T3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case q6:if(this.peekCodePoint(0)===M3)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===M3&&(A=this.consumeCodePoint(),A===q6))return this.consumeToken();if(A===Rf)return this.consumeToken()}break;case ode:return Qde;case lde:return zde;case Yhe:if(this.peekCodePoint(0)===Xhe&&this.peekCodePoint(1)===Hc&&this.peekCodePoint(2)===Hc)return this.consumeCodePoint(),this.consumeCodePoint(),kde;break;case Jhe:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),d=this.peekCodePoint(2);if(A2(f,p,d)){var a=this.consumeName();return{type:7,value:a}}break;case $he:return jde;case V1:if(pp(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ede:return Vde;case tde:if(this.peekCodePoint(0)===n1)return this.consumeCodePoint(),Nde;break;case nde:return Rde;case ide:return Dde;case mde:case yde:var y=this.peekCodePoint(0),x=this.peekCodePoint(1);return y===ig&&(j0(x)||x===c2)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case W6:if(this.peekCodePoint(0)===n1)return this.consumeCodePoint(),Ide;if(this.peekCodePoint(0)===W6)return this.consumeCodePoint(),Fde;break;case rde:if(this.peekCodePoint(0)===n1)return this.consumeCodePoint(),Lde;break;case Rf:return a4}return u2(e)?(this.consumeWhiteSpace(),Gde):Cl(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):bS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Da(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();j0(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===c2&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(Da.apply(void 0,e.map(function(l){return l===c2?Ij:l})),16),s=parseInt(Da.apply(void 0,e.map(function(l){return l===c2?Pj:l})),16);return{type:30,start:r,end:s}}var a=parseInt(Da.apply(void 0,e),16);if(this.peekCodePoint(0)===Hc&&j0(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];j0(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Da.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===l2?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===l2?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rf)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===o2||t===a2){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rf||this.peekCodePoint(0)===i1)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),f2)}for(;;){var r=this.consumeCodePoint();if(r===Rf||r===i1)return{type:22,value:Da.apply(void 0,e)};if(u2(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Rf||this.peekCodePoint(0)===i1?(this.consumeCodePoint(),{type:22,value:Da.apply(void 0,e)}):(this.consumeBadUrlRemnants(),f2);if(r===a2||r===o2||r===l2||Ede(r))return this.consumeBadUrlRemnants(),f2;if(r===V1)if(pp(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),f2;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;u2(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===i1||e===Rf)return;pp(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=Da.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===Rf||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===xS)return this._value.splice(0,i),Pde;if(r===V1){var s=this._value[i+1];s!==Rf&&s!==void 0&&(s===xS?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):pp(r,s)&&(t+=this.consumeStringSlice(i),t+=Da(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Zx,i=this.peekCodePoint(0);for((i===ig||i===Hc)&&e.push(this.consumeCodePoint());Cl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===Sx&&Cl(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=K6;Cl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===Oj||i===Rj)&&((r===ig||r===Hc)&&Cl(s)||Cl(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=K6;Cl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Bde(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(A2(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===qhe?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(j0(e)){for(var t=Da(e);j0(this.peekCodePoint(0))&&t.length<6;)t+=Da(this.consumeCodePoint());u2(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||xde(i)||i>1114111?X6:i}return e===Rf?X6:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Y6(t))e+=Da(t);else if(pp(t,this.peekCodePoint(0)))e+=Da(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),Hj=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new kj;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||qde(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?a4:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),Jx=function(n){return n.type===15},$y=function(n){return n.type===17},os=function(n){return n.type===20},Kde=function(n){return n.type===0},o4=function(n,e){return os(n)&&n.value===e},Qj=function(n){return n.type!==31},ky=function(n){return n.type!==31&&n.type!==4},ih=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},qde=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Pp=function(n){return n.type===17||n.type===15},Za=function(n){return n.type===16||Pp(n)},zj=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Yo={type:17,number:0,flags:Zx},uN={type:16,number:50,flags:Zx},Ep={type:16,number:100,flags:Zx},w1=function(n,e,t){var i=n[0],r=n[1];return[_s(i,e),_s(typeof r<"u"?r:i,t)]},_s=function(n,e){if(n.type===16)return n.number/100*e;if(Jx(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},jj="deg",Vj="grad",Gj="rad",Kj="turn",IE={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case jj:return Math.PI*e.number/180;case Vj:return Math.PI/200*e.number;case Gj:return e.number;case Kj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},qj=function(n){return n.type===15&&(n.unit===jj||n.unit===Vj||n.unit===Gj||n.unit===Kj)},Wj=function(n){var e=n.filter(os).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yo,Yo];case"to top":case"bottom":return aA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yo,Ep];case"to right":case"left":return aA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ep,Ep];case"to bottom":case"top":return aA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ep,Yo];case"to left":case"right":return aA(270)}return 0},aA=function(n){return Math.PI*n/180},Tp={name:"color",parse:function(n,e){if(e.type===18){var t=Wde[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return Bp(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Bp(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return Bp(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Bp(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=ld[e.value.toUpperCase()];if(typeof o<"u")return o}return ld.TRANSPARENT}},Up=function(n){return(255&n)===0},To=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},Bp=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},Z6=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},J6=function(n,e){var t=e.filter(ky);if(t.length===3){var i=t.map(Z6),r=i[0],s=i[1],a=i[2];return Bp(r,s,a,1)}if(t.length===4){var o=t.map(Z6),r=o[0],s=o[1],a=o[2],l=o[3];return Bp(r,s,a,l)}return 0};function U3(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var $6=function(n,e){var t=e.filter(ky),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?aA(i.number):IE.parse(n,i))/(Math.PI*2),l=Za(r)?r.number/100:0,c=Za(s)?s.number/100:0,A=typeof a<"u"&&Za(a)?_s(a,1):1;if(l===0)return Bp(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,d=U3(p,f,o+1/3),y=U3(p,f,o),x=U3(p,f,o-1/3);return Bp(d*255,y*255,x*255,A)},Wde={hsl:$6,hsla:$6,rgb:J6,rgba:J6},G1=function(n,e){return Tp.parse(n,Hj.create(e).parseComponentValue())},ld={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Xde={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(os(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Yde={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},LE=function(n,e){var t=Tp.parse(n,e[0]),i=e[1];return i&&Za(i)?{color:t,stop:i}:{color:t,stop:null}},e8=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=Yo),i.stop===null&&(i.stop=Ep);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=_s(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var c=null,a=0;a<r.length;a++){var A=r[a];if(A===null)c===null&&(c=a);else if(c!==null){for(var f=a-c,p=r[c-1],d=(A-p)/(f+1),y=1;y<=f;y++)r[c+y-1]=d*y;c=null}}return n.map(function(x,w){var b=x.color;return{color:b,stop:Math.max(Math.min(1,r[w]/e),0)}})},Zde=function(n,e,t){var i=e/2,r=t/2,s=_s(n[0],e)-i,a=r-_s(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Jde=function(n,e,t){var i=typeof n=="number"?n:Zde(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,c=Math.cos(i-Math.PI/2)*o;return[r,s-c,s+c,a-l,a+l]},GA=function(n,e){return Math.sqrt(n*n+e*e)},t8=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],A=GA(t-l,i-c);return(r?A<a.optimumDistance:A>a.optimumDistance)?{optimumCorner:o,optimumDistance:A}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},$de=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(GA(e,t),GA(e,t-r),GA(e-i,t),GA(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=t8(i,r,e,t,!0),c=l[0],A=l[1];s=GA(c-e,(A-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(GA(e,t),GA(e,t-r),GA(e-i,t),GA(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),f=t8(i,r,e,t,!1),c=f[0],A=f[1];s=GA(c-e,(A-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=_s(n.size[0],i),a=n.size.length===2?_s(n.size[1],r):s),[s,a]},epe=function(n,e){var t=aA(180),i=[];return ih(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=Wj(r);return}else if(qj(a)){t=IE.parse(n,a);return}}var o=LE(n,r);i.push(o)}),{angle:t,stops:i,type:1}},h2=function(n,e){var t=aA(180),i=[];return ih(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=Wj(r);return}else if(qj(a)){t=(IE.parse(n,a)+aA(270))%aA(360);return}}var o=LE(n,r);i.push(o)}),{angle:t,stops:i,type:1}},tpe=function(n,e){var t=aA(180),i=[],r=1,s=0,a=3,o=[];return ih(e).forEach(function(l,c){var A=l[0];if(c===0){if(os(A)&&A.value==="linear"){r=1;return}else if(os(A)&&A.value==="radial"){r=2;return}}if(A.type===18){if(A.name==="from"){var f=Tp.parse(n,A.values[0]);i.push({stop:Yo,color:f})}else if(A.name==="to"){var f=Tp.parse(n,A.values[0]);i.push({stop:Ep,color:f})}else if(A.name==="color-stop"){var p=A.values.filter(ky);if(p.length===2){var f=Tp.parse(n,p[1]),d=p[0];$y(d)&&i.push({stop:{type:16,number:d.number*100,flags:d.flags},color:f})}}}}),r===1?{angle:(t+aA(180))%aA(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},Xj="closest-side",Yj="farthest-side",Zj="closest-corner",Jj="farthest-corner",$j="circle",e9="ellipse",t9="cover",n9="contain",npe=function(n,e){var t=0,i=3,r=[],s=[];return ih(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(f,p){if(c)if(os(p))switch(p.value){case"center":return s.push(uN),f;case"top":case"left":return s.push(Yo),f;case"right":case"bottom":return s.push(Ep),f}else(Za(p)||Pp(p))&&s.push(p);else if(os(p))switch(p.value){case $j:return t=0,!1;case e9:return t=1,!1;case"at":return c=!0,!1;case Xj:return i=0,!1;case t9:case Yj:return i=1,!1;case n9:case Zj:return i=2,!1;case Jj:return i=3,!1}else if(Pp(p)||Za(p))return Array.isArray(i)||(i=[]),i.push(p),!1;return f},l)}if(l){var A=LE(n,a);r.push(A)}}),{size:i,shape:t,stops:r,position:s,type:2}},d2=function(n,e){var t=0,i=3,r=[],s=[];return ih(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(A,f){if(os(f))switch(f.value){case"center":return s.push(uN),!1;case"top":case"left":return s.push(Yo),!1;case"right":case"bottom":return s.push(Ep),!1}else if(Za(f)||Pp(f))return s.push(f),!1;return A},l):o===1&&(l=a.reduce(function(A,f){if(os(f))switch(f.value){case $j:return t=0,!1;case e9:return t=1,!1;case n9:case Xj:return i=0,!1;case Yj:return i=1,!1;case Zj:return i=2,!1;case t9:case Jj:return i=3,!1}else if(Pp(f)||Za(f))return Array.isArray(i)||(i=[]),i.push(f),!1;return A},l)),l){var c=LE(n,a);r.push(c)}}),{size:i,shape:t,stops:r,position:s,type:2}},ipe=function(n){return n.type===1},rpe=function(n){return n.type===2},AN={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=i9[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function spe(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!i9[n.name])}var i9={"linear-gradient":epe,"-moz-linear-gradient":h2,"-ms-linear-gradient":h2,"-o-linear-gradient":h2,"-webkit-linear-gradient":h2,"radial-gradient":npe,"-moz-radial-gradient":d2,"-ms-radial-gradient":d2,"-o-radial-gradient":d2,"-webkit-radial-gradient":d2,"-webkit-gradient":tpe},ape={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return ky(i)&&spe(i)}).map(function(i){return AN.parse(n,i)})}},ope={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(os(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lpe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return ih(e).map(function(t){return t.filter(Za)}).map(zj)}},cpe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return ih(e).map(function(t){return t.filter(os).map(function(i){return i.value}).join(" ")}).map(upe)}},upe=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},my;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(my||(my={}));var Ape={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return ih(e).map(function(t){return t.filter(fpe)})}},fpe=function(n){return os(n)||Za(n)},RE=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},hpe=RE("top"),dpe=RE("right"),ppe=RE("bottom"),mpe=RE("left"),DE=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return zj(t.filter(Za))}}},gpe=DE("top-left"),ype=DE("top-right"),vpe=DE("bottom-right"),xpe=DE("bottom-left"),OE=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},bpe=OE("top"),wpe=OE("right"),_pe=OE("bottom"),Spe=OE("left"),PE=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Jx(t)?t.number:0}}},Epe=PE("top"),Bpe=PE("right"),Cpe=PE("bottom"),Mpe=PE("left"),Tpe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Upe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Npe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(os).reduce(function(t,i){return t|Fpe(i.value)},0)}},Fpe=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ipe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Lpe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},wS;(function(n){n.NORMAL="normal",n.STRICT="strict"})(wS||(wS={}));var Rpe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return wS.STRICT;case"normal":default:return wS.NORMAL}}},Dpe={name:"line-height",initialValue:"normal",prefix:!1,type:4},n8=function(n,e){return os(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Za(n)?_s(n,e):e},Ope={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:AN.parse(n,e)}},Ppe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},l4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},kE=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},kpe=kE("top"),Hpe=kE("right"),Qpe=kE("bottom"),zpe=kE("left"),jpe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(os).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Vpe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},HE=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Gpe=HE("top"),Kpe=HE("right"),qpe=HE("bottom"),Wpe=HE("left"),Xpe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Ype={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Zpe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&o4(e[0],"none")?[]:ih(e).map(function(t){for(var i={color:ld.TRANSPARENT,offsetX:Yo,offsetY:Yo,blur:Yo},r=0,s=0;s<t.length;s++){var a=t[s];Pp(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=Tp.parse(n,a)}return i})}},Jpe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},$pe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=nme[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},eme=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},tme=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},nme={matrix:eme,matrix3d:tme},i8={type:16,number:50,flags:Zx},ime=[i8,i8],rme={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Za);return t.length!==2?ime:[t[0],t[1]]}},sme={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},K1;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(K1||(K1={}));var ame={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return K1.BREAK_ALL;case"keep-all":return K1.KEEP_ALL;case"normal":default:return K1.NORMAL}}},ome={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if($y(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},r9={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},lme={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return $y(e)?e.number:1}},cme={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ume={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(os).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Ame={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},fme={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},hme={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if($y(e))return e.number;if(os(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},dme={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(os).map(function(t){return t.value})}},pme={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},uo=function(n,e){return(n&e)!==0},mme={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},gme={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(Qj),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&$y(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},yme={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(Qj),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(os(s)&&s.value!=="none"){var o=a&&$y(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},vme={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(Jx).map(function(t){return r9.parse(n,t)})}},xme={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(Kde);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},r8=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},bme={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&o4(e[0],"none")?[]:ih(e).map(function(t){for(var i={color:255,offsetX:Yo,offsetY:Yo,blur:Yo,spread:Yo,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];o4(a,"inset")?i.inset=!0:Pp(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=Tp.parse(n,a)}return i})}},wme={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(os).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},_me={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Sme={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return Jx(e)?e.number:0}},Eme=(function(){function n(e,t){var i,r;this.animationDuration=Rn(e,vme,t.animationDuration),this.backgroundClip=Rn(e,Xde,t.backgroundClip),this.backgroundColor=Rn(e,Yde,t.backgroundColor),this.backgroundImage=Rn(e,ape,t.backgroundImage),this.backgroundOrigin=Rn(e,ope,t.backgroundOrigin),this.backgroundPosition=Rn(e,lpe,t.backgroundPosition),this.backgroundRepeat=Rn(e,cpe,t.backgroundRepeat),this.backgroundSize=Rn(e,Ape,t.backgroundSize),this.borderTopColor=Rn(e,hpe,t.borderTopColor),this.borderRightColor=Rn(e,dpe,t.borderRightColor),this.borderBottomColor=Rn(e,ppe,t.borderBottomColor),this.borderLeftColor=Rn(e,mpe,t.borderLeftColor),this.borderTopLeftRadius=Rn(e,gpe,t.borderTopLeftRadius),this.borderTopRightRadius=Rn(e,ype,t.borderTopRightRadius),this.borderBottomRightRadius=Rn(e,vpe,t.borderBottomRightRadius),this.borderBottomLeftRadius=Rn(e,xpe,t.borderBottomLeftRadius),this.borderTopStyle=Rn(e,bpe,t.borderTopStyle),this.borderRightStyle=Rn(e,wpe,t.borderRightStyle),this.borderBottomStyle=Rn(e,_pe,t.borderBottomStyle),this.borderLeftStyle=Rn(e,Spe,t.borderLeftStyle),this.borderTopWidth=Rn(e,Epe,t.borderTopWidth),this.borderRightWidth=Rn(e,Bpe,t.borderRightWidth),this.borderBottomWidth=Rn(e,Cpe,t.borderBottomWidth),this.borderLeftWidth=Rn(e,Mpe,t.borderLeftWidth),this.boxShadow=Rn(e,bme,t.boxShadow),this.color=Rn(e,Tpe,t.color),this.direction=Rn(e,Upe,t.direction),this.display=Rn(e,Npe,t.display),this.float=Rn(e,Ipe,t.cssFloat),this.fontFamily=Rn(e,Ame,t.fontFamily),this.fontSize=Rn(e,fme,t.fontSize),this.fontStyle=Rn(e,pme,t.fontStyle),this.fontVariant=Rn(e,dme,t.fontVariant),this.fontWeight=Rn(e,hme,t.fontWeight),this.letterSpacing=Rn(e,Lpe,t.letterSpacing),this.lineBreak=Rn(e,Rpe,t.lineBreak),this.lineHeight=Rn(e,Dpe,t.lineHeight),this.listStyleImage=Rn(e,Ope,t.listStyleImage),this.listStylePosition=Rn(e,Ppe,t.listStylePosition),this.listStyleType=Rn(e,l4,t.listStyleType),this.marginTop=Rn(e,kpe,t.marginTop),this.marginRight=Rn(e,Hpe,t.marginRight),this.marginBottom=Rn(e,Qpe,t.marginBottom),this.marginLeft=Rn(e,zpe,t.marginLeft),this.opacity=Rn(e,lme,t.opacity);var s=Rn(e,jpe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Rn(e,Vpe,t.overflowWrap),this.paddingTop=Rn(e,Gpe,t.paddingTop),this.paddingRight=Rn(e,Kpe,t.paddingRight),this.paddingBottom=Rn(e,qpe,t.paddingBottom),this.paddingLeft=Rn(e,Wpe,t.paddingLeft),this.paintOrder=Rn(e,wme,t.paintOrder),this.position=Rn(e,Ype,t.position),this.textAlign=Rn(e,Xpe,t.textAlign),this.textDecorationColor=Rn(e,cme,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Rn(e,ume,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Rn(e,Zpe,t.textShadow),this.textTransform=Rn(e,Jpe,t.textTransform),this.transform=Rn(e,$pe,t.transform),this.transformOrigin=Rn(e,rme,t.transformOrigin),this.visibility=Rn(e,sme,t.visibility),this.webkitTextStrokeColor=Rn(e,_me,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Rn(e,Sme,t.webkitTextStrokeWidth),this.wordBreak=Rn(e,ame,t.wordBreak),this.zIndex=Rn(e,ome,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Up(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return uo(this.display,4)||uo(this.display,33554432)||uo(this.display,268435456)||uo(this.display,536870912)||uo(this.display,67108864)||uo(this.display,134217728)},n})(),Bme=(function(){function n(e,t){this.content=Rn(e,mme,t.content),this.quotes=Rn(e,xme,t.quotes)}return n})(),s8=(function(){function n(e,t){this.counterIncrement=Rn(e,gme,t.counterIncrement),this.counterReset=Rn(e,yme,t.counterReset)}return n})(),Rn=function(n,e,t){var i=new kj,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new Hj(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,os(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return IE.parse(n,s.parseComponentValue());case"color":return Tp.parse(n,s.parseComponentValue());case"image":return AN.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Pp(o)?o:Yo;case"length-percentage":var l=s.parseComponentValue();return Za(l)?l:Yo;case"time":return r9.parse(n,s.parseComponentValue())}break}},Cme="data-html2canvas-debug",Mme=function(n){var e=n.getAttribute(Cme);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},c4=function(n,e){var t=Mme(n);return t===1||e===t},rh=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,c4(t,3))debugger;this.styles=new Eme(e,window.getComputedStyle(t,null)),f4(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=NE(this.context,t),c4(t,4)&&(this.flags|=16)}return n})(),Tme="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",a8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p2=0;p2<a8.length;p2++)_1[a8.charCodeAt(p2)]=p2;var Ume=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(c)?c:new Uint8Array(c);for(i=0;i<t;i+=4)s=_1[n.charCodeAt(i)],a=_1[n.charCodeAt(i+1)],o=_1[n.charCodeAt(i+2)],l=_1[n.charCodeAt(i+3)],A[r++]=s<<2|a>>4,A[r++]=(a&15)<<4|o>>2,A[r++]=(o&3)<<6|l&63;return c},Nme=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},Fme=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},fg=5,fN=11,N3=2,Ime=fN-fg,s9=65536>>fg,Lme=1<<fg,F3=Lme-1,Rme=1024>>fg,Dme=s9+Rme,Ome=Dme,Pme=32,kme=Ome+Pme,Hme=65536>>fN,Qme=1<<Ime,zme=Qme-1,o8=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},jme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Vme=function(n,e){var t=Ume(n),i=Array.isArray(t)?Fme(t):new Uint32Array(t),r=Array.isArray(t)?Nme(t):new Uint16Array(t),s=24,a=o8(r,s/2,i[4]/2),o=i[5]===2?o8(r,(s+i[4])/2):jme(i,Math.ceil((s+i[4])/4));return new Gme(i[0],i[1],i[2],i[3],a,o)},Gme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>fg],t=(t<<N3)+(e&F3),this.data[t];if(e<=65535)return t=this.index[s9+(e-55296>>fg)],t=(t<<N3)+(e&F3),this.data[t];if(e<this.highStart)return t=kme-Hme+(e>>fN),t=this.index[t],t+=e>>fg&zme,t=this.index[t],t=(t<<N3)+(e&F3),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),l8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m2=0;m2<l8.length;m2++)Kme[l8.charCodeAt(m2)]=m2;var qme=1,I3=2,L3=3,c8=4,u8=5,Wme=7,A8=8,R3=9,D3=10,f8=11,h8=12,d8=13,p8=14,O3=15,Xme=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Yme=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},Zme=Vme(Tme),Ju="",P3="",Jme=function(n){return Zme.get(n)},$me=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===I3&&a===L3)return Ju;if(s===I3||s===L3||s===c8||a===I3||a===L3||a===c8)return P3;if(s===A8&&[A8,R3,f8,h8].indexOf(a)!==-1||(s===f8||s===R3)&&(a===R3||a===D3)||(s===h8||s===D3)&&a===D3||a===d8||a===u8||a===Wme||s===qme)return Ju;if(s===d8&&a===p8){for(;r===u8;)r=e[--i];if(r===p8)return Ju}if(s===O3&&a===O3){for(var o=0;r===O3;)o++,r=e[--i];if(o%2===0)return Ju}return P3},ege=function(n){var e=Xme(n),t=e.length,i=0,r=0,s=e.map(Jme);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=Ju;i<t&&(a=$me(e,s,++i))===Ju;);if(a!==Ju||i===t){var o=Yme.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},tge=function(n){for(var e=ege(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},nge=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},ige=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=FE(i.data).map(function(l){return Da(l)}),s=0,a={},o=r.every(function(l,c){t.setStart(i,s),t.setEnd(i,s+l.length);var A=t.getBoundingClientRect();s+=l.length;var f=A.x>a.x||A.y>a.y;return a=A,c===0?!0:f});return n.body.removeChild(e),o},rge=function(){return typeof new Image().crossOrigin<"u"},sge=function(){return typeof new XMLHttpRequest().responseType=="string"},age=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},m8=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},oge=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=u4(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),g8(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var c=n.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",m8(l)?g8(u4(t,t,0,0,c)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),m8(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},u4=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},g8=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Xo={get SUPPORT_RANGE_BOUNDS(){var n=nge(document);return Object.defineProperty(Xo,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Xo.SUPPORT_RANGE_BOUNDS&&ige(document);return Object.defineProperty(Xo,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=age(document);return Object.defineProperty(Xo,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?oge(document):Promise.resolve(!1);return Object.defineProperty(Xo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=rge();return Object.defineProperty(Xo,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=sge();return Object.defineProperty(Xo,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xo,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},q1=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),lge=function(n,e,t,i){var r=Age(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Xo.SUPPORT_RANGE_BOUNDS){var l=y8(i,a,o.length).getClientRects();if(l.length>1){var c=hN(o),A=0;c.forEach(function(p){s.push(new q1(p,hd.fromDOMRectList(n,y8(i,A+a,p.length).getClientRects()))),A+=p.length})}else s.push(new q1(o,hd.fromDOMRectList(n,l)))}else{var f=i.splitText(o.length);s.push(new q1(o,cge(n,i))),i=f}else Xo.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},cge=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=NE(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return hd.EMPTY},y8=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},hN=function(n){if(Xo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return tge(n)},uge=function(n,e){if(Xo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return hge(n,e)},Age=function(n,e){return e.letterSpacing!==0?hN(n):uge(n,e)},fge=[32,160,4961,65792,65793,4153,4241],hge=function(n,e){for(var t=Hhe(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=FE(a),l="";o.forEach(function(c){fge.indexOf(c)===-1?l+=Da(c):(l.length&&i.push(l),i.push(Da(c)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},dge=(function(){function n(e,t,i){this.text=pge(t.data,i.textTransform),this.textBounds=lge(e,this.text,i,t)}return n})(),pge=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(mge,gge);case 2:return n.toUpperCase();default:return n}},mge=/(^|\s|:|-|\(|\))([a-z])/g,gge=function(n,e,t){return n.length>0?e+t.toUpperCase():n},a9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})(rh),o9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})(rh),l9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=NE(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(rh),c9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(rh),A4=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})(rh),yge=[{type:15,flags:0,unit:"px",number:3}],vge=[{type:16,flags:0,number:50}],xge=function(n){return n.width>n.height?new hd(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new hd(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},bge=function(n){var e=n.type===wge?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},_S="checkbox",SS="radio",wge="password",v8=707406591,dN=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=bge(i),(r.type===_S||r.type===SS)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=xge(r.bounds)),r.type){case _S:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=yge;break;case SS:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=vge;break}return r}return e})(rh),u9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(rh),A9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(rh),f9=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=d9(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?G1(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):ld.TRANSPARENT,a=i.contentWindow.document.body?G1(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):ld.TRANSPARENT;r.backgroundColor=Up(s)?Up(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(rh),_ge=["OL","UL","MENU"],u_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,p9(r)&&r.data.trim().length>0)t.textNodes.push(new dge(n,r,t.styles));else if(ay(r))if(v9(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return u_(n,o,t,i)});else{var a=h9(n,r);a.styles.isVisible()&&(Sge(r,a,i)?a.flags|=4:Ege(a.styles)&&(a.flags|=2),_ge.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?u_(n,r.shadowRoot,a,i):!ES(r)&&!m9(r)&&!BS(r)&&u_(n,r,a,i))}},h9=function(n,e){return h4(e)?new a9(n,e):g9(e)?new o9(n,e):m9(e)?new l9(n,e):Bge(e)?new c9(n,e):Cge(e)?new A4(n,e):Mge(e)?new dN(n,e):BS(e)?new u9(n,e):ES(e)?new A9(n,e):y9(e)?new f9(n,e):new rh(n,e)},d9=function(n,e){var t=h9(n,e);return t.flags|=4,u_(n,e,t,t),t},Sge=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||pN(n)&&t.styles.isTransparent()},Ege=function(n){return n.isPositioned()||n.isFloating()},p9=function(n){return n.nodeType===Node.TEXT_NODE},ay=function(n){return n.nodeType===Node.ELEMENT_NODE},f4=function(n){return ay(n)&&typeof n.style<"u"&&!A_(n)},A_=function(n){return typeof n.className=="object"},Bge=function(n){return n.tagName==="LI"},Cge=function(n){return n.tagName==="OL"},Mge=function(n){return n.tagName==="INPUT"},Tge=function(n){return n.tagName==="HTML"},m9=function(n){return n.tagName==="svg"},pN=function(n){return n.tagName==="BODY"},g9=function(n){return n.tagName==="CANVAS"},x8=function(n){return n.tagName==="VIDEO"},h4=function(n){return n.tagName==="IMG"},y9=function(n){return n.tagName==="IFRAME"},b8=function(n){return n.tagName==="STYLE"},Uge=function(n){return n.tagName==="SCRIPT"},ES=function(n){return n.tagName==="TEXTAREA"},BS=function(n){return n.tagName==="SELECT"},v9=function(n){return n.tagName==="SLOT"},w8=function(n){return n.tagName.indexOf("-")>0},Nge=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),_8={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},S8={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ige={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},V0=function(n,e,t,i,r,s){return n<e||n>t?Ex(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},x9=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},Ra=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(x9(Math.abs(n),s,i,function(a){return Da(Math.floor(a%s)+e)})+r)},Om=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return x9(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},ty=1,hp=2,dp=4,S1=8,Wh=function(n,e,t,i,r,s){if(n<-9999||n>9999)return Ex(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&uo(s,ty)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&uo(s,hp)||c===1&&l===1&&uo(s,dp)&&n>100||c===1&&l>1&&uo(s,S1)?o=e[c]+(l>0?t[l-1]:"")+o:c===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},E8="",B8="",C8="",k3="",Ex=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Ra(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return Om(n,"",r);case 6:return V0(n,1,3999,_8,3,i).toLowerCase();case 7:return V0(n,1,3999,_8,3,i);case 8:return Ra(n,945,969,!1,i);case 9:return Ra(n,97,122,!1,i);case 10:return Ra(n,65,90,!1,i);case 11:return Ra(n,1632,1641,!0,i);case 12:case 49:return V0(n,1,9999,S8,3,i);case 35:return V0(n,1,9999,S8,3,i).toLowerCase();case 13:return Ra(n,2534,2543,!0,i);case 14:case 30:return Ra(n,6112,6121,!0,i);case 15:return Om(n,"",r);case 16:return Om(n,"",r);case 17:case 48:return Wh(n,"",E8,"",r,hp|dp|S1);case 47:return Wh(n,"",B8,"",r,ty|hp|dp|S1);case 42:return Wh(n,"",E8,"",r,hp|dp|S1);case 41:return Wh(n,"",B8,"",r,ty|hp|dp|S1);case 26:return Wh(n,"","",C8,r,0);case 25:return Wh(n,"","",C8,r,ty|hp|dp);case 31:return Wh(n,"","",k3,s,ty|hp|dp);case 33:return Wh(n,"","",k3,s,0);case 32:return Wh(n,"","",k3,s,ty|hp|dp);case 18:return Ra(n,2406,2415,!0,i);case 20:return V0(n,1,19999,Ige,3,i);case 21:return Ra(n,2790,2799,!0,i);case 22:return Ra(n,2662,2671,!0,i);case 22:return V0(n,1,10999,Fge,3,i);case 23:return Om(n,"");case 24:return Om(n,"");case 27:return Ra(n,3302,3311,!0,i);case 28:return Om(n,"",r);case 29:return Om(n,"",r);case 34:return Ra(n,3792,3801,!0,i);case 37:return Ra(n,6160,6169,!0,i);case 38:return Ra(n,4160,4169,!0,i);case 39:return Ra(n,2918,2927,!0,i);case 40:return Ra(n,1776,1785,!0,i);case 43:return Ra(n,3046,3055,!0,i);case 44:return Ra(n,3174,3183,!0,i);case 45:return Ra(n,3664,3673,!0,i);case 46:return Ra(n,3872,3881,!0,i);case 3:default:return Ra(n,48,57,!0,i)}},b9="data-html2canvas-ignore",M8=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new Nge,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=Lge(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,c=Oge(r).then(function(){return tc(i,void 0,void 0,function(){var A,f;return El(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(Qge),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),A=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Dge(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(l,f)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(kge(document.doctype)+"<html></html>"),Hge(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},n.prototype.createElementClone=function(e){if(c4(e,2))debugger;if(g9(e))return this.createCanvasClone(e);if(x8(e))return this.createVideoClone(e);if(b8(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return h4(t)&&(h4(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),w8(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return H3(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();l?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!ay(t)||!Uge(t)&&!t.hasAttribute(b9)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!ay(t)||!b8(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(ay(s)&&v9(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(p9(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&ay(e)&&(f4(e)||A_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&f4(r)&&(this.clonedReferenceElement=r),pN(r)&&Vge(r);var l=this.counters.parse(new s8(this.context,s)),c=this.resolvePseudoContent(e,r,a,W1.BEFORE);w8(e)&&(t=!0),x8(e)||this.cloneChildNodes(e,r,t),c&&r.insertBefore(c,r.firstChild);var A=this.resolvePseudoContent(e,r,o,W1.AFTER);return A&&r.appendChild(A),this.counters.pop(l),(s&&(this.options.copyStyles||A_(e))&&!y9(e)||t)&&H3(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(ES(e)||BS(e))&&(ES(r)||BS(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new s8(this.context,i));var l=new Bme(this.context,i),c=o.createElement("html2canvaspseudoelement");H3(i,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(o.createTextNode(f.value));else if(f.type===22){var p=o.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var d=f.values.filter(os);d.length&&c.appendChild(o.createTextNode(e.getAttribute(d[0].value)||""))}else if(f.name==="counter"){var y=f.values.filter(ky),x=y[0],w=y[1];if(x&&os(x)){var b=s.counters.getCounterValue(x.value),_=w&&os(w)?l4.parse(s.context,w.value):3;c.appendChild(o.createTextNode(Ex(b,_,!1)))}}else if(f.name==="counters"){var E=f.values.filter(ky),x=E[0],C=E[1],w=E[2];if(x&&os(x)){var T=s.counters.getCounterValues(x.value),M=w&&os(w)?l4.parse(s.context,w.value):3,F=C&&C.type===0?C.value:"",L=T.map(function(k){return Ex(k,M,!1)}).join(F);c.appendChild(o.createTextNode(L))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(o.createTextNode(r8(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(r8(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(f.value))}}),c.className=d4+" "+p4;var A=r===W1.BEFORE?" "+d4:" "+p4;return A_(t)?t.className.baseValue+=A:t.className+=A,c}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),W1;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(W1||(W1={}));var Lge=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(b9,"true"),n.body.appendChild(t),t},Rge=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Dge=function(n){return Promise.all([].slice.call(n.images,0).map(Rge))},Oge=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Pge=["all","d","content"],H3=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);Pge.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},kge=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Hge=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Qge=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},zge=":before",jge=":after",d4="___html2canvas___pseudoelement_before",p4="___html2canvas___pseudoelement_after",T8=`{
    content: "" !important;
    display: none !important;
}`,Vge=function(n){Gge(n,"."+d4+zge+T8+`
         .`+p4+jge+T8)},Gge=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},w9=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Kge=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(z3(e)||Yge(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return tc(this,void 0,void 0,function(){var t,i,r,s,a=this;return El(this,function(o){switch(o.label){case 0:return t=w9.isSameOrigin(e),i=!Q3(e)&&this._options.useCORS===!0&&Xo.SUPPORT_CORS_IMAGES&&!t,r=!Q3(e)&&!t&&!z3(e)&&typeof this._options.proxy=="string"&&Xo.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!Q3(e)&&!z3(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var A=new Image;A.onload=function(){return l(A)},A.onerror=c,(Zge(s)||i)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return l(A)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=Xo.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(p){return a(p)},!1),f.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var c=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var A=t._options.imageTimeout;l.timeout=A,l.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+r)}}l.send()})},n})(),qge=/^data:image\/svg\+xml/i,Wge=/^data:image\/.*;base64,/i,Xge=/^data:image\/.*/i,Yge=function(n){return Xo.SUPPORT_SVG_DRAWING||!Jge(n)},Q3=function(n){return Xge.test(n)},Zge=function(n){return Wge.test(n)},z3=function(n){return n.substr(0,4)==="blob"},Jge=function(n){return n.substr(-3).toLowerCase()==="svg"||qge.test(n)},Tn=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),G0=function(n,e,t){return new Tn(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},g2=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=G0(this.start,this.startControl,e),r=G0(this.startControl,this.endControl,e),s=G0(this.endControl,this.end,e),a=G0(i,r,e),o=G0(r,s,e),l=G0(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),$u=function(n){return n.type===1},$ge=(function(){function n(e){var t=e.styles,i=e.bounds,r=w1(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=w1(t.borderTopRightRadius,i.width,i.height),l=o[0],c=o[1],A=w1(t.borderBottomRightRadius,i.width,i.height),f=A[0],p=A[1],d=w1(t.borderBottomLeftRadius,i.width,i.height),y=d[0],x=d[1],w=[];w.push((s+l)/i.width),w.push((y+f)/i.width),w.push((a+x)/i.height),w.push((c+p)/i.height);var b=Math.max.apply(Math,w);b>1&&(s/=b,a/=b,l/=b,c/=b,f/=b,p/=b,y/=b,x/=b);var _=i.width-l,E=i.height-p,C=i.width-f,T=i.height-x,M=t.borderTopWidth,F=t.borderRightWidth,L=t.borderBottomWidth,N=t.borderLeftWidth,R=_s(t.paddingTop,e.bounds.width),k=_s(t.paddingRight,e.bounds.width),Q=_s(t.paddingBottom,e.bounds.width),J=_s(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?js(i.left+N/3,i.top+M/3,s-N/3,a-M/3,Gr.TOP_LEFT):new Tn(i.left+N/3,i.top+M/3),this.topRightBorderDoubleOuterBox=s>0||a>0?js(i.left+_,i.top+M/3,l-F/3,c-M/3,Gr.TOP_RIGHT):new Tn(i.left+i.width-F/3,i.top+M/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?js(i.left+C,i.top+E,f-F/3,p-L/3,Gr.BOTTOM_RIGHT):new Tn(i.left+i.width-F/3,i.top+i.height-L/3),this.bottomLeftBorderDoubleOuterBox=y>0||x>0?js(i.left+N/3,i.top+T,y-N/3,x-L/3,Gr.BOTTOM_LEFT):new Tn(i.left+N/3,i.top+i.height-L/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?js(i.left+N*2/3,i.top+M*2/3,s-N*2/3,a-M*2/3,Gr.TOP_LEFT):new Tn(i.left+N*2/3,i.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?js(i.left+_,i.top+M*2/3,l-F*2/3,c-M*2/3,Gr.TOP_RIGHT):new Tn(i.left+i.width-F*2/3,i.top+M*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?js(i.left+C,i.top+E,f-F*2/3,p-L*2/3,Gr.BOTTOM_RIGHT):new Tn(i.left+i.width-F*2/3,i.top+i.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||x>0?js(i.left+N*2/3,i.top+T,y-N*2/3,x-L*2/3,Gr.BOTTOM_LEFT):new Tn(i.left+N*2/3,i.top+i.height-L*2/3),this.topLeftBorderStroke=s>0||a>0?js(i.left+N/2,i.top+M/2,s-N/2,a-M/2,Gr.TOP_LEFT):new Tn(i.left+N/2,i.top+M/2),this.topRightBorderStroke=s>0||a>0?js(i.left+_,i.top+M/2,l-F/2,c-M/2,Gr.TOP_RIGHT):new Tn(i.left+i.width-F/2,i.top+M/2),this.bottomRightBorderStroke=f>0||p>0?js(i.left+C,i.top+E,f-F/2,p-L/2,Gr.BOTTOM_RIGHT):new Tn(i.left+i.width-F/2,i.top+i.height-L/2),this.bottomLeftBorderStroke=y>0||x>0?js(i.left+N/2,i.top+T,y-N/2,x-L/2,Gr.BOTTOM_LEFT):new Tn(i.left+N/2,i.top+i.height-L/2),this.topLeftBorderBox=s>0||a>0?js(i.left,i.top,s,a,Gr.TOP_LEFT):new Tn(i.left,i.top),this.topRightBorderBox=l>0||c>0?js(i.left+_,i.top,l,c,Gr.TOP_RIGHT):new Tn(i.left+i.width,i.top),this.bottomRightBorderBox=f>0||p>0?js(i.left+C,i.top+E,f,p,Gr.BOTTOM_RIGHT):new Tn(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=y>0||x>0?js(i.left,i.top+T,y,x,Gr.BOTTOM_LEFT):new Tn(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?js(i.left+N,i.top+M,Math.max(0,s-N),Math.max(0,a-M),Gr.TOP_LEFT):new Tn(i.left+N,i.top+M),this.topRightPaddingBox=l>0||c>0?js(i.left+Math.min(_,i.width-F),i.top+M,_>i.width+F?0:Math.max(0,l-F),Math.max(0,c-M),Gr.TOP_RIGHT):new Tn(i.left+i.width-F,i.top+M),this.bottomRightPaddingBox=f>0||p>0?js(i.left+Math.min(C,i.width-N),i.top+Math.min(E,i.height-L),Math.max(0,f-F),Math.max(0,p-L),Gr.BOTTOM_RIGHT):new Tn(i.left+i.width-F,i.top+i.height-L),this.bottomLeftPaddingBox=y>0||x>0?js(i.left+N,i.top+Math.min(T,i.height-L),Math.max(0,y-N),Math.max(0,x-L),Gr.BOTTOM_LEFT):new Tn(i.left+N,i.top+i.height-L),this.topLeftContentBox=s>0||a>0?js(i.left+N+J,i.top+M+R,Math.max(0,s-(N+J)),Math.max(0,a-(M+R)),Gr.TOP_LEFT):new Tn(i.left+N+J,i.top+M+R),this.topRightContentBox=l>0||c>0?js(i.left+Math.min(_,i.width+N+J),i.top+M+R,_>i.width+N+J?0:l-N+J,c-(M+R),Gr.TOP_RIGHT):new Tn(i.left+i.width-(F+k),i.top+M+R),this.bottomRightContentBox=f>0||p>0?js(i.left+Math.min(C,i.width-(N+J)),i.top+Math.min(E,i.height+M+R),Math.max(0,f-(F+k)),p-(L+Q),Gr.BOTTOM_RIGHT):new Tn(i.left+i.width-(F+k),i.top+i.height-(L+Q)),this.bottomLeftContentBox=y>0||x>0?js(i.left+N+J,i.top+T,Math.max(0,y-(N+J)),x-(L+Q),Gr.BOTTOM_LEFT):new Tn(i.left+N+J,i.top+i.height-(L+Q))}return n})(),Gr;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gr||(Gr={}));var js=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,c=e+i;switch(r){case Gr.TOP_LEFT:return new g2(new Tn(n,c),new Tn(n,c-o),new Tn(l-a,e),new Tn(l,e));case Gr.TOP_RIGHT:return new g2(new Tn(n,e),new Tn(n+a,e),new Tn(l,c-o),new Tn(l,c));case Gr.BOTTOM_RIGHT:return new g2(new Tn(l,e),new Tn(l,e+o),new Tn(n+a,c),new Tn(n,c));case Gr.BOTTOM_LEFT:default:return new g2(new Tn(l,c),new Tn(l-a,c),new Tn(n,e+o),new Tn(n,e))}},CS=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},e0e=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},MS=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},t0e=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),y2=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),n0e=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),i0e=function(n){return n.type===0},_9=function(n){return n.type===1},r0e=function(n){return n.type===2},U8=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},s0e=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},S9=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),E9=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new $ge(this.container),this.container.styles.opacity<1&&this.effects.push(new n0e(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new t0e(i,r,s))}if(this.container.styles.overflowX!==0){var a=CS(this.curves),o=MS(this.curves);U8(a,o)?this.effects.push(new y2(a,6)):(this.effects.push(new y2(a,2)),this.effects.push(new y2(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!_9(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=CS(i.curves),o=MS(i.curves);U8(a,o)||r.unshift(new y2(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return uo(l.target,e)})},n})(),m4=function(n,e,t,i){n.container.elements.forEach(function(r){var s=uo(r.flags,4),a=uo(r.flags,2),o=new E9(r,n);uo(r.styles.display,2048)&&i.push(o);var l=uo(r.flags,8)?[]:i;if(s||a){var c=s||r.styles.isPositioned()?t:e,A=new S9(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var f=r.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(y,x){return f>y.element.container.styles.zIndex.order?(p=x,!1):p>0}),c.negativeZIndex.splice(p,0,A)}else if(f>0){var d=0;c.positiveZIndex.some(function(y,x){return f>=y.element.container.styles.zIndex.order?(d=x+1,!1):d>0}),c.positiveZIndex.splice(d,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else r.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);m4(o,A,s?A:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),m4(o,e,t,l);uo(r.flags,8)&&B9(r,l)})},B9=function(n,e){for(var t=n instanceof A4?n.start:1,i=n instanceof A4?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof c9&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Ex(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},a0e=function(n){var e=new E9(n,null),t=new S9(e),i=[];return m4(e,t,t,i),B9(e.container,i),t},N8=function(n,e){switch(e){case 0:return oA(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return oA(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return oA(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return oA(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},o0e=function(n,e){switch(e){case 0:return oA(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return oA(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return oA(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return oA(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},l0e=function(n,e){switch(e){case 0:return oA(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return oA(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return oA(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return oA(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},c0e=function(n,e){switch(e){case 0:return v2(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return v2(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return v2(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return v2(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},v2=function(n,e){var t=[];return $u(n)?t.push(n.subdivide(.5,!1)):t.push(n),$u(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},oA=function(n,e,t,i){var r=[];return $u(n)?r.push(n.subdivide(.5,!1)):r.push(n),$u(t)?r.push(t.subdivide(.5,!0)):r.push(t),$u(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),$u(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},C9=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},TS=function(n){var e=n.styles,t=n.bounds,i=_s(e.paddingLeft,t.width),r=_s(e.paddingRight,t.width),s=_s(e.paddingTop,t.width),a=_s(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},u0e=function(n,e){return n===0?e.bounds:n===2?TS(e):C9(e)},A0e=function(n,e){return n===0?e.bounds:n===2?TS(e):C9(e)},j3=function(n,e,t){var i=u0e(ny(n.styles.backgroundOrigin,e),n),r=A0e(ny(n.styles.backgroundClip,e),n),s=f0e(ny(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=w1(ny(n.styles.backgroundPosition,e),i.width-a,i.height-o),c=h0e(ny(n.styles.backgroundRepeat,e),l,s,i,r),A=Math.round(i.left+l[0]),f=Math.round(i.top+l[1]);return[c,A,f,a,o]},K0=function(n){return os(n)&&n.value===my.AUTO},x2=function(n){return typeof n=="number"},f0e=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Za(a)&&o&&Za(o))return[_s(a,t.width),_s(o,t.height)];var l=x2(s);if(os(a)&&(a.value===my.CONTAIN||a.value===my.COVER)){if(x2(s)){var c=t.width/t.height;return c<s!=(a.value===my.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var A=x2(i),f=x2(r),p=A||f;if(K0(a)&&(!o||K0(o))){if(A&&f)return[i,r];if(!l&&!p)return[t.width,t.height];if(p&&l){var d=A?i:r*s,y=f?r:i/s;return[d,y]}var x=A?i:t.width,w=f?r:t.height;return[x,w]}if(l){var b=0,_=0;return Za(a)?b=_s(a,t.width):Za(o)&&(_=_s(o,t.height)),K0(a)?b=_*s:(!o||K0(o))&&(_=b/s),[b,_]}var E=null,C=null;if(Za(a)?E=_s(a,t.width):o&&Za(o)&&(C=_s(o,t.height)),E!==null&&(!o||K0(o))&&(C=A&&f?E/i*r:t.height),C!==null&&K0(a)&&(E=A&&f?C/r*i:t.width),E!==null&&C!==null)return[E,C];throw new Error("Unable to calculate background-size for element")},ny=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},h0e=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new Tn(Math.round(i.left),Math.round(i.top+a)),new Tn(Math.round(i.left+i.width),Math.round(i.top+a)),new Tn(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Tn(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new Tn(Math.round(i.left+s),Math.round(i.top)),new Tn(Math.round(i.left+s+o),Math.round(i.top)),new Tn(Math.round(i.left+s+o),Math.round(i.height+i.top)),new Tn(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new Tn(Math.round(i.left+s),Math.round(i.top+a)),new Tn(Math.round(i.left+s+o),Math.round(i.top+a)),new Tn(Math.round(i.left+s+o),Math.round(i.top+a+l)),new Tn(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new Tn(Math.round(r.left),Math.round(r.top)),new Tn(Math.round(r.left+r.width),Math.round(r.top)),new Tn(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Tn(Math.round(r.left),Math.round(r.height+r.top))]}},d0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",F8="Hidden Text",p0e=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=d0e,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(F8)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(F8)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),M9=(function(){function n(e,t){this.context=e,this.options=t}return n})(),m0e=1e4,g0e=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new p0e(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),r0e(t)&&(this.ctx.globalAlpha=t.opacity),i0e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),_9(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return tc(this,void 0,void 0,function(){var i;return El(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return tc(this,void 0,void 0,function(){return El(this,function(i){switch(i.label){case 0:if(uo(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=hN(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=w0e(t.fontFamily).join(", "),s=Jx(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return tc(this,void 0,void 0,function(){var r,s,a,o,l,c,A,f,p=this;return El(this,function(d){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,A=l.middle,f=i.paintOrder,t.textBounds.forEach(function(y){f.forEach(function(x){switch(x){case 0:p.ctx.fillStyle=To(i.color),p.renderTextWithLetterSpacing(y,i.letterSpacing,c);var w=i.textShadow;w.length&&y.text.trim().length&&(w.slice(0).reverse().forEach(function(b){p.ctx.shadowColor=To(b.color),p.ctx.shadowOffsetX=b.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=b.offsetY.number*p.options.scale,p.ctx.shadowBlur=b.blur.number,p.renderTextWithLetterSpacing(y,i.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),i.textDecorationLine.length&&(p.ctx.fillStyle=To(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(b){switch(b){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+c),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+A),y.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=To(i.webkitTextStrokeColor),p.ctx.lineWidth=i.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=TS(t),a=MS(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return tc(this,void 0,void 0,function(){var i,r,s,a,o,l,_,_,c,A,f,p,C,d,y,T,x,w,b,_,E,C,T;return El(this,function(M){switch(M.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,M.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof a9))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return _=M.sent(),this.renderReplacedElement(i,r,_),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof o9&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof l9))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return _=M.sent(),this.renderReplacedElement(i,r,_),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof f9&&i.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,c.render(i.tree)]):[3,14];case 13:A=M.sent(),i.width&&i.height&&this.ctx.drawImage(A,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),M.label=14;case 14:if(i instanceof dN&&(f=Math.min(i.bounds.width,i.bounds.height),i.type===_S?i.checked&&(this.ctx.save(),this.path([new Tn(i.bounds.left+f*.39363,i.bounds.top+f*.79),new Tn(i.bounds.left+f*.16,i.bounds.top+f*.5549),new Tn(i.bounds.left+f*.27347,i.bounds.top+f*.44071),new Tn(i.bounds.left+f*.39694,i.bounds.top+f*.5649),new Tn(i.bounds.left+f*.72983,i.bounds.top+f*.23),new Tn(i.bounds.left+f*.84,i.bounds.top+f*.34085),new Tn(i.bounds.left+f*.39363,i.bounds.top+f*.79)]),this.ctx.fillStyle=To(v8),this.ctx.fill(),this.ctx.restore()):i.type===SS&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+f/2,i.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=To(v8),this.ctx.fill(),this.ctx.restore())),y0e(i)&&i.value.length){switch(p=this.createFontStyle(s),C=p[0],d=p[1],y=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=To(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=x0e(i.styles.textAlign),T=TS(i),x=0,i.styles.textAlign){case 1:x+=T.width/2;break;case 2:x+=T.width;break}w=T.add(x,0,0,-T.height/2+1),this.ctx.save(),this.path([new Tn(T.left,T.top),new Tn(T.left+T.width,T.top),new Tn(T.left+T.width,T.top+T.height),new Tn(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new q1(i.value,w),s.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!uo(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(b=i.styles.listStyleImage,b.type!==0)return[3,18];_=void 0,E=b.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return _=M.sent(),this.ctx.drawImage(_,i.bounds.left-(_.width+10),i.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(C=this.createFontStyle(s)[0],this.ctx.font=C,this.ctx.fillStyle=To(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new hd(i.bounds.left,i.bounds.top+_s(i.styles.paddingTop,i.bounds.width),i.bounds.width,n8(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new q1(t.listValue,T),s.letterSpacing,n8(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return tc(this,void 0,void 0,function(){var i,r,b,s,a,b,o,l,b,c,A,b,f,p,b,d,y,b,x,w,b;return El(this,function(_){switch(_.label){case 0:if(uo(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:_.sent(),i=0,r=t.negativeZIndex,_.label=2;case 2:return i<r.length?(b=r[i],[4,this.renderStack(b)]):[3,5];case 3:_.sent(),_.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:_.sent(),s=0,a=t.nonInlineLevel,_.label=7;case 7:return s<a.length?(b=a[s],[4,this.renderNode(b)]):[3,10];case 8:_.sent(),_.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,_.label=11;case 11:return o<l.length?(b=l[o],[4,this.renderStack(b)]):[3,14];case 12:_.sent(),_.label=13;case 13:return o++,[3,11];case 14:c=0,A=t.nonPositionedInlineLevel,_.label=15;case 15:return c<A.length?(b=A[c],[4,this.renderStack(b)]):[3,18];case 16:_.sent(),_.label=17;case 17:return c++,[3,15];case 18:f=0,p=t.inlineLevel,_.label=19;case 19:return f<p.length?(b=p[f],[4,this.renderNode(b)]):[3,22];case 20:_.sent(),_.label=21;case 21:return f++,[3,19];case 22:d=0,y=t.zeroOrAutoZIndexOrTransformedOrOpacity,_.label=23;case 23:return d<y.length?(b=y[d],[4,this.renderStack(b)]):[3,26];case 24:_.sent(),_.label=25;case 25:return d++,[3,23];case 26:x=0,w=t.positiveZIndex,_.label=27;case 27:return x<w.length?(b=w[x],[4,this.renderStack(b)]):[3,30];case 28:_.sent(),_.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=$u(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),$u(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return tc(this,void 0,void 0,function(){var i,r,s,a,o,l;return El(this,function(c){switch(c.label){case 0:i=t.styles.backgroundImage.length-1,r=function(A){var f,p,d,R,W,q,J,Y,L,y,R,W,q,J,Y,x,w,b,_,E,C,T,M,F,L,N,R,k,Q,J,Y,ne,W,q,$,re,V,te,z,j,oe,fe;return El(this,function(ue){switch(ue.label){case 0:if(A.type!==0)return[3,5];f=void 0,p=A.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return f=ue.sent(),[3,4];case 3:return ue.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(d=j3(t,i,[f.width,f.height,f.width/f.height]),R=d[0],W=d[1],q=d[2],J=d[3],Y=d[4],L=s.ctx.createPattern(s.resizeImage(f,J,Y),"repeat"),s.renderRepeat(R,L,W,q)),[3,6];case 5:ipe(A)?(y=j3(t,i,[null,null,null]),R=y[0],W=y[1],q=y[2],J=y[3],Y=y[4],x=Jde(A.angle,J,Y),w=x[0],b=x[1],_=x[2],E=x[3],C=x[4],T=document.createElement("canvas"),T.width=J,T.height=Y,M=T.getContext("2d"),F=M.createLinearGradient(b,E,_,C),e8(A.stops,w).forEach(function(Ae){return F.addColorStop(Ae.stop,To(Ae.color))}),M.fillStyle=F,M.fillRect(0,0,J,Y),J>0&&Y>0&&(L=s.ctx.createPattern(T,"repeat"),s.renderRepeat(R,L,W,q))):rpe(A)&&(N=j3(t,i,[null,null,null]),R=N[0],k=N[1],Q=N[2],J=N[3],Y=N[4],ne=A.position.length===0?[uN]:A.position,W=_s(ne[0],J),q=_s(ne[ne.length-1],Y),$=$de(A,W,q,J,Y),re=$[0],V=$[1],re>0&&V>0&&(te=s.ctx.createRadialGradient(k+W,Q+q,0,k+W,Q+q,re),e8(A.stops,re*2).forEach(function(Ae){return te.addColorStop(Ae.stop,To(Ae.color))}),s.path(R),s.ctx.fillStyle=te,re!==V?(z=t.bounds.left+.5*t.bounds.width,j=t.bounds.top+.5*t.bounds.height,oe=V/re,fe=1/oe,s.ctx.save(),s.ctx.translate(z,j),s.ctx.transform(1,0,0,oe,0,0),s.ctx.translate(-z,-j),s.ctx.fillRect(k,fe*(Q-j)+j,J,Y*fe),s.ctx.restore()):s.ctx.fill())),ue.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return tc(this,void 0,void 0,function(){return El(this,function(s){return this.path(N8(r,i)),this.ctx.fillStyle=To(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return tc(this,void 0,void 0,function(){var a,o;return El(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=o0e(s,r),this.path(a),this.ctx.fillStyle=To(t),this.ctx.fill(),o=l0e(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return tc(this,void 0,void 0,function(){var i,r,s,a,o,l,c,A,f=this;return El(this,function(p){switch(p.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!Up(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=v0e(ny(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Up(i.backgroundColor)||(this.ctx.fillStyle=To(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(d){f.ctx.save();var y=CS(t.curves),x=d.inset?0:m0e,w=s0e(y,-x+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(f.path(y),f.ctx.clip(),f.mask(w)):(f.mask(y),f.ctx.clip(),f.path(w)),f.ctx.shadowOffsetX=d.offsetX.number+x,f.ctx.shadowOffsetY=d.offsetY.number,f.ctx.shadowColor=To(d.color),f.ctx.shadowBlur=d.blur.number,f.ctx.fillStyle=d.inset?To(d.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=s,p.label=3;case 3:return l<c.length?(A=c[l],A.style!==0&&!Up(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,t.curves,3)];case 6:return p.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,t.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,t.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return tc(this,void 0,void 0,function(){var o,l,c,A,f,p,d,y,x,w,b,_,E,C,T,M,T,M;return El(this,function(F){return this.ctx.save(),o=c0e(s,r),l=N8(s,r),a===2&&(this.path(l),this.ctx.clip()),$u(l[0])?(c=l[0].start.x,A=l[0].start.y):(c=l[0].x,A=l[0].y),$u(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),r===0||r===2?d=Math.abs(c-f):d=Math.abs(A-p),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),y=i<3?i*3:i*2,x=i<3?i*2:i,a===3&&(y=i,x=i),w=!0,d<=y*2?w=!1:d<=y*2+x?(b=d/(2*y+x),y*=b,x*=b):(_=Math.floor((d+x)/(y+x)),E=(d-_*y)/(_-1),C=(d-(_+1)*y)/_,x=C<=0||Math.abs(x-E)<Math.abs(x-C)?E:C),w&&(a===3?this.ctx.setLineDash([0,y+x]):this.ctx.setLineDash([y,x])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=To(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&($u(l[0])&&(T=l[3],M=l[0],this.ctx.beginPath(),this.formatPath([new Tn(T.end.x,T.end.y),new Tn(M.start.x,M.start.y)]),this.ctx.stroke()),$u(l[1])&&(T=l[1],M=l[2],this.ctx.beginPath(),this.formatPath([new Tn(T.end.x,T.end.y),new Tn(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return tc(this,void 0,void 0,function(){var i;return El(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=To(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=a0e(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(M9),y0e=function(n){return n instanceof A9||n instanceof u9?!0:n instanceof dN&&n.type!==SS&&n.type!==_S},v0e=function(n,e){switch(n){case 0:return CS(e);case 2:return e0e(e);case 1:default:return MS(e)}},x0e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},b0e=["-apple-system","system-ui"],w0e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return b0e.indexOf(e)===-1}):n},_0e=(function(n){sf(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return tc(this,void 0,void 0,function(){var i,r;return El(this,function(s){switch(s.label){case 0:return i=u4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,S0e(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=To(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(M9),S0e=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},E0e=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Jw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Jw([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Jw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Jw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),B0e=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new E0e({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new Kge(this,e)}return n.instanceCount=1,n})(),T9=function(n,e){return e===void 0&&(e={}),C0e(n,e)};typeof window<"u"&&w9.setContext(window);var C0e=function(n,e){return tc(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,c,A,f,p,d,y,x,w,b,_,E,C,T,F,M,F,L,N,R,k,Q,J,Y,ne,W,q,$,re,V,te,z,j,oe;return El(this,function(fe){switch(fe.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(R=e.useCORS)!==null&&R!==void 0?R:!1},s=XT({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},r),a={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:i.innerWidth,windowHeight:(J=e.windowHeight)!==null&&J!==void 0?J:i.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:i.pageXOffset,scrollY:(ne=e.scrollY)!==null&&ne!==void 0?ne:i.pageYOffset},o=new hd(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new B0e(s,o),c=(W=e.foreignObjectRendering)!==null&&W!==void 0?W:!1,A={allowTaint:(q=e.allowTaint)!==null&&q!==void 0?q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new M8(l,n,A),p=f.clonedReferenceElement,p?[4,f.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=fe.sent(),y=pN(p)||Tge(p)?she(p.ownerDocument):NE(l,p),x=y.width,w=y.height,b=y.left,_=y.top,E=M0e(l,p,e.backgroundColor),C={canvas:e.canvas,backgroundColor:E,scale:(re=($=e.scale)!==null&&$!==void 0?$:i.devicePixelRatio)!==null&&re!==void 0?re:1,x:((V=e.x)!==null&&V!==void 0?V:0)+b,y:((te=e.y)!==null&&te!==void 0?te:0)+_,width:(z=e.width)!==null&&z!==void 0?z:Math.ceil(x),height:(j=e.height)!==null&&j!==void 0?j:Math.ceil(w)},c?(l.logger.debug("Document cloned, using foreign object rendering"),F=new _0e(l,C),[4,F.render(p)]):[3,3];case 2:return T=fe.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+b+","+_+" with size "+x+"x"+w+" using computed rendering"),l.logger.debug("Starting DOM parsing"),M=d9(l,p),E===M.styles.backgroundColor&&(M.styles.backgroundColor=ld.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),F=new g0e(l,C),[4,F.render(M)];case 4:T=fe.sent(),fe.label=5;case 5:return(!((oe=e.removeContainer)!==null&&oe!==void 0)||oe)&&(M8.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,T]}})})},M0e=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?G1(n,getComputedStyle(i.documentElement).backgroundColor):ld.TRANSPARENT,s=i.body?G1(n,getComputedStyle(i.body).backgroundColor):ld.TRANSPARENT,a=typeof t=="string"?G1(n,t):t===null?ld.TRANSPARENT:4294967295;return e===i.documentElement?Up(r)?Up(s)?a:s:r:a};const T0e=Object.freeze(Object.defineProperty({__proto__:null,default:T9},Symbol.toStringTag,{value:"Module"}));function V3(n,e,t="text/plain"){const i=new Blob([e],{type:t}),r=URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=n,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(r)}const lp=[{key:"temperatura",label:"Temperatura (General)"},{key:"rpm",label:"RPM (General)"},{key:"vibracion",label:"Vibracin (General)"},{key:"A.voltaje",label:"Voltaje - Fase A"},{key:"A.corriente",label:"Corriente - Fase A"},{key:"A.potencia",label:"Potencia - Fase A"},{key:"B.voltaje",label:"Voltaje - Fase B"},{key:"C.voltaje",label:"Voltaje - Fase C"}],U0e=()=>{const{phaseData:n,generalData:e,getHistory:t}=Cu(),[i,r]=ct.useState(""),[s,a]=ct.useState("Inspeccin"),[o,l]=ct.useState([]),[c,A]=ct.useState("detailed"),[f,p]=ct.useState(""),[d,y]=ct.useState(300),[x,w]=ct.useState([]),[b,_]=ct.useState([]),E=ct.useRef(null),C=q=>{l($=>$.includes(q)?$.filter(re=>re!==q):[...$,q])};ct.useEffect(()=>{try{const q=localStorage.getItem("report_templates"),$=q?JSON.parse(q):[];w($)}catch{w([])}try{const q=localStorage.getItem("saved_reports"),$=q?JSON.parse(q):[];_($)}catch{_([])}},[]);const T=()=>{const q=prompt("Nombre de la plantilla");if(!q)return;const re=[{name:q,template:c,selected:o,jobType:s,operator:i,seconds:d,createdAt:Date.now()},...x];w(re),localStorage.setItem("report_templates",JSON.stringify(re)),alert("Plantilla guardada")},M=q=>{A(q.template||"detailed"),l(q.selected||[]),a(q.jobType||"Inspeccin"),r(q.operator||""),y(q.seconds||300)},F=q=>{const $=x.slice();$.splice(q,1),w($),localStorage.setItem("report_templates",JSON.stringify($))},L=()=>{f||Y();const $=[{id:Date.now(),operator:i,jobType:s,template:c,previewHtml:f||"",selected:o,seconds:d,createdAt:Date.now()},...b];_($),localStorage.setItem("saved_reports",JSON.stringify($)),alert("Informe guardado")},N=q=>{const $=b.filter(re=>re.id!==q);_($),localStorage.setItem("saved_reports",JSON.stringify($))},R=q=>{V3(`report_${q.id}.html`,q.previewHtml||"","text/html")},k=async()=>{f||await Y();try{const q=document.createElement("div");q.style.position="absolute",q.style.left="-9999px",q.style.top="0",q.style.width="1200px",q.style.padding="0",q.style.margin="0",q.innerHTML=f,document.body.appendChild(q);const $=q.getElementsByTagName("img"),re=Array.from($).map(he=>he.complete?Promise.resolve():new Promise(_e=>{he.onload=_e,he.onerror=_e}));await Promise.all(re),await new Promise(he=>setTimeout(he,500));const V=await T9(q,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#1a1a2e",allowTaint:!0,foreignObjectRendering:!1,imageTimeout:0,width:q.scrollWidth,height:q.scrollHeight});document.body.removeChild(q);const te=V.toDataURL("image/png",1),z=new Zn({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),j=210,oe=297,fe=V.height*j/V.width;let ue=fe,Ae=0;for(z.addImage(te,"PNG",0,Ae,j,fe,void 0,"FAST"),ue-=oe;ue>=0;)Ae=ue-fe,z.addPage(),z.addImage(te,"PNG",0,Ae,j,fe,void 0,"FAST"),ue-=oe;z.save(`informe_${s}_${Date.now()}.pdf`)}catch(q){console.error("Error generando PDF:",q),alert("Error al generar el PDF: "+q.message)}},Q=q=>{if(!q)return"";if(q.includes(".")){const[$,re]=q.split(".");return n?.[$]?.[re]??""}return e?.[q]??""},J=async q=>{const $=t?t(q,d):[],re=lp.find(ue=>ue.key===q)?.label??q;let V,te;if($.length>0)V=$.map(ue=>new Date(ue.ts).toLocaleTimeString()),te=$.map(ue=>Number(ue.value));else{const ue=Number(Q(q)||0);V=Array.from({length:20},(Ae,he)=>he+1),te=Array(20).fill(ue)}const z=document.createElement("canvas");z.width=800,z.height=300;const j=z.getContext("2d"),oe=new Zy(j,{type:"line",data:{labels:V,datasets:[{label:re,data:te,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",tension:.4,borderWidth:3,fill:!0,pointRadius:2,pointHoverRadius:5}]},options:{responsive:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{font:{size:14,weight:"bold"}}},title:{display:!0,text:re,font:{size:16,weight:"bold"},padding:10}},scales:{x:{grid:{color:"rgba(0,0,0,0.1)"},ticks:{maxRotation:45,minRotation:0,autoSkip:!0,maxTicksLimit:10}},y:{grid:{color:"rgba(0,0,0,0.1)"},beginAtZero:!1}}}});await new Promise(ue=>setTimeout(ue,100));const fe=z.toDataURL("image/png");return oe.destroy(),fe},Y=async()=>{const q=new Date().toLocaleString("es-ES"),$={};for(const V of o)try{$[V]=await J(V)}catch(te){console.error("Error generando grfica para",V,te)}let re=`
      <div style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color:#1a1a2e; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding:40px; border-radius:12px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
        <div style="background: white; border-radius: 8px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 30px; border-bottom: 3px solid #667eea; padding-bottom: 20px;">
            <h1 style="color:#2b0b6b; margin:0; font-size: 32px; font-weight: 700;"> Informe de ${s}</h1>
            <p style="color:#666; margin:10px 0 0 0; font-size: 16px;">Sistema de Monitoreo de Motores - MotorWatch</p>
          </div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; background: #f8f9fa; padding: 20px; border-radius: 8px;">
            <div>
              <p style="margin:0; color:#888; font-size:12px; text-transform: uppercase;">Fecha y Hora</p>
              <p style="margin:5px 0 0 0; color:#2b0b6b; font-weight:600; font-size:16px;">${q}</p>
            </div>
            <div>
              <p style="margin:0; color:#888; font-size:12px; text-transform: uppercase;">Operario Responsable</p>
              <p style="margin:5px 0 0 0; color:#2b0b6b; font-weight:600; font-size:16px;">${i||"No especificado"}</p>
            </div>
            <div>
              <p style="margin:0; color:#888; font-size:12px; text-transform: uppercase;">Tipo de Trabajo</p>
              <p style="margin:5px 0 0 0; color:#2b0b6b; font-weight:600; font-size:16px;">${s}</p>
            </div>
            <div>
              <p style="margin:0; color:#888; font-size:12px; text-transform: uppercase;">Ventana de Anlisis</p>
              <p style="margin:5px 0 0 0; color:#2b0b6b; font-weight:600; font-size:16px;">${d} segundos</p>
            </div>
          </div>
    `;c==="detailed"?(re+=`
        <div style="margin-bottom: 30px;">
          <h2 style="color:#2b0b6b; font-size:24px; margin-bottom:20px; border-left: 4px solid #667eea; padding-left: 15px;"> Mtricas Monitoreadas</h2>
          <table style="width:100%; border-collapse: collapse; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <thead>
              <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:white;">
                <th style="text-align:left; padding:15px; font-size:14px; text-transform: uppercase; letter-spacing: 1px;">Mtrica</th>
                <th style="text-align:center; padding:15px; font-size:14px; text-transform: uppercase; letter-spacing: 1px;">Valor Actual</th>
                <th style="text-align:center; padding:15px; font-size:14px; text-transform: uppercase; letter-spacing: 1px;">Estado</th>
              </tr>
            </thead>
            <tbody>
      `,o.forEach((V,te)=>{const z=lp.find(ue=>ue.key===V)?.label??V,j=Q(V),oe=te%2===0?"#f8f9fa":"#ffffff";re+=`
          <tr style="background:${oe}; border-bottom: 1px solid #e0e0e0;">
            <td style="padding:15px; font-weight:500; color:#2b0b6b;">${z}</td>
            <td style="padding:15px; text-align:center; font-weight:700; color:#667eea; font-size:18px;">${j}</td>
            <td style="padding:15px; text-align:center;"> Normal</td>
          </tr>
        `}),re+=`
            </tbody>
          </table>
        </div>
      `,o.length>0&&(re+=`
          <div style="margin-bottom: 30px;">
            <h2 style="color:#2b0b6b; font-size:24px; margin-bottom:20px; border-left: 4px solid #667eea; padding-left: 15px;"> Grficas Histricas</h2>
            <p style="color:#666; margin-bottom:20px; line-height: 1.8;">Comportamiento de las mtricas durante una ventana de <strong>${d} segundos</strong></p>
        `,o.forEach((V,te)=>{const z=lp.find(oe=>oe.key===V)?.label??V,j=$[V];j&&(re+=`
              <div style="margin-bottom: 30px; background: #f8f9fa; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="color:#667eea; font-size:18px; margin:0 0 15px 0; font-weight:600;">${z}</h3>
                <img src="${j}" style="width:100%; height:auto; border-radius: 6px; border: 2px solid #e0e0e0;" alt="Grfica ${z}" />
              </div>
            `)}),re+=`
          </div>
        `)):(re+=`
        <div style="margin-bottom: 30px;">
          <h2 style="color:#2b0b6b; font-size:24px; margin-bottom:20px; border-left: 4px solid #667eea; padding-left: 15px;"> Resumen Ejecutivo</h2>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea;">
            <ul style="list-style: none; padding:0; margin:0;">
      `,o.forEach(V=>{const te=lp.find(j=>j.key===V)?.label??V,z=Q(V);re+=`<li style="padding:10px 0; border-bottom: 1px solid #e0e0e0; color:#444;"> <strong style="color:#2b0b6b;">${te}:</strong> <span style="color:#667eea; font-weight:600;">${z}</span></li>`}),re+=`
            </ul>
          </div>
        </div>
      `,o.length>0&&(re+=`
          <div style="margin-bottom: 30px;">
            <h2 style="color:#2b0b6b; font-size:24px; margin-bottom:20px; border-left: 4px solid #667eea; padding-left: 15px;"> Visualizacin de Datos</h2>
        `,o.forEach(V=>{const te=lp.find(j=>j.key===V)?.label??V,z=$[V];z&&(re+=`
              <div style="margin-bottom: 20px; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                <h4 style="color:#667eea; font-size:16px; margin:0 0 10px 0;">${te}</h4>
                <img src="${z}" style="width:100%; height:auto; border-radius: 6px;" alt="${te}" />
              </div>
            `)}),re+=`
          </div>
        `)),re+=`
          <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #e0e0e0; text-align: center;">
            <p style="margin:0; color:#888; font-size:12px;">Generado automticamente por <strong style="color:#667eea;">MotorWatch</strong></p>
            <p style="margin:5px 0 0 0; color:#aaa; font-size:11px;">Sistema de Monitoreo de Condicin de Motores Elctricos</p>
          </div>
        </div>
      </div>
    `,p(re)},ne=()=>{const q={},$=new Set;o.forEach(j=>{const oe=t?t(j,d):[];q[j]=oe.map(fe=>({ts:fe.ts,v:fe.value})),oe.forEach(fe=>$.add(fe.ts))});const re=Array.from($).sort((j,oe)=>j-oe),V=[],te=["Timestamp"].concat(o.map(j=>lp.find(oe=>oe.key===j)?.label??j));V.push(te),re.forEach(j=>{const oe=[new Date(j).toISOString()];o.forEach(fe=>{const ue=(q[fe]||[]).find(Ae=>Ae.ts===j);oe.push(ue?ue.v:"")}),V.push(oe)});const z=V.map(j=>j.map(oe=>'"'+String(oe).replace(/"/g,'""')+'"').join(",")).join(`
`);V3("report_history.csv",z,"text/csv")},W=()=>{f||Y(),V3("report.html",f,"text/html")};return I.jsxs("div",{className:"p-4",children:[I.jsxs("div",{className:"glass-card p-4",children:[I.jsxs("h3",{className:"text-lg font-bold text-white mb-3",children:[I.jsx(hg,{className:"inline mr-2"}),"Generador de Reportes"]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[I.jsxs("div",{children:[I.jsx("label",{className:"text-sm text-gray-300",children:"Operario"}),I.jsx("input",{value:i,onChange:q=>r(q.target.value),className:"w-full p-2 rounded mt-1 bg-purple-900 text-white"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"text-sm text-gray-300",children:"Tipo de trabajo"}),I.jsxs("select",{value:s,onChange:q=>a(q.target.value),className:"w-full p-2 rounded mt-1 bg-purple-900 text-white",children:[I.jsx("option",{children:"Inspeccin"}),I.jsx("option",{children:"Mantenimiento"}),I.jsx("option",{children:"Anlisis"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"text-sm text-gray-300",children:"Plantilla"}),I.jsxs("select",{value:c,onChange:q=>A(q.target.value),className:"w-full p-2 rounded mt-1 bg-purple-900 text-white",children:[I.jsx("option",{value:"detailed",children:"Detallada"}),I.jsx("option",{value:"brief",children:"Breve"})]})]})]}),I.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[I.jsxs("div",{children:[I.jsx("h4",{className:"text-white mb-2",children:"Plantillas guardadas"}),I.jsxs("div",{className:"glass-card p-3",style:{maxHeight:180,overflow:"auto"},children:[x.length===0&&I.jsx("div",{className:"text-gray-400",children:"No hay plantillas guardadas."}),x.map((q,$)=>I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"text-sm text-gray-200",children:[q.name," ",I.jsxs("span",{className:"text-xs text-gray-400",children:["(",new Date(q.createdAt).toLocaleString(),")"]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>M(q),className:"px-2 py-1 bg-purple-600 rounded text-white text-sm",children:"Cargar"}),I.jsx("button",{onClick:()=>F($),className:"px-2 py-1 bg-red-600 rounded text-white text-sm",children:"Eliminar"})]})]},q.createdAt))]})]}),I.jsxs("div",{children:[I.jsx("h4",{className:"text-white mb-2",children:"Informes guardados"}),I.jsxs("div",{className:"glass-card p-3",style:{maxHeight:180,overflow:"auto"},children:[b.length===0&&I.jsx("div",{className:"text-gray-400",children:"No hay informes guardados."}),b.map(q=>I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"text-sm text-gray-200",children:[q.jobType," - ",q.operator||"---"," ",I.jsxs("span",{className:"text-xs text-gray-400",children:["(",new Date(q.createdAt).toLocaleString(),")"]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>R(q),className:"px-2 py-1 bg-emerald-600 rounded text-white text-sm",children:"Descargar"}),I.jsx("button",{onClick:()=>N(q.id),className:"px-2 py-1 bg-red-600 rounded text-white text-sm",children:"Eliminar"})]})]},q.id))]})]})]}),I.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[I.jsxs("div",{children:[I.jsx("h4",{className:"text-sm text-gray-300 mb-2",children:"Selecciona mtricas"}),I.jsx("div",{className:"grid grid-cols-2 gap-2",children:lp.map(q=>I.jsxs("label",{className:"text-sm text-gray-200",children:[I.jsx("input",{type:"checkbox",checked:o.includes(q.key),onChange:()=>C(q.key),className:"mr-2"})," ",q.label]},q.key))})]}),I.jsxs("div",{children:[I.jsx("h4",{className:"text-sm text-gray-300 mb-2",children:"Comparar mtricas (grafica)"}),I.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[I.jsx("label",{className:"text-sm text-gray-300",children:"Ventana (s)"}),I.jsxs("select",{value:d,onChange:q=>y(Number(q.target.value)),className:"p-2 bg-purple-900 text-white rounded",children:[I.jsx("option",{value:60,children:"60"}),I.jsx("option",{value:120,children:"120"}),I.jsx("option",{value:300,children:"300"}),I.jsx("option",{value:600,children:"600"}),I.jsx("option",{value:1800,children:"1800"})]})]}),I.jsx(N0e,{phaseData:n,generalData:e,metricList:lp,seconds:d,getHistory:t})]})]}),I.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[I.jsxs("button",{onClick:Y,className:"px-3 py-2 bg-purple-600 rounded text-white hover:bg-purple-700 transition-colors",children:[I.jsx(hg,{className:"inline w-4 h-4 mr-1"}),"Generar preview"]}),I.jsxs("button",{onClick:k,className:"px-3 py-2 bg-red-600 rounded text-white flex items-center gap-2 hover:bg-red-700 transition-colors",children:[I.jsx(Xq,{className:"w-4 h-4"}),"Exportar PDF"]}),I.jsxs("button",{onClick:W,className:"px-3 py-2 bg-purple-700 rounded text-white flex items-center gap-2 hover:bg-purple-800 transition-colors",children:[I.jsx(p_,{className:"w-4 h-4"}),"Exportar HTML"]}),I.jsxs("button",{onClick:ne,className:"px-3 py-2 bg-purple-700 rounded text-white hover:bg-purple-800 transition-colors",children:[I.jsx(p_,{className:"inline w-4 h-4 mr-1"}),"Exportar CSV"]}),I.jsx("button",{onClick:()=>T(),className:"px-3 py-2 bg-purple-800 rounded text-white hover:bg-purple-900 transition-colors",children:"Guardar plantilla"}),I.jsx("button",{onClick:()=>L(),className:"px-3 py-2 bg-emerald-600 rounded text-white hover:bg-emerald-700 transition-colors",children:"Guardar informe"})]})]}),I.jsxs("div",{className:"mt-4",children:[I.jsx("h4",{className:"text-white mb-2 font-bold text-lg",children:" Vista Previa del Informe"}),I.jsx("div",{ref:E,className:"glass-card p-4",style:{minHeight:200,maxHeight:600,overflow:"auto"},dangerouslySetInnerHTML:{__html:f||'<p class="text-gray-400 text-center py-10"> No hay preview disponible. Haz clic en "Generar preview" arriba.</p>'}})]})]})},N0e=({phaseData:n,generalData:e,metricList:t,seconds:i=300,getHistory:r})=>{const[s,a]=ct.useState([t[0].key,t[1].key]),o=d=>{if(!d)return{labels:[],data:[]};if(r){const x=r(d,i)||[];if(x.length>0)return{labels:x.map(w=>new Date(w.ts).toLocaleTimeString()),data:x.map(w=>Number(w.value))}}let y=0;if(d.includes(".")){const[x,w]=d.split(".");y=n?.[x]?.[w]??0}else y=e?.[d]??0;return{labels:Array.from({length:20},(x,w)=>w+1),data:Array(20).fill(Number(y))}},l=d=>{a(y=>y.includes(d)?y.filter(x=>x!==d):y.length>=4?y:[...y,d])},c=["#ef4444","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899"],f={labels:s.length>0?o(s[0]).labels:[],datasets:s.map((d,y)=>{const x=o(d);return{label:t.find(w=>w.key===d)?.label||d,data:x.data,borderColor:c[y%c.length],backgroundColor:c[y%c.length]+"20",tension:.4,borderWidth:2,pointRadius:0,pointHoverRadius:5,fill:!1}})},p={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",padding:10,font:{size:11}}},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",padding:12,titleFont:{size:13},bodyFont:{size:12},cornerRadius:8}},scales:{x:{grid:{color:"rgba(255,255,255,0.1)"},ticks:{color:"#999",maxRotation:45,minRotation:0,autoSkip:!0,maxTicksLimit:10}},y:{grid:{color:"rgba(255,255,255,0.1)"},ticks:{color:"#999"}}}};return I.jsxs("div",{children:[I.jsxs("div",{className:"mb-3 p-2 bg-purple-900/30 rounded",children:[I.jsx("p",{className:"text-xs text-gray-300 mb-2",children:"Selecciona hasta 4 mtricas para comparar:"}),I.jsx("div",{className:"flex flex-wrap gap-2",children:t.slice(0,8).map(d=>I.jsx("button",{onClick:()=>l(d.key),className:`px-2 py-1 text-xs rounded transition-colors ${s.includes(d.key)?"bg-purple-600 text-white":"bg-purple-900/50 text-gray-300 hover:bg-purple-800"}`,children:d.label},d.key))})]}),I.jsx("div",{style:{height:280,background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"8px"},children:s.length>0?I.jsx(wp,{data:f,options:p}):I.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Selecciona al menos una mtrica"})})]})},I8=[{id:"startup_analysis",name:"Arranque Supervisado",icon:vy,color:"bg-yellow-600",description:"Monitoreo intensivo durante el encendido del motor. Aumenta frecuencia de muestreo a 100ms para capturar picos de voltaje y corriente durante arranque.",duration:30,steps:[{action:"sampling_rate",value:100,delay:0},{action:"motor_start",delay:2e3},{action:"wait",delay:25e3},{action:"sampling_rate",value:1e3,delay:0}]},{id:"load_analysis",name:"Anlisis de Carga",icon:$1,color:"bg-blue-600",description:"Enciende el motor y monitorea la estabilizacin de corriente y potencia. Detecta anomalas en el consumo durante los primeros segundos de operacin.",duration:45,steps:[{action:"motor_start",delay:0},{action:"sampling_rate",value:500,delay:1e3},{action:"wait",delay:35e3},{action:"sampling_rate",value:1e3,delay:0},{action:"motor_stop",delay:2e3}]},{id:"vibration_test",name:"Test de Vibracin",icon:JA,color:"bg-purple-600",description:"Monitorea niveles de vibracin durante arranque y operacin. Identifica desbalanceos, rodamientos defectuosos o desalineacin.",duration:40,steps:[{action:"sampling_rate",value:200,delay:0},{action:"motor_start",delay:2e3},{action:"wait",delay:3e4},{action:"motor_stop",delay:0},{action:"sampling_rate",value:1e3,delay:2e3}]},{id:"complete_cycle",name:"Ciclo de Inspeccin Completo",icon:PS,color:"bg-emerald-600",description:"Ciclo completo: Apagado  Reposo  Arranque supervisado  Operacin  Apagado. Monitoreo completo de todas las fases.",duration:60,steps:[{action:"motor_stop",delay:0},{action:"wait",delay:5e3},{action:"sampling_rate",value:100,delay:0},{action:"motor_start",delay:2e3},{action:"wait",delay:2e4},{action:"sampling_rate",value:500,delay:0},{action:"wait",delay:25e3},{action:"motor_stop",delay:0},{action:"sampling_rate",value:1e3,delay:2e3}]}],F0e=()=>{const{client:n,isConnected:e,phaseData:t,generalData:i,maintenanceCommand:r}=Cu(),[s,a]=ct.useState(null),[o,l]=ct.useState(0),[c,A]=ct.useState(""),[f,p]=ct.useState([]),[d,y]=ct.useState({peaks:[],avgCurrent:0,avgVibration:0}),[x,w]=ct.useState(1e3);ct.useRef(null);const b=ct.useRef(0),_=ct.useRef({voltages:[],currents:[],vibrations:[],startTime:0}),E=(L,N="info")=>{const R=new Date().toLocaleTimeString();p(k=>[...k,{timestamp:R,message:L,type:N}])},C=(L,N)=>{n&&e?(n.publish(L,N,{qos:1}),E(` Comando enviado: ${L} = ${N}`,"command")):E(" Error: MQTT no conectado","error")},T=async(L,N)=>{switch(L.action){case"motor_start":A(" Encendiendo motor..."),C("motor/control/start","1"),E("Motor encendido","success");break;case"motor_stop":A(" Deteniendo motor..."),C("motor/control/stop","0"),E("Motor detenido","success");break;case"sampling_rate":A(` Ajustando frecuencia de muestreo: ${L.value}ms`),C("motor/control/sampling_rate",String(L.value)),E(`Frecuencia de muestreo: ${L.value}ms`,"info");break;case"wait":A(" Recolectando datos...");break}await new Promise(R=>setTimeout(R,L.delay))},M=async L=>{if(s)return;a(L),l(0),p([]),A("Iniciando tcnica..."),b.current=0,_.current={voltages:[],currents:[],vibrations:[],startTime:Date.now()},E(` Iniciando: ${L.name}`,"info"),E(L.description,"info");const N=L.steps.length;for(let k=0;k<L.steps.length;k++){b.current=k;const Q=L.steps[k];await T(Q),l((k+1)/N*100)}A(" Tcnica completada"),E(` Tcnica ${L.name} completada exitosamente`,"success");const R=((Date.now()-_.current.startTime)/1e3).toFixed(1);E(` Duracin total: ${R}s`,"info"),setTimeout(()=>{a(null),l(0),A("")},3e3)},F=()=>{s&&(E(" Tcnica detenida manualmente","warning"),C("motor/control/sampling_rate","1000"),a(null),l(0),A(""))};return ct.useEffect(()=>{if(s){const L=setInterval(()=>{const N=(t.A.voltaje+t.B.voltaje+t.C.voltaje)/3,R=(t.A.corriente+t.B.corriente+t.C.corriente)/3,k=i.vibracion;if(_.current.voltages.push(N),_.current.currents.push(R),_.current.vibrations.push(k),_.current.currents.length>5){const Q=_.current.currents.slice(-5),J=Q.reduce((Y,ne)=>Y+ne,0)/Q.length;R>J*1.2&&E(` Pico de corriente detectado: ${R.toFixed(2)}A`,"warning")}},500);return()=>clearInterval(L)}},[s,t,i]),ct.useEffect(()=>{if(console.log(" Comando de mantenimiento:",r),r&&r.action==="ejecutar_tecnica"){const L=r.tecnica,N=I8.find(R=>R.id===L);console.log(" Tcnica encontrada:",N),console.log(" Tcnica activa actual:",s),N&&!s?(console.log(` Ejecutando tcnica solicitada por IA: ${N.name}`),E(` IA solicit: ${N.name}`,"info"),M(N)):s&&console.log(" Ya hay una tcnica activa, ignorando comando")}},[r,s]),I.jsxs("div",{className:"p-4",children:[I.jsxs("div",{className:"glass-card p-4 mb-4",children:[I.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" Mantenimiento y Control del Motor"}),I.jsx("p",{className:"text-gray-300 text-sm",children:"Controla el motor manualmente o ejecuta procedimientos automatizados de diagnstico."})]}),!e&&I.jsxs("div",{className:"bg-red-900/50 border border-red-500 rounded p-3 mb-4 flex items-center gap-2",children:[I.jsx(ba,{className:"w-5 h-5 text-red-400"}),I.jsx("span",{className:"text-red-200",children:"MQTT no conectado. Conecta para usar los controles."})]}),I.jsxs("div",{className:"glass-card p-4 mb-4",children:[I.jsxs("h4",{className:"text-white font-bold mb-3 flex items-center gap-2",children:[I.jsx(Q4,{className:"w-5 h-5"}),"Controles Manuales"]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[I.jsxs("button",{onClick:()=>{C("motor/control/start","1"),E(" Motor encendido manualmente","success")},disabled:!e||s,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[I.jsx(eH,{className:"w-5 h-5"}),"Encender"]}),I.jsxs("button",{onClick:()=>{C("motor/control/stop","0"),E(" Motor apagado manualmente","warning")},disabled:!e||s,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[I.jsx($k,{className:"w-5 h-5"}),"Apagar"]}),I.jsxs("div",{className:"flex flex-col gap-1",children:[I.jsx("label",{className:"text-xs text-gray-300 font-semibold",children:"Frecuencia (ms)"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"number",value:x,onChange:L=>w(parseInt(L.target.value)),min:"100",max:"5000",step:"100",disabled:!e||s,className:"flex-1 bg-gray-700 text-white px-2 py-2 text-sm rounded border border-gray-600 focus:border-blue-500 focus:outline-none disabled:bg-gray-800"}),I.jsx("button",{onClick:()=>{C("motor/control/sampling_rate",String(x)),E(` Frecuencia: ${x}ms`,"info")},disabled:!e||s,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-3 text-sm rounded transition-colors",children:""})]})]})]})]}),I.jsxs("div",{className:"glass-card p-4 mb-4",children:[I.jsx("h4",{className:"text-white font-bold mb-3",children:"Tcnicas Automatizadas"}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:I8.map(L=>{const N=L.icon,R=s?.id===L.id,k=s!==null||!e;return I.jsxs("div",{className:`glass-card p-4 ${R?"ring-2 ring-purple-500":""}`,children:[I.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[I.jsx("div",{className:`${L.color} p-3 rounded-lg`,children:I.jsx(N,{className:"w-6 h-6 text-white"})}),I.jsxs("div",{className:"flex-1",children:[I.jsx("h4",{className:"text-white font-bold text-lg",children:L.name}),I.jsx("p",{className:"text-gray-300 text-xs mt-1",children:L.description})]})]}),I.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-purple-900/50",children:[I.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[I.jsx(Ux,{className:"w-4 h-4"}),I.jsxs("span",{children:["~",L.duration,"s"]})]}),I.jsx("button",{onClick:()=>M(L),disabled:k&&!R,className:`px-4 py-2 rounded font-medium flex items-center gap-2 transition-all ${R?"bg-red-600 hover:bg-red-700 text-white":k?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:R?I.jsxs(I.Fragment,{children:[I.jsx(GI,{className:"w-4 h-4"}),"Ejecutando..."]}):I.jsxs(I.Fragment,{children:[I.jsx(dW,{className:"w-4 h-4"}),"Ejecutar"]})})]}),R&&I.jsxs("div",{className:"mt-3",children:[I.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-300 mb-1",children:[I.jsx("span",{children:c}),I.jsxs("span",{children:[Math.round(o),"%"]})]}),I.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:I.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]})]},L.id)})})]}),s&&I.jsx("div",{className:"mb-4",children:I.jsxs("button",{onClick:F,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded flex items-center justify-center gap-2",children:[I.jsx(GI,{className:"w-5 h-5"}),"Detener Tcnica"]})}),f.length>0&&I.jsxs("div",{className:"glass-card p-4",children:[I.jsxs("h4",{className:"text-white font-bold mb-3 flex items-center gap-2",children:[" Registro de Eventos",I.jsxs("span",{className:"text-xs text-gray-400",children:["(",f.length,")"]})]}),I.jsx("div",{className:"bg-black/30 rounded p-3 max-h-64 overflow-y-auto font-mono text-xs",children:f.map((L,N)=>I.jsxs("div",{className:`py-1 ${L.type==="error"?"text-red-400":L.type==="success"?"text-green-400":L.type==="warning"?"text-yellow-400":L.type==="command"?"text-blue-400":"text-gray-300"}`,children:[I.jsxs("span",{className:"text-gray-500",children:["[",L.timestamp,"]"]})," ",L.message]},N))})]})]})};function I0e(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const L0e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R0e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,D0e={};function L8(n,e){return(D0e.jsx?R0e:L0e).test(n)}const O0e=/[ \t\n\f\r]/g;function P0e(n){return typeof n=="object"?n.type==="text"?R8(n.value):!1:R8(n)}function R8(n){return n.replace(O0e,"")===""}class $x{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}$x.prototype.normal={};$x.prototype.property={};$x.prototype.space=void 0;function U9(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new $x(t,i,e)}function g4(n){return n.toLowerCase()}class Wc{constructor(e,t){this.attribute=t,this.property=e}}Wc.prototype.attribute="";Wc.prototype.booleanish=!1;Wc.prototype.boolean=!1;Wc.prototype.commaOrSpaceSeparated=!1;Wc.prototype.commaSeparated=!1;Wc.prototype.defined=!1;Wc.prototype.mustUseProperty=!1;Wc.prototype.number=!1;Wc.prototype.overloadedBoolean=!1;Wc.prototype.property="";Wc.prototype.spaceSeparated=!1;Wc.prototype.space=void 0;let k0e=0;const ki=Og(),Ya=Og(),y4=Og(),hn=Og(),bs=Og(),gy=Og(),xu=Og();function Og(){return 2**++k0e}const v4=Object.freeze(Object.defineProperty({__proto__:null,boolean:ki,booleanish:Ya,commaOrSpaceSeparated:xu,commaSeparated:gy,number:hn,overloadedBoolean:y4,spaceSeparated:bs},Symbol.toStringTag,{value:"Module"})),G3=Object.keys(v4);class mN extends Wc{constructor(e,t,i,r){let s=-1;if(super(e,t),D8(this,"space",r),typeof i=="number")for(;++s<G3.length;){const a=G3[s];D8(this,G3[s],(i&v4[a])===v4[a])}}}mN.prototype.defined=!0;function D8(n,e,t){t&&(n[e]=t)}function ev(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const s=new mN(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[g4(i)]=i,t[g4(s.attribute)]=i}return new $x(e,t,n.space)}const N9=ev({properties:{ariaActiveDescendant:null,ariaAtomic:Ya,ariaAutoComplete:null,ariaBusy:Ya,ariaChecked:Ya,ariaColCount:hn,ariaColIndex:hn,ariaColSpan:hn,ariaControls:bs,ariaCurrent:null,ariaDescribedBy:bs,ariaDetails:null,ariaDisabled:Ya,ariaDropEffect:bs,ariaErrorMessage:null,ariaExpanded:Ya,ariaFlowTo:bs,ariaGrabbed:Ya,ariaHasPopup:null,ariaHidden:Ya,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bs,ariaLevel:hn,ariaLive:null,ariaModal:Ya,ariaMultiLine:Ya,ariaMultiSelectable:Ya,ariaOrientation:null,ariaOwns:bs,ariaPlaceholder:null,ariaPosInSet:hn,ariaPressed:Ya,ariaReadOnly:Ya,ariaRelevant:null,ariaRequired:Ya,ariaRoleDescription:bs,ariaRowCount:hn,ariaRowIndex:hn,ariaRowSpan:hn,ariaSelected:Ya,ariaSetSize:hn,ariaSort:null,ariaValueMax:hn,ariaValueMin:hn,ariaValueNow:hn,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function F9(n,e){return e in n?n[e]:e}function I9(n,e){return F9(n,e.toLowerCase())}const H0e=ev({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gy,acceptCharset:bs,accessKey:bs,action:null,allow:null,allowFullScreen:ki,allowPaymentRequest:ki,allowUserMedia:ki,alt:null,as:null,async:ki,autoCapitalize:null,autoComplete:bs,autoFocus:ki,autoPlay:ki,blocking:bs,capture:null,charSet:null,checked:ki,cite:null,className:bs,cols:hn,colSpan:null,content:null,contentEditable:Ya,controls:ki,controlsList:bs,coords:hn|gy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ki,defer:ki,dir:null,dirName:null,disabled:ki,download:y4,draggable:Ya,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ki,formTarget:null,headers:bs,height:hn,hidden:y4,high:hn,href:null,hrefLang:null,htmlFor:bs,httpEquiv:bs,id:null,imageSizes:null,imageSrcSet:null,inert:ki,inputMode:null,integrity:null,is:null,isMap:ki,itemId:null,itemProp:bs,itemRef:bs,itemScope:ki,itemType:bs,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ki,low:hn,manifest:null,max:null,maxLength:hn,media:null,method:null,min:null,minLength:hn,multiple:ki,muted:ki,name:null,nonce:null,noModule:ki,noValidate:ki,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ki,optimum:hn,pattern:null,ping:bs,placeholder:null,playsInline:ki,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ki,referrerPolicy:null,rel:bs,required:ki,reversed:ki,rows:hn,rowSpan:hn,sandbox:bs,scope:null,scoped:ki,seamless:ki,selected:ki,shadowRootClonable:ki,shadowRootDelegatesFocus:ki,shadowRootMode:null,shape:null,size:hn,sizes:null,slot:null,span:hn,spellCheck:Ya,src:null,srcDoc:null,srcLang:null,srcSet:null,start:hn,step:null,style:null,tabIndex:hn,target:null,title:null,translate:null,type:null,typeMustMatch:ki,useMap:null,value:Ya,width:hn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bs,axis:null,background:null,bgColor:null,border:hn,borderColor:null,bottomMargin:hn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ki,declare:ki,event:null,face:null,frame:null,frameBorder:null,hSpace:hn,leftMargin:hn,link:null,longDesc:null,lowSrc:null,marginHeight:hn,marginWidth:hn,noResize:ki,noHref:ki,noShade:ki,noWrap:ki,object:null,profile:null,prompt:null,rev:null,rightMargin:hn,rules:null,scheme:null,scrolling:Ya,standby:null,summary:null,text:null,topMargin:hn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:hn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ki,disableRemotePlayback:ki,prefix:null,property:null,results:hn,security:null,unselectable:null},space:"html",transform:I9}),Q0e=ev({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xu,accentHeight:hn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:hn,amplitude:hn,arabicForm:null,ascent:hn,attributeName:null,attributeType:null,azimuth:hn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:hn,by:null,calcMode:null,capHeight:hn,className:bs,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:hn,diffuseConstant:hn,direction:null,display:null,dur:null,divisor:hn,dominantBaseline:null,download:ki,dx:null,dy:null,edgeMode:null,editable:null,elevation:hn,enableBackground:null,end:null,event:null,exponent:hn,externalResourcesRequired:null,fill:null,fillOpacity:hn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gy,g2:gy,glyphName:gy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:hn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:hn,horizOriginX:hn,horizOriginY:hn,id:null,ideographic:hn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:hn,k:hn,k1:hn,k2:hn,k3:hn,k4:hn,kernelMatrix:xu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:hn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:hn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:hn,overlineThickness:hn,paintOrder:null,panose1:null,path:null,pathLength:hn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bs,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:hn,pointsAtY:hn,pointsAtZ:hn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xu,rev:xu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xu,requiredFeatures:xu,requiredFonts:xu,requiredFormats:xu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:hn,specularExponent:hn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:hn,strikethroughThickness:hn,string:null,stroke:null,strokeDashArray:xu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:hn,strokeOpacity:hn,strokeWidth:null,style:null,surfaceScale:hn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xu,tabIndex:hn,tableValues:null,target:null,targetX:hn,targetY:hn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:hn,underlineThickness:hn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:hn,values:null,vAlphabetic:hn,vMathematical:hn,vectorEffect:null,vHanging:hn,vIdeographic:hn,version:null,vertAdvY:hn,vertOriginX:hn,vertOriginY:hn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:hn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:F9}),L9=ev({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),R9=ev({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:I9}),D9=ev({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),z0e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},j0e=/[A-Z]/g,O8=/-[a-z]/g,V0e=/^data[-\w.:]+$/i;function G0e(n,e){const t=g4(e);let i=e,r=Wc;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&V0e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(O8,q0e);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!O8.test(s)){let a=s.replace(j0e,K0e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}r=mN}return new r(i,e)}function K0e(n){return"-"+n.toLowerCase()}function q0e(n){return n.charAt(1).toUpperCase()}const W0e=U9([N9,H0e,L9,R9,D9],"html"),gN=U9([N9,Q0e,L9,R9,D9],"svg");function X0e(n){return n.join(" ").trim()}var q0={},K3,P8;function Y0e(){if(P8)return K3;P8=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",A="*",f="",p="comment",d="declaration";function y(w,b){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];b=b||{};var _=1,E=1;function C(Y){var ne=Y.match(e);ne&&(_+=ne.length);var W=Y.lastIndexOf(l);E=~W?Y.length-W:E+Y.length}function T(){var Y={line:_,column:E};return function(ne){return ne.position=new M(Y),N(),ne}}function M(Y){this.start=Y,this.end={line:_,column:E},this.source=b.source}M.prototype.content=w;function F(Y){var ne=new Error(b.source+":"+_+":"+E+": "+Y);if(ne.reason=Y,ne.filename=b.source,ne.line=_,ne.column=E,ne.source=w,!b.silent)throw ne}function L(Y){var ne=Y.exec(w);if(ne){var W=ne[0];return C(W),w=w.slice(W.length),ne}}function N(){L(t)}function R(Y){var ne;for(Y=Y||[];ne=k();)ne!==!1&&Y.push(ne);return Y}function k(){var Y=T();if(!(c!=w.charAt(0)||A!=w.charAt(1))){for(var ne=2;f!=w.charAt(ne)&&(A!=w.charAt(ne)||c!=w.charAt(ne+1));)++ne;if(ne+=2,f===w.charAt(ne-1))return F("End of comment missing");var W=w.slice(2,ne-2);return E+=2,C(W),w=w.slice(ne),E+=2,Y({type:p,comment:W})}}function Q(){var Y=T(),ne=L(i);if(ne){if(k(),!L(r))return F("property missing ':'");var W=L(s),q=Y({type:d,property:x(ne[0].replace(n,f)),value:W?x(W[0].replace(n,f)):f});return L(a),q}}function J(){var Y=[];R(Y);for(var ne;ne=Q();)ne!==!1&&(Y.push(ne),R(Y));return Y}return N(),J()}function x(w){return w?w.replace(o,f):f}return K3=y,K3}var k8;function Z0e(){if(k8)return q0;k8=1;var n=q0&&q0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(q0,"__esModule",{value:!0}),q0.default=t;const e=n(Y0e());function t(i,r){let s=null;if(!i||typeof i!="string")return s;const a=(0,e.default)(i),o=typeof r=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:A}=l;o?r(c,A,l):A&&(s=s||{},s[c]=A)}),s}return q0}var r1={},H8;function J0e(){if(H8)return r1;H8=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(c){return!c||t.test(c)||n.test(c)},a=function(c,A){return A.toUpperCase()},o=function(c,A){return"".concat(A,"-")},l=function(c,A){return A===void 0&&(A={}),s(c)?c:(c=c.toLowerCase(),A.reactCompat?c=c.replace(r,o):c=c.replace(i,o),c.replace(e,a))};return r1.camelCase=l,r1}var s1,Q8;function $0e(){if(Q8)return s1;Q8=1;var n=s1&&s1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(Z0e()),t=J0e();function i(r,s){var a={};return!r||typeof r!="string"||(0,e.default)(r,function(o,l){o&&l&&(a[(0,t.camelCase)(o,s)]=l)}),a}return i.default=i,s1=i,s1}var eye=$0e();const tye=Cx(eye),O9=P9("end"),yN=P9("start");function P9(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function nye(n){const e=yN(n),t=O9(n);if(e&&t)return{start:e,end:t}}function X1(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?z8(n.position):"start"in n||"end"in n?z8(n):"line"in n||"column"in n?x4(n):""}function x4(n){return j8(n&&n.line)+":"+j8(n&&n.column)}function z8(n){return x4(n&&n.start)+"-"+x4(n&&n.end)}function j8(n){return n&&typeof n=="number"?n:1}class Fl extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",s={},a=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?r=e:!s.cause&&e&&(a=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?s.ruleId=i:(s.source=i.slice(0,l),s.ruleId=i.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=X1(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fl.prototype.file="";Fl.prototype.name="";Fl.prototype.reason="";Fl.prototype.message="";Fl.prototype.stack="";Fl.prototype.column=void 0;Fl.prototype.line=void 0;Fl.prototype.ancestors=void 0;Fl.prototype.cause=void 0;Fl.prototype.fatal=void 0;Fl.prototype.place=void 0;Fl.prototype.ruleId=void 0;Fl.prototype.source=void 0;const vN={}.hasOwnProperty,iye=new Map,rye=/[A-Z]/g,sye=new Set(["table","tbody","thead","tfoot","tr"]),aye=new Set(["td","th"]),k9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oye(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=pye(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=dye(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?gN:W0e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=H9(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function H9(n,e,t){if(e.type==="element")return lye(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return cye(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Aye(n,e,t);if(e.type==="mdxjsEsm")return uye(n,e);if(e.type==="root")return fye(n,e,t);if(e.type==="text")return hye(n,e)}function lye(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=gN,n.schema=r),n.ancestors.push(e);const s=z9(n,e.tagName,!1),a=mye(n,e);let o=bN(n,e);return sye.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!P0e(l):!0})),Q9(n,a,s,e),xN(a,o),n.ancestors.pop(),n.schema=i,n.create(e,s,a,t)}function cye(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Bx(n,e.position)}function uye(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Bx(n,e.position)}function Aye(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=gN,n.schema=r),n.ancestors.push(e);const s=e.name===null?n.Fragment:z9(n,e.name,!0),a=gye(n,e),o=bN(n,e);return Q9(n,a,s,e),xN(a,o),n.ancestors.pop(),n.schema=i,n.create(e,s,a,t)}function fye(n,e,t){const i={};return xN(i,bN(n,e)),n.create(e,n.Fragment,i,t)}function hye(n,e){return e.value}function Q9(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function xN(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function dye(n,e,t){return i;function i(r,s,a,o){const c=Array.isArray(a.children)?t:e;return o?c(s,a,o):c(s,a)}}function pye(n,e){return t;function t(i,r,s,a){const o=Array.isArray(s.children),l=yN(i);return e(r,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:n,lineNumber:l?l.line:void 0},void 0)}}function mye(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&vN.call(e.properties,r)){const s=yye(n,r,e.properties[r]);if(s){const[a,o]=s;n.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&aye.has(e.tagName)?i=o:t[a]=o}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function gye(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(t,n.evaluater.evaluateExpression(o.argument))}else Bx(n,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const o=i.value.data.estree.body[0];o.type,s=n.evaluater.evaluateExpression(o.expression)}else Bx(n,e.position);else s=i.value===null?!0:i.value;t[r]=s}return t}function bN(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:iye;for(;++i<e.children.length;){const s=e.children[i];let a;if(n.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=r.get(l)||0;a=l+"-"+c,r.set(l,c+1)}}const o=H9(n,s,a);o!==void 0&&t.push(o)}return t}function yye(n,e,t){const i=G0e(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?I0e(t):X0e(t)),i.property==="style"){let r=typeof t=="object"?t:vye(n,String(t));return n.stylePropertyNameCase==="css"&&(r=xye(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?z0e[i.property]||i.property:i.attribute,t]}}function vye(n,e){try{return tye(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Fl("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=k9+"#cannot-parse-style-attribute",r}}function z9(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,a;for(;++s<r.length;){const o=L8(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}i=a}else i=L8(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return vN.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Bx(n)}function Bx(n,e){const t=new Fl("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=k9+"#cannot-handle-mdx-estrees-without-createevaluater",t}function xye(n){const e={};let t;for(t in n)vN.call(n,t)&&(e[bye(t)]=n[t]);return e}function bye(n){let e=n.replace(rye,wye);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function wye(n){return"-"+n.toLowerCase()}const q3={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},_ye={};function Sye(n,e){const t=_ye,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return j9(n,i,r)}function j9(n,e,t){if(Eye(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return V8(n.children,e,t)}return Array.isArray(n)?V8(n,e,t):""}function V8(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=j9(n[r],e,t);return i.join("")}function Eye(n){return!!(n&&typeof n=="object")}const G8=document.createElement("i");function wN(n){const e="&"+n+";";G8.innerHTML=e;const t=G8.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function eh(n,e,t,i){const r=n.length;let s=0,a;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)a=Array.from(i),a.unshift(e,t),n.splice(...a);else for(t&&n.splice(e,t);s<i.length;)a=i.slice(s,s+1e4),a.unshift(e,0),n.splice(...a),s+=1e4,e+=1e4}function eA(n,e){return n.length>0?(eh(n,n.length,0,e),n):e}const K8={}.hasOwnProperty;function Bye(n){const e={};let t=-1;for(;++t<n.length;)Cye(e,n[t]);return e}function Cye(n,e){let t;for(t in e){const r=(K8.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let a;if(s)for(a in s){K8.call(r,a)||(r[a]=[]);const o=s[a];Mye(r[a],Array.isArray(o)?o:o?[o]:[])}}}function Mye(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);eh(n,0,0,i)}function V9(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function yy(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vf=Gp(/[A-Za-z]/),_u=Gp(/[\dA-Za-z]/),Tye=Gp(/[#-'*+\--9=?A-Z^-~]/);function b4(n){return n!==null&&(n<32||n===127)}const w4=Gp(/\d/),Uye=Gp(/[\dA-Fa-f]/),Nye=Gp(/[!-/:-@[-`{-~]/);function wi(n){return n!==null&&n<-2}function Gc(n){return n!==null&&(n<0||n===32)}function Or(n){return n===-2||n===-1||n===32}const Fye=Gp(new RegExp("\\p{P}|\\p{S}","u")),Iye=Gp(/\s/);function Gp(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function tv(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const s=n.charCodeAt(t);let a="";if(s===37&&_u(n.charCodeAt(t+1))&&_u(n.charCodeAt(t+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=n.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),r=1):a=""}else a=String.fromCharCode(s);a&&(e.push(n.slice(i,t),encodeURIComponent(a)),i=t+r+1,a=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function Es(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Or(l)?(n.enter(t),o(l)):e(l)}function o(l){return Or(l)&&s++<r?(n.consume(l),o):(n.exit(t),e(l))}}const Lye={tokenize:Rye};function Rye(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Es(n,e,"linePrefix")}function r(o){return n.enter("paragraph"),s(o)}function s(o){const l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,a(o)}function a(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return wi(o)?(n.consume(o),n.exit("chunkText"),s):(n.consume(o),a)}}const Dye={tokenize:Oye},q8={tokenize:Pye};function Oye(n){const e=this,t=[];let i=0,r,s,a;return o;function o(E){if(i<t.length){const C=t[i];return e.containerState=C[1],n.attempt(C[0].continuation,l,c)(E)}return c(E)}function l(E){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&_();const C=e.events.length;let T=C,M;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){M=e.events[T][1].end;break}b(i);let F=C;for(;F<e.events.length;)e.events[F][1].end={...M},F++;return eh(e.events,T+1,0,e.events.slice(C)),e.events.length=F,c(E)}return o(E)}function c(E){if(i===t.length){if(!r)return p(E);if(r.currentConstruct&&r.currentConstruct.concrete)return y(E);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(q8,A,f)(E)}function A(E){return r&&_(),b(i),p(E)}function f(E){return e.parser.lazy[e.now().line]=i!==t.length,a=e.now().offset,y(E)}function p(E){return e.containerState={},n.attempt(q8,d,y)(E)}function d(E){return i++,t.push([e.currentConstruct,e.containerState]),p(E)}function y(E){if(E===null){r&&_(),b(0),n.consume(E);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),x(E)}function x(E){if(E===null){w(n.exit("chunkFlow"),!0),b(0),n.consume(E);return}return wi(E)?(n.consume(E),w(n.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(n.consume(E),x)}function w(E,C){const T=e.sliceStream(E);if(C&&T.push(null),E.previous=s,s&&(s.next=E),s=E,r.defineSkip(E.start),r.write(T),e.parser.lazy[E.start.line]){let M=r.events.length;for(;M--;)if(r.events[M][1].start.offset<a&&(!r.events[M][1].end||r.events[M][1].end.offset>a))return;const F=e.events.length;let L=F,N,R;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(N){R=e.events[L][1].end;break}N=!0}for(b(i),M=F;M<e.events.length;)e.events[M][1].end={...R},M++;eh(e.events,L+1,0,e.events.slice(F)),e.events.length=M}}function b(E){let C=t.length;for(;C-- >E;){const T=t[C];e.containerState=T[1],T[0].exit.call(e,n)}t.length=E}function _(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Pye(n,e,t){return Es(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function W8(n){if(n===null||Gc(n)||Iye(n))return 1;if(Fye(n))return 2}function _N(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const _4={name:"attention",resolveAll:kye,tokenize:Hye};function kye(n,e){let t=-1,i,r,s,a,o,l,c,A;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const f={...n[i][1].end},p={...n[t][1].start};X8(f,-l),X8(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...n[i][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},n[i][1].end={...a.start},n[t][1].start={...o.end},c=[],n[i][1].end.offset-n[i][1].start.offset&&(c=eA(c,[["enter",n[i][1],e],["exit",n[i][1],e]])),c=eA(c,[["enter",r,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=eA(c,_N(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),c=eA(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(A=2,c=eA(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):A=0,eh(n,i-1,t-i+3,c),t=i+c.length-A-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Hye(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=W8(i);let s;return a;function a(l){return s=l,n.enter("attentionSequence"),o(l)}function o(l){if(l===s)return n.consume(l),o;const c=n.exit("attentionSequence"),A=W8(l),f=!A||A===2&&r||t.includes(l),p=!r||r===2&&A||t.includes(i);return c._open=!!(s===42?f:f&&(r||!p)),c._close=!!(s===42?p:p&&(A||!f)),e(l)}}function X8(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const Qye={name:"autolink",tokenize:zye};function zye(n,e,t){let i=0;return r;function r(d){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(d),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(d){return Vf(d)?(n.consume(d),a):d===64?t(d):c(d)}function a(d){return d===43||d===45||d===46||_u(d)?(i=1,o(d)):c(d)}function o(d){return d===58?(n.consume(d),i=0,l):(d===43||d===45||d===46||_u(d))&&i++<32?(n.consume(d),o):(i=0,c(d))}function l(d){return d===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(d),n.exit("autolinkMarker"),n.exit("autolink"),e):d===null||d===32||d===60||b4(d)?t(d):(n.consume(d),l)}function c(d){return d===64?(n.consume(d),A):Tye(d)?(n.consume(d),c):t(d)}function A(d){return _u(d)?f(d):t(d)}function f(d){return d===46?(n.consume(d),i=0,A):d===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(d),n.exit("autolinkMarker"),n.exit("autolink"),e):p(d)}function p(d){if((d===45||_u(d))&&i++<63){const y=d===45?p:f;return n.consume(d),y}return t(d)}}const QE={partial:!0,tokenize:jye};function jye(n,e,t){return i;function i(s){return Or(s)?Es(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||wi(s)?e(s):t(s)}}const G9={continuation:{tokenize:Gye},exit:Kye,name:"blockQuote",tokenize:Vye};function Vye(n,e,t){const i=this;return r;function r(a){if(a===62){const o=i.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),s}return t(a)}function s(a){return Or(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(a))}}function Gye(n,e,t){const i=this;return r;function r(a){return Or(a)?Es(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return n.attempt(G9,e,t)(a)}}function Kye(n){n.exit("blockQuote")}const K9={name:"characterEscape",tokenize:qye};function qye(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return Nye(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const q9={name:"characterReference",tokenize:Wye};function Wye(n,e,t){const i=this;let r=0,s,a;return o;function o(f){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(f),n.exit("characterReferenceMarker"),l}function l(f){return f===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(f),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),s=31,a=_u,A(f))}function c(f){return f===88||f===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(f),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,a=Uye,A):(n.enter("characterReferenceValue"),s=7,a=w4,A(f))}function A(f){if(f===59&&r){const p=n.exit("characterReferenceValue");return a===_u&&!wN(i.sliceSerialize(p))?t(f):(n.enter("characterReferenceMarker"),n.consume(f),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return a(f)&&r++<s?(n.consume(f),A):t(f)}}const Y8={partial:!0,tokenize:Yye},Z8={concrete:!0,name:"codeFenced",tokenize:Xye};function Xye(n,e,t){const i=this,r={partial:!0,tokenize:T};let s=0,a=0,o;return l;function l(M){return c(M)}function c(M){const F=i.events[i.events.length-1];return s=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,o=M,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),A(M)}function A(M){return M===o?(a++,n.consume(M),A):a<3?t(M):(n.exit("codeFencedFenceSequence"),Or(M)?Es(n,f,"whitespace")(M):f(M))}function f(M){return M===null||wi(M)?(n.exit("codeFencedFence"),i.interrupt?e(M):n.check(Y8,x,C)(M)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),p(M))}function p(M){return M===null||wi(M)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),f(M)):Or(M)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Es(n,d,"whitespace")(M)):M===96&&M===o?t(M):(n.consume(M),p)}function d(M){return M===null||wi(M)?f(M):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===null||wi(M)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),f(M)):M===96&&M===o?t(M):(n.consume(M),y)}function x(M){return n.attempt(r,C,w)(M)}function w(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),b}function b(M){return s>0&&Or(M)?Es(n,_,"linePrefix",s+1)(M):_(M)}function _(M){return M===null||wi(M)?n.check(Y8,x,C)(M):(n.enter("codeFlowValue"),E(M))}function E(M){return M===null||wi(M)?(n.exit("codeFlowValue"),_(M)):(n.consume(M),E)}function C(M){return n.exit("codeFenced"),e(M)}function T(M,F,L){let N=0;return R;function R(ne){return M.enter("lineEnding"),M.consume(ne),M.exit("lineEnding"),k}function k(ne){return M.enter("codeFencedFence"),Or(ne)?Es(M,Q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):Q(ne)}function Q(ne){return ne===o?(M.enter("codeFencedFenceSequence"),J(ne)):L(ne)}function J(ne){return ne===o?(N++,M.consume(ne),J):N>=a?(M.exit("codeFencedFenceSequence"),Or(ne)?Es(M,Y,"whitespace")(ne):Y(ne)):L(ne)}function Y(ne){return ne===null||wi(ne)?(M.exit("codeFencedFence"),F(ne)):L(ne)}}}function Yye(n,e,t){const i=this;return r;function r(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s)}function s(a){return i.parser.lazy[i.now().line]?t(a):e(a)}}const W3={name:"codeIndented",tokenize:Jye},Zye={partial:!0,tokenize:$ye};function Jye(n,e,t){const i=this;return r;function r(c){return n.enter("codeIndented"),Es(n,s,"linePrefix",5)(c)}function s(c){const A=i.events[i.events.length-1];return A&&A[1].type==="linePrefix"&&A[2].sliceSerialize(A[1],!0).length>=4?a(c):t(c)}function a(c){return c===null?l(c):wi(c)?n.attempt(Zye,a,l)(c):(n.enter("codeFlowValue"),o(c))}function o(c){return c===null||wi(c)?(n.exit("codeFlowValue"),a(c)):(n.consume(c),o)}function l(c){return n.exit("codeIndented"),e(c)}}function $ye(n,e,t){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?t(a):wi(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),r):Es(n,s,"linePrefix",5)(a)}function s(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):wi(a)?r(a):t(a)}}const eve={name:"codeText",previous:nve,resolve:tve,tokenize:ive};function tve(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function nve(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ive(n,e,t){let i=0,r,s;return a;function a(f){return n.enter("codeText"),n.enter("codeTextSequence"),o(f)}function o(f){return f===96?(n.consume(f),i++,o):(n.exit("codeTextSequence"),l(f))}function l(f){return f===null?t(f):f===32?(n.enter("space"),n.consume(f),n.exit("space"),l):f===96?(s=n.enter("codeTextSequence"),r=0,A(f)):wi(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),l):(n.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||wi(f)?(n.exit("codeTextData"),l(f)):(n.consume(f),c)}function A(f){return f===96?(n.consume(f),r++,A):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class rve{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&a1(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),a1(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),a1(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);a1(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);a1(this.left,t.reverse())}}}function a1(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function W9(n){const e={};let t=-1,i,r,s,a,o,l,c;const A=new rve(n);for(;++t<A.length;){for(;t in e;)t=e[t];if(i=A.get(t),t&&i[1].type==="chunkFlow"&&A.get(t-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,sve(A,t)),t=e[t],c=!0);else if(i[1]._container){for(s=t,r=void 0;s--;)if(a=A.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(A.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(i[1].end={...A.get(r)[1].start},o=A.slice(r,t),o.unshift(i),A.splice(r,t-r+1,o))}}return eh(n,0,Number.POSITIVE_INFINITY,A.slice(0)),!c}function sve(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const s=[];let a=t._tokenizer;a||(a=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let A,f,p=-1,d=t,y=0,x=0;const w=[x];for(;d;){for(;n.get(++r)[1]!==d;);s.push(r),d._tokenizer||(A=i.sliceStream(d),d.next||A.push(null),f&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(A),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=t;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(x=p+1,w.push(x),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):w.pop(),p=w.length;p--;){const b=o.slice(w[p],w[p+1]),_=s.pop();l.push([_,_+b.length-1]),n.splice(_,2,b)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const ave={resolve:lve,tokenize:cve},ove={partial:!0,tokenize:uve};function lve(n){return W9(n),n}function cve(n,e){let t;return i;function i(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?s(o):wi(o)?n.check(ove,a,s)(o):(n.consume(o),r)}function s(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function a(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function uve(n,e,t){const i=this;return r;function r(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),Es(n,s,"linePrefix")}function s(a){if(a===null||wi(a))return t(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):n.interrupt(i.parser.constructs.flow,t,e)(a)}}function X9(n,e,t,i,r,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let A=0;return f;function f(b){return b===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(b),n.exit(s),p):b===null||b===32||b===41||b4(b)?t(b):(n.enter(i),n.enter(a),n.enter(o),n.enter("chunkString",{contentType:"string"}),x(b))}function p(b){return b===62?(n.enter(s),n.consume(b),n.exit(s),n.exit(r),n.exit(i),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===62?(n.exit("chunkString"),n.exit(o),p(b)):b===null||b===60||wi(b)?t(b):(n.consume(b),b===92?y:d)}function y(b){return b===60||b===62||b===92?(n.consume(b),d):d(b)}function x(b){return!A&&(b===null||b===41||Gc(b))?(n.exit("chunkString"),n.exit(o),n.exit(a),n.exit(i),e(b)):A<c&&b===40?(n.consume(b),A++,x):b===41?(n.consume(b),A--,x):b===null||b===32||b===40||b4(b)?t(b):(n.consume(b),b===92?w:x)}function w(b){return b===40||b===41||b===92?(n.consume(b),x):x(b)}}function Y9(n,e,t,i,r,s){const a=this;let o=0,l;return c;function c(d){return n.enter(i),n.enter(r),n.consume(d),n.exit(r),n.enter(s),A}function A(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?t(d):d===93?(n.exit(s),n.enter(r),n.consume(d),n.exit(r),n.exit(i),e):wi(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),A):(n.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||wi(d)||o++>999?(n.exit("chunkString"),A(d)):(n.consume(d),l||(l=!Or(d)),d===92?p:f)}function p(d){return d===91||d===92||d===93?(n.consume(d),o++,f):f(d)}}function Z9(n,e,t,i,r,s){let a;return o;function o(p){return p===34||p===39||p===40?(n.enter(i),n.enter(r),n.consume(p),n.exit(r),a=p===40?41:p,l):t(p)}function l(p){return p===a?(n.enter(r),n.consume(p),n.exit(r),n.exit(i),e):(n.enter(s),c(p))}function c(p){return p===a?(n.exit(s),l(a)):p===null?t(p):wi(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),Es(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),A(p))}function A(p){return p===a||p===null||wi(p)?(n.exit("chunkString"),c(p)):(n.consume(p),p===92?f:A)}function f(p){return p===a||p===92?(n.consume(p),A):A(p)}}function Y1(n,e){let t;return i;function i(r){return wi(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Or(r)?Es(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const Ave={name:"definition",tokenize:hve},fve={partial:!0,tokenize:dve};function hve(n,e,t){const i=this;let r;return s;function s(d){return n.enter("definition"),a(d)}function a(d){return Y9.call(i,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return r=yy(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),d===58?(n.enter("definitionMarker"),n.consume(d),n.exit("definitionMarker"),l):t(d)}function l(d){return Gc(d)?Y1(n,c)(d):c(d)}function c(d){return X9(n,A,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function A(d){return n.attempt(fve,f,f)(d)}function f(d){return Or(d)?Es(n,p,"whitespace")(d):p(d)}function p(d){return d===null||wi(d)?(n.exit("definition"),i.parser.defined.push(r),e(d)):t(d)}}function dve(n,e,t){return i;function i(o){return Gc(o)?Y1(n,r)(o):t(o)}function r(o){return Z9(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Or(o)?Es(n,a,"whitespace")(o):a(o)}function a(o){return o===null||wi(o)?e(o):t(o)}}const pve={name:"hardBreakEscape",tokenize:mve};function mve(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return wi(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const gve={name:"headingAtx",resolve:yve,tokenize:vve};function yve(n,e){let t=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},eh(n,i,t-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),n}function vve(n,e,t){let i=0;return r;function r(A){return n.enter("atxHeading"),s(A)}function s(A){return n.enter("atxHeadingSequence"),a(A)}function a(A){return A===35&&i++<6?(n.consume(A),a):A===null||Gc(A)?(n.exit("atxHeadingSequence"),o(A)):t(A)}function o(A){return A===35?(n.enter("atxHeadingSequence"),l(A)):A===null||wi(A)?(n.exit("atxHeading"),e(A)):Or(A)?Es(n,o,"whitespace")(A):(n.enter("atxHeadingText"),c(A))}function l(A){return A===35?(n.consume(A),l):(n.exit("atxHeadingSequence"),o(A))}function c(A){return A===null||A===35||Gc(A)?(n.exit("atxHeadingText"),o(A)):(n.consume(A),c)}}const xve=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],J8=["pre","script","style","textarea"],bve={concrete:!0,name:"htmlFlow",resolveTo:Sve,tokenize:Eve},wve={partial:!0,tokenize:Cve},_ve={partial:!0,tokenize:Bve};function Sve(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Eve(n,e,t){const i=this;let r,s,a,o,l;return c;function c(j){return A(j)}function A(j){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(j),f}function f(j){return j===33?(n.consume(j),p):j===47?(n.consume(j),s=!0,x):j===63?(n.consume(j),r=3,i.interrupt?e:V):Vf(j)?(n.consume(j),a=String.fromCharCode(j),w):t(j)}function p(j){return j===45?(n.consume(j),r=2,d):j===91?(n.consume(j),r=5,o=0,y):Vf(j)?(n.consume(j),r=4,i.interrupt?e:V):t(j)}function d(j){return j===45?(n.consume(j),i.interrupt?e:V):t(j)}function y(j){const oe="CDATA[";return j===oe.charCodeAt(o++)?(n.consume(j),o===oe.length?i.interrupt?e:Q:y):t(j)}function x(j){return Vf(j)?(n.consume(j),a=String.fromCharCode(j),w):t(j)}function w(j){if(j===null||j===47||j===62||Gc(j)){const oe=j===47,fe=a.toLowerCase();return!oe&&!s&&J8.includes(fe)?(r=1,i.interrupt?e(j):Q(j)):xve.includes(a.toLowerCase())?(r=6,oe?(n.consume(j),b):i.interrupt?e(j):Q(j)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(j):s?_(j):E(j))}return j===45||_u(j)?(n.consume(j),a+=String.fromCharCode(j),w):t(j)}function b(j){return j===62?(n.consume(j),i.interrupt?e:Q):t(j)}function _(j){return Or(j)?(n.consume(j),_):R(j)}function E(j){return j===47?(n.consume(j),R):j===58||j===95||Vf(j)?(n.consume(j),C):Or(j)?(n.consume(j),E):R(j)}function C(j){return j===45||j===46||j===58||j===95||_u(j)?(n.consume(j),C):T(j)}function T(j){return j===61?(n.consume(j),M):Or(j)?(n.consume(j),T):E(j)}function M(j){return j===null||j===60||j===61||j===62||j===96?t(j):j===34||j===39?(n.consume(j),l=j,F):Or(j)?(n.consume(j),M):L(j)}function F(j){return j===l?(n.consume(j),l=null,N):j===null||wi(j)?t(j):(n.consume(j),F)}function L(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Gc(j)?T(j):(n.consume(j),L)}function N(j){return j===47||j===62||Or(j)?E(j):t(j)}function R(j){return j===62?(n.consume(j),k):t(j)}function k(j){return j===null||wi(j)?Q(j):Or(j)?(n.consume(j),k):t(j)}function Q(j){return j===45&&r===2?(n.consume(j),W):j===60&&r===1?(n.consume(j),q):j===62&&r===4?(n.consume(j),te):j===63&&r===3?(n.consume(j),V):j===93&&r===5?(n.consume(j),re):wi(j)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(wve,z,J)(j)):j===null||wi(j)?(n.exit("htmlFlowData"),J(j)):(n.consume(j),Q)}function J(j){return n.check(_ve,Y,z)(j)}function Y(j){return n.enter("lineEnding"),n.consume(j),n.exit("lineEnding"),ne}function ne(j){return j===null||wi(j)?J(j):(n.enter("htmlFlowData"),Q(j))}function W(j){return j===45?(n.consume(j),V):Q(j)}function q(j){return j===47?(n.consume(j),a="",$):Q(j)}function $(j){if(j===62){const oe=a.toLowerCase();return J8.includes(oe)?(n.consume(j),te):Q(j)}return Vf(j)&&a.length<8?(n.consume(j),a+=String.fromCharCode(j),$):Q(j)}function re(j){return j===93?(n.consume(j),V):Q(j)}function V(j){return j===62?(n.consume(j),te):j===45&&r===2?(n.consume(j),V):Q(j)}function te(j){return j===null||wi(j)?(n.exit("htmlFlowData"),z(j)):(n.consume(j),te)}function z(j){return n.exit("htmlFlow"),e(j)}}function Bve(n,e,t){const i=this;return r;function r(a){return wi(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s):t(a)}function s(a){return i.parser.lazy[i.now().line]?t(a):e(a)}}function Cve(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(QE,e,t)}}const Mve={name:"htmlText",tokenize:Tve};function Tve(n,e,t){const i=this;let r,s,a;return o;function o(V){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(V),l}function l(V){return V===33?(n.consume(V),c):V===47?(n.consume(V),T):V===63?(n.consume(V),E):Vf(V)?(n.consume(V),L):t(V)}function c(V){return V===45?(n.consume(V),A):V===91?(n.consume(V),s=0,y):Vf(V)?(n.consume(V),_):t(V)}function A(V){return V===45?(n.consume(V),d):t(V)}function f(V){return V===null?t(V):V===45?(n.consume(V),p):wi(V)?(a=f,q(V)):(n.consume(V),f)}function p(V){return V===45?(n.consume(V),d):f(V)}function d(V){return V===62?W(V):V===45?p(V):f(V)}function y(V){const te="CDATA[";return V===te.charCodeAt(s++)?(n.consume(V),s===te.length?x:y):t(V)}function x(V){return V===null?t(V):V===93?(n.consume(V),w):wi(V)?(a=x,q(V)):(n.consume(V),x)}function w(V){return V===93?(n.consume(V),b):x(V)}function b(V){return V===62?W(V):V===93?(n.consume(V),b):x(V)}function _(V){return V===null||V===62?W(V):wi(V)?(a=_,q(V)):(n.consume(V),_)}function E(V){return V===null?t(V):V===63?(n.consume(V),C):wi(V)?(a=E,q(V)):(n.consume(V),E)}function C(V){return V===62?W(V):E(V)}function T(V){return Vf(V)?(n.consume(V),M):t(V)}function M(V){return V===45||_u(V)?(n.consume(V),M):F(V)}function F(V){return wi(V)?(a=F,q(V)):Or(V)?(n.consume(V),F):W(V)}function L(V){return V===45||_u(V)?(n.consume(V),L):V===47||V===62||Gc(V)?N(V):t(V)}function N(V){return V===47?(n.consume(V),W):V===58||V===95||Vf(V)?(n.consume(V),R):wi(V)?(a=N,q(V)):Or(V)?(n.consume(V),N):W(V)}function R(V){return V===45||V===46||V===58||V===95||_u(V)?(n.consume(V),R):k(V)}function k(V){return V===61?(n.consume(V),Q):wi(V)?(a=k,q(V)):Or(V)?(n.consume(V),k):N(V)}function Q(V){return V===null||V===60||V===61||V===62||V===96?t(V):V===34||V===39?(n.consume(V),r=V,J):wi(V)?(a=Q,q(V)):Or(V)?(n.consume(V),Q):(n.consume(V),Y)}function J(V){return V===r?(n.consume(V),r=void 0,ne):V===null?t(V):wi(V)?(a=J,q(V)):(n.consume(V),J)}function Y(V){return V===null||V===34||V===39||V===60||V===61||V===96?t(V):V===47||V===62||Gc(V)?N(V):(n.consume(V),Y)}function ne(V){return V===47||V===62||Gc(V)?N(V):t(V)}function W(V){return V===62?(n.consume(V),n.exit("htmlTextData"),n.exit("htmlText"),e):t(V)}function q(V){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(V),n.exit("lineEnding"),$}function $(V){return Or(V)?Es(n,re,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):re(V)}function re(V){return n.enter("htmlTextData"),a(V)}}const SN={name:"labelEnd",resolveAll:Ive,resolveTo:Lve,tokenize:Rve},Uve={tokenize:Dve},Nve={tokenize:Ove},Fve={tokenize:Pve};function Ive(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&eh(n,0,n.length,t),n}function Lve(n,e){let t=n.length,i=0,r,s,a,o;for(;t--;)if(r=n[t][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=t);const l={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},c={type:"label",start:{...n[s][1].start},end:{...n[a][1].end}},A={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=eA(o,n.slice(s+1,s+i+3)),o=eA(o,[["enter",A,e]]),o=eA(o,_N(e.parser.constructs.insideSpan.null,n.slice(s+i+4,a-3),e)),o=eA(o,[["exit",A,e],n[a-2],n[a-1],["exit",c,e]]),o=eA(o,n.slice(a+1)),o=eA(o,[["exit",l,e]]),eh(n,s,n.length,o),n}function Rve(n,e,t){const i=this;let r=i.events.length,s,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return o;function o(p){return s?s._inactive?f(p):(a=i.parser.defined.includes(yy(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),l):t(p)}function l(p){return p===40?n.attempt(Uve,A,a?A:f)(p):p===91?n.attempt(Nve,A,a?c:f)(p):a?A(p):f(p)}function c(p){return n.attempt(Fve,A,f)(p)}function A(p){return e(p)}function f(p){return s._balanced=!0,t(p)}}function Dve(n,e,t){return i;function i(f){return n.enter("resource"),n.enter("resourceMarker"),n.consume(f),n.exit("resourceMarker"),r}function r(f){return Gc(f)?Y1(n,s)(f):s(f)}function s(f){return f===41?A(f):X9(n,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Gc(f)?Y1(n,l)(f):A(f)}function o(f){return t(f)}function l(f){return f===34||f===39||f===40?Z9(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):A(f)}function c(f){return Gc(f)?Y1(n,A)(f):A(f)}function A(f){return f===41?(n.enter("resourceMarker"),n.consume(f),n.exit("resourceMarker"),n.exit("resource"),e):t(f)}}function Ove(n,e,t){const i=this;return r;function r(o){return Y9.call(i,n,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return i.parser.defined.includes(yy(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function a(o){return t(o)}}function Pve(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const kve={name:"labelStartImage",resolveAll:SN.resolveAll,tokenize:Hve};function Hve(n,e,t){const i=this;return r;function r(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),s}function s(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),a):t(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const Qve={name:"labelStartLink",resolveAll:SN.resolveAll,tokenize:zve};function zve(n,e,t){const i=this;return r;function r(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(a):e(a)}}const X3={name:"lineEnding",tokenize:jve};function jve(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Es(n,e,"linePrefix")}}const f_={name:"thematicBreak",tokenize:Vve};function Vve(n,e,t){let i=0,r;return s;function s(c){return n.enter("thematicBreak"),a(c)}function a(c){return r=c,o(c)}function o(c){return c===r?(n.enter("thematicBreakSequence"),l(c)):i>=3&&(c===null||wi(c))?(n.exit("thematicBreak"),e(c)):t(c)}function l(c){return c===r?(n.consume(c),i++,l):(n.exit("thematicBreakSequence"),Or(c)?Es(n,o,"whitespace")(c):o(c))}}const kc={continuation:{tokenize:Wve},exit:Yve,name:"list",tokenize:qve},Gve={partial:!0,tokenize:Zve},Kve={partial:!0,tokenize:Xve};function qve(n,e,t){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return o;function o(d){const y=i.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!i.containerState.marker||d===i.containerState.marker:w4(d)){if(i.containerState.type||(i.containerState.type=y,n.enter(y,{_container:!0})),y==="listUnordered")return n.enter("listItemPrefix"),d===42||d===45?n.check(f_,t,c)(d):c(d);if(!i.interrupt||d===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(d)}return t(d)}function l(d){return w4(d)&&++a<10?(n.consume(d),l):(!i.interrupt||a<2)&&(i.containerState.marker?d===i.containerState.marker:d===41||d===46)?(n.exit("listItemValue"),c(d)):t(d)}function c(d){return n.enter("listItemMarker"),n.consume(d),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||d,n.check(QE,i.interrupt?t:A,n.attempt(Gve,p,f))}function A(d){return i.containerState.initialBlankLine=!0,s++,p(d)}function f(d){return Or(d)?(n.enter("listItemPrefixWhitespace"),n.consume(d),n.exit("listItemPrefixWhitespace"),p):t(d)}function p(d){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(d)}}function Wve(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(QE,r,s);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Es(n,e,"listItemIndent",i.containerState.size+1)(o)}function s(o){return i.containerState.furtherBlankLines||!Or(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Kve,e,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Es(n,n.attempt(kc,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Xve(n,e,t){const i=this;return Es(n,r,"listItemIndent",i.containerState.size+1);function r(s){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?e(s):t(s)}}function Yve(n){n.exit(this.containerState.type)}function Zve(n,e,t){const i=this;return Es(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const a=i.events[i.events.length-1];return!Or(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const $8={name:"setextUnderline",resolveTo:Jve,tokenize:$ve};function Jve(n,e){let t=n.length,i,r,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const a={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",a,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=a,n.push(["exit",a,e]),n}function $ve(n,e,t){const i=this;let r;return s;function s(c){let A=i.events.length,f;for(;A--;)if(i.events[A][1].type!=="lineEnding"&&i.events[A][1].type!=="linePrefix"&&i.events[A][1].type!=="content"){f=i.events[A][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||f)?(n.enter("setextHeadingLine"),r=c,a(c)):t(c)}function a(c){return n.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===r?(n.consume(c),o):(n.exit("setextHeadingLineSequence"),Or(c)?Es(n,l,"lineSuffix")(c):l(c))}function l(c){return c===null||wi(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const e1e={tokenize:t1e};function t1e(n){const e=this,t=n.attempt(QE,i,n.attempt(this.parser.constructs.flowInitial,r,Es(n,n.attempt(this.parser.constructs.flow,r,n.attempt(ave,r)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const n1e={resolveAll:$9()},i1e=J9("string"),r1e=J9("text");function J9(n){return{resolveAll:$9(n==="text"?s1e:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],s=t.attempt(r,a,o);return a;function a(A){return c(A)?s(A):o(A)}function o(A){if(A===null){t.consume(A);return}return t.enter("data"),t.consume(A),l}function l(A){return c(A)?(t.exit("data"),s(A)):(t.consume(A),l)}function c(A){if(A===null)return!0;const f=r[A];let p=-1;if(f)for(;++p<f.length;){const d=f[p];if(!d.previous||d.previous.call(i,i.previous))return!0}return!1}}}function $9(n){return e;function e(t,i){let r=-1,s;for(;++r<=t.length;)s===void 0?t[r]&&t[r][1].type==="data"&&(s=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(t,i):t}}function s1e(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let s=r.length,a=-1,o=0,l;for(;s--;){const c=r[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(o=0),o){const c={type:t===n.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:i.start._bufferIndex+a,_index:i.start._index+s,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const a1e={42:kc,43:kc,45:kc,48:kc,49:kc,50:kc,51:kc,52:kc,53:kc,54:kc,55:kc,56:kc,57:kc,62:G9},o1e={91:Ave},l1e={[-2]:W3,[-1]:W3,32:W3},c1e={35:gve,42:f_,45:[$8,f_],60:bve,61:$8,95:f_,96:Z8,126:Z8},u1e={38:q9,92:K9},A1e={[-5]:X3,[-4]:X3,[-3]:X3,33:kve,38:q9,42:_4,60:[Qye,Mve],91:Qve,92:[pve,K9],93:SN,95:_4,96:eve},f1e={null:[_4,n1e]},h1e={null:[42,95]},d1e={null:[]},p1e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:h1e,contentInitial:o1e,disable:d1e,document:a1e,flow:c1e,flowInitial:l1e,insideSpan:f1e,string:u1e,text:A1e},Symbol.toStringTag,{value:"Module"}));function m1e(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},s=[];let a=[],o=[];const l={attempt:F(T),check:F(M),consume:_,enter:E,exit:C,interrupt:F(M,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:y,parser:n,previous:null,sliceSerialize:p,sliceStream:d,write:f};let A=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(k){return a=eA(a,k),w(),a[a.length-1]!==null?[]:(L(e,0),c.events=_N(s,c.events,c),c.events)}function p(k,Q){return y1e(d(k),Q)}function d(k){return g1e(a,k)}function y(){const{_bufferIndex:k,_index:Q,line:J,column:Y,offset:ne}=i;return{_bufferIndex:k,_index:Q,line:J,column:Y,offset:ne}}function x(k){r[k.line]=k.column,R()}function w(){let k;for(;i._index<a.length;){const Q=a[i._index];if(typeof Q=="string")for(k=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===k&&i._bufferIndex<Q.length;)b(Q.charCodeAt(i._bufferIndex));else b(Q)}}function b(k){A=A(k)}function _(k){wi(k)?(i.line++,i.column=1,i.offset+=k===-3?2:1,R()):k!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=k}function E(k,Q){const J=Q||{};return J.type=k,J.start=y(),c.events.push(["enter",J,c]),o.push(J),J}function C(k){const Q=o.pop();return Q.end=y(),c.events.push(["exit",Q,c]),Q}function T(k,Q){L(k,Q.from)}function M(k,Q){Q.restore()}function F(k,Q){return J;function J(Y,ne,W){let q,$,re,V;return Array.isArray(Y)?z(Y):"tokenize"in Y?z([Y]):te(Y);function te(ue){return Ae;function Ae(he){const _e=he!==null&&ue[he],be=he!==null&&ue.null,Ne=[...Array.isArray(_e)?_e:_e?[_e]:[],...Array.isArray(be)?be:be?[be]:[]];return z(Ne)(he)}}function z(ue){return q=ue,$=0,ue.length===0?W:j(ue[$])}function j(ue){return Ae;function Ae(he){return V=N(),re=ue,ue.partial||(c.currentConstruct=ue),ue.name&&c.parser.constructs.disable.null.includes(ue.name)?fe():ue.tokenize.call(Q?Object.assign(Object.create(c),Q):c,l,oe,fe)(he)}}function oe(ue){return k(re,V),ne}function fe(ue){return V.restore(),++$<q.length?j(q[$]):W}}}function L(k,Q){k.resolveAll&&!s.includes(k)&&s.push(k),k.resolve&&eh(c.events,Q,c.events.length-Q,k.resolve(c.events.slice(Q),c)),k.resolveTo&&(c.events=k.resolveTo(c.events,c))}function N(){const k=y(),Q=c.previous,J=c.currentConstruct,Y=c.events.length,ne=Array.from(o);return{from:Y,restore:W};function W(){i=k,c.previous=Q,c.currentConstruct=J,c.events.length=Y,o=ne,R()}}function R(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function g1e(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let a;if(t===r)a=[n[t].slice(i,s)];else{if(a=n.slice(t,r),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}s>0&&a.push(n[r].slice(0,s))}return a}function y1e(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const s=n[t];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&r)continue;a=" ";break}default:a=String.fromCharCode(s)}r=s===-2,i.push(a)}return i.join("")}function v1e(n){const i={constructs:Bye([p1e,...(n||{}).extensions||[]]),content:r(Lye),defined:[],document:r(Dye),flow:r(e1e),lazy:{},string:r(i1e),text:r(r1e)};return i;function r(s){return a;function a(o){return m1e(i,s,o)}}}function x1e(n){for(;!W9(n););return n}const eP=/[\0\t\n\r]/g;function b1e(){let n=1,e="",t=!0,i;return r;function r(s,a,o){const l=[];let c,A,f,p,d;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,e="",t&&(s.charCodeAt(0)===65279&&f++,t=void 0);f<s.length;){if(eP.lastIndex=f,c=eP.exec(s),p=c&&c.index!==void 0?c.index:s.length,d=s.charCodeAt(p),!c){e=s.slice(f);break}if(d===10&&f===p&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),f<p&&(l.push(s.slice(f,p)),n+=p-f),d){case 0:{l.push(65533),n++;break}case 9:{for(A=Math.ceil(n/4)*4,l.push(-2);n++<A;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:i=!0,n=1}f=p+1}return o&&(i&&l.push(-5),e&&l.push(e),l.push(null)),l}}const w1e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _1e(n){return n.replace(w1e,S1e)}function S1e(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),s=r===120||r===88;return V9(t.slice(s?2:1),s?16:10)}return wN(t)||n}const eV={}.hasOwnProperty;function E1e(n,e,t){return typeof e!="string"&&(t=e,e=void 0),B1e(t)(x1e(v1e(t).document().write(b1e()(n,e,!0))))}function B1e(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Le),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(K),blockQuote:s(be),characterEscape:N,characterReference:N,codeFenced:s(Ne),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ne,a),codeText:s(ze,a),codeTextData:N,data:N,codeFlowValue:N,definition:s($e),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(He),hardBreakEscape:s(xe),hardBreakTrailing:s(xe),htmlFlow:s(Pe,a),htmlFlowData:N,htmlText:s(Pe,a),htmlTextData:N,image:s(We),label:a,link:s(Le),listItem:s(Ee),listItemValue:p,listOrdered:s(tt,f),listUnordered:s(tt),paragraph:s(et),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(K),strong:s(me),thematicBreak:s(Je)},exit:{atxHeading:l(),atxHeadingSequence:T,autolink:l(),autolinkEmail:_e,autolinkProtocol:he,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:ue,characterReference:Ae,codeFenced:l(w),codeFencedFence:x,codeFencedFenceInfo:d,codeFencedFenceMeta:y,codeFlowValue:R,codeIndented:l(b),codeText:l(ne),codeTextData:R,data:R,definition:l(),definitionDestinationString:C,definitionLabelString:_,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(Q),hardBreakTrailing:l(Q),htmlFlow:l(J),htmlFlowData:R,htmlText:l(Y),htmlTextData:R,image:l(q),label:re,labelText:$,lineEnding:k,link:l(W),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:oe,resourceDestinationString:V,resourceTitleString:te,resource:z,setextHeading:l(L),setextHeadingLineSequence:F,setextHeadingText:M,strong:l(),thematicBreak:l()}};tV(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(P){let Z={type:"root",children:[]};const se={stack:[Z],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:A,data:t},we=[];let Re=-1;for(;++Re<P.length;)if(P[Re][1].type==="listOrdered"||P[Re][1].type==="listUnordered")if(P[Re][0]==="enter")we.push(Re);else{const Ze=we.pop();Re=r(P,Ze,Re)}for(Re=-1;++Re<P.length;){const Ze=e[P[Re][0]];eV.call(Ze,P[Re][1].type)&&Ze[P[Re][1].type].call(Object.assign({sliceSerialize:P[Re][2].sliceSerialize},se),P[Re][1])}if(se.tokenStack.length>0){const Ze=se.tokenStack[se.tokenStack.length-1];(Ze[1]||tP).call(se,void 0,Ze[0])}for(Z.position={start:cp(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:cp(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<e.transforms.length;)Z=e.transforms[Re](Z)||Z;return Z}function r(P,Z,se){let we=Z-1,Re=-1,Ze=!1,dt,Me,Oe,bt;for(;++we<=se;){const Fe=P[we];switch(Fe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Fe[0]==="enter"?Re++:Re--,bt=void 0;break}case"lineEndingBlank":{Fe[0]==="enter"&&(dt&&!bt&&!Re&&!Oe&&(Oe=we),bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bt=void 0}if(!Re&&Fe[0]==="enter"&&Fe[1].type==="listItemPrefix"||Re===-1&&Fe[0]==="exit"&&(Fe[1].type==="listUnordered"||Fe[1].type==="listOrdered")){if(dt){let Xe=we;for(Me=void 0;Xe--;){const ht=P[Xe];if(ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank"){if(ht[0]==="exit")continue;Me&&(P[Me][1].type="lineEndingBlank",Ze=!0),ht[1].type="lineEnding",Me=Xe}else if(!(ht[1].type==="linePrefix"||ht[1].type==="blockQuotePrefix"||ht[1].type==="blockQuotePrefixWhitespace"||ht[1].type==="blockQuoteMarker"||ht[1].type==="listItemIndent"))break}Oe&&(!Me||Oe<Me)&&(dt._spread=!0),dt.end=Object.assign({},Me?P[Me][1].start:Fe[1].end),P.splice(Me||we,0,["exit",dt,Fe[2]]),we++,se++}if(Fe[1].type==="listItemPrefix"){const Xe={type:"listItem",_spread:!1,start:Object.assign({},Fe[1].start),end:void 0};dt=Xe,P.splice(we,0,["enter",Xe,Fe[2]]),we++,se++,Oe=void 0,bt=!0}}}return P[Z][1]._spread=Ze,se}function s(P,Z){return se;function se(we){o.call(this,P(we),we),Z&&Z.call(this,we)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(P,Z,se){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([Z,se||void 0]),P.position={start:cp(Z.start),end:void 0}}function l(P){return Z;function Z(se){P&&P.call(this,se),c.call(this,se)}}function c(P,Z){const se=this.stack.pop(),we=this.tokenStack.pop();if(we)we[0].type!==P.type&&(Z?Z.call(this,P,we[0]):(we[1]||tP).call(this,P,we[0]));else throw new Error("Cannot close `"+P.type+"` ("+X1({start:P.start,end:P.end})+"): its not open");se.position.end=cp(P.end)}function A(){return Sye(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(P){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function d(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=P}function y(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=P}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.value=P.replace(/(\r?\n|\r)$/g,"")}function _(P){const Z=this.resume(),se=this.stack[this.stack.length-1];se.label=Z,se.identifier=yy(this.sliceSerialize(P)).toLowerCase()}function E(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.title=P}function C(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.url=P}function T(P){const Z=this.stack[this.stack.length-1];if(!Z.depth){const se=this.sliceSerialize(P).length;Z.depth=se}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function F(P){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function N(P){const se=this.stack[this.stack.length-1].children;let we=se[se.length-1];(!we||we.type!=="text")&&(we=le(),we.position={start:cp(P.start),end:void 0},se.push(we)),this.stack.push(we)}function R(P){const Z=this.stack.pop();Z.value+=this.sliceSerialize(P),Z.position.end=cp(P.end)}function k(P){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=Z.children[Z.children.length-1];se.position.end=cp(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Z.type)&&(N.call(this,P),R.call(this,P))}function Q(){this.data.atHardBreak=!0}function J(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.value=P}function Y(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.value=P}function ne(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.value=P}function W(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=Z,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function q(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=Z,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function $(P){const Z=this.sliceSerialize(P),se=this.stack[this.stack.length-2];se.label=_1e(Z),se.identifier=yy(Z).toLowerCase()}function re(){const P=this.stack[this.stack.length-1],Z=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const we=P.children;se.children=we}else se.alt=Z}function V(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.url=P}function te(){const P=this.resume(),Z=this.stack[this.stack.length-1];Z.title=P}function z(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function oe(P){const Z=this.resume(),se=this.stack[this.stack.length-1];se.label=Z,se.identifier=yy(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function fe(P){this.data.characterReferenceType=P.type}function ue(P){const Z=this.sliceSerialize(P),se=this.data.characterReferenceType;let we;se?(we=V9(Z,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):we=wN(Z);const Re=this.stack[this.stack.length-1];Re.value+=we}function Ae(P){const Z=this.stack.pop();Z.position.end=cp(P.end)}function he(P){R.call(this,P);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(P)}function _e(P){R.call(this,P);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(P)}function be(){return{type:"blockquote",children:[]}}function Ne(){return{type:"code",lang:null,meta:null,value:""}}function ze(){return{type:"inlineCode",value:""}}function $e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function He(){return{type:"emphasis",children:[]}}function K(){return{type:"heading",depth:0,children:[]}}function xe(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function We(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function tt(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Ee(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function et(){return{type:"paragraph",children:[]}}function me(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function Je(){return{type:"thematicBreak"}}}function cp(n){return{line:n.line,column:n.column,offset:n.offset}}function tV(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?tV(n,i):C1e(n,i)}}function C1e(n,e){let t;for(t in e)if(eV.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function tP(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+X1({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+X1({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+X1({start:e.start,end:e.end})+") is still open")}function M1e(n){const e=this;e.parser=t;function t(i){return E1e(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function T1e(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function U1e(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function N1e(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function F1e(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function I1e(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function L1e(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=tv(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let a,o=n.footnoteCounts.get(i);o===void 0?(o=0,n.footnoteOrder.push(i),a=n.footnoteOrder.length):a=s+1,o+=1,n.footnoteCounts.set(i,o);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};n.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return n.patch(e,c),n.applyData(e,c)}function R1e(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function D1e(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function nV(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function O1e(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return nV(n,e);const r={src:tv(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,s),n.applyData(e,s)}function P1e(n,e){const t={src:tv(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function k1e(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function H1e(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return nV(n,e);const r={href:tv(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function Q1e(n,e){const t={href:tv(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function z1e(n,e,t){const i=n.all(e),r=t?j1e(t):iV(e),s={},a=[];if(typeof e.checked=="boolean"){const A=i[0];let f;A&&A.type==="element"&&A.tagName==="p"?f=A:(f={type:"element",tagName:"p",properties:{},children:[]},i.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const A=i[o];(r||o!==0||A.type!=="element"||A.tagName!=="p")&&a.push({type:"text",value:`
`}),A.type==="element"&&A.tagName==="p"&&!r?a.push(...A.children):a.push(A)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return n.patch(e,c),n.applyData(e,c)}function j1e(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=iV(t[i])}return e}function iV(n){const e=n.spread;return e??n.children.length>1}function V1e(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function G1e(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function K1e(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function q1e(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function W1e(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],a),r.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=yN(e.children[1]),l=O9(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),r.push(a)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function X1e(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],p={},d=a?a[l]:void 0;d&&(p.align=d);let y={type:"element",tagName:s,properties:p,children:[]};f&&(y.children=n.all(f),n.patch(f,y),y=n.applyData(f,y)),c.push(y)}const A={type:"element",tagName:"tr",properties:{},children:n.wrap(c,!0)};return n.patch(e,A),n.applyData(e,A)}function Y1e(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const nP=9,iP=32;function Z1e(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const s=[];for(;i;)s.push(rP(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return s.push(rP(e.slice(r),r>0,!1)),s.join("")}function rP(n,e,t){let i=0,r=n.length;if(e){let s=n.codePointAt(i);for(;s===nP||s===iP;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(r-1);for(;s===nP||s===iP;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function J1e(n,e){const t={type:"text",value:Z1e(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function $1e(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const exe={blockquote:T1e,break:U1e,code:N1e,delete:F1e,emphasis:I1e,footnoteReference:L1e,heading:R1e,html:D1e,imageReference:O1e,image:P1e,inlineCode:k1e,linkReference:H1e,link:Q1e,listItem:z1e,list:V1e,paragraph:G1e,root:K1e,strong:q1e,table:W1e,tableCell:Y1e,tableRow:X1e,text:J1e,thematicBreak:$1e,toml:b2,yaml:b2,definition:b2,footnoteDefinition:b2};function b2(){}const rV=-1,zE=0,Z1=1,US=2,EN=3,BN=4,CN=5,MN=6,sV=7,aV=8,sP=typeof self=="object"?self:globalThis,txe=(n,e)=>{const t=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,a]=e[r];switch(s){case zE:case rV:return t(a,r);case Z1:{const o=t([],r);for(const l of a)o.push(i(l));return o}case US:{const o=t({},r);for(const[l,c]of a)o[i(l)]=i(c);return o}case EN:return t(new Date(a),r);case BN:{const{source:o,flags:l}=a;return t(new RegExp(o,l),r)}case CN:{const o=t(new Map,r);for(const[l,c]of a)o.set(i(l),i(c));return o}case MN:{const o=t(new Set,r);for(const l of a)o.add(i(l));return o}case sV:{const{name:o,message:l}=a;return t(new sP[o](l),r)}case aV:return t(BigInt(a),r);case"BigInt":return t(Object(BigInt(a)),r);case"ArrayBuffer":return t(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return t(new DataView(o),a)}}return t(new sP[s](a),r)};return i},aP=n=>txe(new Map,n)(0),W0="",{toString:nxe}={},{keys:ixe}=Object,o1=n=>{const e=typeof n;if(e!=="object"||!n)return[zE,e];const t=nxe.call(n).slice(8,-1);switch(t){case"Array":return[Z1,W0];case"Object":return[US,W0];case"Date":return[EN,W0];case"RegExp":return[BN,W0];case"Map":return[CN,W0];case"Set":return[MN,W0];case"DataView":return[Z1,t]}return t.includes("Array")?[Z1,t]:t.includes("Error")?[sV,t]:[US,t]},w2=([n,e])=>n===zE&&(e==="function"||e==="symbol"),rxe=(n,e,t,i)=>{const r=(a,o)=>{const l=i.push(a)-1;return t.set(o,l),l},s=a=>{if(t.has(a))return t.get(a);let[o,l]=o1(a);switch(o){case zE:{let A=a;switch(l){case"bigint":o=aV,A=a.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+l);A=null;break;case"undefined":return r([rV],a)}return r([o,A],a)}case Z1:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),r([l,[...p]],a)}const A=[],f=r([o,A],a);for(const p of a)A.push(s(p));return f}case US:{if(l)switch(l){case"BigInt":return r([l,a.toString()],a);case"Boolean":case"Number":case"String":return r([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const A=[],f=r([o,A],a);for(const p of ixe(a))(n||!w2(o1(a[p])))&&A.push([s(p),s(a[p])]);return f}case EN:return r([o,a.toISOString()],a);case BN:{const{source:A,flags:f}=a;return r([o,{source:A,flags:f}],a)}case CN:{const A=[],f=r([o,A],a);for(const[p,d]of a)(n||!(w2(o1(p))||w2(o1(d))))&&A.push([s(p),s(d)]);return f}case MN:{const A=[],f=r([o,A],a);for(const p of a)(n||!w2(o1(p)))&&A.push(s(p));return f}}const{message:c}=a;return r([o,{name:l,message:c}],a)};return s},oP=(n,{json:e,lossy:t}={})=>{const i=[];return rxe(!(e||t),!!e,new Map,i)(n),i},NS=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?aP(oP(n,e)):structuredClone(n):(n,e)=>aP(oP(n,e));function sxe(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function axe(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function oxe(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||sxe,i=n.options.footnoteBackLabel||axe,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",a=n.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<n.footnoteOrder.length;){const c=n.footnoteById.get(n.footnoteOrder[l]);if(!c)continue;const A=n.all(c),f=String(c.identifier).toUpperCase(),p=tv(f.toLowerCase());let d=0;const y=[],x=n.footnoteCounts.get(f);for(;x!==void 0&&++d<=x;){y.length>0&&y.push({type:"text",value:" "});let _=typeof t=="string"?t:t(l,d);typeof _=="string"&&(_={type:"text",value:_}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,d),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const w=A[A.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const _=w.children[w.children.length-1];_&&_.type==="text"?_.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...y)}else A.push(...y);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:n.wrap(A,!0)};n.patch(c,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...NS(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(o,!0)},{type:"text",value:`
`}]}}const oV=(function(n){if(n==null)return Axe;if(typeof n=="function")return jE(n);if(typeof n=="object")return Array.isArray(n)?lxe(n):cxe(n);if(typeof n=="string")return uxe(n);throw new Error("Expected function, string, or object as test")});function lxe(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=oV(n[t]);return jE(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function cxe(n){const e=n;return jE(t);function t(i){const r=i;let s;for(s in n)if(r[s]!==e[s])return!1;return!0}}function uxe(n){return jE(e);function e(t){return t&&t.type===n}}function jE(n){return e;function e(t,i,r){return!!(fxe(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function Axe(){return!0}function fxe(n){return n!==null&&typeof n=="object"&&"type"in n}const lV=[],hxe=!0,lP=!1,dxe="skip";function pxe(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const s=oV(r),a=i?-1:1;o(n,void 0,[])();function o(l,c,A){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return p;function p(){let d=lV,y,x,w;if((!e||s(l,c,A[A.length-1]||void 0))&&(d=mxe(t(l,A)),d[0]===lP))return d;if("children"in l&&l.children){const b=l;if(b.children&&d[0]!==dxe)for(x=(i?b.children.length:-1)+a,w=A.concat(b);x>-1&&x<b.children.length;){const _=b.children[x];if(y=o(_,x,w)(),y[0]===lP)return y;x=typeof y[1]=="number"?y[1]:x+a}}return d}}}function mxe(n){return Array.isArray(n)?n:typeof n=="number"?[hxe,n]:n==null?lV:[n]}function cV(n,e,t,i){let r,s,a;typeof e=="function"&&typeof t!="function"?(s=void 0,a=e,r=t):(s=e,a=t,r=i),pxe(n,s,o,r);function o(l,c){const A=c[c.length-1],f=A?A.children.indexOf(l):void 0;return a(l,f,A)}}const S4={}.hasOwnProperty,gxe={};function yxe(n,e){const t=e||gxe,i=new Map,r=new Map,s=new Map,a={...exe,...t.handlers},o={all:c,applyData:xxe,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:t,patch:vxe,wrap:wxe};return cV(n,function(A){if(A.type==="definition"||A.type==="footnoteDefinition"){const f=A.type==="definition"?i:r,p=String(A.identifier).toUpperCase();f.has(p)||f.set(p,A)}}),o;function l(A,f){const p=A.type,d=o.handlers[p];if(S4.call(o.handlers,p)&&d)return d(o,A,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in A){const{children:x,...w}=A,b=NS(w);return b.children=o.all(A),b}return NS(A)}return(o.options.unknownHandler||bxe)(o,A,f)}function c(A){const f=[];if("children"in A){const p=A.children;let d=-1;for(;++d<p.length;){const y=o.one(p[d],A);if(y){if(d&&p[d-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=cP(y.value)),!Array.isArray(y)&&y.type==="element")){const x=y.children[0];x&&x.type==="text"&&(x.value=cP(x.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function vxe(n,e){n.position&&(e.position=nye(n))}function xxe(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const a="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:a}}t.type==="element"&&s&&Object.assign(t.properties,NS(s)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function bxe(n,e){const t=e.data||{},i="value"in e&&!(S4.call(t,"hProperties")||S4.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function wxe(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function cP(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function uP(n,e){const t=yxe(n,e),i=t.one(n,void 0),r=oxe(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function _xe(n,e){return n&&"run"in n?async function(t,i){const r=uP(t,{file:i,...e});await n.run(r,i)}:function(t,i){return uP(t,{file:i,...n||e})}}function AP(n){if(n)throw n}var Y3,fP;function Sxe(){if(fP)return Y3;fP=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var A=n.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&n.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!A&&!f)return!1;var p;for(p in c);return typeof p>"u"||n.call(c,p)},a=function(c,A){t&&A.name==="__proto__"?t(c,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):c[A.name]=A.newValue},o=function(c,A){if(A==="__proto__")if(n.call(c,A)){if(i)return i(c,A).value}else return;return c[A]};return Y3=function l(){var c,A,f,p,d,y,x=arguments[0],w=1,b=arguments.length,_=!1;for(typeof x=="boolean"&&(_=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<b;++w)if(c=arguments[w],c!=null)for(A in c)f=o(x,A),p=o(c,A),x!==p&&(_&&p&&(s(p)||(d=r(p)))?(d?(d=!1,y=f&&r(f)?f:[]):y=f&&s(f)?f:{},a(x,{name:A,newValue:l(_,y,p)})):typeof p<"u"&&a(x,{name:A,newValue:p}));return x},Y3}var Exe=Sxe();const Z3=Cx(Exe);function E4(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Bxe(){const n=[],e={run:t,use:i};return e;function t(...r){let s=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...r);function o(l,...c){const A=n[++s];let f=-1;if(l){a(l);return}for(;++f<r.length;)(c[f]===null||c[f]===void 0)&&(c[f]=r[f]);r=c,A?Cxe(A,o)(...c):a(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Cxe(n,e){let t;return i;function i(...a){const o=n.length>a.length;let l;o&&a.push(r);try{l=n.apply(this,a)}catch(c){const A=c;if(o&&t)throw A;return r(A)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,r):l instanceof Error?r(l):s(l))}function r(a,...o){t||(t=!0,e(a,...o))}function s(a){r(null,a)}}const Hf={basename:Mxe,dirname:Txe,extname:Uxe,join:Nxe,sep:"/"};function Mxe(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');eb(n);let t=0,i=-1,r=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let a=-1,o=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else a<0&&(s=!0,a=r+1),o>-1&&(n.codePointAt(r)===e.codePointAt(o--)?o<0&&(i=r):(o=-1,i=a));return t===i?i=a:i<0&&(i=n.length),n.slice(t,i)}function Txe(n){if(eb(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Uxe(n){eb(n);let e=n.length,t=-1,i=0,r=-1,s=0,a;for(;e--;){const o=n.codePointAt(e);if(o===47){if(a){i=e+1;break}continue}t<0&&(a=!0,t=e+1),o===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||t<0||s===0||s===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Nxe(...n){let e=-1,t;for(;++e<n.length;)eb(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Fxe(t)}function Fxe(n){eb(n);const e=n.codePointAt(0)===47;let t=Ixe(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Ixe(n,e){let t="",i=0,r=-1,s=0,a=-1,o,l;for(;++a<=n.length;){if(a<n.length)o=n.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(r===a-1||s===1))if(r!==a-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",i=0):(t=t.slice(0,l),i=t.length-1-t.lastIndexOf("/")),r=a,s=0;continue}}else if(t.length>0){t="",i=0,r=a,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,a):t=n.slice(r+1,a),i=a-r-1;r=a,s=0}else o===46&&s>-1?s++:s=-1}return t}function eb(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Lxe={cwd:Rxe};function Rxe(){return"/"}function B4(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function Dxe(n){if(typeof n=="string")n=new URL(n);else if(!B4(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Oxe(n)}function Oxe(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const J3=["history","path","basename","stem","extname","dirname"];class uV{constructor(e){let t;e?B4(e)?t={path:e}:typeof e=="string"||Pxe(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Lxe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<J3.length;){const s=J3[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let r;for(r in t)J3.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Hf.basename(this.path):void 0}set basename(e){e5(e,"basename"),$3(e,"basename"),this.path=Hf.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Hf.dirname(this.path):void 0}set dirname(e){hP(this.basename,"dirname"),this.path=Hf.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Hf.extname(this.path):void 0}set extname(e){if($3(e,"extname"),hP(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hf.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){B4(e)&&(e=Dxe(e)),e5(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Hf.basename(this.path,this.extname):void 0}set stem(e){e5(e,"stem"),$3(e,"stem"),this.path=Hf.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Fl(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function $3(n,e){if(n&&n.includes(Hf.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Hf.sep+"`")}function e5(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function hP(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Pxe(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const kxe=(function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),Hxe={}.hasOwnProperty;class TN extends kxe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Bxe()}copy(){const e=new TN;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(Z3(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(i5("data",this.frozen),this.namespace[e]=t,this):Hxe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(i5("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=_2(e),i=this.parser||this.Parser;return t5("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),t5("process",this.parser||this.Parser),n5("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(s,a){const o=_2(e),l=i.parse(o);i.run(l,o,function(A,f,p){if(A||!f||!p)return c(A);const d=f,y=i.stringify(d,p);jxe(y)?p.value=y:p.result=y,c(A,p)});function c(A,f){A||!f?a(A):s?s(f):t(void 0,f)}}}processSync(e){let t=!1,i;return this.freeze(),t5("processSync",this.parser||this.Parser),n5("processSync",this.compiler||this.Compiler),this.process(e,r),pP("processSync","process",t),i;function r(s,a){t=!0,AP(s),i=a}}run(e,t,i){dP(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(a,o){const l=_2(t);r.run(e,l,c);function c(A,f,p){const d=f||e;A?o(A):a?a(d):i(void 0,d,p)}}}runSync(e,t){let i=!1,r;return this.run(e,t,s),pP("runSync","run",i),r;function s(a,o){AP(a),r=o,i=!0}}stringify(e,t){this.freeze();const i=_2(t),r=this.compiler||this.Compiler;return n5("stringify",r),dP(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(i5("use",this.frozen),e!=null)if(typeof e=="function")l(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[A,...f]=c;l(A,f)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(r.settings=Z3(!0,r.settings,c.settings))}function o(c){let A=-1;if(c!=null)if(Array.isArray(c))for(;++A<c.length;){const f=c[A];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,A){let f=-1,p=-1;for(;++f<i.length;)if(i[f][0]===c){p=f;break}if(p===-1)i.push([c,...A]);else if(A.length>0){let[d,...y]=A;const x=i[p][1];E4(x)&&E4(d)&&(d=Z3(!0,x,d)),i[p]=[c,d,...y]}}}}const Qxe=new TN().freeze();function t5(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function n5(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function i5(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dP(n){if(!E4(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function pP(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function _2(n){return zxe(n)?n:new uV(n)}function zxe(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function jxe(n){return typeof n=="string"||Vxe(n)}function Vxe(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Gxe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mP=[],gP={allowDangerousHtml:!0},Kxe=/^(https?|ircs?|mailto|xmpp)$/i,qxe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function AV(n){const e=Wxe(n),t=Xxe(n);return Yxe(e.runSync(e.parse(t),t),n)}function Wxe(n){const e=n.rehypePlugins||mP,t=n.remarkPlugins||mP,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...gP}:gP;return Qxe().use(M1e).use(t).use(_xe,i).use(e)}function Xxe(n){const e=n.children||"",t=new uV;return typeof e=="string"&&(t.value=e),t}function Yxe(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||Zxe;for(const A of qxe)Object.hasOwn(e,A.from)&&(""+A.from+(A.to?"use `"+A.to+"` instead":"remove it")+Gxe+A.id,void 0);return cV(n,c),oye(n,{Fragment:I.Fragment,components:r,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function c(A,f,p){if(A.type==="raw"&&p&&typeof f=="number")return a?p.children.splice(f,1):p.children[f]={type:"text",value:A.value},f;if(A.type==="element"){let d;for(d in q3)if(Object.hasOwn(q3,d)&&Object.hasOwn(A.properties,d)){const y=A.properties[d],x=q3[d];(x===null||x.includes(A.tagName))&&(A.properties[d]=l(String(y||""),d,A))}}if(A.type==="element"){let d=t?!t.includes(A.tagName):s?s.includes(A.tagName):!1;if(!d&&i&&typeof f=="number"&&(d=!i(A,f,p)),d&&p&&typeof f=="number")return o&&A.children?p.children.splice(f,1,...A.children):p.children.splice(f,1),f}}}function Zxe(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||Kxe.test(n.slice(0,e))?n:""}const X0=`${Ad}api/ai`,Jxe=()=>{const{phaseData:n,generalData:e,vibrationData:t,client:i,thresholds:r}=Cu(),[s,a]=ct.useState([]),[o,l]=ct.useState(""),[c,A]=ct.useState(!1),[f,p]=ct.useState({connected:!1,models:[]}),[d,y]=ct.useState(null),[x,w]=ct.useState(null),b=ct.useRef(null),_=ct.useRef(null),E=ct.useRef(null);ct.useEffect(()=>{C();const q=setInterval(C,1e4);return()=>clearInterval(q)},[]),ct.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[s]);const C=async()=>{try{const $=await(await fetch(`${X0}/status`)).json();p($)}catch{p({connected:!1,models:[]})}},T=()=>{let q=100;const $=[],re=r?.temp_warning??70,V=r?.temp_critical??80;e.temperatura>=V?(q-=20,$.push("Temperatura crtica")):e.temperatura>=re&&(q-=10,$.push("Temperatura elevada"));const te=r?.vibration_warning??2.8,z=r?.vibration_critical??7.1;e.vibracion>=z?(q-=25,$.push("Vibracin inaceptable")):e.vibracion>=te&&(q-=12,$.push("Vibracin elevada")),r?.rpm_warning;const j=r?.rpm_critical??3e3;return(e.rpm>=j||e.rpm<1e3)&&(q-=15,$.push("RPM fuera de rango")),["A","B","C"].forEach(oe=>{const fe=n[oe],ue=r?.voltage_min??200,Ae=r?.voltage_max??240,he=ue,_e=Ae;fe.voltaje<ue||fe.voltaje>Ae?(q-=10,$.push(`Fase ${oe}: Voltaje anormal`)):fe.voltaje<he||fe.voltaje>_e;const be=r?.current_warning??15,Ne=r?.current_critical??20;fe.corriente>=Ne?(q-=6.66,$.push(`Fase ${oe}: Corriente crtica`)):fe.corriente>=be&&(q-=3.33,$.push(`Fase ${oe}: Sobrecorriente`))}),{percentage:Math.max(0,Math.round(q)),status:q>=80?"Excelente":q>=60?"Bueno":q>=40?"Regular":"Crtico",color:q>=80?"text-green-400":q>=60?"text-blue-400":q>=40?"text-yellow-400":"text-red-400",issues:$}},M=()=>{const q=T();return{phaseData:n,generalData:e,vibrationData:t,motorHealth:q,timestamp:new Date().toISOString()}},F=async(q,$=null)=>{if(!i||!i.connected)return{success:!1,message:"MQTT no conectado"};try{if(q==="start")return i.publish("motor/control/start","1",{qos:1}),$?(setTimeout(()=>{i.publish("motor/control/stop","0",{qos:1})},$*1e3),{success:!0,message:`Motor encendido por ${$} segundos`}):{success:!0,message:"Motor encendido"};if(q==="stop")return i.publish("motor/control/stop","0",{qos:1}),{success:!0,message:"Motor apagado"}}catch(re){return{success:!1,message:`Error: ${re.message}`}}},L=async q=>{const $=q.toLowerCase(),re=$.match(/(?:enciende|encender|inicia|iniciar).*motor.*(?:durante|por)\s+(\d+)\s*(segundo|minuto|seg|min)/);if(re){const V=parseInt(re[1]),z=re[2].startsWith("min")?V*60:V;return await F("start",z)}return $.match(/(?:enciende|encender|inicia|iniciar).*motor/)?await F("start"):$.match(/(?:apaga|apagar|detn|detener|para|parar).*motor/)?await F("stop"):null},N=(q,$)=>{const re=q.toLowerCase(),{phaseData:V,generalData:te,vibrationData:z,motorHealth:j}=$;let oe=`Eres un experto en motores trifsicos industriales. 

ESTADO GENERAL DEL MOTOR:
- Salud del Motor: ${j.percentage}% (${j.status})
${j.issues.length>0?`- Problemas detectados: ${j.issues.join(", ")}`:"- Sin problemas detectados"}

DATOS ACTUALES:
`;if(re.match(/fase\s*[abc]/i)){const fe=re.match(/fase\s*([abc])/i);if(fe){const ue=fe[1].toUpperCase(),Ae=V[ue];return oe+=`
FASE ${ue}:
- Voltaje: ${Ae.voltaje.toFixed(2)} V
- Corriente: ${Ae.corriente.toFixed(2)} A
- Potencia: ${Ae.potencia.toFixed(2)} W
- Energa: ${Ae.energia.toFixed(3)} kWh
- Frecuencia: ${Ae.frecuencia.toFixed(2)} Hz
- Factor de Potencia: ${Ae.factorPotencia.toFixed(2)}

Nota: Responde NICAMENTE sobre la Fase ${ue}. No menciones otras fases ni datos generales a menos que sea estrictamente necesario para el contexto.
`,`${oe}

Pregunta del usuario: ${q}`}}return re.match(/temperatura/i)?(oe+=`
TEMPERATURA:
- Actual: ${te.temperatura.toFixed(1)}C
- Estado: ${te.temperatura>80?"CRTICO":te.temperatura>70?"ELEVADO":"NORMAL"}

Nota: Enfcate especficamente en la temperatura del motor y sus implicaciones.
`,`${oe}

Pregunta del usuario: ${q}`):re.match(/vibra/i)?(oe+=`
VIBRACIN (ISO 10816):
- VRMS: ${te.vibracion.toFixed(2)} mm/s (${te.vibracion>7.1?"INACEPTABLE":te.vibracion>2.8?"ACEPTABLE":"EXCELENTE"})
- ARMS: ${z.arms.toFixed(4)} g
- APico: ${z.apico.toFixed(4)} g
- Pico a Pico: ${z.picoPico.toFixed(4)} g

Nota: Enfcate especficamente en el anlisis de vibracin segn norma ISO 10816.
`,`${oe}

Pregunta del usuario: ${q}`):re.match(/rpm|velocidad|revoluciones/i)?(oe+=`
RPM:
- Actual: ${te.rpm.toFixed(0)} RPM
- Estado: ${te.rpm<1e3||te.rpm>5e3?"FUERA DE RANGO":"NORMAL"}

Nota: Enfcate especficamente en la velocidad de rotacin del motor.
`,`${oe}

Pregunta del usuario: ${q}`):re.match(/estado|salud|condicin|porcentaje|cmo est/i)?(oe+=`
RESUMEN COMPLETO:

FASES TRIFSICAS:
Fase A: ${V.A.voltaje.toFixed(1)}V, ${V.A.corriente.toFixed(2)}A, ${V.A.potencia.toFixed(1)}W
Fase B: ${V.B.voltaje.toFixed(1)}V, ${V.B.corriente.toFixed(2)}A, ${V.B.potencia.toFixed(1)}W
Fase C: ${V.C.voltaje.toFixed(1)}V, ${V.C.corriente.toFixed(2)}A, ${V.C.potencia.toFixed(1)}W

PARMETROS GENERALES:
- Temperatura: ${te.temperatura.toFixed(1)}C
- RPM: ${te.rpm.toFixed(0)}
- Vibracin: ${te.vibracion.toFixed(2)} mm/s

Nota: Proporciona un anlisis completo del estado del motor, incluyendo el porcentaje de salud (${j.percentage}%) y recomendaciones especficas basadas en TODOS los parmetros.
`,`${oe}

Pregunta del usuario: ${q}`):(oe+=`
DATOS GENERALES:
- Temperatura: ${te.temperatura.toFixed(1)}C
- RPM: ${te.rpm.toFixed(0)}
- Vibracin: ${te.vibracion.toFixed(2)} mm/s

FASES:
- Fase A: ${V.A.voltaje.toFixed(1)}V, ${V.A.corriente.toFixed(2)}A
- Fase B: ${V.B.voltaje.toFixed(1)}V, ${V.B.corriente.toFixed(2)}A
- Fase C: ${V.C.voltaje.toFixed(1)}V, ${V.C.corriente.toFixed(2)}A

Nota: Responde de forma precisa y especfica a la pregunta del usuario. Si la pregunta es sobre algo especfico, enfcate solo en eso.
`,`${oe}

Pregunta del usuario: ${q}`)},R=async()=>{if(!o.trim()&&!d&&!x)return;const q={role:"user",content:o,timestamp:new Date().toISOString(),image:d,file:x?.name};a(re=>[...re,q]),A(!0);const $=o;l("");try{const re=await L($);if(re){const te={role:"system",content:re.success?` ${re.message}`:` ${re.message}`,timestamp:new Date().toISOString()};if(a(z=>[...z,te]),!re.success){A(!1);return}}if(!f.connected){const te={role:"system",content:" El servicio no est disponible. Asegrate de que el servicio de diagnstico est ejecutndose.",timestamp:new Date().toISOString()};a(z=>[...z,te]),A(!1);return}let V;if(d){const te=new FormData;te.append("message",o||"Analiza esta imagen del motor"),te.append("image",d),te.append("motor_data",JSON.stringify(M())),V=await(await fetch(`${X0}/chat/image`,{method:"POST",body:te})).json()}else if(x){const te=new FormData;te.append("file",x),te.append("question",o||"Analiza estos datos"),V=await(await fetch(`${X0}/analyze/csv`,{method:"POST",body:te})).json()}else{const te=M(),z=N($,te);V=await(await fetch(`${X0}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:z,motor_data:te,conversation_history:s.slice(-5).map(oe=>({role:oe.role,content:oe.content}))})})).json()}if(V.success){const te={role:"assistant",content:V.response,timestamp:V.timestamp,model:V.model};if(a(z=>[...z,te]),V.action_executed){const z={role:"system",content:` Accin ejecutada: ${V.action_executed.message||"Completado"}`,timestamp:new Date().toISOString()};a(j=>[...j,z])}}else throw new Error(V.error||"Error desconocido")}catch(re){console.error("Error:",re);const V={role:"system",content:` Error: ${re.message}`,timestamp:new Date().toISOString()};a(te=>[...te,V])}finally{A(!1),y(null),w(null)}},k=async()=>{if(!f.connected){alert("El servicio no est disponible.");return}A(!0);const q={role:"user",content:" Solicitar diagnstico automtico",timestamp:new Date().toISOString()};a($=>[...$,q]);try{const re=await(await fetch(`${X0}/diagnosis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({motor_data:M()})})).json();if(re.success){const V={role:"assistant",content:re.response,timestamp:re.timestamp,model:re.model};a(te=>[...te,V])}}catch($){console.error("Error:",$)}finally{A(!1)}},Q=q=>{const $=q.target.files[0];$&&$.type.startsWith("image/")&&y($)},J=q=>{const $=q.target.files[0];$&&$.name.endsWith(".csv")&&w($)},Y=async(q,$,re)=>{try{const te=await(await fetch(`${X0}/execute-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"modificar_umbrales",tipo:q,warning:$,critical:re})})).json();if(te.success){const z={role:"system",content:` Umbrales de ${q} actualizados: Warning=${$}, Critical=${re}`,timestamp:new Date().toISOString()};a(j=>[...j,z])}else throw new Error(te.error||"Error desconocido")}catch(V){const te={role:"system",content:` Error al actualizar umbrales: ${V.message}`,timestamp:new Date().toISOString()};a(z=>[...z,te])}},ne=["Cul es el estado general del motor con porcentaje?","Analiza solo la fase A","Cmo est la temperatura del motor?","Cul es el nivel de vibracin actual?","Enciende el motor durante 30 segundos","Apaga el motor","Hay problemas en alguna fase?","Dame un diagnstico completo"],W=T();return I.jsxs("div",{className:"h-full flex flex-col",children:[I.jsxs("div",{className:"glass-card p-4 mb-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.jsx("h4",{className:"text-white font-semibold",children:"Estado General del Motor"}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(JA,{className:`w-5 h-5 ${W.color}`}),I.jsxs("span",{className:`text-2xl font-bold ${W.color}`,children:[W.percentage,"%"]})]})]}),I.jsx("div",{className:"mb-2",children:I.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:I.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${W.percentage>=80?"bg-green-500":W.percentage>=60?"bg-blue-500":W.percentage>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${W.percentage}%`}})})}),I.jsxs("div",{className:"flex items-center justify-between text-sm",children:[I.jsx("span",{className:`font-semibold ${W.color}`,children:W.status}),W.issues.length>0&&I.jsxs("span",{className:"text-gray-400",children:[W.issues.length," problema(s) detectado(s)"]})]}),W.issues.length>0&&I.jsxs("div",{className:"mt-2 space-y-1",children:[W.issues.slice(0,3).map((q,$)=>I.jsxs("div",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[I.jsx(ba,{className:"w-3 h-3"}),q]},$)),W.issues.length>3&&I.jsxs("span",{className:"text-xs text-gray-400",children:["+ ",W.issues.length-3," ms..."]})]})]}),I.jsxs("div",{className:"glass-card p-4 mb-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[I.jsx(jI,{className:"w-6 h-6"}),"Diagnstico Predictivo"]}),I.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Pregunta sobre cualquier aspecto del motor"})]}),I.jsx("div",{className:"flex items-center gap-2",children:f.connected?I.jsxs("div",{className:"flex items-center gap-2 bg-green-900/50 px-3 py-2 rounded",children:[I.jsx(PS,{className:"w-4 h-4 text-green-400"}),I.jsx("span",{className:"text-green-300 text-sm",children:"Servicio Activo"}),I.jsxs("span",{className:"text-xs text-green-400",children:["(",f.models.length," modelos)"]})]}):I.jsxs("div",{className:"flex items-center gap-2 bg-red-900/50 px-3 py-2 rounded",children:[I.jsx(ba,{className:"w-4 h-4 text-red-400"}),I.jsx("span",{className:"text-red-300 text-sm",children:"Servicio Offline"})]})})]}),I.jsxs("div",{className:"mt-3 flex gap-2",children:[I.jsxs("button",{onClick:k,disabled:!f.connected||c,className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white rounded text-sm flex items-center gap-2",children:[I.jsx(vy,{className:"w-4 h-4"}),"Diagnstico Rpido"]}),I.jsxs("button",{onClick:()=>E.current?.click(),disabled:!f.connected||c,className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 text-white rounded text-sm flex items-center gap-2",children:[I.jsx(tW,{className:"w-4 h-4"}),"Analizar Imagen"]}),I.jsxs("button",{onClick:()=>_.current?.click(),disabled:!f.connected||c,className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-700 text-white rounded text-sm flex items-center gap-2",children:[I.jsx(hg,{className:"w-4 h-4"}),"Analizar CSV"]})]}),I.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[I.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Acciones Rpidas de Umbrales:"}),I.jsxs("div",{className:"flex gap-2 flex-wrap",children:[I.jsxs("button",{onClick:()=>Y("temperatura",75,90),className:"px-2 py-1 bg-orange-700 hover:bg-orange-600 text-white rounded text-xs flex items-center gap-1",children:[I.jsx(ex,{className:"w-3 h-3"}),"Temp 90C"]}),I.jsxs("button",{onClick:()=>Y("temperatura",70,85),className:"px-2 py-1 bg-orange-700 hover:bg-orange-600 text-white rounded text-xs flex items-center gap-1",children:[I.jsx(ex,{className:"w-3 h-3"}),"Temp 85C"]}),I.jsxs("button",{onClick:()=>Y("vibracion",10,15),className:"px-2 py-1 bg-purple-700 hover:bg-purple-600 text-white rounded text-xs flex items-center gap-1",children:[I.jsx(JA,{className:"w-3 h-3"}),"Vib 15mm/s"]}),I.jsxs("button",{onClick:()=>Y("rpm",1500,1800),className:"px-2 py-1 bg-green-700 hover:bg-green-600 text-white rounded text-xs flex items-center gap-1",children:[I.jsx($1,{className:"w-3 h-3"}),"RPM 1800"]})]})]})]}),I.jsxs("div",{className:"glass-card flex-1 flex flex-col p-4 overflow-hidden",children:[I.jsxs("div",{className:"flex-1 overflow-y-auto mb-4 space-y-3",children:[s.length===0&&I.jsxs("div",{className:"text-center py-10",children:[I.jsx(jI,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),I.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Bienvenido al Diagnstico Predictivo"}),I.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Pregunta sobre el estado del motor, sube imgenes o archivos CSV para anlisis"}),I.jsx("div",{className:"flex flex-wrap gap-2 justify-center mt-4",children:ne.map((q,$)=>I.jsx("button",{onClick:()=>l(q),className:"px-3 py-1 bg-purple-900/50 hover:bg-purple-800 text-purple-200 rounded text-sm",children:q},$))})]}),s.map((q,$)=>I.jsx("div",{className:`flex ${q.role==="user"?"justify-end":"justify-start"}`,children:I.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${q.role==="user"?"bg-purple-600 text-white":q.role==="system"?"bg-red-900/50 text-red-200":"bg-gray-800 text-gray-100"}`,children:[q.image&&I.jsx("div",{className:"mb-2",children:I.jsx("span",{className:"text-xs opacity-75",children:" Imagen adjunta"})}),q.file&&I.jsx("div",{className:"mb-2",children:I.jsxs("span",{className:"text-xs opacity-75",children:[" ",q.file]})}),I.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:I.jsx(AV,{components:{p:({node:re,...V})=>I.jsx("p",{className:"mb-2 last:mb-0",...V}),ul:({node:re,...V})=>I.jsx("ul",{className:"list-disc ml-4 mb-2",...V}),ol:({node:re,...V})=>I.jsx("ol",{className:"list-decimal ml-4 mb-2",...V}),li:({node:re,...V})=>I.jsx("li",{className:"mb-1",...V}),strong:({node:re,...V})=>I.jsx("strong",{className:"font-bold text-white",...V}),em:({node:re,...V})=>I.jsx("em",{className:"italic",...V}),code:({node:re,...V})=>I.jsx("code",{className:"bg-black/30 px-1 rounded",...V}),h1:({node:re,...V})=>I.jsx("h1",{className:"text-xl font-bold mb-2",...V}),h2:({node:re,...V})=>I.jsx("h2",{className:"text-lg font-bold mb-2",...V}),h3:({node:re,...V})=>I.jsx("h3",{className:"text-base font-bold mb-1",...V})},children:q.content})}),I.jsxs("div",{className:"text-xs opacity-60 mt-1",children:[new Date(q.timestamp).toLocaleTimeString(),q.model&&`  ${q.model}`]})]})},$)),c&&I.jsx("div",{className:"flex justify-start",children:I.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 flex items-center gap-2",children:[I.jsx(aW,{className:"w-4 h-4 animate-spin text-purple-400"}),I.jsx("span",{className:"text-gray-300",children:"Analizando..."})]})}),I.jsx("div",{ref:b})]}),I.jsxs("div",{className:"border-t border-purple-900/50 pt-3",children:[(d||x)&&I.jsxs("div",{className:"mb-2 flex items-center gap-2 bg-purple-900/30 p-2 rounded",children:[d&&I.jsxs("span",{className:"text-sm text-purple-200",children:[" ",d.name]}),x&&I.jsxs("span",{className:"text-sm text-purple-200",children:[" ",x.name]}),I.jsx("button",{onClick:()=>{y(null),w(null)},className:"ml-auto text-red-400 hover:text-red-300",children:""})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"text",value:o,onChange:q=>l(q.target.value),onKeyPress:q=>q.key==="Enter"&&!q.shiftKey&&R(),placeholder:"Escribe tu pregunta...",disabled:!f.connected||c,className:"flex-1 bg-purple-900/30 text-white px-4 py-3 rounded focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50"}),I.jsx("button",{onClick:R,disabled:!f.connected||c||!o.trim()&&!d&&!x,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white px-6 py-3 rounded flex items-center gap-2",children:I.jsx(bW,{className:"w-5 h-5"})})]})]})]}),I.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:Q,className:"hidden"}),I.jsx("input",{ref:_,type:"file",accept:".csv",onChange:J,className:"hidden"})]})},$xe=({phaseData:n,generalData:e,vibrationData:t})=>{const[i,r]=ct.useState({temperatura:[],vibracion:[],rpm:[],voltajeA:[],corrienteA:[]});ct.useEffect(()=>{const o=setInterval(()=>{r(l=>({temperatura:[...l.temperatura.slice(-19),e.temperatura],vibracion:[...l.vibracion.slice(-19),e.vibracion],rpm:[...l.rpm.slice(-19),e.rpm],voltajeA:[...l.voltajeA.slice(-19),n.A.voltaje],corrienteA:[...l.corrienteA.slice(-19),n.A.corriente]}))},1e3);return()=>clearInterval(o)},[e,n]);const s=(o,l,c)=>({labels:Array.from({length:o.length},(A,f)=>`${f}s`),datasets:[{label:l,data:o,borderColor:c,backgroundColor:`${c}33`,borderWidth:2,fill:!0,tension:.4}]}),a={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{ticks:{color:"#9ca3af"},grid:{color:"rgba(139, 92, 246, 0.1)"}}}};return I.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 space-y-3 lg:space-y-6",children:[I.jsxs("div",{className:"hidden lg:block",children:[I.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Monitoreo en Tiempo Real"}),I.jsx("p",{className:"text-gray-400",children:"Datos en vivo del sistema"})]}),I.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:[I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-1 lg:mb-2",children:[I.jsx(ex,{className:"w-5 h-5 lg:w-6 lg:h-6 text-orange-400"}),I.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400",children:"TEMP"})]}),I.jsx("p",{className:"text-xl lg:text-3xl font-bold text-white",children:e.temperatura.toFixed(1)}),I.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:"C"})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-1 lg:mb-2",children:[I.jsx(JA,{className:"w-5 h-5 lg:w-6 lg:h-6 text-red-400"}),I.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400",children:"VIB"})]}),I.jsx("p",{className:"text-xl lg:text-3xl font-bold text-white",children:e.vibracion.toFixed(2)}),I.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:"mm/s"})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-1 lg:mb-2",children:[I.jsx($1,{className:"w-5 h-5 lg:w-6 lg:h-6 text-blue-400"}),I.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400",children:"RPM"})]}),I.jsx("p",{className:"text-xl lg:text-3xl font-bold text-white",children:e.rpm}),I.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:"rev/min"})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-1 lg:mb-2",children:[I.jsx(vy,{className:"w-5 h-5 lg:w-6 lg:h-6 text-yellow-400"}),I.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400",children:"POT A"})]}),I.jsx("p",{className:"text-xl lg:text-3xl font-bold text-white",children:n.A.potencia.toFixed(1)}),I.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:"W"})]})]}),I.jsxs("div",{className:"grid grid-cols-1 gap-3 lg:gap-4",children:[I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("h3",{className:"text-base lg:text-lg font-bold text-white mb-2 lg:mb-3 flex items-center gap-2",children:[I.jsx(ex,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-400"}),"Temperatura"]}),I.jsx("div",{className:"h-32 lg:h-48",children:I.jsx(wp,{data:s(i.temperatura,"Temperatura","#fb923c"),options:a})})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("h3",{className:"text-base lg:text-lg font-bold text-white mb-2 lg:mb-3 flex items-center gap-2",children:[I.jsx(JA,{className:"w-4 h-4 lg:w-5 lg:h-5 text-red-400"}),"Vibracin - VRMS (ISO 10816)"]}),I.jsx("div",{className:"h-32 lg:h-48",children:I.jsx(wp,{data:s(i.vibracion,"VRMS (mm/s)","#ef4444"),options:a})})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("h3",{className:"text-base lg:text-lg font-bold text-white mb-2 lg:mb-3 flex items-center gap-2",children:[I.jsx($1,{className:"w-4 h-4 lg:w-5 lg:h-5 text-blue-400"}),"RPM"]}),I.jsx("div",{className:"h-32 lg:h-48",children:I.jsx(wp,{data:s(i.rpm,"RPM","#3b82f6"),options:a})})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-4",children:[I.jsxs("h3",{className:"text-base lg:text-lg font-bold text-white mb-2 lg:mb-3 flex items-center gap-2",children:[I.jsx(vy,{className:"w-4 h-4 lg:w-5 lg:h-5 text-yellow-400"}),"Voltaje Fase A"]}),I.jsx("div",{className:"h-32 lg:h-48",children:I.jsx(wp,{data:s(i.voltajeA,"Voltaje","#eab308"),options:a})})]})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-6",children:[I.jsx("h3",{className:"text-lg lg:text-xl font-bold text-white mb-3 lg:mb-4",children:"Anlisis de Vibracin (LIS2DHTR)"}),I.jsx(mue,{data:t})]}),I.jsxs("div",{className:"glass-card p-3 lg:p-6",children:[I.jsx("h3",{className:"text-lg lg:text-xl font-bold text-white mb-3 lg:mb-4",children:"Datos Trifsicos"}),I.jsx("div",{className:"overflow-x-auto",children:I.jsxs("table",{className:"w-full text-xs lg:text-sm",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"border-b border-purple-main/30",children:[I.jsx("th",{className:"text-left py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium",children:"Fase"}),I.jsx("th",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium",children:"Voltaje"}),I.jsx("th",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium",children:"Corriente"}),I.jsx("th",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium hidden sm:table-cell",children:"Potencia"}),I.jsx("th",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium hidden md:table-cell",children:"Energa"}),I.jsx("th",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium hidden md:table-cell",children:"Frecuencia"}),I.jsx("th",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-gray-400 font-medium hidden lg:table-cell",children:"FP"})]})}),I.jsx("tbody",{children:["A","B","C"].map(o=>I.jsxs("tr",{className:"border-b border-purple-main/10 hover:bg-purple-main/5 transition-colors",children:[I.jsx("td",{className:"py-2 px-2 lg:py-3 lg:px-4",children:I.jsx("span",{className:`font-bold text-sm lg:text-base ${o==="A"?"text-red-400":o==="B"?"text-yellow-400":"text-blue-400"}`,children:o})}),I.jsxs("td",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-white whitespace-nowrap",children:[n[o].voltaje.toFixed(1)," V"]}),I.jsxs("td",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-white whitespace-nowrap",children:[n[o].corriente.toFixed(2)," A"]}),I.jsxs("td",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-white whitespace-nowrap hidden sm:table-cell",children:[n[o].potencia.toFixed(1)," W"]}),I.jsxs("td",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-white whitespace-nowrap hidden md:table-cell",children:[n[o].energia.toFixed(2)," kWh"]}),I.jsxs("td",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-white whitespace-nowrap hidden md:table-cell",children:[n[o].frecuencia.toFixed(1)," Hz"]}),I.jsx("td",{className:"text-right py-2 px-2 lg:py-3 lg:px-4 text-white whitespace-nowrap hidden lg:table-cell",children:n[o].factorPotencia.toFixed(2)})]},o))})]})})]})]})},ebe=()=>I.jsxs("div",{className:"p-6",children:[I.jsx("h2",{className:"text-2xl text-white font-bold mb-3",children:"Anlisis"}),I.jsx(U0e,{})]}),tbe=()=>I.jsx(Jxe,{}),nbe=()=>I.jsx(F0e,{}),ibe=()=>{const{phaseData:n,generalData:e,vibrationData:t}=Cu(),[i,r]=ct.useState("real");return I.jsxs("div",{className:"p-2 sm:p-4",children:[I.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 lg:gap-4 mb-4",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Laboratorio"}),I.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Herramientas experimentales y anlisis"})]}),I.jsx("div",{className:"flex lg:gap-2 overflow-x-auto lg:overflow-visible",children:I.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:flex lg:flex-row w-full lg:w-auto",children:[I.jsxs("button",{onClick:()=>r("real"),className:`px-2 py-2 lg:px-3 rounded text-xs lg:text-sm whitespace-nowrap ${i==="real"?"bg-purple-600 text-white":"bg-purple-900 text-purple-300"}`,children:[I.jsx("span",{className:"hidden lg:inline",children:"Datos en Tiempo Real"}),I.jsx("span",{className:"lg:hidden",children:"Tiempo Real"})]}),I.jsx("button",{onClick:()=>r("analysis"),className:`px-2 py-2 lg:px-3 rounded text-xs lg:text-sm whitespace-nowrap ${i==="analysis"?"bg-purple-600 text-white":"bg-purple-900 text-purple-300"}`,children:"Anlisis"}),I.jsx("button",{onClick:()=>r("prediction"),className:`px-2 py-2 lg:px-3 rounded text-xs lg:text-sm whitespace-nowrap ${i==="prediction"?"bg-purple-600 text-white":"bg-purple-900 text-purple-300"}`,children:"Prediccin"}),I.jsx("button",{onClick:()=>r("maintenance"),className:`px-2 py-2 lg:px-3 rounded text-xs lg:text-sm whitespace-nowrap ${i==="maintenance"?"bg-purple-600 text-white":"bg-purple-900 text-purple-300"}`,children:"Mantenimiento"})]})})]}),I.jsxs("div",{className:"bg-transparent",children:[i==="real"&&I.jsx($xe,{phaseData:n,generalData:e,vibrationData:t}),i==="analysis"&&I.jsx(ebe,{}),i==="prediction"&&I.jsx(tbe,{}),i==="maintenance"&&I.jsx(nbe,{})]})]})},rbe=()=>{const{generalData:n,phaseData:e,thresholds:t}=Cu(),i=[],r=t?.temp_warning??60,s=t?.temp_critical??80;n.temperatura>=s?i.push({id:1,severity:"critical",type:"Temperatura",message:`Temperatura crtica: ${n.temperatura.toFixed(1)}C`,timestamp:new Date().toLocaleString("es-ES"),icon:ym}):n.temperatura>=r&&i.push({id:2,severity:"warning",type:"Temperatura",message:`Temperatura elevada: ${n.temperatura.toFixed(1)}C`,timestamp:new Date().toLocaleString("es-ES"),icon:zf});const a=t?.vibration_warning??7,o=t?.vibration_critical??10;n.vibracion>=o?i.push({id:3,severity:"critical",type:"Vibracin",message:`Vibracin crtica: ${n.vibracion.toFixed(1)} mm/s`,timestamp:new Date().toLocaleString("es-ES"),icon:ym}):n.vibracion>=a&&i.push({id:4,severity:"warning",type:"Vibracin",message:`Vibracin elevada: ${n.vibracion.toFixed(1)} mm/s`,timestamp:new Date().toLocaleString("es-ES"),icon:zf});const l=t?.rpm_critical??3e3;n.rpm>=l&&i.push({id:5,severity:"critical",type:"RPM",message:`Velocidad crtica: ${n.rpm} RPM`,timestamp:new Date().toLocaleString("es-ES"),icon:ym}),Object.entries(e).forEach(([f,p])=>{const d=t?.voltage_min??110,y=t?.voltage_max??135;if(p.voltaje>y||p.voltaje<d){const _=p.voltaje>y+20||p.voltaje<d-20;i.push({id:`phase-${f}-voltage`,severity:_?"critical":"warning",type:`Fase ${f}`,message:`Voltaje fuera de rango: ${p.voltaje.toFixed(1)}V`,timestamp:new Date().toLocaleString("es-ES"),icon:_?ym:zf})}const x=t?.current_warning??13,w=t?.current_critical??14;if(p.corriente>=x){const _=p.corriente>=w;i.push({id:`phase-${f}-current`,severity:_?"critical":"warning",type:`Fase ${f}`,message:`Corriente elevada: ${p.corriente.toFixed(1)}A`,timestamp:new Date().toLocaleString("es-ES"),icon:_?ym:zf})}const b=t?.pf_min??.7;if(p.factorPotencia<b){const _=p.factorPotencia<b-.1;i.push({id:`phase-${f}-pf`,severity:_?"critical":"warning",type:`Fase ${f}`,message:`Factor de potencia bajo: ${p.factorPotencia.toFixed(2)}`,timestamp:new Date().toLocaleString("es-ES"),icon:_?ym:zf})}});const c=i.filter(f=>f.severity==="critical").length,A=i.filter(f=>f.severity==="warning").length;return I.jsxs("div",{className:"p-6 space-y-6",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Registro de Errores"}),I.jsx("p",{className:"text-gray-400",children:"Monitoreo de alertas y errores del sistema"})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-3 bg-red-500/20 rounded-lg",children:I.jsx(ym,{className:"w-6 h-6 text-red-400"})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Errores Crticos"}),I.jsx("p",{className:"text-2xl font-bold text-red-400",children:c})]})]})}),I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:I.jsx(zf,{className:"w-6 h-6 text-yellow-400"})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Advertencias"}),I.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:A})]})]})}),I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:I.jsx(ba,{className:"w-6 h-6 text-green-400"})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Total Alertas"}),I.jsx("p",{className:"text-2xl font-bold text-green-400",children:i.length})]})]})})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Alertas Activas"}),i.length===0?I.jsxs("div",{className:"text-center py-12",children:[I.jsx(ba,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),I.jsx("p",{className:"text-xl text-green-400 font-semibold",children:" Sistema Operando Normalmente"}),I.jsx("p",{className:"text-gray-400 mt-2",children:"No hay errores o advertencias activas"})]}):I.jsx("div",{className:"space-y-3",children:i.map(f=>{const p=f.icon;return I.jsx("div",{className:`p-4 rounded-lg border-l-4 ${f.severity==="critical"?"bg-red-500/10 border-red-500":"bg-yellow-500/10 border-yellow-500"}`,children:I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx(p,{className:`w-5 h-5 mt-1 ${f.severity==="critical"?"text-red-400":"text-yellow-400"}`}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("h3",{className:`font-semibold ${f.severity==="critical"?"text-red-400":"text-yellow-400"}`,children:f.type}),I.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[I.jsx(Ux,{className:"w-3 h-3"}),f.timestamp]})]}),I.jsx("p",{className:"text-white mt-1",children:f.message})]})]})},f.id)})})]})]})},sbe=()=>{const{phaseData:n,generalData:e}=Cu(),[t,i]=ct.useState([]),[r,s]=ct.useState("all");ct.useEffect(()=>{const c={id:Date.now(),timestamp:new Date().toLocaleString(),type:"info",message:"Sistema de monitoreo iniciado",data:null};t.length===0&&i([c])},[]),ct.useEffect(()=>{const c=e.temperatura,A=e.vibracion,f=e.rpm;let p="info",d="";if(c>80?(p="error",d=` Temperatura crtica detectada: ${c.toFixed(1)}C`):c>60&&(p="warning",d=` Temperatura elevada: ${c.toFixed(1)}C`),A>10?(p="error",d=` Vibracin crtica: ${A.toFixed(2)} mm/s`):A>7&&(p="warning",d=d||` Vibracin alta: ${A.toFixed(2)} mm/s`),f>3e3?(p="error",d=d||` RPM crtico: ${f} RPM`):f>2500&&(p="warning",d=d||` RPM elevado: ${f} RPM`),d){const y={id:Date.now(),timestamp:new Date().toLocaleString(),type:p,message:d,data:{temperatura:c,vibracion:A,rpm:f}};i(x=>[y,...x].slice(0,100))}},[e]);const a=t.filter(c=>r==="all"?!0:c.type===r),o=c=>{switch(c){case"error":return I.jsx(ba,{className:"w-5 h-5 text-red-500"});case"warning":return I.jsx(ba,{className:"w-5 h-5 text-yellow-500"});case"success":return I.jsx(PS,{className:"w-5 h-5 text-green-500"});default:return I.jsx(tT,{className:"w-5 h-5 text-blue-500"})}},l=c=>{switch(c){case"error":return"border-red-500/50 bg-red-500/10";case"warning":return"border-yellow-500/50 bg-yellow-500/10";case"success":return"border-green-500/50 bg-green-500/10";default:return"border-blue-500/50 bg-blue-500/10"}};return I.jsxs("div",{className:"p-6 space-y-6",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Registro de Eventos"}),I.jsxs("p",{className:"text-gray-400",children:[t.length," eventos registrados"]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Jq,{className:"w-5 h-5 text-gray-400"}),I.jsxs("select",{value:r,onChange:c=>s(c.target.value),className:"bg-primary-secondary/50 border border-purple-main/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-main",children:[I.jsx("option",{value:"all",children:"Todos"}),I.jsx("option",{value:"error",children:"Errores"}),I.jsx("option",{value:"warning",children:"Advertencias"}),I.jsx("option",{value:"info",children:"Informacin"}),I.jsx("option",{value:"success",children:"xitos"})]})]})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),I.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),I.jsx(hg,{className:"w-8 h-8 text-purple-400"})]})}),I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Errores"}),I.jsx("p",{className:"text-2xl font-bold text-red-500",children:t.filter(c=>c.type==="error").length})]}),I.jsx(ba,{className:"w-8 h-8 text-red-500"})]})}),I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Advertencias"}),I.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:t.filter(c=>c.type==="warning").length})]}),I.jsx(ba,{className:"w-8 h-8 text-yellow-500"})]})}),I.jsx("div",{className:"glass-card p-4",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-400",children:"Info"}),I.jsx("p",{className:"text-2xl font-bold text-blue-500",children:t.filter(c=>c.type==="info").length})]}),I.jsx(tT,{className:"w-8 h-8 text-blue-500"})]})})]}),I.jsx("div",{className:"glass-card p-6",children:I.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto custom-scrollbar",children:a.length===0?I.jsxs("div",{className:"text-center py-12 text-gray-400",children:[I.jsx(hg,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),I.jsx("p",{children:"No hay eventos para mostrar"})]}):a.map(c=>I.jsx("div",{className:`border-l-4 ${l(c.type)} rounded-lg p-4 transition-all hover:translate-x-1`,children:I.jsxs("div",{className:"flex items-start gap-3",children:[o(c.type),I.jsxs("div",{className:"flex-1",children:[I.jsx("p",{className:"text-white font-medium",children:c.message}),I.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-400",children:[I.jsx(Ux,{className:"w-4 h-4"}),I.jsx("span",{children:c.timestamp})]}),c.data&&I.jsx("div",{className:"mt-2 text-xs text-gray-500 font-mono bg-black/30 p-2 rounded",children:JSON.stringify(c.data,null,2)})]})]})},c.id))})})]})},yP=`${Ad}api`,abe=()=>{const{client:n,refreshThresholds:e}=Cu(),[t,i]=ct.useState({mqttBroker:"wss://tu-cluster.s1.eu.hivemq.cloud:8884/mqtt",mqttUsername:"",mqttPassword:"",updateInterval:1e3,enableNotifications:!0,enableSounds:!1}),[r,s]=ct.useState({voltage_min:110,voltage_max:135,current_warning:13,current_critical:14,power_warning:4e3,power_critical:5e3,frequency_min:59,frequency_max:61,pf_min:.85,temp_warning:60,temp_critical:80,vibration_warning:10,vibration_critical:15,rpm_warning:2500,rpm_critical:3e3,energy_warning:100}),[a,o]=ct.useState(!1),[l,c]=ct.useState("");ct.useEffect(()=>{A()},[]);const A=async()=>{try{const x=await fetch(`${yP}/settings/thresholds`);if(x.ok){const w=await x.json();s(w)}}catch(x){console.error("Error cargando umbrales:",x)}},f=(x,w)=>{i(b=>({...b,[x]:w}))},p=(x,w)=>{s(b=>({...b,[x]:parseFloat(w)||0}))},d=async()=>{o(!0),c("");try{(await fetch(`${yP}/settings/thresholds`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(n&&n.connected&&n.publish("motor/thresholds/update",JSON.stringify(r),{qos:1},w=>{w?console.error("Error publicando umbrales por MQTT:",w):console.log(" Umbrales publicados por MQTT")}),e&&e(),c("success"),setTimeout(()=>c(""),3e3)):c("error")}catch(x){console.error("Error guardando umbrales:",x),c("error")}finally{o(!1)}},y=()=>{console.log("Guardando configuracin MQTT:",t),alert(" Configuracin MQTT guardada (solo local por ahora)")};return I.jsxs("div",{className:"p-6 space-y-6",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Configuracin"}),I.jsx("p",{className:"text-gray-400",children:"Ajusta los parmetros del sistema"})]}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"glass-card p-6",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[I.jsx(iH,{className:"w-5 h-5 text-purple-400"}),I.jsx("h2",{className:"text-xl font-bold text-white",children:"Conexin MQTT"})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Broker URL"}),I.jsx("input",{type:"text",value:t.mqttBroker,onChange:x=>f("mqttBroker",x.target.value),className:"w-full bg-primary-secondary/50 border border-purple-main/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-main",placeholder:"wss://broker.hivemq.com:8884/mqtt"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Usuario"}),I.jsx("input",{type:"text",value:t.mqttUsername,onChange:x=>f("mqttUsername",x.target.value),className:"w-full bg-primary-secondary/50 border border-purple-main/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-main",placeholder:"usuario_mqtt"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contrasea"}),I.jsx("input",{type:"password",value:t.mqttPassword,onChange:x=>f("mqttPassword",x.target.value),className:"w-full bg-primary-secondary/50 border border-purple-main/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-main",placeholder:""})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Intervalo de Actualizacin (ms)"}),I.jsx("input",{type:"number",value:t.updateInterval,onChange:x=>f("updateInterval",parseInt(x.target.value)),className:"w-full bg-primary-secondary/50 border border-purple-main/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-main",min:"100",max:"10000",step:"100"})]})]})]}),I.jsxs("div",{className:"glass-card p-6",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[I.jsx(Lq,{className:"w-5 h-5 text-purple-400"}),I.jsx("h2",{className:"text-xl font-bold text-white",children:"Notificaciones"})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"font-medium text-white",children:"Activar Notificaciones"}),I.jsx("p",{className:"text-sm text-gray-400",children:"Recibir alertas del sistema"})]}),I.jsx("button",{onClick:()=>f("enableNotifications",!t.enableNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.enableNotifications?"bg-purple-600":"bg-gray-600"}`,children:I.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enableNotifications?"translate-x-6":"translate-x-1"}`})})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"font-medium text-white",children:"Sonidos"}),I.jsx("p",{className:"text-sm text-gray-400",children:"Alertas sonoras"})]}),I.jsx("button",{onClick:()=>f("enableSounds",!t.enableSounds),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.enableSounds?"bg-purple-600":"bg-gray-600"}`,children:I.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enableSounds?"translate-x-6":"translate-x-1"}`})})]})]})]}),I.jsxs("div",{className:"glass-card p-6 lg:col-span-2",children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Q4,{className:"w-5 h-5 text-purple-400"}),I.jsx("h2",{className:"text-xl font-bold text-white",children:"Correccin de Umbrales"})]}),I.jsx("button",{onClick:d,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors text-sm font-medium",children:a?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):l==="success"?I.jsxs(I.Fragment,{children:[I.jsx(PS,{className:"w-4 h-4"}),"Guardado!"]}):I.jsxs(I.Fragment,{children:[I.jsx(VI,{className:"w-4 h-4"}),"Guardar Umbrales"]})})]}),I.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 mb-4 flex items-start gap-2",children:[I.jsx(tT,{className:"w-4 h-4 text-blue-400 flex-shrink-0 mt-0.5"}),I.jsx("p",{className:"text-xs text-blue-200",children:"Los umbrales se guardan en la base de datos y se aplican automticamente al sistema de alertas. Los cambios se sincronizan con el backend en tiempo real."})]}),l==="error"&&I.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4 flex items-start gap-2",children:[I.jsx(ba,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),I.jsx("p",{className:"text-xs text-red-200",children:"Error al guardar umbrales. Verifica la conexin con el backend."})]}),I.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:[I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-yellow-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-yellow-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Voltaje (V)"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mn"}),I.jsx("input",{type:"number",value:r.voltage_min,onChange:x=>p("voltage_min",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mx"}),I.jsx("input",{type:"number",value:r.voltage_max,onChange:x=>p("voltage_max",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"220V 5%"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-red-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-red-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Corriente (A)"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Warning"}),I.jsx("input",{type:"number",value:r.current_warning,onChange:x=>p("current_warning",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Critical"}),I.jsx("input",{type:"number",value:r.current_critical,onChange:x=>p("current_critical",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Sobrecarga >20A"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-orange-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-orange-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Potencia (W)"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Warning"}),I.jsx("input",{type:"number",value:r.power_warning,onChange:x=>p("power_warning",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Critical"}),I.jsx("input",{type:"number",value:r.power_critical,onChange:x=>p("power_critical",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Nominal: 4kW"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-cyan-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-cyan-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Frecuencia (Hz)"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mn"}),I.jsx("input",{type:"number",step:"0.1",value:r.frequency_min,onChange:x=>p("frequency_min",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mx"}),I.jsx("input",{type:"number",step:"0.1",value:r.frequency_max,onChange:x=>p("frequency_max",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"60Hz 1Hz"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-purple-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-purple-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Factor Pot."})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Mnimo"}),I.jsx("input",{type:"number",step:"0.01",value:r.pf_min,onChange:x=>p("pf_min",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Ideal: <4.5"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-red-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-red-500"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Temperatura (C)"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Warning"}),I.jsx("input",{type:"number",value:r.temp_warning,onChange:x=>p("temp_warning",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Critical"}),I.jsx("input",{type:"number",value:r.temp_critical,onChange:x=>p("temp_critical",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Normal: 40-60C"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-yellow-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-yellow-500"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Vibracin (mm/s)"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Warning"}),I.jsx("input",{type:"number",value:r.vibration_warning,onChange:x=>p("vibration_warning",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Critical"}),I.jsx("input",{type:"number",value:r.vibration_critical,onChange:x=>p("vibration_critical",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Normal: <4.5 mm/s"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-green-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-green-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"RPM"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Warning"}),I.jsx("input",{type:"number",value:r.rpm_warning,onChange:x=>p("rpm_warning",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Critical"}),I.jsx("input",{type:"number",value:r.rpm_critical,onChange:x=>p("rpm_critical",x.target.value),className:"w-full bg-slate-800/50 border border-red-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-red-500"})]})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Nominal: 1800 RPM"})]}),I.jsxs("div",{className:"bg-primary-secondary/30 rounded-lg p-3 border border-blue-500/20",children:[I.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[I.jsx(ba,{className:"w-3.5 h-3.5 text-blue-400"}),I.jsx("h3",{className:"font-semibold text-white text-xs",children:"Energa (kWh)"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Warning"}),I.jsx("input",{type:"number",value:r.energy_warning,onChange:x=>p("energy_warning",x.target.value),className:"w-full bg-slate-800/50 border border-yellow-500/30 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-yellow-500"})]}),I.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Consumo acumulado"})]})]})]}),I.jsx("div",{className:"lg:col-span-2 flex justify-end",children:I.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all transform hover:scale-105 font-medium",children:[I.jsx(VI,{className:"w-5 h-5"}),"Guardar Configuracin MQTT"]})})]})]})};function obe(){const[n,e]=ct.useState(""),[t,i]=ct.useState(!1),[r,s]=ct.useState(null),[a,o]=ct.useState(null),l=[{label:"ltima Hora",prompt:"Genera un reporte de la ltima hora"},{label:"ltimas 6 Horas",prompt:"Reporte de las ltimas 6 horas"},{label:"ltimas 24 Horas",prompt:"Reporte completo del ltimo da"},{label:"ltima Semana",prompt:"Anlisis de la ltima semana de operacin"}],c=async p=>{i(!0),o(null);try{const d=await fetch(`${Ad}api/reports/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:p||n})});if(!d.ok)throw new Error(`Error: ${d.status}`);const y=await d.json();s(y)}catch(d){o(d.message),console.error("Error generando reporte:",d)}finally{i(!1)}},A=()=>{if(!r)return;const p=new Blob([r.report],{type:"text/markdown"}),d=URL.createObjectURL(p),y=document.createElement("a");y.href=d,y.download=`reporte_motor_${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(d)},f=async()=>{if(r)try{const p=await fetch(`${Ad}api/reports/generate-pdf`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n||"Reporte del motor"})});if(!p.ok)throw new Error(`Error: ${p.status}`);const d=await p.blob(),y=URL.createObjectURL(d),x=document.createElement("a");x.href=y,x.download=`reporte_motor_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(y)}catch(p){console.error("Error descargando PDF:",p),alert("Error al generar PDF: "+p.message)}};return I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 sm:p-4 lg:p-6",children:I.jsxs("div",{className:"max-w-6xl mx-auto",children:[I.jsxs("div",{className:"mb-4 lg:mb-8",children:[I.jsxs("h1",{className:"text-2xl lg:text-4xl font-bold text-white mb-2 flex items-center gap-2 lg:gap-3",children:[I.jsx(tH,{className:"text-purple-400 w-7 h-7 lg:w-10 lg:h-10",size:28}),"Reportes Inteligentes IA"]}),I.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Solicita reportes personalizados sobre el estado del motor en cualquier perodo de tiempo"})]}),I.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 lg:p-6 mb-4 lg:mb-6 shadow-xl border border-gray-700",children:[I.jsxs("h2",{className:"text-base lg:text-xl font-semibold text-white mb-3 lg:mb-4 flex items-center gap-2",children:[I.jsx(nH,{className:"text-green-400 w-5 h-5 lg:w-6 lg:h-6"}),"Solicitar Reporte"]}),I.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-3 mb-3 lg:mb-4",children:l.map((p,d)=>I.jsxs("button",{onClick:()=>c(p.prompt),disabled:t,className:"bg-gray-700 hover:bg-gray-600 text-white py-2 lg:py-3 px-2 lg:px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1 lg:gap-2 text-xs lg:text-sm font-medium",children:[I.jsx(Ux,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),I.jsx("span",{className:"truncate",children:p.label})]},d))}),I.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 lg:gap-3",children:[I.jsx("input",{type:"text",value:n,onChange:p=>e(p.target.value),onKeyPress:p=>p.key==="Enter"&&c(),placeholder:"Ej: Reporte de las ltimas 2 horas",className:"flex-1 bg-gray-700 text-white px-3 py-2 lg:px-4 lg:py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-sm lg:text-base"}),I.jsx("button",{onClick:()=>c(),disabled:t||!n,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm lg:text-base",children:t?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Generando..."]}):I.jsxs(I.Fragment,{children:[I.jsx(hg,{size:20}),"Generar"]})})]}),a&&I.jsxs("div",{className:"mt-4 bg-red-900/30 border border-red-700 text-red-400 px-4 py-3 rounded-lg flex items-center gap-2",children:[I.jsx(ba,{size:20}),a]})]}),r&&I.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 lg:p-6 shadow-xl border border-gray-700",children:[I.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4 lg:mb-6 pb-3 lg:pb-4 border-b border-gray-700",children:[I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-white mb-1",children:"Reporte Generado"}),I.jsxs("p",{className:"text-gray-400 text-xs lg:text-sm break-words",children:["Perodo: ",new Date(r.time_range.start).toLocaleString()," - ",new Date(r.time_range.end).toLocaleString()]}),I.jsxs("p",{className:"text-gray-400 text-xs lg:text-sm",children:["Duracin: ",r.time_range.duration_hours.toFixed(1)," horas"]})]}),I.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[I.jsxs("button",{onClick:f,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 lg:px-4 lg:py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm flex-1 sm:flex-initial",title:"Descargar como PDF",children:[I.jsx(p_,{size:16,className:"w-4 h-4 lg:w-5 lg:h-5"}),"PDF"]}),I.jsxs("button",{onClick:A,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 lg:px-4 lg:py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm flex-1 sm:flex-initial",title:"Descargar como Markdown",children:[I.jsx(p_,{size:16,className:"w-4 h-4 lg:w-5 lg:h-5"}),"MD"]})]})]}),I.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 mb-4 lg:mb-6",children:[I.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 lg:p-4",children:[I.jsx("div",{className:"text-gray-400 text-xs lg:text-sm mb-1",children:"Lecturas"}),I.jsx("div",{className:"text-lg lg:text-2xl font-bold text-white",children:r.data_summary.total_readings})]}),I.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 lg:p-4",children:[I.jsx("div",{className:"text-gray-400 text-xs lg:text-sm mb-1",children:"Alertas"}),I.jsx("div",{className:"text-lg lg:text-2xl font-bold text-yellow-400",children:r.data_summary.alerts.total})]}),I.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 lg:p-4",children:[I.jsx("div",{className:"text-gray-400 text-xs lg:text-sm mb-1 truncate",children:"Temp. Prom."}),I.jsxs("div",{className:"text-lg lg:text-2xl font-bold text-orange-400",children:[r.data_summary.temperature.avg,"C"]})]}),I.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 lg:p-4",children:[I.jsx("div",{className:"text-gray-400 text-xs lg:text-sm mb-1 truncate",children:"RPM Prom."}),I.jsx("div",{className:"text-lg lg:text-2xl font-bold text-blue-400",children:r.data_summary.rpm.avg})]})]}),I.jsx("div",{className:"bg-gray-900 rounded-lg p-3 lg:p-6 prose prose-invert max-w-none overflow-hidden",children:I.jsx(AV,{components:{h1:({node:p,...d})=>I.jsx("h1",{className:"text-xl lg:text-3xl font-bold text-white mb-3 lg:mb-4 break-words",...d}),h2:({node:p,...d})=>I.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-white mt-4 lg:mt-6 mb-2 lg:mb-3 break-words",...d}),h3:({node:p,...d})=>I.jsx("h3",{className:"text-base lg:text-xl font-bold text-blue-400 mt-3 lg:mt-4 mb-2 break-words",...d}),p:({node:p,...d})=>I.jsx("p",{className:"text-sm lg:text-base text-gray-300 mb-2 lg:mb-3 leading-relaxed break-words",...d}),ul:({node:p,...d})=>I.jsx("ul",{className:"text-sm lg:text-base text-gray-300 list-disc list-inside mb-2 lg:mb-3 space-y-1",...d}),li:({node:p,...d})=>I.jsx("li",{className:"text-sm lg:text-base text-gray-300 break-words",...d}),strong:({node:p,...d})=>I.jsx("strong",{className:"text-white font-semibold break-words",...d}),hr:({node:p,...d})=>I.jsx("hr",{className:"border-gray-700 my-4 lg:my-6",...d})},children:r.report})})]})]})})}const lbe=()=>{const{setTestData:n,setTestPhaseData:e}=Cu(),[t,i]=ct.useState(!1),[r,s]=ct.useState("dashboard"),[a,o]=ct.useState(!0),l=()=>{switch(r){case"dashboard":return I.jsx(vO,{});case"monitoring":return I.jsx(ibe,{});case"errors":return I.jsx(rbe,{});case"logs":return I.jsx(sbe,{});case"settings":return I.jsx(abe,{});case"ai-reports":return I.jsx(obe,{});default:return I.jsx(vO,{})}};return I.jsxs("div",{className:"min-h-screen flex flex-col",children:[I.jsx(HW,{}),I.jsx(OW,{currentView:r,onViewChange:s,isOpen:a,setIsOpen:o}),I.jsxs("div",{className:`flex flex-col flex-1 transition-all duration-300 ${a?"md:ml-64":"md:ml-20"} ml-0`,children:[I.jsx(DW,{onMenuClick:()=>o(!a)}),I.jsx("main",{className:"flex-1 overflow-auto",children:l()}),I.jsx("footer",{className:"glass-card py-1 text-center text-xs text-gray-400",children:I.jsxs("p",{children:["Sistema de Monitoreo | ",new Date().toLocaleString("es-ES",{hour:"2-digit",minute:"2-digit"})]})})]}),I.jsx(PW,{onDataChange:n,onPhaseDataChange:e,isTestMode:t,setIsTestMode:i})]})};function cbe(){return I.jsx(wq,{children:I.jsx(Sq,{children:I.jsx(lbe,{})})})}AG.createRoot(document.getElementById("root")).render(I.jsx(ct.StrictMode,{children:I.jsx(cbe,{})}));export{$r as _,ube as c,Cx as g};
